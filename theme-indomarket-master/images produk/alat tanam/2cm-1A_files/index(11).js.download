/*! For license information please see index.js.LICENSE.txt */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/build/",n(n.s=29)}([function(t,e){t.exports=IcbuIM.React16},function(t,e,n){var r=n(13);t.exports=function(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=IcbuIM["@alife/im-alitalk-util"]},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";(function(t){n.d(e,"e",(function(){return de})),n.d(e,"f",(function(){return he})),n.d(e,"a",(function(){return be})),n.d(e,"d",(function(){return me})),n.d(e,"c",(function(){return ge})),n.d(e,"b",(function(){return oe}));var r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var a=Object.freeze({__proto__:null,get start(){return Jt},get ensureJQuerySupport(){return Rt},get setBootstrapMaxTime(){return q},get setMountMaxTime(){return H},get setUnmountMaxTime(){return K},get setUnloadMaxTime(){return J},get registerApplication(){return Lt},get getMountedApps(){return Mt},get getAppStatus(){return jt},get unloadApplication(){return Gt},get checkActivityFunctions(){return kt},get getAppNames(){return Ct},get declareChildApplication(){return Dt},get unloadChildApplication(){return Bt},get navigateToUrl(){return mt},get triggerAppChange(){return qt},get addErrorHandler(){return b},get removeErrorHandler(){return y},get mountRootParcel(){return ct},get NOT_LOADED(){return O},get LOADING_SOURCE_CODE(){return _},get NOT_BOOTSTRAPPED(){return I},get BOOTSTRAPPING(){return R},get NOT_MOUNTED(){return P},get MOUNTING(){return T},get UPDATING(){return S},get LOAD_ERROR(){return M},get MOUNTED(){return x},get UNMOUNTING(){return A},get SKIP_BECAUSE_BROKEN(){return C}}),c=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{}).CustomEvent,u=function(){try{var t=new c("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?c:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e,n){return(m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&h(o,n.prototype),o}).apply(null,arguments)}function g(t){var e="function"==typeof Map?new Map:void 0;return(g=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return m(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)})(t)}var v=[];function w(t,e){var n=E(t,e);v.length?v.forEach((function(t){return t(n)})):setTimeout((function(){throw n}))}function b(t){if("function"!=typeof t)throw Error("a single-spa error handler must be a function");v.push(t)}function y(t){if("function"!=typeof t)throw Error("a single-spa error handler must be a function");var e=!1;return v=v.filter((function(n){var r=n===t;return e=e||r,!r})),e}function E(t,e){var n,r=e.unmountThisParcel?"Parcel":"Application",o="".concat(r," '").concat(e.name,"' died in status ").concat(e.status,": ");if(t instanceof Error){try{t.message=o+t.message}catch(t){}n=t}else{console.warn("While ".concat(e.status,", '").concat(e.name,"' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate."));try{n=Error(o+JSON.stringify(t))}catch(e){n=t}}n.appName=e.name,n.appOrParcelName=e.name;try{n.name=e.name}catch(t){}return n}var O="NOT_LOADED",_="LOADING_SOURCE_CODE",I="NOT_BOOTSTRAPPED",R="BOOTSTRAPPING",P="NOT_MOUNTED",T="MOUNTING",x="MOUNTED",S="UPDATING",A="UNMOUNTING",N="UNLOADING",M="LOAD_ERROR",C="SKIP_BECAUSE_BROKEN";function j(t){return t.status===x}function D(t){return!j(t)}function L(t){return t.status!==O&&t.status!==_&&t.status!==M}function k(t){return!L(t)}function U(t){try{return t.activeWhen(window.location)}catch(e){w(e,t),t.status=C}}function B(t){try{return!t.activeWhen(window.location)}catch(e){w(e,t),t.status=C}}function G(t){return t!==C&&(!t||t.status!==C)}function W(t){return t.status!==M||(new Date).getTime()-t.loadErrorTime>=200}function z(t){return t.name}var F={bootstrap:{millis:4e3,dieOnTimeout:!1},mount:{millis:3e3,dieOnTimeout:!1},unmount:{millis:3e3,dieOnTimeout:!1},unload:{millis:3e3,dieOnTimeout:!1}};function q(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("bootstrap max time must be a positive integer number of milliseconds");F.bootstrap={millis:t,dieOnTimeout:e}}function H(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("mount max time must be a positive integer number of milliseconds");F.mount={millis:t,dieOnTimeout:e}}function K(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("unmount max time must be a positive integer number of milliseconds");F.unmount={millis:t,dieOnTimeout:e}}function J(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("unload max time must be a positive integer number of milliseconds");F.unload={millis:t,dieOnTimeout:e}}function X(t,e,n){var r=1e3;return new Promise((function(o,i){var a=!1,c=!1;function u(t){if(!a)if(!0===t)c=!0,n.dieOnTimeout?i("".concat(e," did not resolve or reject for ").concat(n.millis," milliseconds")):console.error("".concat(e," did not resolve or reject for ").concat(n.millis," milliseconds -- we're no longer going to warn you about it."));else if(!c){var o=t,s=o*r;console.warn("".concat(e," did not resolve or reject within ").concat(s," milliseconds")),s+r<n.millis&&setTimeout((function(){return u(o+1)}),r)}}t.then((function(t){a=!0,o(t)})).catch((function(t){a=!0,i(t)})),setTimeout((function(){return u(1)}),r),setTimeout((function(){return u(!0)}),n.millis)}))}function $(){return p({},F,{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function Q(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return null}function Z(t){return t&&("function"==typeof t||(e=t,Array.isArray(e)&&!Q(e,(function(t){return"function"!=typeof t}))));var e}function V(t,e){return 0===(t=Array.isArray(t)?t:[t]).length&&(t=[function(){return Promise.resolve()}]),function(n){return new Promise((function(r,o){!function i(a){var c=t[a](n);Y(c)?c.then((function(){a===t.length-1?r():i(a+1)})).catch(o):o("".concat(e," at index ").concat(a," did not return a promise"))}(0)}))}}function Y(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch}function tt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then((function(){return t.status!==I?t:(t.status=R,X(t.bootstrap(lt(t)),"Bootstrapping appOrParcel '".concat(t.name,"'"),t.timeouts.bootstrap).then((function(){return t.status=P,t})).catch((function(n){if(t.status=C,e)throw E(n,t);return w(n,t),t})))}))}function et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then((function(){if(t.status!==x)return t;t.status=A;var n=Object.keys(t.parcels).map((function(e){return t.parcels[e].unmountThisParcel()}));return Promise.all(n).then(r,(function(n){return r().then((function(){var r=Error(n.message);if(e){var o=E(r,t);throw t.status=C,o}w(r,t),t.status=C}))})).then((function(){return t}));function r(){return X(t.unmount(lt(t)),"Unmounting application ".concat(t.name,"'"),t.timeouts.unmount).then((function(){t.status=P})).catch((function(n){if(e){var r=E(n,t);throw t.status=C,r}w(n,t),t.status=C}))}}))}var nt=!1,rt=!1;function ot(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then((function(){return t.status!==P?t:(nt||(window.dispatchEvent(new u("single-spa:before-first-mount")),nt=!0),X(t.mount(lt(t)),"Mounting application '".concat(t.name,"'"),t.timeouts.mount).then((function(){return t.status=x,rt||(window.dispatchEvent(new u("single-spa:first-mount")),rt=!0),t})).catch((function(n){return t.status=x,et(t).then(r,r);function r(){if(e){var r=E(n,t);throw t.status=C,r}return w(n,t),t.status=C,t}})))}))}var it=0,at={parcels:{}};function ct(){return ut.apply(at,arguments)}function ut(t,e){var n=this;if(!t||"object"!==s(t)&&"function"!=typeof t)throw Error("Cannot mount parcel without a config object or config loading function");if(t.name&&"string"!=typeof t.name)throw Error("Parcel name must be a string, if provided");if("object"!==s(e))throw Error("Parcel ".concat(name," has invalid customProps -- must be an object"));if(!e.domElement)throw Error("Parcel ".concat(name," cannot be mounted without a domElement provided as a prop"));var r,o=it++,i="function"==typeof t,a=i?t:function(){return Promise.resolve(t)},c={id:o,parcels:{},status:i?_:I,customProps:e,parentName:n.name,unmountThisParcel:function(){if(c.status!==x)throw Error("Cannot unmount parcel '".concat(name,"' -- it is in a ").concat(c.status," status"));return et(c,!0).then((function(t){return c.parentName&&delete n.parcels[c.id],t})).then((function(t){return l(t),t})).catch((function(t){throw c.status=C,f(t),t}))}};n.parcels[o]=c;var u=a();if(!u||"function"!=typeof u.then)throw Error("When mounting a parcel, the config loading function must return a promise that resolves with the parcel config");var l,f,p=(u=u.then((function(t){if(!t)throw Error("When mounting a parcel, the config loading function returned a promise that did not resolve with a parcel config");var e=t.name||"parcel-".concat(o);if(!Z(t.bootstrap))throw Error("Parcel ".concat(e," must have a valid bootstrap function"));if(!Z(t.mount))throw Error("Parcel ".concat(e," must have a valid mount function"));if(!Z(t.unmount))throw Error("Parcel ".concat(e," must have a valid unmount function"));if(t.update&&!Z(t.update))throw Error("Parcel ".concat(e," provided an invalid update function"));var n=V(t.bootstrap),i=V(t.mount),a=V(t.unmount);c.status=I,c.name=e,c.bootstrap=n,c.mount=i,c.unmount=a,c.timeouts=$(t.timeouts),t.update&&(c.update=V(t.update),r.update=function(t){return c.customProps=t,st(function(t){return Promise.resolve().then((function(){if(t.status!==x)throw Error("Cannot update parcel '".concat(t.name,"' because it is not mounted"));return t.status=S,X(t.update(lt(t)),"Updating parcel '".concat(t.name,"'"),t.timeouts.mount).then((function(){return t.status=x,t})).catch((function(e){var n=E(e,t);throw t.status=C,n}))}))}(c))})}))).then((function(){return tt(c,!0)})),d=p.then((function(){return ot(c,!0)})),h=new Promise((function(t,e){l=t,f=e}));return r={mount:function(){return st(Promise.resolve().then((function(){if(c.status!==P)throw Error("Cannot mount parcel '".concat(name,"' -- it is in a ").concat(c.status," status"));return n.parcels[o]=c,ot(c)})))},unmount:function(){return st(c.unmountThisParcel())},getStatus:function(){return c.status},loadPromise:st(u),bootstrapPromise:st(p),mountPromise:st(d),unmountPromise:st(h)}}function st(t){return t.then((function(){return null}))}function lt(t){var e=p({},t.customProps,{name:t.name,mountParcel:ut.bind(t),singleSpa:a});return t.unmountThisParcel&&(e.unmountSelf=t.unmountThisParcel),e}var ft=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,d(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(t,g(Error)),t}();function pt(t){return Promise.resolve().then((function(){return t.status!==O&&t.status!==M?t:(t.status=_,Promise.resolve().then((function(){var n=t.loadImpl(lt(t));if(!Y(n))throw new ft("single-spa loading function did not return a promise. Check the second argument to registerApplication('".concat(t.name,"', loadingFunction, activityFunction)"));return n.then((function(n){var r;return t.loadErrorTime=null,"object"!==s(e=n)&&(r="does not export anything"),Z(e.bootstrap)||(r="does not export a bootstrap function or array of functions"),Z(e.mount)||(r="does not export a mount function or array of functions"),Z(e.unmount)||(r="does not export an unmount function or array of functions"),r?(console.error("The loading function for single-spa application '".concat(t.name,"' resolved with the following, which does not have bootstrap, mount, and unmount functions"),e),w(r,t),t.status=C,t):(e.devtools&&e.devtools.overlays&&(t.devtools.overlays=p({},t.devtools.overlays,{},e.devtools.overlays)),t.status=I,t.bootstrap=V(e.bootstrap,"App '".concat(t.name,"' bootstrap function")),t.mount=V(e.mount,"App '".concat(t.name,"' mount function")),t.unmount=V(e.unmount,"App '".concat(t.name,"' unmount function")),t.unload=V(e.unload||[],"App '".concat(t.name,"' unload function")),t.timeouts=$(e.timeouts),t)}))})).catch((function(e){return w(e,t),e instanceof ft?t.status=C:(t.status=M,t.loadErrorTime=(new Date).getTime()),t})));var e}))}var dt={hashchange:[],popstate:[]},ht=["hashchange","popstate"];function mt(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t)e=t;else if(this&&this.href)e=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error("singleSpaNavigate must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag");e=t.currentTarget.href,t.preventDefault()}var r=_t(window.location.href),o=_t(e);if(0===e.indexOf("#"))window.location.hash="#"+o.anchor;else if(r.host!==o.host&&o.host){if(n.isTestingEnv)return{wouldHaveReloadedThePage:!0};window.location.href=e}else!function(t,e){return e===t||e==="/"+t}(o.path+"?"+o.query,r.path+"?"+r.query)?window.history.pushState(null,null,e):window.location.hash="#"+o.anchor}function gt(t){var e=this;if(t){var n=t[0].type;ht.indexOf(n)>=0&&dt[n].forEach((function(n){n.apply(e,t)}))}}function vt(){Ht([],arguments)}window.addEventListener("hashchange",vt),window.addEventListener("popstate",vt);var wt=window.addEventListener,bt=window.removeEventListener;window.addEventListener=function(t,e){if(!("function"==typeof e&&ht.indexOf(t)>=0)||Q(dt[t],(function(t){return t===e})))return wt.apply(this,arguments);dt[t].push(e)},window.removeEventListener=function(t,e){if(!("function"==typeof e&&ht.indexOf(t)>=0))return bt.apply(this,arguments);dt[t]=dt[t].filter((function(t){return t!==e}))};var yt=window.history.pushState;window.history.pushState=function(t){var e=yt.apply(this,arguments);return vt(Ot(t)),e};var Et=window.history.replaceState;function Ot(t){try{return new PopStateEvent("popstate",{state:t})}catch(n){var e=document.createEvent("PopStateEvent");return e.initPopStateEvent("popstate",!1,!1,t),e}}function _t(t){for(var e={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e.parser.strict.exec(t),r={},o=14;o--;)r[e.key[o]]=n[o]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,(function(t,n,o){n&&(r[e.q.name][n]=o)})),r}window.history.replaceState=function(t){var e=Et.apply(this,arguments);return vt(Ot(t)),e},window.singleSpaNavigate=mt;var It=!1;function Rt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!It){var e=t.fn.on,n=t.fn.off;t.fn.on=function(t,n){return Pt.call(this,e,window.addEventListener,t,n,arguments)},t.fn.off=function(t,e){return Pt.call(this,n,window.removeEventListener,t,e,arguments)},It=!0}}function Pt(t,e,n,r,o){return"string"!=typeof n?t.apply(this,o):(n.split(/\s+/).forEach((function(t){ht.indexOf(t)>=0&&(e(t,r),n=n.replace(t,""))})),""===n.trim()?this:t.apply(this,o))}var Tt={};function xt(t){return Promise.resolve().then((function(){var e=Tt[t.name];return e?t.status===O?(St(t,e),t):t.status===N?e.promise.then((function(){return t})):t.status!==P?t:(t.status=N,X(t.unload(lt(t)),"Unloading application '".concat(t.name,"'"),t.timeouts.unload).then((function(){return St(t,e),t})).catch((function(n){return function(t,e,n){delete Tt[t.name],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,w(n,t),t.status=C,e.reject(n)}(t,e,n),t}))):t}))}function St(t,e){delete Tt[t.name],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=O,e.resolve()}function At(t,e,n,r){Tt[t.name]={app:t,resolve:n,reject:r},Object.defineProperty(Tt[t.name],"promise",{get:e})}var Nt=[];function Mt(){return Nt.filter(j).map(z)}function Ct(){return Nt.map(z)}function jt(t){var e=Q(Nt,(function(e){return e.name===t}));return e?e.status:null}function Dt(t,e,n){return console.warn('declareChildApplication is deprecated and will be removed in the next major version, use "registerApplication" instead'),Lt(t,e,n)}function Lt(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("string"!=typeof t||0===t.length)throw Error("The first argument must be a non-empty string 'appName'");if(-1!==Ct().indexOf(t))throw Error("There is already an app declared with name ".concat(t));if("object"!==s(o)||Array.isArray(o))throw Error("customProps must be an object");if(!e)throw Error("The application or loading function is required");if(r="function"!=typeof e?function(){return Promise.resolve(e)}:e,"function"!=typeof n)throw Error("The activeWhen argument must be a function");Nt.push({loadErrorTime:null,name:t,loadImpl:r,activeWhen:n,status:O,parcels:{},devtools:{overlays:{options:{},selectors:[]}},customProps:o}),Rt(),Ht()}function kt(t){for(var e=[],n=0;n<Nt.length;n++)Nt[n].activeWhen(t)&&e.push(Nt[n].name);return e}function Ut(){return Nt.filter(G).filter(W).filter(k).filter(U)}function Bt(t,e){return console.warn('unloadChildApplication is deprecated and will be removed in the next major version, use "unloadApplication" instead'),Gt(t,e)}function Gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof t)throw Error("unloadApplication requires a string 'appName'");var n=Q(Nt,(function(e){return e.name===t}));if(!n)throw Error("Could not unload application '".concat(t,"' because no such application has been registered"));var r,o=function(t){return Tt[t]}(n.name);if(e&&e.waitForUnmount){if(o)return o.promise;var i=new Promise((function(t,e){At(n,(function(){return i}),t,e)}));return i}return o?(r=o.promise,Wt(n,o.resolve,o.reject)):r=new Promise((function(t,e){At(n,(function(){return r}),t,e),Wt(n,t,e)})),r}function Wt(t,e,n){et(t).then(xt).then((function(){e(),setTimeout((function(){Ht()}))})).catch(n)}var zt=!1,Ft=[];function qt(){return Ht()}function Ht(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if(zt)return new Promise((function(t,n){Ft.push({resolve:t,reject:n,eventArguments:e})}));zt=!0;var n=!0;return Kt?Promise.resolve().then((function(){window.dispatchEvent(new u("single-spa:before-routing-event",i()));var e=Object.keys(Tt).map((function(t){return Tt[t].app})).filter(D).map(xt),a=Nt.filter(G).filter(j).filter(B).map(et).map((function(t){return t.then(xt)})).concat(e);a.length>0&&(n=!1);var c=Promise.all(a),s=Ut(),l=s.map((function(t){return pt(t).then(tt).then((function(t){return c.then((function(){return ot(t)}))}))}));l.length>0&&(n=!1);var f=Nt.filter(G).filter(D).filter(L).filter(U).filter((function(t){return s.indexOf(t)<0})).map((function(t){return tt(t).then((function(){return c})).then((function(){return ot(t)}))}));return f.length>0&&(n=!1),c.catch((function(t){throw o(),t})).then((function(){return o(),Promise.all(l.concat(f)).catch((function(e){throw t.forEach((function(t){return t.reject(e)})),e})).then((function(){return r(!1)}))}))})):Promise.resolve().then((function(){var t=Ut().map(pt);return t.length>0&&(n=!1),Promise.all(t).then(r).catch((function(t){throw o(),t}))}));function r(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=Mt();e&&o(),t.forEach((function(t){return t.resolve(r)}));try{var a=n?"single-spa:no-app-change":"single-spa:app-change";window.dispatchEvent(new u(a,i())),window.dispatchEvent(new u("single-spa:routing-event",i()))}catch(t){setTimeout((function(){throw t}))}if(zt=!1,Ft.length>0){var c=Ft;Ft=[],Ht(c)}return r}function o(){t.forEach((function(t){gt(t.eventArguments)})),gt(e)}function i(){var t={detail:{}};return e&&e[0]&&(t.detail.originalEvent=e[0]),t}}var Kt=!1;function Jt(){Kt=!0,Ht()}setTimeout((function(){Kt||console.warn("singleSpa.start() has not been called, ".concat(5e3,"ms after single-spa was loaded. Before start() is called, apps can be declared and loaded, but not bootstrapped or mounted. See https://github.com/CanopyTax/single-spa/blob/master/docs/single-spa-api.md#start"))}),5e3);var Xt={getRawAppData:function(){return[].concat(Nt)},reroute:Ht,NOT_LOADED:O,toLoadPromise:pt,toBootstrapPromise:tt,unregisterApplication:function(t){if(!Nt.find((function(e){return e.name===t})))throw Error("Cannot unregister application '".concat(t,"' because no such application has been registered"));return Gt(t).then((function(){var e=Nt.findIndex((function(e){return e.name===t}));Nt.splice(e,1)}))}};function $t(t){var e="/sc.ma.log";switch(window.host){case"msite":e="/sc.ma.msite";break;case"weblite":e="/sc.ma.weblite";break;case"messenger":e="/sc.ma.messenger"}var n="ext="+encodeURIComponent(t);window.goldlog&&window.goldlog.record?window.goldlog.record(e,"CLK",n,"GET"):(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[e,"CLK",n,"GET"]})}window&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=Xt);var Qt,Zt=["mountParcel","name","singleSpa"];function Vt(t,e,n){var r=Error("==== SPA "+t+" ==== "+e);throw $t("SPA_HELPER_error&appName="+(n||"noApp")+"&errorType="+t+"&errorMsg="+e),r}function Yt(t,e){for(var n in e)e.hasOwnProperty(n)&&-1!==Zt.indexOf(n)&&Vt(Qt.PARAMS_ERROR,"Reserved key found in params of "+t+"! '"+n+"' is a reserved key, do not use it!",t)}!function(t){t.LORD_ERROR="LORD_ERROR",t.BOOTSTRAP_ERROR="BOOTSTRAP_ERROR",t.MOUNT_ERROR="MOUNT_ERROR",t.UNMOUNT_ERROR="UNMOUNT_ERROR",t.PARAMS_ERROR="PARAMS_ERROR",t.CONFIG_ERROR="CONFIG_ERROR",t.REDIRECT_ERROR="REDIRECT_ERROR"}(Qt||(Qt={}));var te=function(t){if("string"===typeof t)return t;if(t instanceof Error)try{return JSON.stringify(t,Object.getOwnPropertyNames(t))}catch(t){return""}var e;try{e=JSON.stringify(t)}catch(t){e=""}return e},ee=/^(((ht|f)tps?):)?\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/,ne=function(t){return ee.test(t)};function re(t){return new Promise((function(e,n){ne(t)||n(Vt(Qt.LORD_ERROR,t+" is not a correct url. "));var r=document.createElement("script");r.charset="utf-8",r.async=!0,r.crossOrigin="true",r.addEventListener("error",(function(){n(Vt(Qt.LORD_ERROR,"Fail to load js file: "+t))})),r.addEventListener("load",(function(){var t=window.__spaApplication__;delete window.__spaApplication__,e(t),document.head.removeChild(r)})),r.src=t,document.head.appendChild(r)}))}function oe(t,e){var n={};t.forEach((function(t){var e=t.basename,r=t.appResource,o=new RegExp("/\\d+.\\d+.\\d+/index.js"),i=new RegExp("/\\d+.\\d+.\\d+/index.css"),a=[];n[e]={appName:e,resources:[]},a=Array.isArray(r)?function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}(r):r.scripts.concat(r.styles),a.forEach((function(t){o.test(t)?n[e].resources.push({type:"appURL",url:ie(t)}):i.test(t)&&n[e].resources.push({type:"css",url:ie(t)})}))}));var r=[];if(e)e.forEach((function(t){if(Array.isArray(t)){var e=[];t.forEach((function(t){e.push(n[t])})),r.push(e)}else r.push(n[t])}));else for(var o in n)n.hasOwnProperty(o)&&r.push(n[o]);return r}function ie(t){return t.replace(/(dev\.)?g\.alicdn\.com/g,"s.alicdn.com/@g")}var ae={},ce={},ue={},se=(window.IcbuIM&&window.IcbuIM.IMBaaSSDK||{}).track;function le(t,e){var n=t.bootstrap,r=t.mount,a=t.unmount;return{bootstrap:function(t){return o(this,void 0,void 0,(function(){return i(this,(function(r){if("function"===typeof n)try{n(t)}catch(n){se&&se.error(Qt.BOOTSTRAP_ERROR,{uid:window.aliId,appName:e,props:te(t),errMsg:te(n)}),Vt(Qt.BOOTSTRAP_ERROR,"An error happened when execute "+e+"'s 'bootstrap': "+n,e)}return[2]}))}))},mount:function(t){return o(this,void 0,void 0,(function(){return i(this,(function(n){if("function"===typeof r)try{r(t),$t("SPA_HELPER_microAppLoadSuccess&appName="+e)}catch(n){se&&se.error(Qt.MOUNT_ERROR,{uid:window.aliId,appName:e,props:te(t),errMsg:te(n)}),Vt(Qt.MOUNT_ERROR,"An error happened when execute "+e+"'s 'mount': "+n,e)}else Vt(Qt.MOUNT_ERROR,"The "+e+"'s 'mount' needs to be a function, but get "+typeof r,e);return[2]}))}))},unmount:function(t){return o(this,void 0,void 0,(function(){return i(this,(function(n){if("function"===typeof a)try{a(t),$t("SPA_HELPER_microAppUnloadSuccess&appName="+e)}catch(n){se&&se.error(Qt.UNMOUNT_ERROR,{uid:window.aliId,appName:e,props:te(t),errMsg:te(n)}),Vt(Qt.UNMOUNT_ERROR,"An error happened when execute "+e+"'s 'unmount': "+n,e)}else Vt(Qt.UNMOUNT_ERROR,"The "+e+"'s 'unmount' needs to be a function, but get "+typeof a,e);return[2]}))}))}}}function fe(){for(var t in ue)ue[t].activable=!0}function pe(t){"object"===typeof t&&null!==t||Vt(Qt.CONFIG_ERROR,"An app config needs to be an object, but get "+(null===t?"null":typeof t));var e=t.appName,n=t.resources,o=t.customProps;o&&Yt(e,o),"string"!==typeof e&&Vt(Qt.CONFIG_ERROR,"The 'appName' of an app needs to be an object, but get "+typeof e,e),Array.isArray(n)||Vt(Qt.CONFIG_ERROR,"The 'resources' of "+e+" needs to be an Array, but get "+typeof n,e),ae[e]=r({},o||{}),ce[e]=o||{},Lt(e,(function(){var t=Promise.resolve(le({bootstrap:function(){return""},mount:function(){return""},unmount:function(){return""}},e));return n.forEach((function(n){var r=n.type,o=n.url;switch("string"!==typeof r&&Vt(Qt.CONFIG_ERROR,"The type of resource needs to be a string, but get "+typeof r+" in "+e,e),"string"!==typeof o&&Vt(Qt.CONFIG_ERROR,"The url of resource needs to be a string, but get "+typeof o+" in "+e,e),r){case"appURL":case"js":"appURL"===r?t=re(o).then((function(t){return le(t,e)})):re(o);break;case"css":!function(t){new Promise((function(e,n){ne(t)||n(Vt(Qt.LORD_ERROR,t+" is not a correct url. "));var r=document.createElement("link");r.rel="stylesheet",r.addEventListener("error",(function(){n(Vt(Qt.LORD_ERROR,"Fail to load css file: "+t+". "))})),r.href=t,document.head.appendChild(r)}))}(o);break;default:Vt(Qt.CONFIG_ERROR,"The type of resource needs to be one of 'appURL', 'js' and 'css, but get '"+r+"' in "+e,e)}})),t}),function(t){return function(e){var n=window.location.__invisibleHash__,r=Array.isArray(n)?n:[n],o=ue[t];if(!o.activable)return o.active;for(var i=0;i<r.length;i++)if(r[i]){var a=ue[r[i]];if(t===r[i]){o.active=!o.active;break}if(o.group===a.group){o.active=!1;break}}return o.activable=!1,o.active}}(e),ae[e])}function de(t){Array.isArray(t)||Vt(Qt.CONFIG_ERROR,"The configs of apps need to be an Array, but get "+typeof t);for(var e=0;e<t.length;e++){var n=t[e];if(Array.isArray(n))for(var r=0;r<n.length;r++){var o=n[r];ue[o.appName]={group:e,active:!1},pe(o)}else ue[n.appName]={group:e,active:!1},pe(n)}Jt(),b((function(t){var e=t.message.indexOf("==== SPA");t.message=t.message.slice(e),setTimeout((function(){throw t}))}))}function he(t){"object"===typeof t&&null!==t||Vt(Qt.REDIRECT_ERROR,"A redirect option needs to be an object, but get "+(null===t?"null":typeof t));var e=t.appName,n=t.params,o=t.blank;n&&Yt(e,n);var i=typeof n;"object"!==i&&"undefined"!==i&&Vt(Qt.CONFIG_ERROR,"The 'params' of redirect option needs to be a object, but get "+i,e);var a=typeof o;"boolean"!==a&&"undefined"!==a&&Vt(Qt.CONFIG_ERROR,"The 'blankType' of redirect option needs to be a boolean, but get "+a,e),(Array.isArray(e)?e:[e]).forEach((function(t){if("string"!==typeof t&&Vt(Qt.REDIRECT_ERROR,"The 'appName' of redirect option needs to be a string, but get "+typeof t,t),t){var e=r(r({},ce[t]),n||{});for(var o in ae[t])o in e||delete ae[t][o];ae[t]&&Object.assign(ae[t],e)}})),Array.isArray(e)||window.location.__invisibleHash__!==e&&!ue[e].active||(ue[e].active&&(window.location.__invisibleHash__=e),fe(),history.replaceState({},"",window.location.href)),setTimeout((function(){window.location.__invisibleHash__=e,fe(),history[o?"pushState":"replaceState"]({},"",window.location.href)}),0)}function me(){return window.location.__invisibleHash__}function ge(){var t=[];for(var e in ue)ue[e].active&&t.push(e);return t}window.location.__invisibleHash__="";var ve=[].slice;function we(){if(!(this instanceof we))return new we;this.nextSubscriptionIndex=0,this.callbacks={}}we.prototype.unregisterAllCallbacks=function(){this.callbacks={}},we.prototype.on=function(t,e){this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push({subscription:e,index:this.nextSubscriptionIndex});var n=this.nextSubscriptionIndex,r=this;return this.nextSubscriptionIndex+=1,function(){r.callbacks[t]=r.callbacks[t].filter((function(t){return t.index!==n}))}},we.prototype.publish=function(){var t=arguments[0],e=arguments.length>=2?ve.call(arguments,1):[];this.callbacks&&this.callbacks[t]&&this.callbacks[t].forEach((function(t){t.subscription.apply(null,e)}))};var be=new we}).call(this,n(24))},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(13);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(4).default,o=n(22);t.exports=function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(23);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=IcbuIM.classnames},function(t,e){function n(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function c(t){n(a,o,i,c,u,"next",t)}function u(t){n(a,o,i,c,u,"throw",t)}c(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transferDomain=void 0,e.transferDomain=function(t,e){const n=e||location&&location.hostname;if(n){const e=n.match(/alibaba\.(.*)/);if(e&&e.length>0)return t.replace("com",e[1])}return t}},function(t,e,n){var r=n(4).default,o=n(21);t.exports=function(t){var e=o(t,"string");return"symbol"==r(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(20);t.exports=function(t,e){if(null==t)return{};var n,o,i=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=IcbuIM.ReactDOM16},function(t,e){t.exports=IcbuIM.Next1.Dialog},function(t,e){t.exports=IcbuIM.Next1.Button},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.isBuyerPWA=location.pathname.indexOf("messengerAlone.htm")>=0,o=e.isSellerPWA=location.pathname.indexOf("weblitePWA.htm")>=0,i=e.isPureMessenger=location.pathname.indexOf("messenger.htm")>=0||location.pathname.indexOf("messengerShadow.htm")>=0,a=e.isPureWeblite=location.pathname.indexOf("weblite.htm")>=0,c=e.isWebATM=location.pathname.indexOf("webATM.htm")>=0;e.isWeblite=a||c,e.isMessenger=r||o||i,e.isSeller=o||location.pathname.indexOf("maDetail")>=0},function(t,e){t.exports=IcbuIM.Next1.Icon},function(t,e){t.exports=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(4).default;t.exports=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(14),o=n.n(r),i=n(11),a=n.n(i),c=n(6),u=n.n(c),s=n(7),l=n.n(s),f=n(8),p=n.n(f),d=n(3),h=n.n(d),m=n(9),g=n.n(m),v=n(1),w=n.n(v),b=n(0),y=n.n(b),E=n(5),O=n(15),_=n.n(O),I=n(16),R=n.n(I),P=n(17),T=n.n(P),x=n(2),S=n.n(x),A=n(18);n(25);function N(t,e,n){return e=h()(e),p()(t,M()?Reflect.construct(e,n||[],h()(t).constructor):e.apply(t,n))}function M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(M=function(){return!!t})()}var C=(0,window.IcbuIM.lib.I18N.createI18N)({namespace:"messenger"}),j=function(t){function e(){return u()(this,e),N(this,e,arguments)}return g()(e,t),l()(e,[{key:"render",value:function(){return y.a.createElement("div",{className:"landing-page-wrapper"},y.a.createElement("div",{className:"landing-img"},y.a.createElement("img",{src:"https://img.alicdn.com/tfs/TB1E84Hwj7nBKNjSZLeXXbxCFXa-320-160.png"}),this.props.updateChrome&&y.a.createElement("p",{className:"tip"},y.a.createElement("a",{href:"https://www.google.com/chrome/",target:"_blank"},C.get("pwa.chrometip")))))}}])}(y.a.Component),D=n(10),L=n.n(D),k=n(4),U=n.n(k);function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){w()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var W=window.IcbuIM.CommonUtil.json2Querystring,z=window.IcbuIM.lib.log;function F(t){var e=window.chat_entry_scene||{};"string"===typeof t?W(e)&&(t+="&".concat(W(e))):"object"===U()(t)&&(t.bizData=G(G({},t.bizData||{}),e)),z(t)}var q=n(19),H=n.n(q);n(26);function K(t,e,n){return e=h()(e),p()(t,J()?Reflect.construct(e,n||[],h()(t).constructor):e.apply(t,n))}function J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(J=function(){return!!t})()}var X=(0,window.IcbuIM.lib.I18N.createI18N)({namespace:"onepage.ma.pwa"}),$=function(t){function e(t){var n;return u()(this,e),(n=K(this,e,[t])).addToHome=n.addToHome.bind(n),n.shouldShowAddButton=n.shouldShowAddButton.bind(n),n.state={successfullyInstalled:!1,readyToAdd:!1,acceptedInstall:!1,declinedInstall:!1,close:!1},n}return g()(e,t),l()(e,[{key:"componentDidMount",value:function(){var t=this;window.matchMedia("(display-mode: standalone)").matches?(F("usePWA"),this.setState({successfullyInstalled:!0})):(window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),window.deferredPrompt=e,t.setState({readyToAdd:!0})})),window.addEventListener("appinstalled",(function(e){F("installPWASuc"),t.setState({successfullyInstalled:!0})})))}},{key:"addToHome",value:function(){var t=this,e=window.deferredPrompt;e&&(e.prompt(),e.userChoice.then((function(n){"accepted"===n.outcome?(F("installPWA"),t.setState({acceptedInstall:!0})):(F("declinePWA"),t.setState({declinedInstall:!0})),e=null})))}},{key:"shouldShowAddButton",value:function(){return this.state.readyToAdd&&!this.state.successfullyInstalled&&!this.state.acceptedInstall&&!this.state.declinedInstall&&!this.state.close}},{key:"render",value:function(){var t=this,e="buyer"===this.props.version?"https://img.alicdn.com/tfs/TB1uArtRSrqK1RjSZK9XXXyypXa-128-128.png":"https://img.alicdn.com/tfs/TB1tSLzb1T2gK0jSZFvXXXnFXXa-128-128.png";return y.a.createElement("div",{className:"pwa-addHome"},this.shouldShowAddButton()?y.a.createElement("div",{className:"content"},y.a.createElement("img",{src:e,className:"icon"}),y.a.createElement("div",{className:"tip"},y.a.createElement("div",{dangerouslySetInnerHTML:{__html:X.get("title")}}),y.a.createElement("div",{className:"sub-tip"},X.get("subtitle"))),y.a.createElement("button",{className:"add-action",onClick:this.addToHome},X.get("add")),y.a.createElement("span",{className:"close",onClick:function(){t.setState({close:!0})}},y.a.createElement(H.a,{type:"close",size:"small"}))):null)}}])}(y.a.Component),Q=function(t){var e=[],n=/\[\]$/,r=function(t,n){n="function"===typeof n?n():null===n||void 0===n?"":n,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(n)},o=function(t,i){var a,c,u;if(t)if(Array.isArray(i))for(a=0,c=i.length;a<c;a++)n.test(t)?r(t,i[a]):o(t+"["+("object"===U()(i[a])?a:"")+"]",i[a]);else if(i&&"[object Object]"===String(i))for(u in i)o(t+"["+u+"]",i[u]);else r(t,i);else if(i&&"object"===U()(i))for(u in i)o(u,i[u]);return e};return o("",t).join("&")};var Z=(t={})=>{(({productId:t,pageLanguage:e,pageType:n,siteName:r,categoryId:o})=>{var i=function(t){return window.location.protocol+t},a=window.location.protocol+"//s.alicdn.com",c=i("./proxy.html?iframe_delete=true"),u=window.SEMR={_postData:{},_bindEvent:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},_initIframeProxy:function(){var t=document,e=t.body||t.documentElement,n="sem-remarketing",r=n,o=t.getElementById(n);o&&o.nodeType||((o=t.createElement("iframe")).id=n,o.name=r,o.style.display="none",o.style.visibility="hidden",o.src=c,e.appendChild(o))},_isEmptyObject:function(t){for(var e in t)return!1;return!0},_isP4P:function(){return/s=p/.test(location.href)},_isWap:function(){return/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)},_log:function(t){window.console&&window.console.log&&window.console.log(t),u._sendDomdot("26131","error="+t)},_send:function(){var e=window.SEM_REMARKETING_CONFIG||{},n=window.SEM_REMARKETING_DATA||{};if(u._isEmptyObject(n))return!1;window.SEM_REMARKETING_CONFIG=e,n.isP4P=u._isP4P(),n.pageDevice=u._isWap()?"Mobile":"PC",n.categoryId=o,n.productId=t,n.pageCate&&(n.pageCate=n.pageCate.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'")),n.pageName&&(n.pageName=n.pageName.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'"));var r={timeout:2e4,url:"//offer.alibaba.com/product/fetchSiteTag.jsonp",callback:"callback",data:{siteName:n.siteName||"",pageFrom:n.pageType||"",pageInfo:JSON.stringify(n),language:n.pageLanguage||""},success:function(t){if(!t||!t.success||!t.result)return!1;var e=[].concat(t.result);e.length>0&&(u._postData=e,u._initIframeProxy(),u._sendDomdot("26131","success"))},fail:function(t){u._log("SEMRSE-01-02")}};u._sendJsonp(r),u._sendDomdot("26131","initialization")},_sendByIframeProxy:function(t){if(t.origin!=a)return!1;var e,n,r=t.data;if("string"!==typeof r)return!1;var o=[];try{"function"===typeof r.split?o=r.split(":"):"function"===typeof String.prototype.split&&(o=String.prototype.split.call(r,":")),"[object Array]"===Object.prototype.toString.call(o)&&(e=o[0],n=o[1]||"")}catch(t){console.error("sem-remarketing _sendByIframeProxy error:",t),window._WPO&&window._WPO.error("sem-remarketing _sendByIframeProxy error",r)}if("ready"==e){var i=JSON.stringify(u._postData);t.source&&t.source.postMessage&&t.source.postMessage(i,a)}else"error"==e?u._log(n):"complete"==e&&u._sendDomdot("26254",n)},_sendDomdot:function(t,e){var n={ext:"event="+(window.SEM_REMARKETING_DATA&&window.SEM_REMARKETING_DATA.pageType)+"|"+e,mn:"sem"};window.dmtrack&&window.dmtrack.dotstat&&window.dmtrack_pageid&&t&&window.dmtrack.dotstat(t,n)},_sendJsonp:function(t){if(!(t=t||{}).url||!t.callback)throw new Error("params error!");var e=t.data[t.callback]="jsonp_"+1*new Date+Math.ceil(1e5*Math.random()),n=u._toQueryString(t.data,"&"),r=document.createElement("script"),o=document.getElementsByTagName("head")[0];o.appendChild(r),window[e]=function(n){o.removeChild(r),clearTimeout(r.timer),window[e]=function(){},t.success&&t.success(n)},r.src=t.url+"?"+n,t.timeout&&(r.timer=setTimeout((function(){window[e]=function(){},o.removeChild(r),t.fail&&t.fail({message:"overtime"})}),t.timeout))},_toQueryString:function(t,e){var n,r,o=[];if(!t)return"";for(n in t)r=t[n]||"",o.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return o.join(e||"&")}},s=window.SEM_REMARKETING_CONFIG||{};s.runtime="async",window.SEM_REMARKETING_CONFIG=s;var l=window.SEM_REMARKETING_DATA||{};l.productId=t,l.pageLanguage=e,l.pageType=n,l.siteName=r,l.categoryId=o,window.SEM_REMARKETING_DATA=l;try{window.postMessage?(u._bindEvent(window,"message",u._sendByIframeProxy),"async"==(window.SEM_REMARKETING_CONFIG||{}).runtime?u._send():function(t,e){var n=!1,r=!0,o=t.document,i=o.documentElement,a=o.addEventListener,c=a?"addEventListener":"attachEvent",u=a?"removeEventListener":"detachEvent",s=a?"":"on",l=function(r){"readystatechange"==r.type&&"complete"!=o.readyState||(("load"==r.type?t:o)[u](s+r.type,l,!1),!n&&(n=!0)&&e.call(t,r.type||r))},f=function(){try{i.doScroll("left")}catch(t){return void setTimeout(f,50)}l("poll")};if("complete"==o.readyState)e.call(t,"lazy");else{if(!a&&i.doScroll){try{r=!t.frameElement}catch(t){}r&&f()}o[c](s+"DOMContentLoaded",l,!1),o[c](s+"readystatechange",l,!1),t[c](s+"load",l,!1)}}(window,u._send.bind(u))):u._log("SEMRSE-01-01")}catch(t){u._log("SEMRSE-01-00")}})(t)},V=n(12),Y=Object(V.transferDomain)("onetalk.alibaba.com"),tt=Object(V.transferDomain)("login.alibaba.com"),et=(n(27),["sceneData","action","source","bizId","chatToken"]);function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(n),!0).forEach((function(e){w()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ot(t,e,n){return e=h()(e),p()(t,it()?Reflect.construct(e,n||[],h()(t).constructor):e.apply(t,n))}function it(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(it=function(){return!!t})()}var at=E.e,ct=E.f,ut=E.d,st=E.b,lt=E.c;window.EventBus=window.EventBus||E.a;var ft=window.EventBus,pt=(0,window.IcbuIM.lib.I18N.createI18N)({namespace:"messenger.pwa"}),dt=(window.IcbuIM.IMBaaSSDK.default,window.IcbuIM.UserUtil.getLoginId,{expand:[294,578],fold:[210,44],"expand-notification":[210,154],"fold-notification":[210,44]}),ht=function(t){function e(t){var n;return u()(this,e),n=ot(this,e,[t]),w()(n,"handlePostMessage",function(){var t=a()(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.type,t.t0=r,t.next="weblite:inquiryFormClosed"===t.t0?4:"nav2InquirySuc"===t.t0?6:"weblite:open"===t.t0?8:10;break;case 4:return n.afterInquiryClosed(),t.abrupt("break",12);case 6:return n.afterInquirySent(e),t.abrupt("break",12);case 8:return n.openWeblite(e),t.abrupt("break",12);case 10:return n.handleChatNow(e),t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),w()(n,"openWeblite",(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},e=t.chatToken,n=void 0===e?"":e,r=t.aliId,o=t.aliIdEncrypt,i=t.fromPage,a=void 0===i?"":i;ft.publish("im-weblite-list:selectContact",{chatToken:n,aliId:r,aliIdEncrypt:o,fromPage:a})})),w()(n,"handleChatNow",(function(t){var e=t.type;if(!/^weblite:/g.test(e))return!1;var r=t.webliteConfig,o=void 0===r?{}:r,i=t.shouldLogin,a=void 0!==i&&i;console.log("===Receive Post Message",JSON.parse(JSON.stringify(t)));var c=o.activeLoginIdEncrypt,u=o.productId,s=o.lazyInit,l=o.attrs,f=void 0===l?{}:l,p=f.uid,d=void 0===p?"":p,h=f.pid,m=void 0===h?"":h,g=f.scene,v=void 0===g?{}:g,w=f.source,b=void 0===w?"":w,y=f.disabled,E=void 0!==y&&y,O=v.pageId,_=void 0===O?"":O,I=v.refer,R=void 0===I?"":I,P=v.fromPage,T=void 0===P?"":P;if(f.source=b||T||"",f.sceneType=f.sceneType||f.scenetype||T||"",f.bizType=f.bizType||f.biztype||"",f.bizId=f.bizId||f.bizid||"",o.activeLoginIdEncrypt=c||d,o.productId=u||m,o.lazyInit=s||E,o.sceneType=f.sceneType,o.pageId=_,window.pageId=_,S.a.pageId=S.a.pageId||_,S.a.refer=S.a.refer||R,n.webliteConfig=o,a||n.shouldLogin(e))return window.location.reload(),void window.parent.postMessage(JSON.stringify({type:"IFRAME_RELOAD",data:t.webliteConfig}),"*");"weblite:selectContact"===e&&(v.fromButton=v.bizType||"",v.refer=v.refer||document.referrer,window.chat_entry_scene=v||{},F("weblite_post_message_received&type=".concat(t.type)),n.assignContact())})),w()(n,"assignContact",a()(regeneratorRuntime.mark((function t(){var e,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Date.now(),r={clickTimestamp:e||Date.now(),chatLoaded:!!window.__imWebliteChat__loaded__},t.prev=2,t.next=5,n.contactAutoAssign();case 5:1*(o=t.sent).code===200&&(n.assignLoginIdEncrypt=o.data.receiverLoginIdEncrypt,r.encryptId=n.assignLoginIdEncrypt,r.accountId=o.data.receiverAccountId,r.chatToken=o.data.chatToken),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(2);case 11:n.selectContact(r);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),w()(n,"shouldLogin",(function(t){var e=!1;if("weblite:reload"===t&&(e=!0),"weblite:selectContact"===t){var r=mt();r&&r!==n.isLogin&&(n.isLogin=r,e=r)}return e})),w()(n,"microAppDidMount",(function(){var t=window.SPA_MODULES,e={};window.webliteMicroConfig?(window.SPA_MODULES={list:"list",chat:"chat",conversationList:"conversationList"},t=window.SPA_MODULES,e=st(window.webliteMicroConfig,[t.list,t.chat,t.conversationList])):e=window.SPA_MODULES_CONFIG,at(e.map((function(e){return e.appName===t.chat?(e.customProps={EventBus:ft,redirectTo:ct,getCurrentHash:ut,SPA_MODULES:t,getCurrentAppNames:lt,boxWidth:476,boxHeight:578,toolbar:["emotion","image","attachment"],host:"weblite",selector:"#icbu-weblite-chat"},n.props.isPWA&&(e.customProps.boxWidth="100%",e.customProps.boxHeight="100%",e.customProps.host="pwa")):e.appName!==t.list&&e.appName!==t.conversationList||(e.customProps={EventBus:ft,redirectTo:ct,getCurrentHash:ut,getCurrentAppNames:lt,host:"weblite",selector:"#icbu-weblite-list"}),e})))})),w()(n,"loadInitialMicroApp",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=window.SPA_MODULES,r=n.webliteConfig.params,o=void 0===r?{}:r;o.isPWA=gt(),t.forEach((function(t){var n=e[t],r=rt(rt({},o),o.attrs);"chat"===t&&Object.assign(r,{extraInfo:{showDefaultPage:!0}}),ct({appName:n,hash:n,params:r})}))})),w()(n,"contactAutoAssign",(function(){var t=n.webliteConfig,e=t.attrs,r=void 0===e?{}:e,o=t.activeLoginIdEncrypt,i=void 0===o?"":o,a=r.bizType,c=r.bizId,u=r.chatToken;return new Promise((function(t,e){if(F({ext:"weblite_distributeChat",bizData:rt(rt({},r),{},{activeLoginIdEncrypt:i})}),i&&a&&c){var o={contactLoginIdEncrypt:i,bizType:a,bizId:c,chatToken:u},s="https://".concat(Y,"/csrf/getToken.htm");fetch(s,{cache:"no-cache",method:"POST",mode:"cors",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},credentials:"include"}).then((function(t){return t.json()})).then((function(r){return F({ext:"weblite_distributeChat_getToken_succeed",bizData:rt(rt({},r),o)}),n.fetchAssignedContact(o,r.token,t,e)})).catch((function(r){F({ext:"weblite_distributeChat_getToken_failed",bizData:rt(rt({},o),{},{err:r})}),n.fetchAssignedContact(o,"",t,e)}))}else F({ext:"weblite_distributeChat_stop",bizData:rt(rt({},r),{},{activeLoginIdEncrypt:i})}),t({})}))})),w()(n,"fetchAssignedContact",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;F({ext:"weblite_distributeChat_start",bizData:rt(rt({},t),{},{token:e})});var o="https://".concat(Y,"/message/distributeChat.htm");return fetch(o,{cache:"no-cache",method:"POST",mode:"cors",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},credentials:"include",body:Q({params:JSON.stringify(t),_csrf:e})}).then((function(t){return t.json()})).then((function(t){F({ext:"weblite_distributeChat_succeed",bizData:rt(rt({},t),{},{token:e})}),n(t)})).catch((function(e){F({ext:"weblite_distributeChat_failed",bizData:rt(rt({},t),{},{err:e})}),r(e)}))})),w()(n,"resizeChat",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"closechat";if("maxchat"===t&&n.listMeetingPush){var e=Object.assign({},n.listMeetingPush);setTimeout((function(){ft.publish("im-weblite-chat:meetingPush",e)}),1e3),n.listMeetingPush=null}n.chatStatus!==t&&(n.chatStatus=t,n.notifyIframe()),"closechat"===t&&F("weblite_closeChat")})),w()(n,"resizeList",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fold";if(t!==n.listStatus){var e;switch(n.listStatus=t,t){case"expand":n.chatStatus="maxchat",e=dt[t][0],n._list.classList.add("icbu-weblite-list-expand");break;case"fold":n.chatStatus="closechat",e=dt[t][0],gt()&&(e=dt.expand[0]),n._list.classList.remove("icbu-weblite-list-expand")}e&&n._list.setAttribute("style","width:".concat(e,"px")),n.notifyIframe()}var r="expand"===t?"openatm":"webclick",o={fromuid:"enaliint"+S.a.getLoginId(),from:1,time:+new Date,version:"new",id:n.webliteConfig.productId,refer:S.a.refer?S.a.refer.replace(/&/gi,"$"):""};S.a.dmtrackLog(r,o)})),w()(n,"handleWindowResize",(function(t){var e,n,r;r=t.type,"show"===t.type?(e="100vw",n="100vh"):(e=770,n=578),window.parent.postMessage(JSON.stringify({type:"meetingChange",width:e,height:n,showType:r}),"*")})),w()(n,"afterInquiryClosed",(function(){ft.publish("im-weblite-chat:closeInquiry");var t=localStorage.getItem("InquirySuccessTime");(!t||Date.now()-t>=864e5)&&F("productDetail_showInquiryFailed")})),w()(n,"afterInquirySent",(function(t){var e=localStorage.getItem("InquirySuccessTime");(!e||Date.now()-e>=864e5)&&(F("productDetail_showInquirySucceed"),localStorage.setItem("InquirySuccessTime",Date.now()))})),w()(n,"reportSEMLog",(function(t){Z({productId:t?n.webliteConfig.productId:"",pageType:"atm",siteName:"atm"})})),n.listStatus="fold",n.chatStatus="closechat",n.assignLoginIdEncrypt="",n.webliteConfig={},n}return g()(e,t),l()(e,[{key:"componentDidMount",value:function(){var t,e=this;window.host="weblite",F("visit&site=weblite"),this.isLogin=mt(),this.microAppDidMount(),this.loadInitialMicroApp(A.isWebATM?["conversationList"]:["conversationList","chat"]),this.notifyIframe(),this.heartbeat(),(t=window.messengerAssets||[])&&t.forEach((function(t){var e=document.createElement("link");e.href=t,e.rel="prefetch",document.body.appendChild(e)})),ft.on("im-weblite-chat:closeChat",(function(){e.resizeChat("closechat")})),ft.on("im-weblite-chat:maximizeChat",(function(){e.resizeChat("maxchat")})),ft.on("im-weblite-list:changeListStatus",(function(t){e.resizeList(t.status)})),ft.on("im-weblite-chat:sendMessage",(function(t){var n=e.webliteConfig,r=n.activeLoginIdEncrypt,o=void 0===r?"":r,i=n.sceneType,a=void 0===i?"":i,c=t.userInfo&&t.userInfo.toLoginIdEncrypt,u=c===o||c===e.assignLoginIdEncrypt;S.a.logMsg({toId:t.userInfo&&t.userInfo.toLoginId,productId:t.userInfo&&t.userInfo.productId,opId:t.opId,sceneType:u?a:""}),t.marketData&&S.a.logMarket(t.userInfo,t.marketData),e.reportSEMLog(u)})),ft.on("weblite:notLogin",(function(){window.parent.postMessage(JSON.stringify({type:"LOGIN"}),"*")})),ft.on("im-weblite-list:selectedItem",(function(){e.props.isPWA&&(e._landing.classList.add("landing-page-miss"),e._chat.classList.add("icbu-weblite-chat-show"))})),ft.on("weblite:windowResize",(function(t){e.handleWindowResize(t)})),ft.on("im-weblite-chat:meetingChange",(function(t){var n,r,o;t.ignore||(o=t.type,"show"===t.type?(n="100vw",r="100vh",e.meetingShow=!0):(n=dt.fold[0],r=dt.fold[1],e.meetingShow=!1,e._list.setAttribute("style","width:".concat(dt.fold[0],"px")),ft.publish("im-weblite-list:toggleList",{show:!1})),window.parent.postMessage(JSON.stringify({type:"meetingChange",width:n,height:r,showType:o}),"*"))})),ft.on("im-weblite-list:meetingPush",(function(t){ft.publish("im-weblite-list:selectContact",{activeLoginIdEncrypt:t.contactLoginIdEncrypt}),e.listMeetingPush=t})),window.addEventListener("message",(function(t){var n;try{n=JSON.parse(t.data)}catch(t){}if(!n)return!1;e.handlePostMessage(n)}),!1)}},{key:"notifyIframe",value:function(){if(this.meetingShow)return!1;var t,e;"maxchat"===this.chatStatus?(t=770,e=578):"closechat"===this.chatStatus&&(t=dt[this.listStatus][0],e=dt[this.listStatus][1]),t&&e&&window.parent.postMessage(JSON.stringify({type:"CHANGE_SIZE",width:t,height:e}),"*")}},{key:"heartbeat",value:function(){var t=null;(t=document.createElement("script")).type="text/javascript",document.head.appendChild(t),setInterval((function(){t.src="//".concat(tt,"/xlogin/relay.htm?_=").concat(Date.now())}),3e5)}},{key:"selectContact",value:function(t){var e=t.encryptId,n=t.accountId,r=t.clickTimestamp,i=t.chatLoaded,a=t.chatToken,c=this.webliteConfig,u=c.attrs,s=void 0===u?{}:u,l=c.productId,f=void 0===l?"":l,p=c.activeLoginIdEncrypt,d=void 0===p?"":p,h=s.sceneData,m=s.action,g=s.source,v=s.bizId,w=void 0===v?"":v,b=s.chatToken,y=o()(s,et),E=a||b;F("weblite_selectContact&action=".concat(m||"","&source=").concat(g||"")),ft.publish("im-weblite-list:selectContact",rt({productId:f,activeLoginIdEncrypt:e||d,accountId:n,sceneData:h,action:m,source:g,sourceId:w,clickTimestamp:r,chatLoaded:i,chatToken:E},y))}},{key:"render",value:function(){var t=this,e=L()({"landing-page":!0}),n=L()({"icbu-weblite-chat":!0});return y.a.createElement("div",{className:"icbu-weblite ".concat(/from=buyeragent/gi.test(location.href)?"buyer-agent":""),id:"icbu-weblite"},y.a.createElement("div",{id:"icbu-weblite-list",className:"icbu-weblite-list",style:{width:this.props.isPWA?"".concat(dt.expand[0],"px"):"".concat(dt.fold[0],"px")},ref:function(e){return t._list=e}}),y.a.createElement("div",{id:"icbu-weblite-chat",className:n,ref:function(e){return t._chat=e}}),this.props.isPWA&&y.a.createElement("div",{className:e,ref:function(e){return t._landing=e}},y.a.createElement(j,{updateChrome:this.props.updateChrome})),this.props.isPWA&&!this.props.isMigrate&&!this.props.updateChrome&&y.a.createElement($,{version:"supplier"}))}}])}(y.a.Component);function mt(){var t=S.a.getCookie("xman_us_t")||"";return/sign=y/g.test(t)}function gt(){return-1!=location.href.indexOf("weblitePWA")||-1!=location.href.indexOf("webATM")}function vt(){return-1!==location.href.indexOf("enemberId")}function wt(){return-1!=location.href.indexOf("weblitePWA")&&(t=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),(e=!!t&&parseInt(t[2],10))&&e<76);var t,e}_.a.render(y.a.createElement(ht,{isPWA:gt(),updateChrome:wt(),isMigrate:vt()}),document.getElementById("app")),gt()&&window.addEventListener("load",(function(){!function(){var t={webliteConfig:{activeLoginIdEncrypt:"",productId:"",sceneType:"pwa"},type:"weblite:init",refer:location.href,pageId:window.dmtrack_pageid||""};if(vt()){var e={},n={};location.search.substr(1).split("&").forEach((function(t){e[t.split("=")[0]]=decodeURIComponent(t.split("=")[1])})),n.activeLoginIdEncrypt=e.enemberId,n.productId=e.pid,n.sceneType=e.sceneType,n.lazyInit=!0,t.webliteConfig=n,t.type="weblite:selectContact"}if(wt())var r=R.a.alert({needWrapper:!1,content:pt.get("detectChrome"),title:pt.get("detectChromeTitle"),footer:y.a.createElement(T.a,{type:"primary",onClick:function(){return r.hide()}},"OK")});window.postMessage(JSON.stringify(t),"".concat(location.protocol,"//").concat(location.host))}()}));e.default=ht}]);
//# sourceMappingURL=index.js.map