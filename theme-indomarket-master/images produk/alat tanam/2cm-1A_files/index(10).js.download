/*! For license information please see index.js.LICENSE.txt */
!function(e){function t(t){for(var n,a,o=t[0],i=t[1],s=0,l=[];s<o.length;s++)a=o[s],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&l.push(r[a][0]),r[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(c&&c(t);l.length;)l.shift()()}var n={},r={2:0};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=o);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+""+({}[e]||e)+".js"}(e);var c=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",c.name="ChunkLoadError",c.type=a,c.request=o,n[1](c)}r[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/build/",a.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var c=i;a(a.s=518)}([function(e,t){e.exports=IcbuIM.React16},function(e,t,n){var r=n(142);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.r(t),n.d(t,"consoleLog",(function(){return m})),n.d(t,"default",(function(){return h})),n.d(t,"logAb",(function(){return g}));var r=n(1),a=n.n(r),o=n(71),i=n.n(o);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=window.IcbuIM.lib,u=l.log,d=l.Logger,p=window.IcbuIM.CommonUtil.json2Querystring,f=new d("im-weblite-chat");function m(e){if(f.debug){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];f.debug(e,n)}}function h(e){var t=window.chat_entry_scene||{};"string"===typeof e?p(t)&&(e+="&".concat(p(t))):"object"===i()(e)&&(e.bizData=c(c({},e.bizData||{}),t)),u(e),window.location.href.indexOf("debugGoldlog=1")>-1&&console.log(e)}function g(){return window.goldlog&&window.goldlog.record("/sc.activeBuyer.im","CLK","pageId=".concat(window.dmtrack_pageid),"GET")}},function(e,t){e.exports=IcbuIM.Next1},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var i=e.apply(t,r);function s(e){n(i,a,o,s,c,"next",e)}function c(e){n(i,a,o,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(519)},function(e,t,n){"use strict";n.r(t),n.d(t,"requestWrapper",(function(){return k})),n.d(t,"mtopRequestWrapper",(function(){return _})),n.d(t,"mtopRequest",(function(){return I})),n.d(t,"mtopRequest2",(function(){return O})),n.d(t,"fetchMessages",(function(){return A})),n.d(t,"unsubscribeFreightOS",(function(){return D})),n.d(t,"sendMessage",(function(){return M})),n.d(t,"sendNoSplitRichTextMessage",(function(){return N})),n.d(t,"getCardHtml",(function(){return P})),n.d(t,"translate",(function(){return L})),n.d(t,"getLanguageInfo",(function(){return R})),n.d(t,"saveLanguageInfo",(function(){return F})),n.d(t,"operateTpls",(function(){return j})),n.d(t,"getCloudCsrfToken",(function(){return B})),n.d(t,"getOnetalkCsrfToken",(function(){return z})),n.d(t,"getContactInfo",(function(){return q})),n.d(t,"sendBusinessCard",(function(){return V})),n.d(t,"revertMessage",(function(){return U})),n.d(t,"unblockContact",(function(){return H})),n.d(t,"getChatExtraInfo",(function(){return W})),n.d(t,"getChatRelationEvent",(function(){return G})),n.d(t,"getExpoUserInfo",(function(){return K})),n.d(t,"sendAddressCard",(function(){return J})),n.d(t,"createMeetingAndUser",(function(){return Z})),n.d(t,"getCatalog",(function(){return X})),n.d(t,"sendTranslate",(function(){return Y})),n.d(t,"validationContact",(function(){return Q})),n.d(t,"sendPersonCardService",(function(){return $})),n.d(t,"getChatMessageListExtra",(function(){return ee})),n.d(t,"assistRecommand",(function(){return te})),n.d(t,"distributeChat",(function(){return ne})),n.d(t,"saveToPersonCloudDisk",(function(){return re})),n.d(t,"getUserFromConversation",(function(){return ae})),n.d(t,"fetchGroupMembers",(function(){return oe})),n.d(t,"createConversation",(function(){return ie})),n.d(t,"getQuickPhraseService",(function(){return se})),n.d(t,"recommendInConversationExit",(function(){return ce})),n.d(t,"assistRecommendNew",(function(){return le})),n.d(t,"invokeQuesionRecommend",(function(){return ue})),n.d(t,"checkContactIsXinbao",(function(){return de})),n.d(t,"transferLoginId2AliId",(function(){return pe})),n.d(t,"checkConversationNeedFix",(function(){return fe})),n.d(t,"fixConversation",(function(){return me})),n.d(t,"getEvaluation",(function(){return he})),n.d(t,"sendEvaluationCard",(function(){return ge})),n.d(t,"sendSystemMsgEvaluation",(function(){return ve})),n.d(t,"fetchPortrait",(function(){return ye})),n.d(t,"getXiaoManSaleAssistantEntry",(function(){return be})),n.d(t,"queryVipRight",(function(){return we})),n.d(t,"getContactDeviceTime",(function(){return xe})),n.d(t,"getRecommendEntry",(function(){return Ce})),n.d(t,"submitBuyerBizInfo",(function(){return Ee})),n.d(t,"isSellerLiver",(function(){return Se})),n.d(t,"generateUrlFromBase64",(function(){return ke})),n.d(t,"handleSubscribeLive",(function(){return _e})),n.d(t,"handleUnSubscribeLive",(function(){return Oe})),n.d(t,"insertAISummary",(function(){return De})),n.d(t,"fetchSummaryUseStatus",(function(){return Ne})),n.d(t,"AISwitchService",(function(){return Le})),n.d(t,"AIPayCheckService",(function(){return Fe})),n.d(t,"fetchCRMTokenIfNeed",(function(){return Be})),n.d(t,"translateSysLanguageReport",(function(){return Ue})),n.d(t,"translateSettingFatigueReport",(function(){return We})),n.d(t,"autoTriggerReplyGeneration",(function(){return Ke})),n.d(t,"openAutoReceptionConfig",(function(){return Ze})),n.d(t,"checkFileScanStatus",(function(){return Ye})),n.d(t,"reportRisk",(function(){return Qe}));var r=n(1),a=n.n(r),o=n(5),i=n.n(o),s=n(2),c=n(10),l=n(31),u=n(21);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=window.IcbuIM.IMBaaSSDK.default,m=window.IcbuIM.lib.requestHelper,h=m.request,g=m.jsonp,v=m.mtopRequest,y=m.mtopRequestWrapped,b=f.getConversationServiceV2,w=window.IcbuIM.UserUtil,x=w.getLocale,C=w.getBuyerLocale,E=w.currentUser,S=/(?:[\u203C-\u2999]|[\uD83C\uD83D][\uDC00-\uDFFF]|\uD83E[\uDC00-\uDDFF])(?!\u3002)/g;function k(e){return T.apply(this,arguments)}function T(){return T=i()(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",h(t,n).then((function(e){return e})));case 2:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function _(e,t){return y({api:e,v:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.0",appKey:"24889839",data:t,dataType:"json",ecode:1})}function I(e,t){return v({api:e,v:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.0",appKey:"21574054",data:t,dataType:"json",ecode:1})}function O(e,t){return v({api:e,v:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.0",appKey:"24889839",data:t,dataType:"json",ecode:1})}function A(e){return k("//".concat(c.ONETALK_DOMAIN,"/message/getChatMessageList.htm"),{method:"POST",body:e})}function D(e){return k("//".concat(c.ONETALK_DOMAIN,"/setting/setSubscription.htm"),{method:"POST",body:e})}function M(e){return k("//".concat(c.ONETALK_DOMAIN,"/message/sendChatMessage.htm"),{method:"POST",body:e})}function N(e){return k("//".concat(c.ONETALK_DOMAIN,"/message/sendMessage.htm"),{method:"POST",body:e})}function P(e){return k(e=e.replace(/(https:)|(http:)/gi,""),{method:"GET"})}function L(e){if(["cgs","tp","hkgs","twgs"].includes(Object(u.c)())){var t,n,r,a,o;if("string"!==typeof(null===(t=e)||void 0===t?void 0:t.srcContents))if(e.srcContents=e.srcContents.map((function(e){return p(p({},e),{},{srcContent:e.srcContent.replace(S," ")})})),e.srcContents=JSON.stringify(e.srcContents),null===(n=e)||void 0===n||!n.targetLang)e.targetLang=(null!==(r=E())&&void 0!==r&&r.isBuyer?null===(a=C())||void 0===a?void 0:a.lang:null===(o=x())||void 0===o?void 0:o.lang)||"zh";return _("mtop.alibaba.icbu.im.batchTranslate",e).then((function(e){var t,n,r,a;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.result&&(e.data.list=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.result);return{data:{code:(null===e||void 0===e||null===(n=e.ret)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.includes("SUCCESS"))?200:500,data:null===e||void 0===e?void 0:e.data}}}))}var i;return null!==(i=e)&&void 0!==i&&i.params||(e={params:JSON.stringify(e)}),k("//".concat(c.MESSAGE_DOMAIN,"/msgsend/ajax/batchTranslate.htm"),{method:"POST",body:e})}function R(e){return k("//".concat(c.MESSAGE_DOMAIN,"/msgsend/ajax/languageTranslateInfo.htm"),{method:"POST",body:e})}function F(e){return k("//".concat(c.MESSAGE_DOMAIN,"/msgsend/ajax/setLanguageTranslate.htm"),{method:"POST",body:e})}function j(e){return k("//".concat(c.MESSAGE_DOMAIN,"/template/index.htm"),{method:"POST",body:e})}function B(e){return k("//".concat(c.CLOUDDISK_DOMAIN,"/csrf/getToken.htm"),{method:"GET",body:e})}function z(e){return k("//".concat(c.ONETALK_DOMAIN,"/csrf/getToken.htm"),{method:"POST",body:e})}function q(e){return k("//".concat(c.ONETALK_DOMAIN,"/message/getContactInfo.htm"),{method:"POST",body:e})}function V(e){return k("//".concat(c.ONETALK_DOMAIN,"/message/sendBusinessCard.htm"),{method:"POST",body:e})}function U(e){return k("//".concat(c.ONETALK_DOMAIN,"/message/revertMessage.htm"),{method:"POST",body:e})}function H(e){return k("//".concat(c.ONETALK_DOMAIN,"/message/setRecentContactList.htm"),{method:"POST",body:e})}function W(e){return k("//".concat(c.ONETALK_DOMAIN,"/message/getChatExtraInfo.htm"),{method:"POST",body:e})}function G(e){return k("//".concat(c.ONETALK_DOMAIN,"/chatRelation/getChatRelationEvent.htm"),{method:"POST",body:e})}function K(e){return I("mtop.alibaba.intl.live.getExpoUserInfo",e)}function J(e){return I("mtop.onetouch.logistics.solution.sendAddressCard",e)}function Z(e){return I("mtop.alibaba.icbu.im.aliyunmeeting.createMeetingAndUser",e)}function X(e){return I("mtop.alibaba.icbu.im.exhibition.call.process",e)}function Y(e){var t="mtop.alibaba.translation.translate";return["cgs","tp"].includes(Object(u.c)())&&(t="mtop.alibaba.translate.translateForMessageSend",e.requestAckTimestamp=Date.now()),e.sourceText&&(e.sourceText=e.sourceText.replace(S," ")),_(t,e)}function Q(){return g("//".concat(c.ACCOUNT_DOMAIN,"/user/validation/getSignedUserEmail.htm"))}function $(e){return k("//".concat(c.ONETALK_DOMAIN,"/message/sendBusinessCard.htm"),{method:"POST",body:{params:JSON.stringify(e)}})}function ee(e){return k("//".concat(c.ONETALK_DOMAIN,"/message/getChatMessageListExtra.htm"),{method:"POST",body:e})}function te(e){return k("//".concat(c.ONETALK_DOMAIN,"/buyer/assistant/recommend.htm"),{method:"POST",body:e})}function ne(e){return k("//".concat(c.ONETALK_DOMAIN,"/message/distributeChat.htm"),{method:"POST",body:e})}function re(e){return I("mtop.alibaba.interaction.clouddisk.saveToPersonCloudWithGroup",e)}function ae(e){return I("mtop.alibaba.interaction.atmtaskserver.getUserConversasion",e)}function oe(e){return f.getConversationServiceV2().listGroupMemberDetails(e)}function ie(e){return f.getConversationService().createConversation(e)}function se(){return f.getMessageService().getPhrases()}function ce(e){return k("//".concat(c.ONETALK_DOMAIN,"/buyer/assistant/recommendInConversationExit.htm"),{method:"POST",body:e})}function le(e){return k("//".concat(c.ONETALK_DOMAIN,"/buyer/assistant/recommendNew.htm"),{method:"POST",body:e})}function ue(e){return I("mtop.alibaba.icbu.im.reception.invokeQuesionRecommend",e)}function de(e){return I("mtop.alibaba.icbu.chat.account.check",e).then((function(e){return e.res.result})).catch((function(){return!1}))}function pe(e){return I("mtop.alibaba.icbu.im.id.get",{type:"LOGIN_ID",ids:e}).then((function(e){var t=e.data;return t&&t.object?t.object.map((function(e){return e.aliId})):null})).catch((function(){return null}))}function fe(e){return k("//".concat(c.ONETALK_DOMAIN,"/chatConversationFix/checkConversationNeedFix.htm"),{method:"POST",body:e})}function me(e){return k("//".concat(c.ONETALK_DOMAIN,"/chatConversationFix/fixConversation.htm"),{method:"POST",body:e})}function he(e){return I("mtop.alibaba.icbu.chat.seller.valuation.findvaluation",e).then((function(e){var t=e.data;return"SUCCESS::调用成功"===e.ret[0]&&t.object?t.object:{}})).catch((function(e){return{}}))}function ge(e){return I("mtop.alibaba.icbu.chat.system.message.send",e)}function ve(e){return I("mtop.alibaba.icbu.im.envaluate.card.send",e)}function ye(e){return g("//".concat(c.MA_DOMAIN,"/ajax/user_portrait.htm"),e)}function be(e){return I("mtop.alibaba.intl.mobile.interaction.recommendaction.get",e,"2.0")}function we(e){return g("//".concat(c.UG_DOMAIN,"/api/ags/pull.json"),e)}function xe(e){return v({api:"mtop.alibaba.intl.mobile.interaction.getContactUserDeviceInfo",v:"1.1",appKey:"21574054",data:e,dataType:"json",ecode:1}).then((function(e){var t;return((null===(t=e.data)||void 0===t?void 0:t.appInfoList)||[]).find((function(e){return!!e.timezone}))}))}function Ce(e){return I("mtop.alibaba.intl.mobile.interaction.recommendaction.get",e,"2.0")}function Ee(e){return I("mtop.alibaba.icbu.im.information.collect",e)}function Se(){return I("mtop.alibaba.intl.live.checkSellerLiveFlag",{}).then((function(e){return!!e.data.value})).catch((function(){return!1}))}function ke(e){return Te.apply(this,arguments)}function Te(){return(Te=i()(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=atob(t),r=new ArrayBuffer(n.length),a=new Uint8Array(r),o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return i=new Blob([a],{type:"image/jpeg"}),(s=new FormData).append("files",i),e.abrupt("return",fetch("//".concat(c.MESSAGE_DOMAIN,"/message/content/material/uploadPic.htm"),{method:"POST",cache:"no-cache",mode:"cors",credentials:"include",body:s}).then((function(e){return e.json()})).then((function(e){return e.data&&e.data[0]})).catch((function(){return{}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=i()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("mtop.alibaba.intl.live.subscribeLive",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=i()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("mtop.alibaba.intl.live.unsubscribeLive",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e){return Me.apply(this,arguments)}function Me(){return(Me=i()(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("mtop.alibaba.intl.action.event.request",{scene:"summary",action:Object(l.a)()?"summarySystemMessageTriggerTest":"summarySystemMessageTrigger",source:"web",requestId:"ai_".concat(Date.now()),paramsMap:JSON.stringify({targetAliId:null===t||void 0===t||null===(n=t.contact)||void 0===n?void 0:n.aliId})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=i()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("mtop.alibaba.intl.summary.feedback.check",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return Re.apply(this,arguments)}function Re(){return(Re=i()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O("mtop.alibaba.camel.ai.risk").then((function(e){return e.data.data})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return je.apply(this,arguments)}function je(){return(je=i()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("mtop.alibaba.icbu.assistant.commercial.checkpoint",{bizCode:"icbu.general",sceneAbility:t.scene,userDTO:JSON.stringify({userId:t.aliId})}).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data})).catch((function(e){return!1})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e){return ze.apply(this,arguments)}function ze(){return(ze=i()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.kHTAccessToken){e.next=4;break}return e.abrupt("return",t.kHTAccessToken);case 4:return Object(s.default)("NO_kHTAccessToken_Chats"),e.next=7,qe(t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=i()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b().getConversationContactDetailList([{aliId:t.aliId,encryptAliId:t.aliIdEncrypt,encryptAccountId:t.accountIdEncrypt}]).then((function(e){return e[0]&&e[0].kHTAccessToken})).catch((function(e){return Object(s.default)("fetchCRMToke error: ".concat(e.message)),""}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return He.apply(this,arguments)}function He(){return(He=i()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("mtop.alibaba.icbu.im.translate.language.report",{aliId:t.aliId,language:t.sysLang}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=i()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("mtop.alibaba.icbu.im.translate.setting.fatigue.report",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e){return Je.apply(this,arguments)}function Je(){return(Je=i()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O("mtop.alibaba.intl.ai.assistant.rcpt.auto.trigger",t,"1.1"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(){return Xe.apply(this,arguments)}function Xe(){return(Xe=i()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("mtop.alibaba.intl.ai.auto.reception.setting",{status:!0}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){return k("//".concat(c.CLOUDDISK_DOMAIN,"/file/checkFileScanInfo.htm"),{method:"GET",body:e})}function Qe(e){return $e.apply(this,arguments)}function $e(){return($e=i()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O("mtop.alibaba.icbu.im.spam.report",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"COPY",(function(){return m})),n.d(t,"checkBuyerCommandSupported",(function(){return h})),n.d(t,"checkSellerCommandSupported",(function(){return g})),n.d(t,"ALL_COMMAND_KEY_MAP",(function(){return v})),n.d(t,"ALL_COMMANDS",(function(){return w})),n.d(t,"COMMAND_ENABLE_PLACEHOLDER",(function(){return x})),n.d(t,"getNewQueryId",(function(){return C})),n.d(t,"checkCurrentContactQuery",(function(){return E})),n.d(t,"getQueryAliId",(function(){return S})),n.d(t,"getAPLUSABRATEResult",(function(){return k})),n.d(t,"AdjustMenuType",(function(){return T})),n.d(t,"DataphantGroupType",(function(){return _})),n.d(t,"getHighPrecisionTimestamp",(function(){return I}));var r=n(1),a=n.n(r),o=n(9),i=n(39),s=n(31);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=window.IcbuIM.lib.I18N.createI18N,d=u({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb")}),p=u({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","chat")}),f=u({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),m={commandsTitle:d.get("im.command.title.commands")||"AI commands",freeTrial:d.get("im.command.title.freetrial")||"Free trial",sellerCommandsTitle:p.get("command.title.commands.seller")||"生意助手指令",commandPrefixPositionTip:p.get("command.tip.prefix.position")||"请先输入需要润色的内容，再输入’/’唤起润色",commandPrefixPositionTip2:p.get("command.tip.prefix.position")||"请在需要润色的内容后面输入‘/’，唤起AI润色",polishTargetLanguageTip:p.get("command.tip.polish.lang")||"AI润色暂时只支持输出英语，是否继续？",polishTargetLanguageConfirmY:p.get("polish.lang.confirm.y")||"继续润色",polishTargetLanguageConfirmN:p.get("polish.lang.confirm.n")||"取消润色",beta:p.get("command.title.beta")||"beta",setLang:p.get("command.set.lang")||"智能接待语种:",moreLang:p.get("command.lang.more")||"更多语种待开放"},h=function(){return!o.isSellerPWA},g=function(){return o.isSellerPWA&&window.aiCrmTextOptimization},v={summary:"summary",polish:"merchant_assistant",reply:"merchant_assistant_reception",before:"before",middle:"middle"},y=l({summary:{code:"summary",title:d.get("im.command.title.summary")||"AI summary",enableInGroupChat:!1,aiABTest:["compare1","compare2","compare3"],freeTrial:!0}},i.buyerExtendCommands),b=l({},i.sellerExtendCommands),w=h()?y:g()?b:[],x=function(){return g()?f.get("ai.assistant"):Object(s.a)()?f.get("sendBox.placeHolder.forSummary"):f.get("sendBox.placeHolder.commandEnable")},C=function(e){var t=e.commandKey,n=e.contactAliId;return"".concat(n,"-").concat(t,"-").concat(Date.now())},E=function(e,t){return 0===e.indexOf("".concat(t,"-"))},S=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("-")[0]},k=function(e){return(window.__APLUS_ABRATE__||{})[e]||""},T={initial:"initial",refresh:"refresh",colloquialize:"colloquialize",simplify:"simplify"},_={basicGroup:"control",testGroup:"test"},I=function(){var e;if(null!==(e=window)&&void 0!==e&&e.performance){var t=Date.now()-Math.floor(window.performance.now())+window.performance.now();return Math.floor(1e3*t)}return Math.floor(1e3*Date.now())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.isBuyerPWA=location.pathname.indexOf("messengerAlone.htm")>=0,a=t.isSellerPWA=location.pathname.indexOf("weblitePWA.htm")>=0,o=t.isPureMessenger=location.pathname.indexOf("messenger.htm")>=0||location.pathname.indexOf("messengerShadow.htm")>=0,i=t.isPureWeblite=location.pathname.indexOf("weblite.htm")>=0,s=t.isWebATM=location.pathname.indexOf("webATM.htm")>=0;t.isWeblite=i||s,t.isMessenger=r||a||o,t.isSeller=a||location.pathname.indexOf("maDetail")>=0},function(e,t,n){"use strict";n.r(t),n.d(t,"ONETALK_DOMAIN",(function(){return o})),n.d(t,"MESSAGE_DOMAIN",(function(){return i})),n.d(t,"CLOUDDISK_DOMAIN",(function(){return s})),n.d(t,"WORKSPACE_DOMAIN",(function(){return c})),n.d(t,"WORKSPACE_REQUEST_DOMAIN",(function(){return l})),n.d(t,"ACCOUNT_DOMAIN",(function(){return u})),n.d(t,"PROFILE_DOMAIN",(function(){return d})),n.d(t,"RFQ_DOMAIN",(function(){return p})),n.d(t,"APP_DOMAIN",(function(){return f})),n.d(t,"SUPPORT_DOMAIN",(function(){return m})),n.d(t,"MA_DOMAIN",(function(){return h})),n.d(t,"UG_DOMAIN",(function(){return g})),n.d(t,"isWhiteListUrl",(function(){return v}));var r=n(25),a=["accounts.alibaba.com","biz.alibaba.com","buyer.alibaba.com","cashier.alibaba.com","clouddisk.alibaba.com","dcms.alibaba.com","fmessage.alibaba.com","i.alibaba.com","login.alibaba.com","marketing.alibaba.com","message.alibaba.com","onetalk.alibaba.com","passport.alibaba.com","photobank.alibaba.com","profile.alibaba.com","rfq.alibaba.com","service.alibaba.com","support.alibaba.com","tradeassurance.alibaba.com","ug.alibaba.com","us.my.alibaba.com","www.alibaba.com"],o=Object(r.transferDomain)("onetalk.alibaba.com"),i=Object(r.transferDomain)("message.alibaba.com"),s=Object(r.transferDomain)("clouddisk.alibaba.com"),c="workspace.alibaba.com",l=Object(r.transferDomain)("workspace.alibaba.com"),u=Object(r.transferDomain)("accounts.alibaba.com"),d=Object(r.transferDomain)("profile.alibaba.com"),p=Object(r.transferDomain)("rfq.alibaba.com"),f="app.alibaba.com",m=Object(r.transferDomain)("support.alibaba.com"),h=Object(r.transferDomain)("i.alibaba.com"),g=Object(r.transferDomain)("ug.alibaba.com"),v=function(e){var t=e;e.match(/^https?:\/\//i)||(t="https:"+e);var n=new URL(t).hostname;return a.some((function(e){return e===n}))}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(143);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return u}));var r={SENT_ERR:"-1000",UPLOAD_ERR:"-1001",CARD_PARSE_ERROR:"-2002"},a=5e3,o={NO_SPLIT_RICH_TEXT:"noSplitRichText",RICH_TEXT:"richText",IMAGE_CARD:"imageCard",TEXT:"text"},i={PREVIEW:"preview",DOWNLOAD:"download"},s={receiveTranslateAgreement:!1,receiveTranslateOpen:!1,sendTranslateOpen:!1,sendTranslateOriginLang:"en",sendTranslateTargetLang:"zh",supportLangs:[{lang:"de",langFullName:"German "},{lang:"ru",langFullName:"Russian"},{lang:"pt",langFullName:"Portuguese"},{lang:"ko",langFullName:"Korean"},{lang:"en",langFullName:"English"},{lang:"it",langFullName:"Italian"},{lang:"fr",langFullName:"French"},{lang:"zh",langFullName:"Chinese"},{lang:"es",langFullName:"Spanish"},{lang:"ar",langFullName:"Arabic"},{lang:"vi",langFullName:"Vietnamese"},{lang:"th",langFullName:"Thai"},{lang:"ja",langFullName:"Japanese"},{lang:"id",langFullName:"Indonesian"},{lang:"tr",langFullName:"Turkish"}],supportTranslatePairs:{ar:["en","zh"],de:["en"],en:["de","ru","pt","ko","it","fr","zh","es","ar","vi","th","ja","id","tr"],es:["en","zh"],fr:["en","zh"],id:["en"],it:["en","zh"],ja:["en","zh"],ko:["en"],pt:["en","zh"],ru:["en","zh"],th:["en","zh"],tr:["en"],vi:["en"],zh:["ar","ru","th","pt","ja","en","it","fr","es"]}},c=["2217942420940"],l="https://message.alibaba.com/message/default.htm#feedback/allSet",u="https://message.alibaba.com/message/default.htm#customer/black?needData=false"},function(e,t,n){"use strict";n.r(t);n(0);var r=n(3),a=n(21),o={error:function(e){Object(a.i)()?r.Toast.show({content:e}):r.Message.error(e)},success:function(e){Object(a.i)()?r.Toast.show({content:e}):r.Message.success(e)},notice:function(e){Object(a.i)()?r.Toast.show({content:e}):r.Message.success(e)},alert:function(e){Object(a.i)()?r.Toast.show({content:e}):r.Message.alert(e)}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r);t.default={emoticon:a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h40v40H0z"}),a.a.createElement("path",{d:"M20 5.833c7.824 0 14.167 6.343 14.167 14.167S27.824 34.167 20 34.167 5.833 27.824 5.833 20 12.176 5.833 20 5.833Zm0 2.5C13.557 8.333 8.333 13.557 8.333 20S13.557 31.667 20 31.667 31.667 26.443 31.667 20 26.443 8.333 20 8.333Zm6.324 12.911 2.352.845c-3.165 8.812-15.042 8.812-17.385-.105l2.418-.635c1.699 6.465 10.254 6.465 12.615-.105Zm-9.657-7.077c.92 0 1.666.746 1.666 1.666v2.5a1.667 1.667 0 1 1-3.333 0v-2.5c0-.92.746-1.666 1.667-1.666Zm6.666 0c.92 0 1.667.746 1.667 1.666v2.5a1.667 1.667 0 0 1-3.333 0v-2.5c0-.92.746-1.666 1.666-1.666Z",fill:"#222222"}))),picture:a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h40v40H0z"}),a.a.createElement("path",{d:"M31.928 8.333a2.5 2.5 0 0 1 2.5 2.5v18.334a2.5 2.5 0 0 1-2.5 2.5H8.595a2.5 2.5 0 0 1-2.5-2.5V10.833a2.5 2.5 0 0 1 2.5-2.5h23.333Zm0 2.5H8.595v18.334h23.333V10.833Zm-2.762 3.664v2.498c-4.033-.058-6.506 1.25-7.648 3.88l-.111.25c-1.72 3.716-5.043 5.564-9.74 5.501v-2.5c3.859.064 6.295-1.336 7.558-4.246l.102-.228c1.628-3.502 4.98-5.207 9.839-5.155Zm-15.534-.673a1.667 1.667 0 1 1 0 3.333 1.667 1.667 0 0 1 0-3.333Z",fill:"#222222","fill-rule":"nonzero"}))),fromComputer:a.a.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M0 0h20v20H0z"}),a.a.createElement("path",{d:"M18.084 2.01c.967 0 1.75.783 1.75 1.75v12.832a1.75 1.75 0 01-1.75 1.75H1.751A1.75 1.75 0 010 16.592V3.76c0-.966.783-1.75 1.75-1.75h16.333zm0 1.75H1.751v12.832h16.333V3.76zm-1.933 2.563v1.75c-2.751-.04-4.465.828-5.29 2.576l-.064.14-.078.174c-1.203 2.601-3.53 3.895-6.817 3.85v-1.75c2.631.045 4.318-.885 5.22-2.817l.07-.154.072-.16c1.139-2.451 3.486-3.645 6.887-3.609zm-10.874-.47a1.167 1.167 0 110 2.332 1.167 1.167 0 010-2.333z",fill:"#222222",fillRule:"nonzero"}))),attachment:a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M17.588 8.538l-7.733 7.779a4.142 4.142 0 01-5.883 0 4.214 4.214 0 010-5.933L11.82 2.49a2.498 2.498 0 013.548 0 2.546 2.546 0 010 3.584L7.746 13.74a.867.867 0 01-1.233 0 .892.892 0 010-1.255l6.84-6.881L12.11 4.37l-6.84 6.88a2.642 2.642 0 000 3.724 2.617 2.617 0 003.716 0l7.621-7.667a4.296 4.296 0 000-6.052 4.248 4.248 0 00-6.03 0L2.73 9.15a5.963 5.963 0 000 8.4 5.892 5.892 0 008.365 0l7.734-7.778-1.241-1.234z",fill:"#222222",fillRule:"nonzero"}),a.a.createElement("path",{d:"M0 0h20v20H0z"}))),template:a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h40v40H0z"}),a.a.createElement("path",{d:"M10.833 11.667v19.166h17.084v2.5H12.083a3.75 3.75 0 0 1-3.75-3.75V11.667h2.5Zm18.469-4.992a2.5 2.5 0 0 1 2.5 2.5v17.627a2.5 2.5 0 0 1-2.5 2.5h-16.81V9.175a2.5 2.5 0 0 1 2.5-2.5h14.31Zm0 2.5h-14.31v17.627h14.31V9.175ZM25 11.667v2.5h-7.5v-2.5H25Z",fill:"#222222","fill-rule":"nonzero"}))),call:a.a.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h20v20H0z"}),a.a.createElement("path",{d:"M17.006 2.895a.411.411 0 0 0-.318-.136.49.49 0 0 0-.317.136l-.77.725c0-.226-.045-.408-.136-.544a1.38 1.38 0 0 0-.362-.362 1.513 1.513 0 0 0-.68-.136H11.93c-.318 0-.453.045-.635.136a1.38 1.38 0 0 0-.362.362c-.09.182-.136.318-.136.635v2.175c0 .317.045.453.136.634.09.136.226.272.362.363.182.09.317.136.635.136h2.492c.317 0 .453-.046.634-.136a1.38 1.38 0 0 0 .363-.363c.09-.136.09-.272.136-.544l.77.725c.09.09.181.136.317.136.045 0 .136 0 .181-.045.182-.09.272-.227.272-.453V3.258c.046-.091 0-.182-.045-.272l-.045-.09Zm-5.131 3.022v-2.25h2.626l.06 1.155-.06 1.095h-2.626Zm3.273 6.222c-.045-.045-.136-.09-.181-.136l-.136-.136c-.499-.453-1.27-1.088-2.357-.952-.725.091-1.132.544-1.45.907-.226.272-.407.407-.589.453-.272.045-.725-.317-.997-.499a9.556 9.556 0 0 1-1.903-2.13c-.136-.18-.453-.724-.362-1.087.045-.09.226-.226.362-.317.091-.09.182-.136.272-.227l.136-.136c.317-.226.725-.589.861-1.132.272-1.043-.317-1.903-.725-2.538l-.09-.136c-.408-.68-1.133-1.767-2.311-1.54-.454.09-.77.362-1.043.589l-.317.272c-.181.18-.408.317-.589.543-1.223 1.36-1.54 3.444-.86 5.438.452 1.36 1.313 2.719 2.537 4.033.86.951 2.039 2.13 3.58 2.945.679.362 1.585.77 2.673.77h.181a5.118 5.118 0 0 0 2.673-.725c.227-.136.454-.362.635-.544.09-.09.181-.18.272-.226l.045-.045c.317-.272.77-.635.816-1.314.18-1.043-.59-1.722-1.133-2.13Zm-.453 2.31-.046.046a1.97 1.97 0 0 1-.317.272 3.175 3.175 0 0 1-.453.362c-.589.363-1.269.544-2.084.544-.816-.045-1.496-.317-2.085-.634-1.087-.59-2.039-1.36-3.217-2.674-1.087-1.223-1.858-2.401-2.265-3.58-.544-1.495-.272-3.08.589-4.077.09-.091.271-.227.407-.363l.318-.272c.136-.136.271-.226.362-.272h.045c.272 0 .635.59.907.952l.09.136c.317.498.635.997.544 1.45-.045.136-.227.272-.408.408-.045.045-.136.09-.181.136-.045.045-.136.09-.181.136-.317.226-.725.543-.861 1.042-.272.951.317 1.858.544 2.22.634.952 1.314 1.767 2.175 2.447.407.362 1.223.997 2.084.816.634-.136.997-.544 1.314-.861.272-.272.408-.454.634-.499.453-.045.77.181 1.27.635l.18.135c.046.046.136.091.227.182.317.272.77.634.77.906 0 .136-.226.272-.362.408Z",fill:"#222222","fill-rule":"nonzero"}))),businessCard:a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h40v40H0z"}),a.a.createElement("path",{d:"M31.667 9.167a2.5 2.5 0 0 1 2.5 2.5v16.666a2.5 2.5 0 0 1-2.5 2.5H8.333a2.5 2.5 0 0 1-2.5-2.5V11.667a2.5 2.5 0 0 1 2.5-2.5h23.334Zm0 2.5H8.333v16.666h23.334V11.667ZM30 23.333v2.5H10v-2.5h20Zm-11.667-10v7.5H10v-7.5h8.333Zm11.667 5v2.5H20v-2.5h10Zm-14.167-2.5H12.5v2.5h3.333v-2.5Z",fill:"#222222","fill-rule":"nonzero"}))),productCard:a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h40v40H0z"}),a.a.createElement("path",{d:"m21.015 5.45 10.833 4.811a2.5 2.5 0 0 1 1.485 2.285v14.908a2.5 2.5 0 0 1-1.485 2.285l-10.833 4.81a2.5 2.5 0 0 1-2.03 0L8.152 29.74a2.5 2.5 0 0 1-1.485-2.285V12.546a2.5 2.5 0 0 1 1.485-2.285l10.833-4.81a2.5 2.5 0 0 1 2.03 0ZM9.167 14.9v12.554l9.79 4.347V19.095L9.168 14.9Zm21.666.09-9.375 4.017v12.61l9.375-4.163V14.989ZM20 7.734 9.586 12.36l10.52 4.509 10.41-4.463L20 7.735Z",fill:"#222222","fill-rule":"nonzero"}))),folder:a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h40v40H0z"}),a.a.createElement("path",{d:"M17.995 7.5a2.5 2.5 0 0 1 2.44 1.958l.12.541L30.833 10a2.5 2.5 0 0 1 2.5 2.5V30a2.5 2.5 0 0 1-2.5 2.5H9.167a2.5 2.5 0 0 1-2.5-2.5V10a2.5 2.5 0 0 1 2.5-2.5h8.828Zm0 2.5H9.167v20h21.666V16.667H19.476l-.31-1.395-.916-4.122-.255-1.15Zm11.172 15v2.5H10.833V25h18.334Zm1.666-12.5-9.722-.001.37 1.668 9.352-.001V12.5Z",fill:"#222222","fill-rule":"nonzero"}))),localFile:a.a.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M0 0h20v20H0z"}),a.a.createElement("path",{d:"M8.231 1c.85 0 1.586.59 1.77 1.42l.088.393h7.45c1.002 0 1.813.811 1.813 1.812v12.688a1.813 1.813 0 01-1.812 1.812H1.83A1.813 1.813 0 01.02 17.312v-14.5C.019 1.813.83 1 1.83 1h6.4zm0 1.813h-6.4v14.5H17.54V7.646H9.306L8.231 2.813zm8.1 10.874V15.5H3.04v-1.813H16.33zm1.209-9.062h-7.05l.27 1.208h6.78V4.625z",fill:"#222222",fillRule:"nonzero"}))),profile:a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M0 0h20v20H0z"}),a.a.createElement("path",{d:"M13.58 11.828l4.393 5.126a1.75 1.75 0 01-1.329 2.888H3.254a1.75 1.75 0 01-1.329-2.888l4.394-5.125a6.94 6.94 0 001.673.736l-4.738 5.527h5.82v-3.5h1.75v3.5h5.82l-4.738-5.527a6.962 6.962 0 001.674-.737zM9.95.009a5.833 5.833 0 110 11.667 5.833 5.833 0 010-11.667zm0 1.75a4.083 4.083 0 100 8.167 4.083 4.083 0 000-8.167z",fill:"#222222",fillRule:"nonzero"}))),transfer:a.a.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M0 0h20v20H0z"}),a.a.createElement("path",{d:"M9.118 11.271c3.093 0 5.625-2.531 5.625-5.625S12.21.021 9.118.021c-3.094 0-5.625 2.531-5.625 5.625s2.53 5.625 5.625 5.625zm0-9.562a3.913 3.913 0 013.937 3.937 3.913 3.913 0 01-3.937 3.938A3.913 3.913 0 015.18 5.646c0-2.194 1.8-3.937 3.938-3.937zm-2.25 10.856c-.563-.169-1.07-.45-1.575-.731l-3.882 4.5c-.28.28-.393.675-.393 1.125 0 .956.73 1.687 1.687 1.687h7.369V17.46H2.649l4.219-4.894zm12.43.619h-4.837A47.58 47.58 0 0015.7 11.89l-1.181-1.181-4.163 4.162H19.3v-1.687zm-8.38 2.475v1.687h4.837c-.619.619-1.237 1.294-1.237 1.294l1.18 1.181 4.163-4.162h-8.943z",fill:"#222222",fillRule:"nonzero"}))),draft:a.a.createElement("svg",{width:"42",height:"15",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"#333",fillRule:"nonzero"},a.a.createElement("path",{d:"M40.103.007c.526 0 .952.427.952.953v6.19a.476.476 0 01-.476.476h-.953a.476.476 0 01-.476-.476V1.912h-5.238a.476.476 0 01-.476-.476V.484a.476.476 0 01.476-.477h6.19zM3.799 14c1.472 0 2.613-.433 3.425-1.299.81-.866 1.216-2.087 1.216-3.664 0-1.55-.407-2.754-1.223-3.613-.816-.859-1.955-1.288-3.418-1.288H.237V14H3.8zm-.171-1.395h-1.86V5.53h1.86c1.025 0 1.824.31 2.396.93.572.62.858 1.486.858 2.598 0 1.13-.284 2.004-.851 2.621-.568.618-1.369.926-2.403.926zM11.804 14V9.604c0-.519.176-.94.53-1.264.353-.324.81-.486 1.37-.486.37 0 .643.03.82.09v-1.45a2.753 2.753 0 00-.656-.061c-.483 0-.912.118-1.288.355s-.617.54-.722.91h-.109V6.555h-1.415V14h1.47zm6.145.123c.488 0 .926-.101 1.316-.304.39-.203.696-.491.92-.865h.116V14h1.415V8.914c0-.788-.254-1.402-.762-1.842-.509-.44-1.227-.66-2.157-.66-.848 0-1.548.19-2.102.57-.554.381-.867.89-.94 1.529h1.422c.082-.265.258-.469.53-.612.27-.144.611-.215 1.022-.215.496 0 .875.106 1.134.317.26.212.39.517.39.913v.643l-2.017.116c-.888.055-1.572.272-2.05.653-.479.38-.718.903-.718 1.569 0 .67.231 1.208.694 1.616.462.408 1.058.612 1.787.612zm.376-1.237c-.41 0-.743-.095-.998-.284a.914.914 0 01-.383-.776c0-.328.121-.58.363-.759.241-.177.617-.282 1.128-.314l1.818-.116v.622c0 .465-.184.852-.55 1.162-.367.31-.826.465-1.378.465zM25.804 14V7.827h1.64V6.59h-1.66v-.63c0-.7.357-1.052 1.072-1.052.242 0 .458.018.65.055V3.787a4.823 4.823 0 00-.793-.068c-.793 0-1.388.172-1.784.516-.397.344-.595.887-.595 1.63v.725H23.11v1.237h1.224V14h1.47zm6.132.041c.241 0 .508-.025.8-.075v-1.224a5.852 5.852 0 01-.561.034c-.365 0-.631-.09-.8-.27-.169-.18-.253-.463-.253-.85V7.826h1.613V6.59h-1.613V4.703h-1.47V6.59H28.47v1.237h1.182v4.204c0 .72.177 1.235.53 1.545.353.31.938.465 1.754.465z"}))),maximize:a.a.createElement("svg",{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M1.125 10a.375.375 0 01.375.375V14.5h4.125a.375.375 0 01.375.375v.75a.375.375 0 01-.375.375H.75A.75.75 0 010 15.25v-4.875A.375.375 0 01.375 10h.75zM15.25 0a.75.75 0 01.75.75v4.875a.375.375 0 01-.375.375h-.75a.375.375 0 01-.375-.375V1.5h-4.125A.375.375 0 0110 1.125v-.75A.375.375 0 0110.375 0h4.875z",fill:"#222222",fillRule:"nonzero"})),reply:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{"clip-path":"url(#clip0_582_2567)"},a.a.createElement("path",{d:"M3.64583 3.64583V11.7708H6.25V12.9167H3.125C2.77982 12.9167 2.5 12.6368 2.5 12.2917V3.125C2.5 2.77982 2.77982 2.5 3.125 2.5H12.2917C12.6368 2.5 12.9167 2.77982 12.9167 3.125V6.25H11.7708V3.64583H3.64583Z",fill:"url(#paint0_linear_582_2567)"}),a.a.createElement("path",{d:"M6.25 7.70833C6.25 7.60107 6.26158 7.49651 6.28356 7.39583H4.79167V8.54167H6.25V7.70833Z",fill:"url(#paint1_linear_582_2567)"}),a.a.createElement("path",{d:"M4.79167 5H10.625V6.14583H4.79167V5Z",fill:"url(#paint2_linear_582_2567)"}),a.a.createElement("path",{d:"M9.16667 14.5833L10.5981 10.3409H11.9632L13.3946 14.5833H12.2926L12.0129 13.6926H10.5478L10.2687 14.5833H9.16667ZM11.7683 12.9137L11.2962 11.4098H11.263L10.7918 12.9137H11.7683Z",fill:"url(#paint3_linear_582_2567)"}),a.a.createElement("path",{d:"M14.7601 14.5833V10.3409H13.7347V14.5833H14.7601Z",fill:"url(#paint4_linear_582_2567)"}),a.a.createElement("path",{d:"M7.70833 7.08333C7.36316 7.08333 7.08333 7.36316 7.08333 7.70833V16.875C7.08333 17.2202 7.36316 17.5 7.70833 17.5H16.875C17.2202 17.5 17.5 17.2202 17.5 16.875V7.70833C17.5 7.36316 17.2202 7.08333 16.875 7.08333H7.70833ZM8.22917 8.22917H16.3542V16.3542H8.22917V8.22917Z",fill:"url(#paint5_linear_582_2567)"})),a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"paint0_linear_582_2567",x1:"18.6044",y1:"8.25344",x2:"0.695129",y2:"14.1631",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("linearGradient",{id:"paint1_linear_582_2567",x1:"18.6044",y1:"8.25344",x2:"0.695129",y2:"14.1631",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("linearGradient",{id:"paint2_linear_582_2567",x1:"18.6044",y1:"8.25344",x2:"0.695129",y2:"14.1631",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("linearGradient",{id:"paint3_linear_582_2567",x1:"18.6044",y1:"8.25344",x2:"0.695129",y2:"14.1631",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("linearGradient",{id:"paint4_linear_582_2567",x1:"18.6044",y1:"8.25344",x2:"0.695129",y2:"14.1631",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("linearGradient",{id:"paint5_linear_582_2567",x1:"18.6044",y1:"8.25344",x2:"0.695129",y2:"14.1631",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("clipPath",{id:"clip0_582_2567"},a.a.createElement("rect",{width:"20",height:"20",fill:"white"})))),polish:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{"clip-path":"url(#clip0_6_6246)"},a.a.createElement("path",{d:"M17.0833 4.16667H2.91666V5.31251H17.0833V4.16667Z",fill:"#222222"}),a.a.createElement("path",{d:"M17.0833 7.50001H2.91666V8.64584H17.0833V7.50001Z",fill:"#222222"}),a.a.createElement("path",{d:"M10.4167 11.25H2.91666V12.3958H10.4167V11.25Z",fill:"#222222"}),a.a.createElement("path",{d:"M5.41666 14.6875H2.91666V15.8333H5.41666V14.6875Z",fill:"#222222"}),a.a.createElement("path",{d:"M15.7878 12.5456L15 10.4167L14.2122 12.5456L12.0833 13.3333L14.2122 14.1211L15 16.25L15.7878 14.1211L17.9167 13.3333L15.7878 12.5456Z",fill:"#222222"}),a.a.createElement("path",{d:"M10.4167 13.75L10.8668 14.9665L12.0833 15.4167L10.8668 15.8668L10.4167 17.0833L9.96651 15.8668L8.75 15.4167L9.96651 14.9665L10.4167 13.75Z",fill:"#222222"})),a.a.createElement("defs",null,a.a.createElement("clipPath",{id:"clip0_6_6246"},a.a.createElement("rect",{width:"20",height:"20",fill:"white"})))),polishLight:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{"clip-path":"url(#clip0_12_6376)"},a.a.createElement("path",{d:"M17.0833 4.16663H2.91666V5.31246H17.0833V4.16663Z",fill:"url(#paint0_linear_12_6376)"}),a.a.createElement("path",{d:"M17.0833 7.49996H2.91666V8.64579H17.0833V7.49996Z",fill:"url(#paint1_linear_12_6376)"}),a.a.createElement("path",{d:"M10.4167 11.25H2.91666V12.3958H10.4167V11.25Z",fill:"url(#paint2_linear_12_6376)"}),a.a.createElement("path",{d:"M5.41666 14.6875H2.91666V15.8333H5.41666V14.6875Z",fill:"url(#paint3_linear_12_6376)"}),a.a.createElement("path",{d:"M15.7878 12.5455L15 10.4166L14.2122 12.5455L12.0833 13.3333L14.2122 14.1211L15 16.25L15.7878 14.1211L17.9167 13.3333L15.7878 12.5455Z",fill:"url(#paint4_linear_12_6376)"}),a.a.createElement("path",{d:"M10.4167 13.75L10.8668 14.9665L12.0833 15.4166L10.8668 15.8668L10.4167 17.0833L9.96651 15.8668L8.75 15.4166L9.96651 14.9665L10.4167 13.75Z",fill:"url(#paint5_linear_12_6376)"})),a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"paint0_linear_12_6376",x1:"19.0211",y1:"9.12097",x2:"1.70453",y2:"15.7566",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("linearGradient",{id:"paint1_linear_12_6376",x1:"19.0211",y1:"9.12097",x2:"1.70453",y2:"15.7566",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("linearGradient",{id:"paint2_linear_12_6376",x1:"19.0211",y1:"9.12097",x2:"1.70453",y2:"15.7566",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("linearGradient",{id:"paint3_linear_12_6376",x1:"19.0211",y1:"9.12097",x2:"1.70453",y2:"15.7566",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("linearGradient",{id:"paint4_linear_12_6376",x1:"19.0211",y1:"9.12097",x2:"1.70453",y2:"15.7566",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("linearGradient",{id:"paint5_linear_12_6376",x1:"19.0211",y1:"9.12097",x2:"1.70453",y2:"15.7566",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{"stop-color":"#9239FA"}),a.a.createElement("stop",{offset:"0.490153","stop-color":"#5DB1FF"}),a.a.createElement("stop",{offset:"1","stop-color":"#0454EE"})),a.a.createElement("clipPath",{id:"clip0_12_6376"},a.a.createElement("rect",{width:"20",height:"20",fill:"white"})))),translate:a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h40v40H0z"}),a.a.createElement("path",{d:"M28.994 21.667v1.266H32.5v6.109h-3.506v2.708H26.85v-2.708h-3.517v-6.11h3.517v-1.265h2.144ZM30 7.5a2.5 2.5 0 0 1 2.5 2.5v10H30V10H8.333v15l5.301-.002v2.615L17.243 25h4.423v2.5h-3.613l-5.597 4.055a.833.833 0 0 1-1.322-.675v-3.38l-2.8.001a2.5 2.5 0 0 1-2.5-2.5V10a2.5 2.5 0 0 1 2.5-2.5H30Zm-3.185 16.917h-1.463v2.75h1.463v-2.75Zm3.661 0h-1.452v2.75h1.452v-2.75ZM20.307 12.5l2.193 8.145h-2.234l-.379-1.588h-2.285l-.379 1.588H15l2.182-8.145h3.125Zm-1.547 1.773h-.02l-.748 3.145h1.506l-.738-3.145Z",fill:"#222222","fill-rule":"nonzero"}))),translate2:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M4.71164 10.4386L5.7468 9.79167H6.66675V10.8333H6.04554L4.29908 11.9249C4.02522 12.096 3.66997 11.8991 3.66997 11.5762V10.8333H2.07793C1.85084 10.8333 1.66675 10.6492 1.66675 10.4222V2.91118C1.66675 2.68409 1.85084 2.5 2.07793 2.5H11.6722C11.8993 2.5 12.0834 2.68409 12.0834 2.91118V7.08333H11.0417V3.54167H2.70841V9.79167H4.71164V10.4386Z",fill:"#808080"}),a.a.createElement("path",{d:"M11.7051 13.9394H10.8126L12.1725 10H13.2459L14.6039 13.9394H13.7113L13.4197 13.0411H11.9973L11.7051 13.9394ZM12.7246 10.9002H12.6938L12.2088 12.391H13.2086L12.7246 10.9002Z",fill:"#808080"}),a.a.createElement("path",{d:"M17.5056 16.25C17.7327 16.25 17.9167 16.0659 17.9167 15.8388V8.32785C17.9167 8.10076 17.7327 7.91667 17.5056 7.91667H7.91127C7.68418 7.91667 7.50008 8.10076 7.50008 8.32785V15.8388C7.50008 16.0659 7.68418 16.25 7.91127 16.25H13.538L15.2844 17.3415C15.5583 17.5127 15.9135 17.3158 15.9135 16.9929V16.25H17.5056ZM14.8719 15.8553L13.8367 15.2083H8.54175V8.95833H16.8751V15.2083H14.8719V15.8553Z",fill:"#808080"}),a.a.createElement("path",{d:"M5.62508 6.66667C5.62508 7.1269 5.25199 7.5 4.79175 7.5C4.33151 7.5 3.95842 7.1269 3.95842 6.66667C3.95842 6.20643 4.33151 5.83333 4.79175 5.83333C5.25199 5.83333 5.62508 6.20643 5.62508 6.66667Z",fill:"#808080"}),a.a.createElement("path",{d:"M7.29175 7.5C7.75199 7.5 8.12508 7.1269 8.12508 6.66667C8.12508 6.20643 7.75199 5.83333 7.29175 5.83333C6.83151 5.83333 6.45842 6.20643 6.45842 6.66667C6.45842 7.1269 6.83151 7.5 7.29175 7.5Z",fill:"#808080"})),cloudDrive:a.a.createElement("svg",{width:"20",height:"19",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M16.027.019c.922 0 1.697.692 1.8 1.609l1.525 13.495h-.009a3.412 3.412 0 01-3.403 3.66H3.43a3.412 3.412 0 01-3.402-3.66h-.01L1.544 1.628a1.813 1.813 0 011.8-1.61h12.684zm-.087 13.754H3.43c-.083 0-.166.006-.248.02l.046-.008c-.033.004-.065.01-.098.016l.052-.009c-.03.004-.06.01-.089.016l.037-.007c-.108.02-.214.052-.316.095l.032-.013c-.031.012-.062.025-.091.039l.06-.026a1.59 1.59 0 00-.076.034l.016-.008c-.031.014-.062.03-.091.046l.075-.038a1.597 1.597 0 00-.42.293l.04-.039c-.022.02-.044.041-.065.063l.024-.024c-.021.02-.041.041-.06.063l.036-.039c-.025.025-.049.05-.071.077l.034-.038c-.02.02-.04.043-.058.065l.024-.027c-.02.022-.039.045-.057.069l.033-.042c-.024.03-.048.06-.071.093l.038-.051a2.765 2.765 0 00-.053.072l.015-.021a1.29 1.29 0 00-.051.076l.036-.055a1.441 1.441 0 00-.053.082l.017-.027a1.409 1.409 0 00-.049.083l.032-.056a1.7 1.7 0 00-.051.092l.019-.036-.035.066.016-.03a1.592 1.592 0 00-.041.085l.025-.054a1.377 1.377 0 00-.048.11l.023-.056a1.589 1.589 0 00-.033.08l.01-.024a1.587 1.587 0 00-.032.087l.022-.062a1.692 1.692 0 00-.034.098l.012-.036c-.01.027-.018.054-.025.081l.013-.045c-.01.034-.02.068-.028.103l.015-.058a1.588 1.588 0 00-.023.097l.008-.039a1.22 1.22 0 00-.018.094l.01-.055A1.6 1.6 0 003.43 16.97h12.51a1.6 1.6 0 001.542-2.023l.015.058a1.587 1.587 0 00-.028-.103l.013.045a1.587 1.587 0 00-.024-.081l.01.036a1.587 1.587 0 00-.033-.098l.022.062-.031-.087.01.024a1.589 1.589 0 00-.034-.08l.024.056a1.59 1.59 0 00-.05-.11l.026.054a1.592 1.592 0 00-.04-.085l.015.03a1.595 1.595 0 00-.035-.066l.02.036a1.596 1.596 0 00-.052-.092l.032.056a1.598 1.598 0 00-.049-.083l.017.027a1.601 1.601 0 00-.053-.082l.036.054a1.602 1.602 0 00-.05-.075l.014.021a1.605 1.605 0 00-.053-.072l.038.051a1.606 1.606 0 00-.072-.093l.034.042a1.607 1.607 0 00-.056-.07l.022.028a1.608 1.608 0 00-.057-.066l.035.039a1.609 1.609 0 00-.071-.076l.036.037a1.61 1.61 0 00-.06-.062l.024.024a1.609 1.609 0 00-.066-.063l.04.039a1.607 1.607 0 00-.42-.294l.076.04a1.594 1.594 0 00-.09-.046l.014.006a1.59 1.59 0 00-.075-.034l.06.028a1.338 1.338 0 00-.091-.04l.03.012a1.587 1.587 0 00-.315-.094l.037.007a1.593 1.593 0 00-.089-.016l.052.009a1.596 1.596 0 00-.098-.016l.046.006a1.612 1.612 0 00-.249-.018zm-.283.746a.853.853 0 110 1.706.853.853 0 010-1.706zm.37-12.688H3.344L2.173 12.2c.4-.159.827-.24 1.258-.239h12.51c.444 0 .868.085 1.257.24L16.027 1.83zM13.31 6.363v1.812H6.06V6.363h7.25z",fill:"#222222",fillRule:"nonzero",className:"svg-fill"})),photoBank:a.a.createElement("svg",{width:"20",height:"17",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M1.625 2.5v12.625h12.938v1.625H2.688A2.688 2.688 0 010 14.063V2.5h1.625zM18.22 0c.897 0 1.625.728 1.625 1.625v10.75c0 .897-.728 1.625-1.625 1.625H4.469a1.625 1.625 0 01-1.625-1.625V1.625C2.844.728 3.57 0 4.469 0h13.75zm0 1.625H4.469v10.75h13.75V1.625zm-1.783 2.01v1.623c-2.183.021-3.55.75-4.222 2.162l-.06.13-.07.157c-1.081 2.331-3.207 3.449-6.209 3.322l.186.006V9.41c2.302.07 3.763-.71 4.54-2.368l.063-.138.065-.145c.96-2.061 2.906-3.094 5.707-3.123zm-9.07-.34a1 1 0 110 2 1 1 0 010-2.001z",fill:"#222222",fillRule:"nonzero",className:"svg-fill"})),videoBank:a.a.createElement("svg",{width:"19",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M17.54 1.297l1.057 3.945L7.06 8.264h11.672v9.917a1.75 1.75 0 01-1.75 1.75H2.4a1.75 1.75 0 01-1.75-1.75V8.265h.002L.057 5.969a1.75 1.75 0 011.24-2.13L15.397.06a1.75 1.75 0 012.143 1.237zm-.557 12.51H2.4v4.374h14.583v-4.375zM6.416 10.014H2.4v2.041h3.296l-.061-.024.78-2.017zm10.567 0h-3.44l-.792 2.041h4.232v-2.041zm-5.317 0H8.292l-.79 2.041h3.444l-.061-.024.78-2.017zm4.183-8.264L1.75 5.528 2.314 7.7l14.137-3.705-.601-2.244z",fill:"#222222",fillRule:"nonzero",className:"svg-fill"})),screenShot:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h40v40H0z"}),a.a.createElement("g",{fill:"#222222","fill-rule":"nonzero"},a.a.createElement("path",{d:"M37.5 27.612a.907.907 0 0 1-.14.483l-2.365 3.754a.907.907 0 0 1-1.53.006l-2.412-3.753a.907.907 0 0 1 .763-1.398h4.777c.5 0 .907.406.907.908ZM7.083 8.489l8.073 11.298.008-.01 1.486 2.078-.008.011 2.617 3.662a4.744 4.744 0 1 1-1.197 2.5l-2.925-4.094-3.043 4.182c.017.133.029.267.035.403l.005.218a4.744 4.744 0 1 1-1.199-3.152l2.716-3.73L5.11 9.898l1.973-1.41Zm15.67 17.93a2.318 2.318 0 1 0 0 4.635 2.318 2.318 0 0 0 0-4.635Zm-15.363 0a2.318 2.318 0 1 0 0 4.635 2.318 2.318 0 0 0 0-4.635Zm16-17.939 1.962 1.428-7.699 10.57-1.486-2.079 7.224-9.919Z"})))),quickTemplate:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h40v40H0z"}),a.a.createElement("path",{fill:"#222222","fill-rule":"nonzero",d:"M10.833 11.667v19.166h17.084v2.5H12.083a3.75 3.75 0 0 1-3.75-3.75V11.667h2.5Zm18.469-4.992a2.5 2.5 0 0 1 2.5 2.5v17.627a2.5 2.5 0 0 1-2.5 2.5h-16.81V9.175a2.5 2.5 0 0 1 2.5-2.5h14.31Zm0 2.5h-14.31v17.627h14.31V9.175ZM25 11.667v2.5h-7.5v-2.5H25Z"}))),address:a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h40v40H0z"}),a.a.createElement("path",{d:"M28.333 16.667c3.222 0 5.834 2.538 5.834 5.669l-.004.2c-.072 1.873-1.138 3.98-2.887 6.116a24.624 24.624 0 0 1-2.057 2.21l-.353.33-.32.288-.213.182-.211-.182-.322-.288a24.624 24.624 0 0 1-2.41-2.54c-1.749-2.136-2.814-4.243-2.886-6.117l-.004-.2c0-3.13 2.612-5.668 5.833-5.668Zm2.5-10a2.5 2.5 0 0 1 2.5 2.5V15h-2.5V9.167H9.167v17.5h11.666v2.5H9.167a2.5 2.5 0 0 1-2.5-2.5v-17.5a2.5 2.5 0 0 1 2.5-2.5h21.666Zm-2.5 12.5c-1.798 0-3.24 1.346-3.329 3.007l-.004.162.002.103c.045 1.18.823 2.798 2.323 4.63.212.258.432.514.66.766l.348.376.348-.376c.228-.252.45-.508.66-.767 1.435-1.751 2.21-3.309 2.314-4.472l.01-.157.002-.103c0-1.734-1.477-3.17-3.334-3.17Zm0 1.666a1.667 1.667 0 1 1 0 3.334 1.667 1.667 0 0 1 0-3.334Zm-10-3.333V20h-7.5v-2.5h7.5Zm6.667-5V15H10.833v-2.5H25Z",fill:"#222222","fill-rule":"nonzero"}))),catalog:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:"0 0 40 40",width:"20",height:"20"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h40v40H0z"}),a.a.createElement("path",{fill:"#222222","fill-rule":"nonzero",d:"M35 32.5V35H23.333v-2.5H35ZM21.107 6.284 31.2 10.766a2.5 2.5 0 0 1 1.485 2.285V22.5h-2.5v-7.096l-8.449 3.755v13.434l-.07-.001v.876l-.559.248a2.5 2.5 0 0 1-2.03 0L8.986 29.234A2.5 2.5 0 0 1 7.5 26.95V13.051a2.5 2.5 0 0 1 1.485-2.285l10.093-4.482a2.5 2.5 0 0 1 2.03 0ZM10 15.286v11.663l9.236 4.102V19.107L10 15.286Zm25 13.047v2.5H23.333v-2.5H35Zm0-4.166v2.5H23.333v-2.5H35ZM20.093 8.569l-9.545 4.238 10.008 4.141 9.2-4.088-9.663-4.291Z"}))),liveShare:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",width:"20",height:"20"},a.a.createElement("g",{fill:"none","fill-rule":"evenodd"},a.a.createElement("path",{d:"M0 0h20v20H0z"}),a.a.createElement("path",{fill:"#222222","fill-rule":"nonzero",d:"m14.117 3 .884.884-2.16 2.159h2.242c.69 0 1.25.56 1.25 1.25v8.333c0 .69-.56 1.25-1.25 1.25H4.25c-.69 0-1.25-.56-1.25-1.25V7.293c0-.69.56-1.25 1.25-1.25h2.241l-2.159-2.16L5.216 3l3.043 3.043h2.814L14.117 3Zm.966 4.293H4.25v8.333h10.833V7.293Zm-5.382 1.25c.035 0 .069.013.094.036l2.742 2.444c.053.047.061.125.022.181l-.012.015-2.752 2.454a.142.142 0 0 1-.198-.01.138.138 0 0 1-.036-.093v-1.418c-.13.004-.26.016-.384.036l-.038.007c-1.038.185-1.872.775-2.15 1.765l-.02-.045c-.084-.183-.219-.558-.219-.932 0-1.56 1.246-2.835 2.81-2.907V8.682a.14.14 0 0 1 .141-.139Z"}))),autoTriggerTitleIcon:a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{"clip-path":"url(#clip0_1_1977)"},a.a.createElement("path",{d:"M2.91667 2.91667V9.41667H5V10.3333H2.5C2.22386 10.3333 2 10.1095 2 9.83333V2.5C2 2.22386 2.22386 2 2.5 2H9.83333C10.1095 2 10.3333 2.22386 10.3333 2.5V5H9.41667V2.91667H2.91667Z",fill:"#5341E3"}),a.a.createElement("path",{d:"M5 6.16667C5 6.08085 5.00926 5.99721 5.02685 5.91667H3.83333V6.83333H5V6.16667Z",fill:"#5341E3"}),a.a.createElement("path",{d:"M3.83333 4H8.5V4.91667H3.83333V4Z",fill:"#5341E3"}),a.a.createElement("path",{d:"M7.33333 11.6666L8.47846 8.27271H9.57055L10.7157 11.6666H9.83404L9.61031 10.9541H8.43823L8.21496 11.6666H7.33333ZM9.41468 10.3309L9.03693 9.12782H9.01042L8.63346 10.3309H9.41468Z",fill:"#5341E3"}),a.a.createElement("path",{d:"M11.8081 11.6666V8.27271H10.9878V11.6666H11.8081Z",fill:"#5341E3"}),a.a.createElement("path",{d:"M6.16667 5.66667C5.89052 5.66667 5.66667 5.89052 5.66667 6.16667V13.5C5.66667 13.7761 5.89052 14 6.16667 14H13.5C13.7761 14 14 13.7761 14 13.5V6.16667C14 5.89052 13.7761 5.66667 13.5 5.66667H6.16667ZM6.58333 6.58333H13.0833V13.0833H6.58333V6.58333Z",fill:"#5341E3"})),a.a.createElement("defs",null,a.a.createElement("clipPath",{id:"clip0_1_1977"},a.a.createElement("rect",{width:"16",height:"16",fill:"white"})))),askForAddress:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{"clip-path":"url(#clip0_2_341)"},a.a.createElement("path",{d:"M3.22909 4.06246V15.5208H11.6666V16.6666H2.70825C2.36307 16.6666 2.08325 16.3868 2.08325 16.0416V3.54163C2.08325 3.19645 2.36307 2.91663 2.70825 2.91663H17.2916C17.6368 2.91663 17.9166 3.19645 17.9166 3.54163V9.58329H16.7708V4.06246H3.22909Z",fill:"#222222"}),a.a.createElement("path",{d:"M4.37492 6.24996H15.6249V7.49996H4.37492V6.24996Z",fill:"#222222"}),a.a.createElement("path",{d:"M4.37492 8.64579H9.37492V9.89579H4.37492V8.64579Z",fill:"#222222"}),a.a.createElement("path",{d:"M15.6249 14.5833C16.2002 14.5833 16.6666 14.1169 16.6666 13.5416C16.6666 12.9663 16.2002 12.5 15.6249 12.5C15.0496 12.5 14.5833 12.9663 14.5833 13.5416C14.5833 14.1169 15.0496 14.5833 15.6249 14.5833Z",fill:"#222222"}),a.a.createElement("path",{d:"M15.6249 17.9166C15.6249 17.9166 18.7499 15.4485 18.7499 13.4166C18.7499 11.7598 17.3508 10.4166 15.6249 10.4166C13.899 10.4166 12.4999 11.7598 12.4999 13.4166C12.4999 15.4485 15.6249 17.9166 15.6249 17.9166ZM17.2647 14.4121C17.0266 14.8323 16.6934 15.2633 16.3344 15.6635C16.0898 15.9362 15.8434 16.1834 15.6249 16.3907C15.4064 16.1834 15.16 15.9362 14.9154 15.6635C14.5564 15.2633 14.2232 14.8323 13.9852 14.4121C13.74 13.9795 13.6458 13.6456 13.6458 13.4166C13.6458 12.4362 14.4873 11.5625 15.6249 11.5625C16.7625 11.5625 17.6041 12.4362 17.6041 13.4166C17.6041 13.6456 17.5098 13.9795 17.2647 14.4121Z",fill:"#222222"})),a.a.createElement("defs",null,a.a.createElement("clipPath",{id:"clip0_2_341"},a.a.createElement("rect",{width:"20",height:"20",fill:"white"})))),ggsUploadIcon:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M10.5729 4.29982L12.5116 6.23845L13.3218 5.42823L10 2.10645L6.67822 5.42823L7.48845 6.23845L9.42708 4.29981L9.42708 12.0833H10.5729V4.29982Z",fill:"#222222"}),a.a.createElement("path",{d:"M5.83333 6.66667H3.125C2.77982 6.66667 2.5 6.94649 2.5 7.29167V17.2917C2.5 17.6368 2.77982 17.9167 3.125 17.9167H16.875C17.2202 17.9167 17.5 17.6368 17.5 17.2917V7.29167C17.5 6.94649 17.2202 6.66667 16.875 6.66667H14.1667V7.8125H16.3542V16.7708H3.64583V7.8125H5.83333V6.66667Z",fill:"#222222"})),ggsCloudDrive:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M7.08357 6.40625H12.9169V5.26042H7.08357V6.40625Z",fill:"#222222"}),a.a.createElement("path",{d:"M14.7919 15C15.1371 15 15.4169 14.7202 15.4169 14.375C15.4169 14.0298 15.1371 13.75 14.7919 13.75C14.4467 13.75 14.1669 14.0298 14.1669 14.375C14.1669 14.7202 14.4467 15 14.7919 15Z",fill:"#222222"}),a.a.createElement("path",{d:"M16.0046 3.02752L17.5002 12.5V16.25C17.5002 16.9404 16.9406 17.5 16.2502 17.5H3.75024C3.05989 17.5 2.50024 16.9404 2.50024 16.25V12.5L3.9959 3.02752C4.04386 2.72374 4.3057 2.5 4.61325 2.5H15.3872C15.6948 2.5 15.9566 2.72374 16.0046 3.02752ZM3.84119 11.3542H16.1593L14.9422 3.64583H5.0583L3.84119 11.3542ZM3.64595 12.5L3.64608 16.25C3.64608 16.3075 3.69271 16.3542 3.75024 16.3542H16.2502C16.3078 16.3542 16.3544 16.3075 16.3544 16.25L16.3543 12.5H3.64595Z",fill:"#222222"})),ggsDrivePicture:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M15.625 6.66634C15.625 7.24164 15.1587 7.70801 14.5834 7.70801C14.0081 7.70801 13.5417 7.24164 13.5417 6.66634C13.5417 6.09104 14.0081 5.62467 14.5834 5.62467C15.1587 5.62467 15.625 6.09104 15.625 6.66634Z",fill:"#222222"}),a.a.createElement("path",{d:"M9.16671 7.93945L4.17826 12.9279L4.98849 13.7381L9.16671 9.5599L11.6667 12.0599L12.9167 10.8099L15.0116 12.9048L15.8218 12.0946L12.9167 9.18945L11.6667 10.4394L9.16671 7.93945Z",fill:"#222222"}),a.a.createElement("path",{d:"M2.70837 3.33301C2.3632 3.33301 2.08337 3.61283 2.08337 3.95801V16.0413C2.08337 16.3865 2.3632 16.6663 2.70837 16.6663H17.2917C17.6369 16.6663 17.9167 16.3865 17.9167 16.0413V3.95801C17.9167 3.61283 17.6369 3.33301 17.2917 3.33301H2.70837ZM3.22921 4.47884H16.7709V15.5205H3.22921V4.47884Z",fill:"#222222"})),ggsDriveFile:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M15.2083 13.6462H4.79167V14.792H15.2083V13.6462Z",fill:"#222222"}),a.a.createElement("path",{d:"M17.5 5.20866C17.5 4.86348 17.2202 4.58366 16.875 4.58366H10.4466L10.1241 3.38023C10.0509 3.10699 9.8033 2.91699 9.52042 2.91699H3.125C2.77982 2.91699 2.5 3.19681 2.5 3.54199V16.4587C2.5 16.8038 2.77982 17.0837 3.125 17.0837H16.875C17.2202 17.0837 17.5 16.8038 17.5 16.4587V5.20866ZM10.1256 7.81283H16.3542V15.9378H3.64583V4.06283H9.12077L10.1256 7.81283ZM16.3542 5.72949V6.66699H11.0048L10.7536 5.72949H16.3542Z",fill:"#222222"})),ggsPictureBank:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M14.7917 7.49967C15.367 7.49967 15.8334 7.0333 15.8334 6.45801C15.8334 5.88271 15.367 5.41634 14.7917 5.41634C14.2164 5.41634 13.75 5.88271 13.75 6.45801C13.75 7.0333 14.2164 7.49967 14.7917 7.49967Z",fill:"#222222"}),a.a.createElement("path",{d:"M9.16671 6.68945L11.6667 9.18945L12.7084 8.14778L15.4052 10.8446L14.5949 11.6548L12.7084 9.76823L11.6667 10.8099L9.16671 8.3099L7.48849 9.98812L6.67826 9.17789L9.16671 6.68945Z",fill:"#222222"}),a.a.createElement("path",{d:"M4.37504 3.95801C4.37504 3.61283 4.65486 3.33301 5.00004 3.33301H17.2917C17.6369 3.33301 17.9167 3.61283 17.9167 3.95801V13.7497C17.9167 14.0949 17.6369 14.3747 17.2917 14.3747H5.00004C4.65486 14.3747 4.37504 14.0949 4.37504 13.7497V3.95801ZM5.52087 13.2288H16.7709V4.47884H5.52087V13.2288Z",fill:"#222222"}),a.a.createElement("path",{d:"M2.08337 5.83301H3.22921V15.5205H14.5834V16.6663H2.70837C2.3632 16.6663 2.08337 16.3865 2.08337 16.0413V5.83301Z",fill:"#222222"})),ggsVideoBank:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M6.67818 8.32178L8.3564 10L6.67818 11.6782L7.48841 12.4884L9.97685 10L7.48841 7.51155L6.67818 8.32178Z",fill:"#222222"}),a.a.createElement("path",{d:"M15 15.625V12.7229L17.4037 14.0645C17.8203 14.297 18.3333 13.9958 18.3333 13.5187V6.48126C18.3333 6.00417 17.8203 5.70299 17.4037 5.93552L15 7.27713V4.375C15 4.02982 14.7201 3.75 14.375 3.75H2.29163C1.94645 3.75 1.66663 4.02982 1.66663 4.375V15.625C1.66663 15.9702 1.94645 16.25 2.29163 16.25H14.375C14.7201 16.25 15 15.9702 15 15.625ZM2.81246 4.89583H13.8541V15.1042H2.81246V4.89583ZM17.1875 12.6316L15 11.4106V8.58936L17.1875 7.36843V12.6316Z",fill:"#222222"})),ggsQuickReply:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M4.47921 3.22884V16.7705H13.5627L13.36 17.6984C13.3442 17.771 13.3373 17.8441 13.3388 17.9163H3.95837C3.6132 17.9163 3.33337 17.6365 3.33337 17.2913V2.70801C3.33337 2.36283 3.6132 2.08301 3.95837 2.08301H16.0417C16.3869 2.08301 16.6667 2.36283 16.6667 2.70801V9.99967H15.5209V3.22884H4.47921Z",fill:"#222222"}),a.a.createElement("path",{d:"M10.625 9.16634H5.62504V10.3122H10.625V9.16634Z",fill:"#222222"}),a.a.createElement("path",{d:"M5.62504 6.45801H14.375V7.60384H5.62504V6.45801Z",fill:"#222222"}),a.a.createElement("path",{d:"M16.4814 11.0473C16.4814 10.9947 16.4387 10.952 16.3861 10.952H14.6604C14.623 10.952 14.5891 10.9739 14.5737 11.008L12.8854 14.7371C12.8798 14.7495 12.8769 14.7629 12.8769 14.7764C12.8769 14.829 12.9196 14.8717 12.9722 14.8717H14.7121C14.7189 14.8717 14.7257 14.8724 14.7324 14.8739C14.7838 14.8851 14.8164 14.9358 14.8051 14.9872L14.1742 17.8762C14.1661 17.9133 14.1807 17.9516 14.2115 17.9738C14.2541 18.0046 14.3137 17.9949 14.3444 17.9523L17.8241 13.1292C17.8358 13.113 17.8421 13.0935 17.8421 13.0735C17.8421 13.0209 17.7994 12.9782 17.7468 12.9782H15.7888C15.7757 12.9782 15.7626 12.9755 15.7506 12.9702C15.7024 12.9491 15.6805 12.8929 15.7016 12.8447L16.4733 11.0855C16.4786 11.0735 16.4814 11.0604 16.4814 11.0473Z",fill:"#222222"})),ggsEmotion:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M7.91671 6.66634C7.45647 6.66634 7.08337 7.03944 7.08337 7.49967V9.16634C7.08337 9.62658 7.45647 9.99967 7.91671 9.99967C8.37695 9.99967 8.75004 9.62658 8.75004 9.16634V7.49967C8.75004 7.03944 8.37695 6.66634 7.91671 6.66634Z",fill:"#222222"}),a.a.createElement("path",{d:"M11.25 7.49967C11.25 7.03944 11.6231 6.66634 12.0834 6.66634C12.5436 6.66634 12.9167 7.03944 12.9167 7.49967V9.16634C12.9167 9.62658 12.5436 9.99967 12.0834 9.99967C11.6231 9.99967 11.25 9.62658 11.25 9.16634V7.49967Z",fill:"#222222"}),a.a.createElement("path",{d:"M13.7373 11.0413C13.1535 12.5361 11.6996 13.5934 10.0001 13.5934C8.30056 13.5934 6.84661 12.5361 6.26285 11.0413L5.19552 11.4581C5.9452 13.3777 7.81293 14.7393 10.0001 14.7393C12.1872 14.7393 14.0549 13.3777 14.8046 11.4581L13.7373 11.0413Z",fill:"#222222"}),a.a.createElement("path",{d:"M17.9167 9.99967C17.9167 14.3719 14.3723 17.9163 10 17.9163C5.62779 17.9163 2.08337 14.3719 2.08337 9.99967C2.08337 5.62742 5.62779 2.08301 10 2.08301C14.3723 2.08301 17.9167 5.62742 17.9167 9.99967ZM16.7709 9.99967C16.7709 6.26025 13.7395 3.22884 10 3.22884C6.26061 3.22884 3.22921 6.26025 3.22921 9.99967C3.22921 13.7391 6.26061 16.7705 10 16.7705C13.7395 16.7705 16.7709 13.7391 16.7709 9.99967Z",fill:"#222222"})),ggsMoreMenu:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M5.83337 10C5.83337 10.6904 5.27373 11.25 4.58337 11.25C3.89302 11.25 3.33337 10.6904 3.33337 10C3.33337 9.30964 3.89302 8.75 4.58337 8.75C5.27373 8.75 5.83337 9.30964 5.83337 10Z",fill:"#222222"}),a.a.createElement("path",{d:"M11.25 10C11.25 10.6904 10.6904 11.25 10 11.25C9.30968 11.25 8.75004 10.6904 8.75004 10C8.75004 9.30964 9.30968 8.75 10 8.75C10.6904 8.75 11.25 9.30964 11.25 10Z",fill:"#222222"}),a.a.createElement("path",{d:"M15.4167 11.25C16.1071 11.25 16.6667 10.6904 16.6667 10C16.6667 9.30964 16.1071 8.75 15.4167 8.75C14.7264 8.75 14.1667 9.30964 14.1667 10C14.1667 10.6904 14.7264 11.25 15.4167 11.25Z",fill:"#222222"})),ggsTemplateReply:a.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M4.47921 3.22884V16.7705H13.5627L13.36 17.6984C13.3442 17.771 13.3373 17.8441 13.3388 17.9163H3.95837C3.6132 17.9163 3.33337 17.6365 3.33337 17.2913V2.70801C3.33337 2.36283 3.6132 2.08301 3.95837 2.08301H16.0417C16.3869 2.08301 16.6667 2.36283 16.6667 2.70801V9.99967H15.5209V3.22884H4.47921Z",fill:"#222222"}),a.a.createElement("path",{d:"M10.625 9.16634H5.62504V10.3122H10.625V9.16634Z",fill:"#222222"}),a.a.createElement("path",{d:"M5.62504 6.45801H14.375V7.60384H5.62504V6.45801Z",fill:"#222222"}),a.a.createElement("path",{d:"M16.4814 11.0473C16.4814 10.9947 16.4387 10.952 16.3861 10.952H14.6604C14.623 10.952 14.5891 10.9739 14.5737 11.008L12.8854 14.7371C12.8798 14.7495 12.8769 14.7629 12.8769 14.7764C12.8769 14.829 12.9196 14.8717 12.9722 14.8717H14.7121C14.7189 14.8717 14.7257 14.8724 14.7324 14.8739C14.7838 14.8851 14.8164 14.9358 14.8051 14.9872L14.1742 17.8762C14.1661 17.9133 14.1807 17.9516 14.2115 17.9738C14.2541 18.0046 14.3137 17.9949 14.3444 17.9523L17.8241 13.1292C17.8358 13.113 17.8421 13.0935 17.8421 13.0735C17.8421 13.0209 17.7994 12.9782 17.7468 12.9782H15.7888C15.7757 12.9782 15.7626 12.9755 15.7506 12.9702C15.7024 12.9491 15.6805 12.8929 15.7016 12.8447L16.4733 11.0855C16.4786 11.0735 16.4814 11.0604 16.4814 11.0473Z",fill:"#222222"})),ggsQuickPhrase:a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M3.99996 5.33366H12V6.25033H3.99996V5.33366Z",fill:"#222222"}),a.a.createElement("path",{d:"M7.33329 7.50033H3.99996V8.41699H7.33329V7.50033Z",fill:"#222222"}),a.a.createElement("path",{d:"M2.16663 12.3337C1.89048 12.3337 1.66663 12.1098 1.66663 11.8337V3.16699C1.66663 2.89085 1.89048 2.66699 2.16663 2.66699H13.8333C14.1094 2.66699 14.3333 2.89085 14.3333 3.16699V11.8337C14.3333 12.1098 14.1094 12.3337 13.8333 12.3337H7.53329L5.09829 13.8555C4.76527 14.0637 4.33329 13.8243 4.33329 13.4315V12.3337H2.16663ZM5.24996 11.417V12.6798L7.2704 11.417H13.4166V3.58366H2.58329V11.417H5.24996Z",fill:"#222222"})),ggsProductCard:a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M8.21087 1.43141C8.07717 1.36922 7.92283 1.36922 7.78913 1.43141L2.28913 3.98954C2.11278 4.07157 2 4.24841 2 4.44291V11.5571C2 11.7516 2.11278 11.9284 2.28913 12.0104L7.78913 14.5686C7.92283 14.6308 8.07717 14.6308 8.21087 14.5686L13.7109 12.0104C13.8872 11.9284 14 11.7516 14 11.5571V4.44291C14 4.24841 13.8872 4.07157 13.7109 3.98954L8.21087 1.43141ZM3.20952 4.57243L8 2.3443L12.7905 4.57243L8 6.82677L3.20952 4.57243ZM13.0833 5.44771V11.2914L8.45833 13.4425V7.62418L13.0833 5.44771ZM7.54167 7.62418V13.4425L2.91667 11.2914V5.44771L7.54167 7.62418Z",fill:"#222222"})),ggsCatalog:a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M13.0833 8.91665V5.44771L8.45833 7.62418V14.4535L8.21087 14.5686C8.07717 14.6308 7.92283 14.6308 7.78913 14.5686L2.28913 12.0104C2.11278 11.9284 2 11.7516 2 11.5571V4.44291C2 4.24841 2.11278 4.07157 2.28913 3.98954L7.78913 1.43141C7.92283 1.36922 8.07717 1.36922 8.21087 1.43141L13.7109 3.98954C13.8872 4.07157 14 4.24841 14 4.44291V8.91665H13.0833ZM3.20952 4.57243L8 6.82677L12.7905 4.57243L8 2.3443L3.20952 4.57243ZM2.91667 5.44771V11.2914L7.54167 13.4425V7.62418L2.91667 5.44771Z",fill:"#222222"}),a.a.createElement("path",{d:"M14.6667 9.58332H10.71V10.5H14.6667V9.58332Z",fill:"#222222"}),a.a.createElement("path",{d:"M10.71 11.1666H14.6667V12.0833H10.71V11.1666Z",fill:"#222222"}),a.a.createElement("path",{d:"M10.71 12.75H14.6667V13.6666H10.71V12.75Z",fill:"#222222"}),a.a.createElement("path",{d:"M9.12667 12.75H10.0433V13.6666H9.12667V12.75Z",fill:"#222222"}),a.a.createElement("path",{d:"M10.0433 11.1666H9.12667V12.0833H10.0433V11.1666Z",fill:"#222222"}),a.a.createElement("path",{d:"M9.12667 9.58332H10.0433V10.5H9.12667V9.58332Z",fill:"#222222"})),ggsLiveShare:a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M2.91667 13.0833V2.91667H13.0833V8.66667H14V2.5C14 2.22386 13.7761 2 13.5 2H2.5C2.22386 2 2 2.22386 2 2.5V13.5C2 13.7761 2.22386 14 2.5 14H9V13.0833H2.91667Z",fill:"#222222"}),a.a.createElement("path",{d:"M12.3333 12.8388V14.2956C12.3333 14.4394 12.5032 14.5157 12.6107 14.4201L15.1932 12.1246C15.2678 12.0583 15.2678 11.9418 15.1932 11.8755L12.6107 9.57994C12.5032 9.4844 12.3333 9.5607 12.3333 9.70451V11.0055C11.0303 11.0913 10 12.1753 10 13.5C10 13.8236 10.0615 14.1329 10.1734 14.4167C10.5196 13.5386 11.3486 12.9037 12.3333 12.8388Z",fill:"#222222"}),a.a.createElement("path",{d:"M8.45833 5.33333C8.45833 5.0802 8.25313 4.875 8 4.875C7.74687 4.875 7.54167 5.0802 7.54167 5.33333V10.6667C7.54167 10.9198 7.74687 11.125 8 11.125C8.25313 11.125 8.45833 10.9198 8.45833 10.6667V5.33333Z",fill:"#222222"}),a.a.createElement("path",{d:"M10.7917 7C10.7917 6.74687 10.5865 6.54167 10.3333 6.54167C10.0802 6.54167 9.875 6.74687 9.875 7V9C9.875 9.25313 10.0802 9.45833 10.3333 9.45833C10.5865 9.45833 10.7917 9.25313 10.7917 9V7Z",fill:"#222222"}),a.a.createElement("path",{d:"M5.66667 6.20833C5.9198 6.20833 6.125 6.41354 6.125 6.66667V9.33333C6.125 9.58646 5.9198 9.79167 5.66667 9.79167C5.41354 9.79167 5.20833 9.58646 5.20833 9.33333V6.66667C5.20833 6.41354 5.41354 6.20833 5.66667 6.20833Z",fill:"#222222"})),ggsBussinessCard:a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M3.49996 4.83333H7.33329V8.33333H3.49996V4.83333ZM4.41663 5.75V7.41667H6.41663V5.75H4.41663Z",fill:"#222222"}),a.a.createElement("path",{d:"M7.99996 7.41667H12.5V8.33333H7.99996V7.41667Z",fill:"#222222"}),a.a.createElement("path",{d:"M12.5 9.66667H3.66663V10.5833H12.5V9.66667Z",fill:"#222222"}),a.a.createElement("path",{d:"M1.66663 3.5C1.66663 3.22386 1.89048 3 2.16663 3H13.8333C14.1094 3 14.3333 3.22386 14.3333 3.5V12.5C14.3333 12.7761 14.1094 13 13.8333 13H2.16663C1.89048 13 1.66663 12.7761 1.66663 12.5V3.5ZM2.58329 12.0833H13.4166V3.91667H2.58329V12.0833Z",fill:"#222222"})),ggsAskForAddress:a.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M2.58329 3.24967V12.4163H9.33329V13.333H2.16663C1.89048 13.333 1.66663 13.1091 1.66663 12.833V2.83301C1.66663 2.55687 1.89048 2.33301 2.16663 2.33301H13.8333C14.1094 2.33301 14.3333 2.55687 14.3333 2.83301V7.66634H13.4166V3.24967H2.58329Z",fill:"#222222"}),a.a.createElement("path",{d:"M3.49996 4.99967H12.5V5.99967H3.49996V4.99967Z",fill:"#222222"}),a.a.createElement("path",{d:"M3.49996 6.91634H7.49996V7.91634H3.49996V6.91634Z",fill:"#222222"}),a.a.createElement("path",{d:"M12.5 11.6663C12.9602 11.6663 13.3333 11.2932 13.3333 10.833C13.3333 10.3728 12.9602 9.99967 12.5 9.99967C12.0397 9.99967 11.6666 10.3728 11.6666 10.833C11.6666 11.2932 12.0397 11.6663 12.5 11.6663Z",fill:"#222222"}),a.a.createElement("path",{d:"M12.5 14.333C12.5 14.333 15 12.3585 15 10.733C15 9.40752 13.8807 8.33301 12.5 8.33301C11.1192 8.33301 9.99996 9.40752 9.99996 10.733C9.99996 12.3585 12.5 14.333 12.5 14.333ZM13.8118 11.5294C13.6213 11.8656 13.3548 12.2103 13.0676 12.5305C12.8719 12.7487 12.6748 12.9464 12.5 13.1123C12.3251 12.9464 12.128 12.7487 11.9324 12.5305C11.6452 12.2103 11.3786 11.8656 11.1881 11.5294C10.9921 11.1833 10.9166 10.9162 10.9166 10.733C10.9166 9.94869 11.5899 9.24967 12.5 9.24967C13.41 9.24967 14.0833 9.94869 14.0833 10.733C14.0833 10.9162 14.0079 11.1833 13.8118 11.5294Z",fill:"#222222"})),draftOrder:a.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{"clip-path":"url(#clip0_1290_306)"},a.a.createElement("path",{d:"M19.75 6.75H28.25V9.25H19.75V6.75ZM18.5 4C17.6716 4 17 4.67157 17 5.5V10.5C17 11.3284 17.6716 12 18.5 12H29.5C30.3284 12 31 11.3284 31 10.5V5.5C31 4.67157 30.3284 4 29.5 4H18.5ZM10.5 7H15V9.75H11.75V39.25H20V42H10.5C9.67157 42 9 41.3284 9 40.5V8.5C9 7.67157 9.67157 7 10.5 7ZM39 22V8.5C39 7.67157 38.3284 7 37.5 7H33V9.75H36.25V22H39ZM33.5 19.25H14.5V22H33.5V19.25ZM14.5 24.75H23V27.5H14.5V24.75ZM40 24L41.9445 25.9445L23.8891 44H22V42L40 24Z",fill:"#222222"})),a.a.createElement("defs",null,a.a.createElement("clipPath",{id:"clip0_1290_306"},a.a.createElement("rect",{width:"48",height:"48",fill:"white"}))))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(142);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r(a.key),a)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(71).default,a=n(41);e.exports=function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(143);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=IcbuIM["prop-types"]},function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m}));var r=n(40),a=n(9),o=window.IcbuIM.IMSDKHelper.isWorkbench;function i(){return"msite"===window.host}var s=function(){a.isWeblite||(a.isPureMessenger||(a.isBuyerPWA||(a.isSellerPWA||i())))},c=function(e){return{url:e.getAttribute("data-action-url-app"),title:e.getAttribute("data-title")||"",id:e.getAttribute("data-app-id"),loginID:e.getAttribute("data-loginID")||"",uniqueID:e.getAttribute("data-uniqueID")||""}},l=function(){return a.isSellerPWA||o?r.b:r.a},u=function(e){return e.match("workspace.alibaba.com")},d=function(e){if(!e)return"";var t=document.createElement("div");t.innerHTML=e;var n=t.innerText||t.textContent;return t=null,n},p=function(e){var t="messenger"===window.host?"messengerMicroConfig":"webliteMicroConfig";return"//s.alicdn.com/@g/icbu-im/".concat(e,"/").concat(function(e,t){var n=window[e];if(null!==n&&void 0!==n&&n.length)for(var r=0;r<(null===n||void 0===n?void 0:n.length);r++){var a,o=n[r];if(null!==o&&void 0!==o&&null!==(a=o.appResource)&&void 0!==a&&a.length){var i,s=null===o||void 0===o?void 0:o.appResource[0];if(s.includes(t))return null===(i=s.match(/\/(\d+\.\d+.\d+)\//))||void 0===i?void 0:i[1]}}return console.error("==== No matched micro app ====",e,t),""}(t,e),"/")},f=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){clearTimeout(t),t=null,e.apply(void 0,a)}),n)}};function m(){try{var e=/(xman_us_f=*.+?)[;]/.exec(document.cookie);if(null!==e&&void 0!==e&&e.length){var t=/(x_user=*.+?)[;]/.exec(e[0]);if(null!==t&&void 0!==t&&t.length){var n=t[0].split("|");if(null!==n&&void 0!==n&&n.length)return n[3]}}return""}catch(e){return console.error("==== get member type failed ====",e),""}}},function(e,t,n){"use strict";var r=n(42),a=[2103,2104,2105,2106,2107,2109];t.a={isMediaType:function(e){return a.indexOf(e)>=0},getMsgType:function(e){switch(e){case"imageCard":return 102;case"videoCard":return 105;default:return 107}},getPaaSCompatibleType:function(e){switch(e){case"imageCard":return 60;case"videoCard":return 62;default:return 53}},buildImageInfo:function(e){var t=e.imageUrl,n=e.photoUrl,r=e.photobankImageMetadata,a=void 0===r?{}:r,o=e.filename,i=void 0===o?"":o,s=e.id,c=n,l=i.split(".")[1];return t&&(c="".concat(t,"_480x480.").concat(l)),{baasMsgType:102,msgType:60,content:"<img src='".concat(c,"' />"),mediaInfo:{redirectFileUrl:t||n,thumbnailUrl:c,fileId:s,md5:a.hashCode,width:a.width,height:a.height,size:a.size,materialType:l}}},buildVideoInfo:function(e){var t="https://cloud.video.alibaba.com//play/u/2153292369/p/1/e/6/t/10300/".concat(e.videoId,".mp4");return{baasMsgType:105,content:"<video src='".concat(t,"' controls />"),msgType:62,mediaInfo:{redirectFileUrl:t,thumbnailUrl:e.coverUrl,fileId:e.videoId,nodeSize:e.fileSize}}},isRichContent:function(e){var t=this.getPureText(e),n=/<img[^>]+>/.test(e),r=/<video[^>]+>/.test(e);return t&&(n||r)},isMedia:function(e){return/<(img|video)[^>]+>/.test(e)},isSingleImage:function(e){if(this.getPureText(e))return!1;if(/<img[^>]+>/.test(e)){var t=e.match(/<img(.*?\/>)?/gm);return t&&1===t.length}return!1},getImgProps:function(e){var t={};return e.replace(/<img[^>]+photobankurl=['"]([^'"]+)['"]+/i,(function(n,r){return t.url=r,e})).replace(/<img[^>]+oriwidth=['"]([^'"]+)['"]+/i,(function(n,r){return t.oriWidth=r,e})).replace(/<img[^>]+oriheight=['"]([^'"]+)['"]+/i,(function(n,r){return t.oriHeight=r,e})).replace(/<img[^>]+size=['"]([^'"]+)['"]+/i,(function(n,r){return t.size=r,e})).replace(/<img[^>]+filename=['"]([^'"]+)['"]+/i,(function(n,r){return t.filename=r,e})),t.url||e.replace(/<img[^>]+src=['"]([^'"]+)['"]+/i,(function(n,r){return t.url=r,e})),t},isImageType:function(e){return"image"===e.type.slice(0,5)},isMixedTypes:function(e){var t={};return e.forEach((function(e){t[e.type.slice(0,5)]=!0})),Object.keys(t).length>1},getPureText:function(e){return e.replace(/<[^>]+>/g,"").replace(/&nbsp;/g,"").replace(/\s/g,"")},buildRichContent:function(e){return{msgType:63,cardType:63,editMode:"profession",content:e}},onlySpace:function(e){return""===this.getPureText(e)&&!this.isSingleImage(e)},converEmoIdToImage:function(e){var t="https://atmgateway-client.alibaba.com/smily-big/smile_".concat(r.a[e].id,".png");return"<img src=".concat(t,' width="32px" height="32px" />')},convertImageToEmoKey:function(e){return e=e.replace(/<img.*?(?:https:)?\/\/atmgateway-client\.alibaba\.com\/smily-big\/smile_(\d+)\.png[^>]+>/gm,(function(e,t){for(var n in r.a)if(r.a[n].id===t)return n}))},converEmoIdToImageInContent:function(e){for(var t in r.a)e=e.split(t).join(this.converEmoIdToImage(t));return e}}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(3),i=n(7),s=n(2),c=n(13);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=window.IcbuIM.lib.I18N.createI18N,p=window.IcbuIM.lib.Utils,f=d({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),m=["heic","pdf","doc","docx","xls","xlsx","ppt","pptx","txt","dwt","dxf","igs","stl","slprt","numbers","key","wps","page","fdf","frt","mar","jpe","tif","fax","mp3","rm","rmvb","ram","fla","flc","flv","gl","m3d","mkv","mpe","psd","ai","cad","cdr","drw","mpp","2d","3d","sketch","csv","xml","step","mp4","mpg","mpeg","avi","wmv","mov","swf","png","jpg","jpeg","gif","bmp","webp"];t.a={isSafeAccount:function(e){return"cgs"===e||"tp"===e||"hkgs"===e||"twgs"===e},getType:function(e){return e.name.split(".").pop()||""},canPreview:function(e){return/jpg|jpeg|png|gif|bmp|pdf|mp4|txt/g.test(e)},isImg:function(e){return/jpg|jpeg|png|gif|bmp/g.test((e||"").toLowerCase())},isVideo:function(e){return/mp4|flv|wmv|asf|mov|m4v|ts|3gp|avi|webm/g.test(e)},formatFileSize:function(e){return e<1e3?"".concat(e," B"):e<1e6?"".concat((e/1e3).toFixed(2)," K"):"".concat((e/1e6).toFixed(2)," M")},getFileIcon:function(e){var t={numbers:"https://img.alicdn.com/tfs/TB1JZ.FyUT1gK0jSZFhXXaAtVXa-56-64.png",key:"https://img.alicdn.com/tfs/TB1pVAGyQY2gK0jSZFgXXc5OFXa-56-64.png",sketch:"https://img.alicdn.com/tfs/TB1G8oIyG61gK0jSZFlXXXDKFXa-56-64.png",psd:"https://img.alicdn.com/tfs/TB1saEEyNn1gK0jSZKPXXXvUXXa-56-64.png",pages:"https://img.alicdn.com/tfs/TB1nJEEyUY1gK0jSZFMXXaWcVXa-56-64.png",wps:"https://img.alicdn.com/tfs/TB1GrQDyQL0gK0jSZFtXXXQCXXa-56-64.png",xls:"https://img.alicdn.com/tfs/TB1mpQJyKH2gK0jSZJnXXaT1FXa-56-64.png",ai:"https://img.alicdn.com/tfs/TB1P1UDyFP7gK0jSZFjXXc5aXXa-56-64.png",xlsx:"https://img.alicdn.com/tfs/TB1mpQJyKH2gK0jSZJnXXaT1FXa-56-64.png",pdf:"https://img.alicdn.com/tfs/TB1k4cwyNv1gK0jSZFFXXb0sXXa-56-64.png",ppt:"https://img.alicdn.com/tfs/TB1vhUCyKT2gK0jSZFvXXXnFXXa-56-64.png",pptx:"https://img.alicdn.com/tfs/TB1vhUCyKT2gK0jSZFvXXXnFXXa-56-64.png",mp4:"https://img.alicdn.com/tfs/TB1OeUDyFP7gK0jSZFjXXc5aXXa-56-64.png",mpeg:"https://img.alicdn.com/tfs/TB1OeUDyFP7gK0jSZFjXXc5aXXa-56-64.png",avi:"https://img.alicdn.com/tfs/TB1OeUDyFP7gK0jSZFjXXc5aXXa-56-64.png",mov:"https://img.alicdn.com/tfs/TB1OeUDyFP7gK0jSZFjXXc5aXXa-56-64.png",wmv:"https://img.alicdn.com/tfs/TB1OeUDyFP7gK0jSZFjXXc5aXXa-56-64.png",doc:"https://img.alicdn.com/tfs/TB1ZIZCyFY7gK0jSZKzXXaikpXa-56-64.png",docx:"https://img.alicdn.com/tfs/TB1ZIZCyFY7gK0jSZKzXXaikpXa-56-64.png",txt:"https://img.alicdn.com/tfs/TB1gwoCyLb2gK0jSZK9XXaEgFXa-56-64.png",rar:"https://img.alicdn.com/tfs/TB170wHyNv1gK0jSZFFXXb0sXXa-56-64.png",zip:"https://img.alicdn.com/tfs/TB1QeUDyFP7gK0jSZFjXXc5aXXa-56-64.png",other:"https://img.alicdn.com/tfs/TB1CmEEySf2gK0jSZFPXXXsopXa-56-64.png"};return t[e]?t[e]:t.other},godLightCheck:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.contact,l=void 0===a?{}:a,d=r.messageId;if("send"===r.messageType)return Promise.resolve(!0);var h=l.aliId,g=(l.accountId,u(u({},p.getLinkVars(decodeURIComponent(e))),{},{senderAccountIdEncrypt:l.accountIdEncrypt}));return new Promise((function(e){Object(i.checkFileScanStatus)(g).then((function(a){var i,l,u,p,g=1*(null===a||void 0===a||null===(i=a.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.scanResult),v=null===a||void 0===a||null===(u=a.data)||void 0===u||null===(p=u.data)||void 0===p?void 0:p.userServiceType;switch(Object(s.default)({ext:"checkFileScanStatusSuccess",bizData:{status:g,messageId:d,userType:v,contactAliId:h}}),g){case 1:Object(s.default)({ext:"checkFileStop",bizData:{messageId:d,contactAliId:h}}),o.Dialog.show({title:React.createElement("div",null,React.createElement(o.Icon,{type:"warning",size:"small",style:{color:"#FFA003",marginRight:"10px"}}),React.createElement("span",null,f.get("fileCheck.stopTitle")||"病毒提示")),content:f.get("fileCheck.stopContent")||"文件存在病毒！请勿下载",footerActions:["ok"],onOk:function(){Object(s.default)({ext:"fileStopAccepted",bizData:{messageId:d,contactAliId:h}}),e(!1)},onClose:function(){Object(s.default)({ext:"fileStopClose",bizData:{messageId:d,contactAliId:h}}),e(!1)},okProps:{children:f.get("fileCheck.sure")||"确定"}});break;case 4:Object(s.default)({ext:"checkFileWarn",bizData:{messageId:d,contactAliId:h}}),o.Dialog.show({title:React.createElement("div",null,React.createElement(o.Icon,{type:"prompt",size:"small",style:{color:"#FFA003",marginRight:"10px"}}),React.createElement("span",null,f.get("fileCheck.warnTitle")||"风险提示")),content:f.get("fileCheck.warnContent")||"文件安全性低！请谨慎下载",footerActions:["cancel","ok"],onOk:function(){Object(s.default)({ext:"fileWarnAccepted",bizData:{messageId:d,contactAliId:h}}),e(!1)},onCancel:function(){Object(s.default)({ext:"fileWarnRefused",bizData:{messageId:d,contactAliId:h}}),e(!0)},onClose:function(){Object(s.default)({ext:"fileWarnClose",bizData:{messageId:d,contactAliId:h}}),e(!1)},okProps:{children:f.get("fileCheck.close")||"关闭"},cancelProps:{children:(t===c.f.PREVIEW?f.get("fileCheck.goOnPreview"):f.get("fileCheck.goOnDownload"))||"继续下载/预览"}});break;case 2:if(n.isSafeAccount(v)){Object(s.default)({ext:"checkFilePassBySafeAccount",bizData:{messageId:d,code:g,contactAliId:h,reason:v}}),e(!0);break}if(Date.now()-(null===r||void 0===r?void 0:r.sendTime)<=12e4){Object(s.default)({ext:"checkFileWarn",bizData:{messageId:d,contactAliId:h}}),o.Dialog.show({title:React.createElement("div",null,React.createElement(o.Icon,{type:"prompt",size:"small",style:{color:"#65c9f5",marginRight:"10px"}}),React.createElement("span",null,f.get("fileCheck.noticeTitle")||"文件安全扫描中")),content:f.get("fileCheck.noticeContent")||"文件安全扫描中，请再扫描完成后再预览",footerActions:["cancel","ok"],onOk:function(){Object(s.default)({ext:"fileNoticeAccepted",bizData:{messageId:d,contactAliId:h}}),e(!1)},onCancel:function(){Object(s.default)({ext:"fileNoticeRefused",bizData:{messageId:d,contactAliId:h}}),e(!0)},onClose:function(){Object(s.default)({ext:"fileNoticeClose",bizData:{messageId:d,contactAliId:h}}),e(!1)},okProps:{children:f.get("fileCheck.close")||"关闭"},cancelProps:{children:(t===c.f.PREVIEW?f.get("fileCheck.goOnPreview"):f.get("fileCheck.goOnDownload"))||"继续下载/预览"}});break}default:if(n.isSafeAccount(v)){Object(s.default)({ext:"checkFilePassBySafeAccount",bizData:{messageId:d,code:g,contactAliId:h,reason:v}}),e(!0);break}var y=r.originalData,b=y.params,w=y.fileId,x="";if(null!==b&&void 0!==b&&b.extensionType)x=null===b||void 0===b?void 0:b.extensionType;else if(w){var C=w.match(/\.([a-z0-9]+)$/i);x=C?C[1]:""}m.includes(x.toLowerCase())?(Object(s.default)({ext:"checkFilePass",bizData:{messageId:d,contactAliId:h}}),e(!0)):(Object(s.default)({ext:"checkFileWarn",bizData:{messageId:d,contactAliId:h}}),o.Dialog.show({title:React.createElement("div",null,React.createElement(o.Icon,{type:"prompt",size:"small",style:{color:"#FFA003",marginRight:"10px"}}),React.createElement("span",null,f.get("fileCheck.mumaTitle")||"木马风险提示")),content:f.get("fileCheck.mumaContent")||"该文件类型可能存在木马，请谨慎下载",footerActions:["cancel","ok"],onOk:function(){Object(s.default)({ext:"fileMumaAccepted",bizData:{messageId:d,contactAliId:h}}),e(!1)},onCancel:function(){Object(s.default)({ext:"fileMumaRefused",bizData:{messageId:d,contactAliId:h}}),e(!0)},onClose:function(){Object(s.default)({ext:"fileMumaClose",bizData:{messageId:d,contactAliId:h}}),e(!1)},okProps:{children:f.get("fileCheck.close")||"关闭"},cancelProps:{children:(t===c.f.PREVIEW?f.get("fileCheck.goOnPreview"):f.get("fileCheck.goOnDownload"))||"继续下载/预览"}}))}})).catch((function(t){console.error("==== checkFileScanStatus failed ====",t),Object(s.default)({ext:"checkFileScanStatusFail",resultMsg:null===t||void 0===t?void 0:t.message,bizData:{messageId:d,contactAliId:h}}),e(!0)}))}))}}},function(e,t,n){var r;window,r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=10)}([function(e,t,n){"use strict";n.r(t),n.d(t,"env",(function(){return h})),n.d(t,"noop",(function(){return g})),n.d(t,"numTrunc",(function(){return v})),n.d(t,"deepGet",(function(){return y})),n.d(t,"log",(function(){return b})),n.d(t,"includes",(function(){return w})),n.d(t,"trimAllBlankString",(function(){return x})),n.d(t,"compactArray",(function(){return C})),n.d(t,"isEmpty",(function(){return E})),n.d(t,"isEqual",(function(){return S})),n.d(t,"mapValue",(function(){return k})),n.d(t,"getUniqueId",(function(){return T})),n.d(t,"matchRegexp",(function(){return _})),n.d(t,"isPlainObject",(function(){return I})),n.d(t,"isString",(function(){return O})),n.d(t,"compareComplierVersion",(function(){return A})),n.d(t,"addScript",(function(){return D})),n.d(t,"sendLog",(function(){return M})),n.d(t,"sendRateLog",(function(){return N})),n.d(t,"isNumberLike",(function(){return P})),n.d(t,"toNumber",(function(){return L}));var r=n(1),a=n(3),o=n(5),i=n(2),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};Object(a.a)("global-config");var u,d=/\[(\d+)\]/g,p=/^[_$]/,f={},m=[i.l,i.c],h={isIOS:/iPhone|iPad/.test(window.navigator.userAgent),devicePixelRatio:window.devicePixelRatio||1,deviceWidth:Math.min(768,window.innerWidth,window.screen.width)},g=function(){},v=function(e){if(e=parseFloat(e),isNaN(e))return NaN;var t=(""+(e+.4)).split("."),n=l(t,1)[0];return isNaN(n)?NaN:n},y=function(e,t){return t?[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.replace(d,(function(e,t){return"."+t})).split("."))).reduce((function(e,t){return"string"===typeof e?null:e&&e[t]})):null},b={warn:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,["[DinamicX warn]: "].concat(n))},error:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&~m.indexOf(t.type)){var a=t.parser||t.viewName;if(f[a])return;f[a]=!0}if(console.error("[DinamicX error]: ",e,t||""),o.a.report(e,t),!Object(r.a)("catchSDKJSError")){var i=e&&e.message||e;if(t&&(i=i+" "+JSON.stringify(t)),"undefined"!==typeof ErrorEvent){var s=new ErrorEvent("error",{error:new Error(i),message:i});window.dispatchEvent(s)}}if(n)throw e}},w=function(e,t){return-1!==e.indexOf(t)},x=function(e){return e.replace(/\s/g,"")},C=function(e){var t=[];return e.forEach((function(e){return e&&t.push(e)})),t},E=function(e){return"object"===("undefined"===typeof e?"undefined":c(e))?!(!Array.isArray(e)||0!==e.length)||!(!I(e)||0!==Object.keys(e).length):!e},S=function e(t,n){if(t==n)return!0;if(t&&n&&("undefined"===typeof t?"undefined":c(t))===("undefined"===typeof n?"undefined":c(n))&&"object"===("undefined"===typeof t?"undefined":c(t))){var r=Object.keys(t),a=Object.keys(n),o=r.length;if(o!==a.length)return!1;for(var i=0;i<o;i++){var s=r[i];if(!p.test(s)&&!e(t[s],n[s]))return!1}return!0}return!1},k=function(e,t){var n={};for(var r in e)n[r]=t(e[r],r,e);return n},T=(u=Object(a.a)("id"),function(e){var t=~~u.get(e);return u.set(e,++t),e+"_"+t}),_=function(e,t){if(e){if(t.global){for(var n=[],r=t.exec(e);null!==r;)n.push(r&&r.slice(1)),r=t.exec(e);return n}var a=t.exec(e);return a?a.slice(1):[]}},I=function(e){return"object"===("undefined"===typeof e?"undefined":c(e))&&e.constructor===Object},O=function(e){return"string"===typeof e},A=function(e,t){var n=0;for(var r in e.split(".")){var a=e[r],o=t[r];if(a!==o){if(a<o){n=-1;break}n=1;break}}return n},D=function(e){if(e){var t=document.createElement("script");return t.src=e,t.charset="UTF-8",new Promise((function(e,n){t.onload=function(){e();try{document.body.removeChild(t)}catch(e){g()}},t.onerror=function(e){n("Get script fail");try{document.body.removeChild(t)}catch(e){g()}},document.body.appendChild(t)}))}},M=o.a.log,N=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o.a.log(e,n,s({success:t,type:"api"},r))},P=function(e){return Number.isFinite(parseFloat(e,10))},L=function(e){return parseFloat(e,10)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(0),a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={shouldSplitLayoutTask:!0,shouldExecLinearLayoutHack:!0,forcePcMode:!1,disableEventBinding:!1,forceOriginalImg:!1,enableLazyload:!1,autotestMode:!1,disableTplCache:!1,disableCharBreak:!1,forceNowrap1Line:!1,perfTrackerRatio:.01,enableLayoutNG:!1,catchSDKJSError:!1},i=function(e,t){("enableLazyload"!==e||"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)&&("perfTrackerRatio"===e&&("number"!==typeof t||t>1||t<0)?r.log.warn("Invalid GlobalConfig, perfTrackerRatio should be 0 ~ 1"):"enableLayoutNG"===e&&void 0===a(document.documentElement.style.grid)||(o[e]=t))},s=function(e){return o[e]},c={},l=function(e,t){c[e]&&console.warn("Rewrite tpl cache ["+e+"]"),c[e]=t},u=function(e){var t=c[e];if(t&&"string"===typeof t)try{t=JSON.parse(t)}catch(e){console.warn(e)}return t}},function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"c",(function(){return m}));var r="template-render",a="template-download",o="template-content",i="template-url-process",s="data-parser-gen-ast",c="data-parser-parse",l="storage-idb-get-map",u="storage-idb-set-map",d="storage-ls-get-map",p="storage-ls-set-map",f="view-404",m="parser-404"},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a={},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache={}}return r(e,[{key:"set",value:function(e,t){return this.cache[e]=t,this}},{key:"get",value:function(e){return this.cache[e]}},{key:"getAll",value:function(){return this.cache}}]),e}();t.a=function(e){return a[e]||(a[e]=new o(e))}},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errorCallback=[],this.defaultReport=!0,this.extraInfo="",window.JSTracker2&&(this.jsTracker=new JSTracker2.constructor({}))}return o(e,[{key:"config",value:function(e){var t=e.extraInfo,n=void 0===t?"":t,a=e.defaultReport,o=void 0===a||a;if("string"!==typeof n)return r.log.error("extraInfo must be string!");this.extraInfo=n,this.defaultReport=o}},{key:"report",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.defaultReport&&this.jsTracker){var n=t&&t.type||"default",r=a({},t,{error:e&&e.message||e,extraInfo:""}),o="/dinamicx/"+n;try{o=""+location.origin+location.pathname+o}catch(e){console.error(e)}this.jsTracker.push({type:"error",url:o,sampling:10,message:JSON.stringify(r),stack:e&&e.stack})}this.errorCallback.forEach((function(n){n(e,t)}))}},{key:"log",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.defaultReport&&this.jsTracker&&this.jsTracker.push(a({module:e,msg:JSON.stringify(t),sampling:100},n))}},{key:"addErrorListener",value:function(e){if("function"!==typeof e)return r.log.error("callback must be function!");this.errorCallback.push(e)}}]),e}();t.a=new i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(){try{if("undefined"!==typeof window.indexedDB)return window.indexedDB;if("undefined"!==typeof window.webkitIndexedDB)return window.webkitIndexedDB;if("undefined"!==typeof window.mozIndexedDB)return window.mozIndexedDB;if("undefined"!==typeof window.OIndexedDB)return window.OIndexedDB;if("undefined"!==typeof window.msIndexedDB)return window.msIndexedDB}catch(e){return!1}}();function a(){try{if(!r)return!1;var e="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"===typeof fetch;return(!e||t)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(e){return!1}}},function(e,n){e.exports=t},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={getItem:function(){},setItem:function(){}};try{i=window.localStorage}catch(e){}function s(e){try{var t=i.getItem(e);return t?"object"===(t=JSON.parse(t)).t?JSON.parse(t.v):t.v:t}catch(e){return console.error(e),null}}function c(e,t){try{r.isPlainObject(t)?i.setItem(e,JSON.stringify({t:"object",v:JSON.stringify(t)})):i.setItem(e,JSON.stringify({t:"undefined"===typeof t?"undefined":o(t),v:t}))}catch(e){console.error(e)}}var l="tpl$TplNameList";t.default={setTemplateMap:function(e){try{var t=s(l);t=t?t.split("$"):[],r.mapValue(e,(function(e){var n=e.name;c("tpl-"+n,e),t.push(n)})),c(l,t.join("$"))}catch(e){r.log.error(e,{type:a.g})}return Promise.resolve([])},getTemplateMap:function(){var e={};try{var t=s(l);t&&(t=t.split("$")).forEach((function(t){var n=s("tpl-"+t);e[t]=n}))}catch(e){r.log.error(e,{type:a.f})}return Promise.resolve(e)}}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(6),o=n(2),i="template",s=a.a.open("DinamicX",2),c=new Promise((function(e){s.onupgradeneeded=function(t){var n=s.result,r=t.target.transaction;n.createObjectStore(i,{keyPath:"name"}),r.oncomplete=function(){return e(n)}},s.onsuccess=function(){return e(s.result)}})),l=function(e){return e.transaction(i,"readwrite").objectStore(i)};t.default={setTemplateMap:function(e){return c.then((function(t){var n=l(t),a=[];return r.mapValue(e,(function(e){var t;a.push((t=n.put(e),new Promise((function(e,n){t.onsuccess=e,t.onerror=n}))).catch((function(t){r.log.error(t,{type:o.e,templateName:e.name,templateVersion:e.version})})))})),Promise.all(a)}))},getTemplateMap:function(){return c.then((function(e){var t=l(e).openCursor();return new Promise((function(e,n){var r={};t.onsuccess=function(t){var n=t.target.result;if(n){var a=n.value;r[a.name]=a,n.continue()}else e(r)},t.onerror=n})).catch((function(e){r.log.error(e,{type:o.d})}))}))}}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"TPL_INIT",(function(){return g})),n.d(r,"TPL_DID_MOUNT",(function(){return v})),n.d(r,"TPL_LOAD_LOCAL",(function(){return y})),n.d(r,"TPL_LOAD_REMOTE",(function(){return b})),n.d(r,"BEFORE_CREATE_VDOM",(function(){return w})),n.d(r,"AFTER_CREATE_VDOM",(function(){return x})),n.d(r,"TPL_LAYOUT",(function(){return C})),n.d(r,"init",(function(){return E})),n.d(r,"mark",(function(){return S})),n.d(r,"report",(function(){return k}));var a=n(4),o=n(0),i=n(3),s=n(5),c=n(1),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=window.performance&&window.performance.mark&&window.performance.measure,d={};function p(e,t){return e+"_"+t}function f(e){return e+"_measure"}function m(e){var t=window.performance.getEntriesByName(e);return Boolean(t.length)}function h(e){var t=0,n=window.performance.getEntriesByName(e);return n.length&&(t=parseInt(Number(n[0].duration)),window.performance.clearMeasures(e)),t}var g=0,v=1,y=2,b=3,w=4.1,x=4.2,C=5,E=function(){var e=Object(c.a)("perfTrackerRatio"),t=Math.random()+1e-8;if(u&&s.a.jsTracker&&t<e)return setTimeout((function(){k(t)}),3e3),String(t)},S=function(e,t,n){e&&(window.performance.mark(p(e,t)),n&&(d[e]=l({},d[e],n)))},k=function(e){if(e){var t={localLoadTime:0,remoteLoadTime:0,vdomCreateTime:0,mountTime:0,layoutTime:0,layoutCount:0,fullTime:0},n=p(e,g),r=p(e,y),a=p(e,b),o=p(e,w),i=p(e,x),c=(p(e,"measureVdom"),p(e,v)),u=p(e,C);if(m(n)&&m(r)){var E=f(r);window.performance.measure(E,n,r),t.localLoadTime=h(E)}if(m(n)&&m(a)){var S=f(a);window.performance.measure(S,n,a),t.remoteLoadTime=h(S)}if(m(o)&&m(i)){var k=f(i);window.performance.measure(k,o,i),t.vdomCreateTime=h(k)}if(m(n)&&m(c)){var T=f(c);window.performance.measure(T,n,c),t.mountTime=h(T)}if(m(c)&&m(u)){var _=f(u);window.performance.measure(_,c,u),t.layoutTime=h(_),t.layoutCount=window.performance.getEntriesByName(u).length}t.fullTime=t.mountTime+t.layoutTime,s.a.log("perf",l({},t,d[e]),{sampling:1,url:"dinamicx/perf"}),delete d[e],window.performance.clearMarks(n),window.performance.clearMarks(c),window.performance.clearMarks(o),window.performance.clearMarks(i),window.performance.clearMarks(r),window.performance.clearMarks(a),window.performance.clearMarks(u)}},T=n(6),_=n(2),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},D=function(){return P.getTemplateMap().then((function(e){return Object.assign(R,e)}))},M=function(){P=n(8).default,L=D()},N=function(){Object(T.b)()?(P=n(9).default,L=D()):o.log.warn("当前设备不支持 indexedDB")},P=void 0,L=void 0;M();var R={},F=/rapid-oss-bucket\/?(publish|debug|preview)?\/(\d+)\/(.*?)\.(?:js|zip)/,j=/dinamicx.alibabausercontent.com\/?(.*)?\/.*?\/(\d+)\/(.*?)\.(?:js|zip)/,B=/\/(?:v-)?(\d+)\/(.*?)_(h5|ios|android)\.(?:plist|js|xml)/,z=/\ultronage.*\/dinamicx\/(.*?)\/(\d+)\/(h5|ios|android).*/i,q="ultron_dev",V=window.d_tpl=window.d_tpl||{};function U(e){var t=F.exec(e),n=j.exec(e),r=z.exec(e);if(t)var a=A(t,4),i=a[1],s=void 0===i?"":i,c=a[2],l=a[3],u="h5_3+";else if(n){var d=A(n,4),p=d[1],f=(s=void 0===p?"":p,c=d[2],u="h5_4+",l=d[3]);l=l.replace(/_h5$/,"")}else if(r){var m=A(r,3);l=m[1],c=m[2],u=q}else{var h=B.exec(e);if(!h)throw new Error("Fail to parse template url: "+e);var g=A(h,4);c=g[1],l=g[2],u=g[3]}var v={name:l,version:c,env:s,type:u};return"h5_3+"===u?v.url="https://ossgw.alicdn.com/rapid-oss-bucket/"+s+"/"+c+"/"+l+".js":"h5_4+"===u?v.url="https://dinamicx.alibabausercontent.com/"+s+"/"+l+"/"+c+"/"+f+".js":"h5"===u?o.includes(e,"g.alicdn")?(v.shouldCombo=!0,v.url=l+"/"+c+"/"+l+"_h5.js"):v.url=e:u===q?v.url="https://pre-ultronage3.alibaba-inc.com/gw/nobuc/v3/Dinamicx/"+l+"/"+c+"/h5/getCdn.js":l&&c&&(v.url="https://ossgw.alicdn.com/rapid-oss-bucket/template_online/"+l+"/"+c+"/"+l+"_h5.js"),v}function H(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?y:b;return S(e.perfTrackerPrefix,r,{name:e.name,version:e.version,length:JSON.stringify(t).length,useCache:n}),{template:e,tplNodeTree:t}}function W(e,t){var n=e.name,r=V[n];return r?R[n]=t[n]={name:n,content:r,version:e.version}:o.log.error("empty template content",{type:_.h,templateName:n},!0),H(e,r,!1)}var G,K=[],J={},Z=(G=void 0,function(){G&&clearTimeout(G),G=window.setTimeout((function(){var e,t;(e={},t=[],L.then((function(n){return Promise.all(K.map((function(r){var a=r.url,i=r.name,s=r.version,l=r.shouldCombo,u=r.onFinish,d=r.onError,p=r.type,f=n[i];if(p!==q&&!Object(c.a)("disableTplCache")&&f&&f.version==s)u(H(r,f.content));else{if(!l)return o.addScript(a).then((function(){return o.sendRateLog("download",!0,{templateUrl:a}),W(r,e)})).then((function(e){return u(e)})).catch((function(e){o.log.error(e,{type:_.i,templateUrl:a}),o.sendRateLog("download",!1,{templateUrl:a}),d(e)}));t.push(r)}})))})).then((function(){if(t.length>0){var n="https://g.alicdn.com/code/dinamic-publish/??"+t.map((function(e){return e.url})).join(",");return o.addScript(n).then((function(){t.forEach((function(t){o.sendRateLog("download",!0,{templateUrl:t.url});var n=W(t,e);t.onFinish(n)}))})).catch((function(e){o.log.error(e,{type:_.i,templateUrl:n}),t.forEach((function(t){o.sendRateLog("download",!1,{templateUrl:t.url}),t.onError(e)}))}))}})).then((function(){return P.setTemplateMap(e)}))).then((function(){return K=[],void(J={})}))}),0)}),X=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return I(e,null,[{key:"add",value:function(t,n){var r=e.processTplUrl(t),a=Object(c.b)(t);return a&&a.content?Promise.resolve(H(r,a.content)):r?(r.perfTrackerPrefix=n,L.then((function(e){var t=r.name,n=r.version;(r.type===q||Object(c.a)("disableTplCache"))&&(e={});var a=e[t];return a&&a.version==n?H(r,a.content):(Z(),function(e){var t=e.name,n=J[t]||{},r=n.version,a=n.downloadTask;if(r==e.version)return a;var o=new Promise((function(t,n){K.push(O({onFinish:t,onError:n},e))}));return J[t]={version:e.version,downloadTask:o},o}(r))}))):(o.log.error("invalid_tpl_url",{type:_.k,templateUrl:t}),Promise.reject("invalid_tpl_url "+t))}},{key:"processTplUrl",value:function(e){var t=void 0;try{t=U(e)}catch(t){o.log.warn("tpl url process error",e)}return t}},{key:"getCache",value:function(e,t){if(e.type===q||Object(c.a)("disableTplCache"))return null;var n=R[e.name];return n&&n.version==e.version?(S(t,y,{name:e.name,version:e.version,length:JSON.stringify(n).length,useCache:!0}),n.content):void 0}},{key:"setCache",value:function(e){e.forEach((function(e){var t=e.name,n=e.version,r=e.content;R[t]={name:t,version:n,content:r}}))}},{key:"registerTplUrlProcessor",value:function(e){if("function"!==typeof e)throw new Error("Invalid Tpl Url Processor");U=e}}]),e}(),Y=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$=Object(i.a)("ravel"),ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return Q(e,null,[{key:"bind",value:function(e,t,n){var r=$.get(t)||[];$.set(t,[[e,n]].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)))}},{key:"setData",value:function(e,t){var n=$.get(e);n||console.error("Can't find context bind with the name (\""+e+'") !'),Array.isArray(n)&&n.forEach((function(e){var n=Y(e,2),r=n[0],a=n[1],i={};o.mapValue(t,(function(e,t){var n=a[t];n&&(n in r&&(r[n]=e),r.state&&n in r.state&&(i[n]=e))})),o.isEmpty(i)?r.forceUpdate():r.setState(i)}))}},{key:"getContext",value:function(e){return($.get(e)||[])[0]}}]),e}(),te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},re={},ae=function(e){return!("false"===e||!1===e||"0"===e||!e||Array.isArray(e)&&0===e.length)},oe=function(e){return function(t){return 1===t.length&&o.isNumberLike(t[0])?e(t[0]):0}},ie=function(e){return function(t){var n=ne(t,2),r=n[0],a=n[1];return o.isNumberLike(r)&&o.isNumberLike(a)?e([o.toNumber(r),o.toNumber(a)]):o.isNumberLike(r)?o.toNumber(r):o.isNumberLike(a)?o.toNumber(a):0}},se=function(e){return function(t){var n=ne(t,2),r=n[0],a=n[1];return 0===o.toNumber(a)?0:e([o.toNumber(r),o.toNumber(a)])}};re.if=function(e){var t=ne(e,2),n=t[0],r=t[1];return ae(n)&&r},re.else=function(e){return ne(e,1)[0]},re.not=function(e){var t=ne(e,1)[0];return!ae(t)},re.and=function(e){return e.reduce((function(e,t){return ae(e)&&ae(t)}))},re.or=function(e){return e.reduce((function(e,t){return ae(e)||ae(t)}))},re.triple=function(e){var t=ne(e,3),n=t[0],r=t[1],a=t[2];return ae(n)?r:a},re.equal=function(e){var t=ne(e,2),n=t[0],r=t[1];return o.isEqual(n,r)},re.array_get=function(e){var t=ne(e,2),n=t[0],r=t[1];return!Array.isArray(n)||isNaN(r)?null:n[~~r]},re.index_of=function(e){var t=ne(e,3),n=t[0],r=void 0===n?[]:n,a=t[1];if(t[2],!Array.isArray(r))return null;var o=-1;if("object"===("undefined"===typeof a?"undefined":te(a))){var i="";try{i=JSON.stringify(a)}catch(e){console.error(e)}var s=[];try{r.map((function(e){s.push(JSON.stringify(e))}))}catch(e){console.error(e)}o=s.indexOf(i)}else o=r.indexOf(a);return-1===o?null:o},re.array_find=function(e){var t=ne(e,2),n=t[0],r=t[1];if(!Array.isArray(n))return null;var a=n.indexOf(r);return-1===a?null:n[a]},re.dict_get=function(e){var t=ne(e,2),n=t[0],r=t[1];return n&&n[r]},re.data=function(e,t){var n=ne(e,1)[0];return n?o.deepGet(t,n):t},re.subdata=function(e,t){var n=ne(e,1)[0],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n?o.deepGet(r.data,n):r.data},re.subdataIndex=function(e,t){return ne(e,1)[0],(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).subdataIndex},re.parentSubdata=function(e,t){var n=ne(e,1)[0],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n?o.deepGet(r.parentSubdata,n):r.parentSubdata},re.lowercase=function(e){var t=ne(e,1)[0];return o.isString(t)?t.toLowerCase():t},re.uppercase=function(e){var t=ne(e,1)[0];return o.isString(t)?t.toUpperCase():t},re.substr=function(e){var t=ne(e,3),n=t[0],r=t[1],a=t[2];return o.isString(n)?n.substr(r>=0?r:0,a):n},re.concat=function(e){return e.reduce((function(e,t){return(e||"")+(t||"")}))},re.trim=function(e){var t=ne(e,1)[0];return o.isString(t)?t.trim():t},re.iequal=function(e){var t=ne(e,2);return t[0]===t[1]},re.iless=function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)<Number(r)},re.igreater=function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)>Number(r)},re.iless_equal=function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)<=Number(r)},re.igreater_equal=function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)>=Number(r)},re.add=ie((function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)+Number(r)})),re.sub=ie((function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)-Number(r)})),re.mul=ie((function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)*Number(r)})),re.div=ie(se((function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)/Number(r)}))),re.mod=ie(se((function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)%Number(r)}))),re.ceil=oe((function(e){return Math.ceil(e)})),re.floor=oe((function(e){return Math.floor(e)})),re.round=oe((function(e){return Math.round(e)})),re.abs=oe((function(e){return Math.abs(e)})),re.fequal=re.iequal,re.fless=re.iless,re.fgreater=re.igreater,re.fless_equal=re.iless_equal,re.fgreater_equal=re.igreater_equal,re.toDouble=function(e){var t=ne(e,1)[0];return o.toNumber(t)},re.toLong=function(e){var t=ne(e,1)[0];return o.toNumber(t)},re.toStr=function(e){var t=ne(e,2),n=t[0],r=t[1];if(!n||!r)return void 0!==n?String(n):"";try{return o.toNumber(n).toFixed(r)}catch(e){return o.log.warn(e),""}},re.const=function(e){var t=ne(e,1)[0];return t?t.trim():""},re.len=function(e){var t=ne(e,1)[0];return o.isPlainObject(t)?Object.keys(t).length:t?~~t.length:0},re.platform=function(e){var t=ne(e,1)[0];return t&&"h5"===t.toLowerCase()},re.eventChainEventData=function(e,t,n){var r=ne(e,1)[0],a=void 0===r?"":r;return n.customParams?a.split(".").reduce((function(e,t){return e[t]}),n.customParams):""},re.linearGradient=function(e){var t,n=(t=e,Array.isArray(t)?t:Array.from(t)),r=n[0],a=n.slice(1),o="";switch(r){case"toLeft":o="to left";break;case"toTop":o="to top";break;case"toRight":o="to right";break;case"toBottom":o="to bottom"}if(!o||!a.length)return null;var i="linear-gradient("+o+",";return a.map((function(e,t){var n=Pe(e),r=t===a.length-1?")":",";i+=n+r})),i},re.eq=re.equal,re.aget=re.array_get,re.afind=re.array_find,re.dget=re.dict_get,re.lc=re.lowercase,re.uc=re.uppercase,re.ieq=re.iequal,re.ilt=re.iless,re.igt=re.igreater,re.ilte=re.iless_equal,re.igte=re.igreater_equal,re.feq=re.fequal,re.flt=re.fless,re.fgt=re.fgreater,re.flte=re.fless_equal,re.fgte=re.fgreater_equal,re.less=re.iless,re.greater=re.igreater,re.lessEqual=re.iless_equal,re.greaterEqula=re.igreater_equal,re.greaterEqual=re.igreater_equal;var ce=re,le={},ue=function(e,t){le[e]=t},de=function(e){return le[e]||ce[e]},pe=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},fe=/\$(\w+)\{(.+?)\}/g,me=Object(i.a)("data"),he=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ge=Object(i.a)("data"),ve=Object(i.a)("parser"),ye={if:{conditionIndex:0,conditionValue:!0},triple:{conditionIndex:0,conditionValue:!0,trueIndex:1,falseIndex:2},or:{conditionIndex:-1,conditionValue:!1},and:{conditionIndex:-1,conditionValue:!0}},be=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=t,this.maxLen=t.length,this.pos=-1}return he(e,[{key:"hasNext",value:function(){return this.pos<this.maxLen-1}},{key:"getPrevValue",value:function(){return this.source[this.pos-1]}},{key:"getCurrentValue",value:function(){return this.val}},{key:"next",value:function(){return this.val=this.source[++this.pos],{value:this.val,done:!this.hasNext()}}},{key:"loop",value:function(e){for(var t="";!this.next().done&&e(this.val,this.pos);)t+=this.val;return t}}]),e}();function we(e,t){var n=e.getCurrentValue();return"@"===n?function(e){var t={type:"pattern"};t.name=e.loop((function(e){return"{"!==e}));var n=[];return e.loop((function(){var t=we(e,",");return o.isPlainObject(t)&&n.push(t),"}"!==e.getCurrentValue()||(e.next(),!1)})),t.args=n,t}(e):"'"===n?{type:"const",content:e.loop((function(t){return!("\\"!==e.getPrevValue()&&"'"===t)}))}:/[\w\d_\-\.]/.test(n)?{type:"const",content:n+e.loop((function(e){return e&&!/[\s\}]/.test(e)&&e!==t}))}:void 0}function xe(e,t,n){var r=e.name,a=e.type;if("const"===a){var i=/\\(.)/g;return i.test(e.content)&&(e.content=e.content.replace(i,"$1")),e.content}if("pattern"===a){var s=de(r);if(s){var c=function(e,t,n){var r=[],a=ye[e.name];return a?e.args.map((function(e,o){var i=!0;if(o>0){var s=-1===a.conditionIndex?o-1:a.conditionIndex;ae(r[s])===a.conditionValue?a.hasOwnProperty("trueIndex")&&a.trueIndex!==o&&(i=!1):a.hasOwnProperty("falseIndex")&&a.falseIndex===o||(i=!1)}i?r.push(xe(e,t,n)):r.push(null)})):r=e.args.map((function(e){return xe(e,t,n)})),r}(e,t,n);return s.call(n.context,c,t,n)}o.log.error("Can't find the given pattern ["+r+"], make sure you register it before use",{type:_.c,templateName:n._tplName,parser:r})}}var Ce=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ee=Object(i.a)("handler"),Se={_openUrl:function(e){var t=Ce(e,1)[0];window.dispatchEvent(new Event("page:jump")),window.location.href=t}};function ke(e){return Ee.get(e)}function Te(e,t){var n=ke(e),r=t;n&&(r=Array.isArray(n)?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n),[t]):[n,t]),Ee.set(e,r),ue(e,t)}setTimeout((function(){Object(o.mapValue)(Se,(function(e,t){return Te(t,e)}))}),0);var _e=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ie=/^([a-zA-Z]\w*?)\s*\((.*?)\)$/,Oe=/^([\-\d\.]+)(np|ap)?$/g,Ae=/^#(?:\w{4}|\w{8})$/,De=Object(i.a)("data"),Me=function(e,t){if(e)switch(e[0]){case"@":return function(e,t){var n=t._tplId,r=t._tplName,a=ve.get(r+e),i=ge.get(n)||t.data;if(!a){a=[];var s=new be(e);try{s.loop((function(){var e=we(s,";");return o.isPlainObject(e)&&a.push(e),!0}))}catch(t){o.log.error(t,{type:_.a,templateId:n,parser:e})}ve.set(r+e,a)}var c=void 0;try{a.some((function(e){return c=xe(e,i,t)}))}catch(t){o.log.error(t,{type:_.b,templateName:r,parser:e})}return c}(e,t);case"$":return function(e,t){var n=t.data||me.get(t.tplId),r="",a=o.matchRegexp(e,fe);return Array.isArray(a)&&a.length>0?(a.every((function(e){var a=pe(e,2),o=a[0],i=a[1].split(","),s=de(o);return s&&(r=s.call(t.context,i,n,t)),!r})),r):e}(e,t)}return e},Ne=function(e,t){var n=e&&"@"===e[0]?"v2":"v1",r=De.get(t._tplId);return{pattern:e,options:t,handler:function(a,i){if(t.event=a,t.customParams=i,"v1"===n){var s=o.matchRegexp(e,Ie);if(s){var c=_e(s,2),l=c[0],u=c[1],d=ke(l);if(d){var p=o.compactArray(o.trimAllBlankString(u).split(",").map((function(e){return Me(e,t)})));if(!Array.isArray(d))return d.call(null,p,r,t);d.map((function(e){e.call(null,p,r,t)}))}else o.log.error("Can't find the given event handler ["+l+"], make sure you register it before use",{type:_.c,templateName:t._tplName})}}else if("v2"===n)return Me(e,t)}}},Pe=function(e){if(Ae.test(e)){for(var t=[],n=9===e.length?2:1,r=1;r<e.length;r+=n){var a=~~("0x"+e.slice(r,r+n));t.push(16*a*(2/n-1)+a)}return t.push(t.shift()/255),"rgba("+t.join()+")"}return e},Le=function(e){var t=o.env,n=t.deviceWidth,r=t.devicePixelRatio,a=t.isIOS;return isNaN(e)||(e+="ap"),"string"===typeof e?e.replace(Oe,(function(e,t,i){if((t=Number(t))>0){if("np"===i);else{if(!0===Object(c.a)("__SSR__"))return t/375*100+"vw";t=t/375*n}t=t<1?t>.5||1===r||!a?1:.5:o.numTrunc(t)}return t+"px"})):e||0},Re={FrameLayout:"FrameLayoutNG",DFrameLayout:"FrameLayoutNG"},Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=Object(i.a)("data"),Ve=Object(i.a)("view"),Ue="data-tpl-id",He=[],We=/^[d][A-Z]/,Ge=/^[A-Z]{2}[0-9a-z_\-]/;function Ke(e,t){return Array.isArray(t)&&(t=t[0]||{}),qe.set(e,t),t}function Je(e){return Ve.get(e)}function Ze(e,t){Ve.set(e,t)}function Xe(){Object(c.a)("enableForceUpdate")?this.componentIdSeq=this.componentIdSeq||0:this.componentIdSeq=0,this.componentIndexSet=[]}function Ye(e,t){var n=this;if(o.isPlainObject(e)){var r={};return o.mapValue(e,(function(e,a){if("h5RavelBind"===a){var o=e.split("|"),i=Be(o,2),s=i[0],c=i[1];ee.bind(n,t._tplId,ze({},s,c))}if("on"===a.slice(0,2)&&"onColor"!==a)r[a]=Ne(e,t);else{var l=a;We.test(a)&&(l=function(e){var t=e.slice(1);return t[0].toLowerCase()+t.slice(1)}(a)),r[l]=Me(e,t)}})),r}return{}}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=arguments[2],i=arguments[3],s=r._tplId,c=e.bizCode&&e.template?"3.0.0":"0.0.0";return function e(c,l){return c.map((function(){var c,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=u.name;n._enableLayoutNG&&(d=Re[c=d]||c);var p,f=Je(d);if("Children"===d&&i)return i;if(u.attrs&&u.attrs.userId&&l&&l._originProps&&"true"!==String(l._originProps.alwaysShowIndicator)&&l._originProps.moreIndicatorUserId===u.attrs.userId)return null;if(f){var m=s+"_c"+ ++n.componentIdSeq,h={key:m,_id:m,_idIndex:n.componentIdSeq-1,_tplId:s,_tplName:r._tplName,_tplContext:r._context,_viewName:(p=d,Ge.test(p)?p.slice(1):p),_originProps:u.attrs},g=je({},Ye.call(n,u.attrs,je({data:t},h)),h,{childrenLen:Array.isArray(u.children)?u.children.length:0,templateContent:u.templateContent});return n.componentIndexSet.push({id:m,props:g,pid:l?l._id:null}),Object(a.createElement)(f,g,u.children&&e(u.children,h))}o.log.error(new Error("View not found "+d),{type:_.l,viewName:d,templateName:r._tplName})}))}(o.compareComplierVersion(c,"3.0.0")>=0?e.template:e)}var $e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initPerfTracker(),n._enableLazyload=Object(c.a)("enableLazyload"),n._enableLayoutNG=Object(c.a)("enableLayoutNG"),n.initByProps(e),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fe(t,[{key:"initPerfTracker",value:function(){this.perfTrackerPerfix=E(),S(this.perfTrackerPerfix,g)}},{key:"initByProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=e.tpl,r=e.data,a=e.templateName,i=e.customTemplateId,s={};t&&(s=X.processTplUrl(t)||{});var l=Object(c.b)(t),u=i||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.getUniqueId(e.templateName||o.deepGet(e,"template.name")||"dt")}(r);r=Ke(u,r),this.shadow={tpl:n||l&&l.content||l||X.getCache(s,this.perfTrackerPerfix),data:r,options:{_context:this,_tplId:u,_tplName:a||s.name||u}},this.bindLifeCycleEvent()}},{key:"bindLifeCycleEvent",value:function(){var e=function(){},t=this.props,n=t.componentWillBindEvent,r=void 0===n?e:n,a=t.componentFinishFirstPaint,i=void 0===a?e:a,s=t.templateWillDownload,c=void 0===s?e:s,l=t.templateFinishDownload,u=void 0===l?e:l,d=t.templateDownloadError,p=void 0===d?e:d,f=t.templateWillRender,m=void 0===f?e:f,h=t.templateFinishCreateViews,g=void 0===h?e:h,v=t.templateFinishFirstPaint,y=void 0===v?e:v,b=t.templateFinishUpdate,w={componentWillBindEvent:r,componentFinishFirstPaint:i,templateWillDownload:c,templateFinishDownload:u,templateDownloadError:p,templateWillRender:m,templateFinishCreateViews:g,templateFinishFirstPaint:y,templateFinishUpdate:void 0===b?e:b};this.lifeCycles=o.mapValue(w,(function(e,t){return function(){for(var n=this,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return He.forEach((function(e){var r=e[t];r&&r.apply(n,a)})),e.apply(this,a)}}))}},{key:"componentDidCatch",value:function(e){var t=this.shadow.options._tplName;o.log.error(e,{type:_.j,templateName:t})}},{key:"componentDidUpdate",value:function(){var e=this.lifeCycles,t=e.templateFinishFirstPaint,n=e.templateFinishUpdate;this.shadow.tpl&&(this.firstPaint?n.call(this,this.shadow):(t.call(this,this.shadow),this.firstPaint=!0))}},{key:"componentDidMount",value:function(){S(this.perfTrackerPerfix,v);var e=this.lifeCycles.templateFinishFirstPaint;this.shadow.tpl?(e.call(this,this.shadow),this.firstPaint=!0):this.rerenderTemplateByUrl(this.props.url),this._enableLazyload&&this.connectLazyObserver()}},{key:"connectLazyObserver",value:function(){var e=this,t=this.shadow.options._tplId;if(t){var n=new IntersectionObserver((function(t){t.some((function(e){return e.intersectionRatio>0}))&&(e._enableLazyload=!1,e.forceUpdate(),n.disconnect())}));n.observe(document.querySelector("div["+Ue+'="'+t+'"]'))}else o.log.warn("Cannot get template id")}},{key:"shouldComponentUpdate",value:function(e){var t=e.data,n=e.url,r=e.tpl,a=this.props,o=a.data,i=a.url,s=a.tpl,c=!1;return i!==n&&(this.rerenderTemplateByUrl(n,!0),c=!0),t!==o&&(this.rerenderTemplateByData(t),c=!0),r&&JSON.stringify(r)!==JSON.stringify(s)&&(this.initByProps(e),c=!0),c}},{key:"rerenderTemplateByData",value:function(e){e=Ke(this.shadow.options._tplId,e),this.shadow.data=e}},{key:"rerenderTemplateByUrl",value:function(e,t){var n=this,r=this.shadow,a=r.tpl,o=(r.data,r.options);if(e&&(!a||t)){var i=this.lifeCycles,s=i.templateWillDownload,c=i.templateFinishDownload,l=i.templateDownloadError;s.call(this,this.shadow),X.add(e,this.perfTrackerPerfix).then((function(e){var t=e.tplNodeTree,r=e.template;o._template=r,c.call(n,n.shadow),t&&(n.shadow.tpl=t,n.forceUpdate())})).catch((function(e){l(e)}))}}},{key:"renderTemplateWrapper",value:function(e){var t,n=this.props,r=n.style,i=n.className,s=n.extraAttrs,l=this.shadow,u=l.options,d=l.tpl,p=u._tplId,f=function(e){var t=Array.isArray(e)?e[0]:e,n="300px";return t&&t.attrs&&t.attrs.defaultHeight&&(n=Le(t.attrs.defaultHeight)||n),n}(d),m=(ze(t={"data-spm":p},Ue,p),ze(t,"className","tpl-wrapper"),t);return this._enableLazyload&&(this.props.placeholder&&"function"===typeof this.props.placeholder?e=Object(a.createElement)(this.props.placeholder,{defaultHeight:f,tpl:d,data:this.props.data}):m.style={height:f}),i&&(m.className+=" "+i),o.isPlainObject(r)&&(m.style=r),o.isPlainObject(s)&&Object.assign(m,s),Object(c.a)("autotestMode")&&(m["aria-label"]=p),Object(a.createElement)("div",m,e)}},{key:"renderViews",value:function(e){var t=this.shadow,n=t.data,r=t.options,a=this.props.children;if(e){Xe.call(this),S(this.perfTrackerPerfix,w);var o=Qe.call(this,e,n,r,a);return S(this.perfTrackerPerfix,x),o}return null}},{key:"render",value:function(){var e=this.shadow.tpl,t=this.lifeCycles,n=t.templateWillRender,r=t.templateFinishCreateViews;n.call(this,this.shadow);var a=this._enableLazyload?null:this.renderViews(e),o=this.renderTemplateWrapper(a);return r.call(this,this.shadow),o}}]),t}(a.Component);function et(e){Array.isArray(e)&&e.forEach((function(e){o.isPlainObject(e)&&He.push(e)}))}function tt(e){o.env.deviceWidth=e;var t=document.createElement("style");t.innerHTML=".tpl-wrapper{max-width: "+e+"px}",document.head.appendChild(t)}function nt(e){return e.children}var rt=Object(i.a)("local-image");function at(e){return rt.get(e)}function ot(e){Object(o.mapValue)(e,(function(e,t){rt.set(t,e)}))}var it=n(7),st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct={findDOMNode:it.findDOMNode,cloneElement:a.cloneElement,renderDriver:null},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{ct=st({},ct,e)}catch(e){throw e}},ut=function(e,t,n,r){ct.renderDriver?(n?n.driver=ct.renderDriver:n={driver:ct.renderDriver},it.render(e,t,n,r)):it.render.apply(this,arguments)};n.d(t,"h",(function(){return a.createElement})),n.d(t,"render",(function(){return ut})),n.d(t,"Component",(function(){return a.Component})),n.d(t,"driver",(function(){return ct})),n.d(t,"setDriver",(function(){return lt})),n.d(t,"getView",(function(){return Je})),n.d(t,"registerView",(function(){return Ze})),n.d(t,"Template",(function(){return $e})),n.d(t,"addTemplatePlugins",(function(){return et})),n.d(t,"Fragment",(function(){return nt})),n.d(t,"getDataParser",(function(){return de})),n.d(t,"registerDataParser",(function(){return ue})),n.d(t,"dataParser",(function(){return Me})),n.d(t,"colorParser",(function(){return Pe})),n.d(t,"unitParser",(function(){return Le})),n.d(t,"eventHandlerParser",(function(){return Ne})),n.d(t,"getLocalImage",(function(){return at})),n.d(t,"setLocalImage",(function(){return ot})),n.d(t,"getEventHandler",(function(){return ke})),n.d(t,"registerEventHandler",(function(){return Te})),n.d(t,"setDeviceWidth",(function(){return tt})),n.d(t,"Downloader",(function(){return X})),n.d(t,"initIndexedDB",(function(){return N})),n.d(t,"initLocalStorage",(function(){return M})),n.d(t,"STORAGE_TEMPLATE",(function(){return R})),n.d(t,"tracker",(function(){return s.a})),n.d(t,"perfTracker",(function(){return r})),n.d(t,"Ravel",(function(){return ee})),n.d(t,"setGlobalConfig",(function(){return c.c})),n.d(t,"getGlobalConfig",(function(){return c.a})),n.d(t,"setTplCache",(function(){return c.d})),n.d(t,"getTplCache",(function(){return c.b})),n.d(t,"utils",(function(){return o})),t.default={h:a.createElement,render:ut,Component:a.Component,driver:ct,setDriver:lt,getView:Je,registerView:Ze,Template:$e,addTemplatePlugins:et,Fragment:nt,getDataParser:de,registerDataParser:ue,dataParser:Me,colorParser:Pe,unitParser:Le,eventHandlerParser:Ne,getLocalImage:at,setLocalImage:ot,getEventHandler:ke,registerEventHandler:Te,Downloader:X,initIndexedDB:N,initLocalStorage:M,STORAGE_TEMPLATE:R,tracker:s.a,perfTracker:r,Ravel:ee,setGlobalConfig:c.c,getGlobalConfig:c.a,setTplCache:c.d,getTplCache:c.b,utils:o}}])},e.exports=r(n(0),n(27))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferDomain=void 0,t.transferDomain=function(e,t){const n=t||location&&location.hostname;if(n){const t=n.match(/alibaba\.(.*)/);if(t&&t.length>0)return e.replace("com",t[1])}return e}},function(e,t,n){"use strict";n.d(t,"f",(function(){return z})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return F})),n.d(t,"a",(function(){return L})),n.d(t,"d",(function(){return Z})),n.d(t,"e",(function(){return A}));var r=n(5),a=n.n(r),o=n(1),i=n.n(o),s=n(189),c=n.n(s),l=n(23),u=n(2),d=n(16),p=n.n(d),f=n(17),m=n.n(f),h=function(){return m()((function e(t){p()(this,e),this.config=t}),[{key:"getError",value:function(e){e=e||"post failed: ".concat(this.xhr.status,"'");var t=new Error(e);return t.status=this.xhr.status,t}},{key:"getBody",value:function(){var e=this.xhr.responseText||this.xhr.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}},{key:"upload",value:function(){var e=this,t=this.xhr=new XMLHttpRequest,n=this.config,r=n.onProgress,a=n.fromTo,o=void 0===a?{}:a,i=n.data,s=n.filename,c=n.file,l=n.action,d=n.timeout,p=n.withCredentials,f=n.headers,m=void 0===f?{}:f;return new Promise((function(n,a){r&&t.upload&&(t.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total),r(e)});var f=Date.now(),h=new FormData;for(var g in i&&Object.keys(i).forEach((function(e){h.append(e,i[e])})),h.append("name",s),h.append("file",c),t.onerror=function(e){return Object(u.default)("uploadOSSError1&errorMsg=".concat(e.message,"&from=").concat(o.from,"&to=").concat(o.to,"&success=false&status=").concat(t.status,"&message=").concat(t.responseText,"&cost=").concat(Date.now()-f)),a(e)},t.onload=function(){return t.status<200||t.status>=300?(Object(u.default)("uploadOSSError&from=".concat(o.from,"&to=").concat(o.to,"&success=false&status=").concat(t.status,"&message=").concat(t.responseText,"&cost=").concat(Date.now()-f)),a(e.getError("load error"),e.getBody())):(Object(u.default)("uploadOSSSuccess&from=".concat(o.from,"&to=").concat(o.to,"&success=true&status=").concat(t.status,"&cost=").concat(Date.now()-f)),n(e.getBody()))},"number"===typeof d&&d>0&&(t.timeout=d,t.ontimeout=function(){var t="Upload abort for exceeding time (timeout: ".concat(d,"ms)");return Object(u.default)("uploadOSSError&from=".concat(o.from,"&to=").concat(o.to,"&success=false&timeout=").concat(d)),a(e.getError(t),e.getBody())}),t.open("POST",l,!0),p&&"withCredentials"in t&&(t.withCredentials=!0),m)m.hasOwnProperty(g)&&null!==m[g]&&t.setRequestHeader(g,m[g]);t.send(h)}))}},{key:"cancel",value:function(){this.xhr.abort()}}])}(),g=n(21),v=n(13);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}window.__APLUS_ABRATE__;var w=window.IcbuIM.lib.requestHelper.mtopRequest,x=window.IcbuIM.lib.I18N.createI18N,C=window.IcbuIM.CommonUtil.safetyStringify,E=0,S=x({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),k={},T=0,_={paramsMap:{},setCommonParams:function(e,t,n){this.paramsMap[e]={traceId:n,index1:t.fromAliId,index2:t.toAliId,index3:t.from,index4:t.to}},getCommonParams:function(e){return b(b({},this.paramsMap[e]||{}),{},{operateType:"send"})}};function I(e){return"".concat(e,"-").concat(T++)}function O(e,t){var n=t.name.split("."),r="";return n.length>1&&(r=n[n.length-1]),"".concat(e,".").concat(r)}function A(e){return new Promise((function(t,n){var r=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,a=2097152,o=Math.ceil(e.size/a),i=0,s=new c.a.ArrayBuffer,l=new FileReader;function u(){var t=i*a,n=t+a>=e.size?e.size:t+a;l.readAsArrayBuffer(r.call(e,t,n))}l.onload=function(e){console.log("read chunk nr",i+1,"of",o),s.append(e.target.result),++i<o?u():t(s.end())},l.onerror=function(e){throw n(l.error),l.error},u()}))}function D(e,t,n){return M.apply(this,arguments)}function M(){return M=a()(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]&&s[3],o={singleChat:"1",groupChat:"2"},e.next=4,w({api:"mtop.alibaba.interaction.clouddisk.prepareSendFileWithGroup",v:"1.0",appKey:"24889839",data:{appKey:"OneChat",fileName:O(t,n),scene:JSON.stringify({sceneType:a?o.groupChat:o.singleChat,idType:"2",from:r.fromAliId,to:r.toAliId}),isToken:!1},ecode:1,dataType:"json"});case 4:return i=e.sent,e.abrupt("return",{result:i.data.result,code:i.data.code,msg:i.data.msg});case 6:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function N(e,t,n){return P.apply(this,arguments)}function P(){return P=a()(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]&&s[3],o={singleChat:"1",groupChat:"2"},e.next=4,w({api:"mtop.alibaba.interaction.clouddisk.prepareSendFileWithGroup",v:"1.0",appKey:"24889839",data:{appKey:"OneChat",fileName:O(t,n),scene:JSON.stringify({sceneType:a?o.groupChat:o.singleChat,idType:"2",from:r.fromAliId,to:r.toAliId}),isToken:!0},ecode:1,dataType:"json"});case 4:return i=e.sent,e.abrupt("return",{result:i.data.result,code:i.data.code,msg:i.data.msg});case 6:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function L(e,t,n){return R.apply(this,arguments)}function R(){return R=a()(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]&&s[3],o={singleChat:"1",groupChat:"2"},e.next=4,w({api:"mtop.alibaba.interaction.clouddisk.buildFileRelationWithGroup",v:"1.0",appKey:"24889839",data:{appKey:"OneChat",scene:JSON.stringify({sceneType:a?o.groupChat:o.singleChat,idType:"3",from:r.from,to:r.to}),node:JSON.stringify({nodeName:n.name,nodeSize:n.size,materialType:n.materialType||l.a.getType(n),md5:t,bucket:n.bucket,extend:n.extend}),params:JSON.stringify({source:"",needCardUrl:!0})},ecode:1,dataType:"json"}).catch((function(e){return e}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function F(e){var t=E;if(t>0&&e.size>t){var n=new Error("".concat(S.get("send.newFileMaxError")).replace("{max}",l.a.formatFileSize(t)));throw n.name="maxsize",function(e){Object(u.default)(b(b({ext:"MsgFileMaxSize"},_.getCommonParams(e.uid)),{},{bizData:{type:"original",totalSize:e.size,msgType:W(e),name:e.name?e.name.toLocaleLowerCase():""}}))}(e),n}}function j(e,t){if(null===t||void 0===t||!t.fromAliId||null===t||void 0===t||!t.toAliId)return!1;var n=t.fromAliId.toString(),r=t.toAliId.toString();return!(!n.trim()||!r.trim())||(Object(u.default)(b({ext:"MsgSendAccountError"},_.getCommonParams(e.uid))),!1)}function B(e,t){return!t&&e.size>=5242880}function z(e,t,n,r,a,o,i,s){return q.apply(this,arguments)}function q(){return q=a()(regeneratorRuntime.mark((function e(t,n,r,o,i,s,c,l){var d,p,f,m,g,y,w,x,S,T,M,N,P,R,z,q,U,H,Z,X;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d="",p=!0,_.setCommonParams(t.uid,n,s);try{F(t)}catch(e){console.error(e),i(e),p=!1}if(p){e.next=6;break}return e.abrupt("return");case 6:if(j(t,n)){e.next=8;break}return e.abrupt("return");case 8:return f=(new Date).getTime(),e.prev=9,e.next=12,A(t);case 12:d=e.sent,J(t,Date.now()-f,d),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(9),p=!1,J(t,Date.now()-f,d,e.t0),console.error(e.t0),i(e.t0);case 22:if(p){e.next=24;break}return e.abrupt("return");case 24:if(!B(t,l)){e.next=27;break}return V(t,n,r,o,i,s,c,d),e.abrupt("return");case 27:return m=Date.now(),e.prev=28,Object(u.default)(b({ext:"MsgPrepareStart"},_.getCommonParams(t.uid))),e.next=32,D(d,t,n,c);case 32:y=e.sent,g=y.result,w=y.code,Object(u.default)(b(b({ext:"MsgPrepareComplete",success:200===w?"YES":"NO",resultCode:w,resultMsg:y.message,costTime:Date.now()-m},_.getCommonParams(t.uid)),{},{bizData:{msgType:W(t).slice(0,-4),from:n.from,to:n.to}})),E=g.allowSendFileMaxSize,F(t),e.next=45;break;case 40:e.prev=40,e.t1=e.catch(28),"maxsize"!==e.t1.name&&Object(u.default)(b(b({ext:"MsgPrepareError",success:"NO",resultCode:v.d.UPLOAD_ERR,resultMsg:C(e.t1)},_.getCommonParams(t.uid)),{},{bizData:{from:n.from,to:n.to}})),p=!1,i(e.t1);case 45:if(p){e.next=47;break}return e.abrupt("return");case 47:if(x=Date.now(),e.prev=48,S="".concat(g.uploadFileDir).concat(O(d,t)),T=g.policyDTO,N=new h({file:t,filename:S,action:(M=void 0===T?{}:T).host,fromTo:n,data:{key:S,policy:M.encodedPolicy,OSSAccessKeyId:M.accessid,success_action_status:"200",callback:M.callbackBody,signature:M.signature},onProgress:function(e){r(e.percent)}}),P=I(d),k[P]=N,t.__uniqueKey=P,R=function(){var e=a()(regeneratorRuntime.mark((function e(t){var r,a,s,l,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.default)(b({ext:"startBuildSendFileRelation"},_.getCommonParams(t.uid))),r=Date.now(),e.next=4,L(d,t,n,c);case 4:a=e.sent,s=a.data||{},l=s.result,p=void 0===l?{}:l,f=s.code,m=s.msg,Object(u.default)(b(b({ext:"endBuildSendFileRelation",success:200===f?"YES":"NO",resultCode:f,resultMsg:m},_.getCommonParams(t.uid)),{},{bizData:{msgType:W(t).slice(0,-4),code:f,from:n.from,to:n.to},costTime:Date.now()-r})),200===f?o(b(b({},p),{},{downloadUrl:t.downloadUrl,traceId:_.getCommonParams(t.uid).traceId}),""):i(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G(t,d),!g.fileIsExist){e.next=64;break}return r(1),K(t,Date.now()-x,"exist",{code:"200",message:"upload success",traceId:s}),e.next=62,R(t);case 62:e.next=76;break;case 64:return e.prev=64,e.next=67,N.upload();case 67:return z=e.sent,K(t,Date.now()-x,"normal",{code:z.includes("CallbackFailed")?"200":v.d.UPLOAD_ERR,message:z,traceId:s}),e.next=71,R(t);case 71:e.next=76;break;case 73:e.prev=73,e.t2=e.catch(64),K(t,Date.now()-x,"normal",{code:v.d.UPLOAD_ERR,message:e.t2.message,traceId:s});case 76:e.next=88;break;case 78:if(e.prev=78,e.t3=e.catch(48),q=g&&g.policyDTO||{},U=e.t3.data,Z=(H=void 0===U?{}:U).code,X=H.msg,Object(u.default)(b(b({ext:"MsgUploadError",success:"NO",resultCode:Z||v.d.UPLOAD_ERR,resultMsg:"".concat(X," ").concat(C(e.t3))},_.getCommonParams(t.uid)),{},{bizData:{host:q.host||"empty",from:n.from,to:n.to}})),"cancel"!==e.t3.name){e.next=86;break}return e.abrupt("return");case 86:console.error(e.t3),i(e.t3);case 88:case"end":return e.stop()}}),e,null,[[9,16],[28,40],[48,78],[64,73]])}))),q.apply(this,arguments)}function V(e,t,n,r,a,o,i,s){return U.apply(this,arguments)}function U(){return U=a()(regeneratorRuntime.mark((function e(t,r,o,i,s,c,l,d){var p,f,m,h,y,w,x,S,T,A,D,M,P,R,j,B,z,q,V,U;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=Date.now(),m=!0,e.prev=2,Object(u.default)(b({ext:"MsgPrepareStart"},_.getCommonParams(t.uid))),e.next=6,N(d,t,r,l);case 6:h=e.sent,f=h.result,y=h.code,Object(u.default)(b(b({ext:"MsgPrepareComplete",success:200===y?"YES":"NO",resultCode:y,resultMsg:h.message,costTime:Date.now()-p},_.getCommonParams(t.uid)),{},{bizData:{msgType:W(t).slice(0,-4),from:r.from,to:r.to}})),E=f.allowSendFileMaxSize,F(t),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),"maxsize"!==e.t0.name&&Object(u.default)(b(b({ext:"MsgPrepareError",success:"NO",resultCode:v.d.UPLOAD_ERR,resultMsg:C(e.t0)},_.getCommonParams(t.uid)),{},{bizData:{from:r.from,to:r.to}})),m=!1,s(e.t0);case 19:if(m){e.next=21;break}return e.abrupt("return");case 21:return w=Date.now(),e.prev=22,x="".concat(f.uploadFileDir).concat(O(d,t)),S=f.policyDTO,T=void 0===S?{}:S,n.p=Object(g.e)("im-weblite-chat"),e.next=28,Promise.all([n.e(8),n.e(7)]).then(n.bind(null,566));case 28:if(A=e.sent,D=A.default,M=new D({config:{file:t,filename:x,action:T.host,fromTo:r,ossStsToken:f.ossStsToken,onProgress:function(e,t,n){o(e)}}}),P=I(d),k[P]=M,t.__uniqueKey=P,R=function(){var e=a()(regeneratorRuntime.mark((function e(t){var n,a,o,c,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.default)(b({ext:"startBuildSendFileRelation"},_.getCommonParams(t.uid))),n=Date.now(),e.next=4,L(d,t,r,l);case 4:a=e.sent,o=a.data||{},c=o.result,p=void 0===c?{}:c,f=o.code,m=o.msg,Object(u.default)(b(b({ext:"endBuildSendFileRelation",success:200===f?"YES":"NO",resultCode:f,resultMsg:m},_.getCommonParams(t.uid)),{},{bizData:{msgType:W(t).slice(0,-4),code:f,from:r.from,to:r.to},costTime:Date.now()-n})),200===f?i(b(b({},p),{},{downloadUrl:t.downloadUrl,traceId:_.getCommonParams(t.uid).traceId}),""):s(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G(t,d),!f.fileIsExist){e.next=43;break}return o(1),K(t,Date.now()-w,"exist",{code:"200",message:"upload success",traceId:c}),e.next=41,R(t);case 41:e.next=55;break;case 43:return e.prev=43,e.next=46,M.multipartUpload();case 46:return j=e.sent,K(t,Date.now()-w,"normal",{message:j,code:"200",traceId:c,md5:d}),e.next=50,R(t);case 50:e.next=55;break;case 52:e.prev=52,e.t1=e.catch(43),K(t,Date.now()-w,"normal",{code:v.d.UPLOAD_ERR,message:e.t1.message,traceId:c});case 55:e.next=67;break;case 57:if(e.prev=57,e.t2=e.catch(22),B=f&&f.policyDTO||{},z=e.t2.data,V=(q=void 0===z?{}:z).code,U=q.msg,Object(u.default)(b(b({ext:"MsgUploadError",success:"NO",resultCode:V||v.d.UPLOAD_ERR,resultMsg:"".concat(U," ").concat(C(e.t2))},_.getCommonParams(t.uid)),{},{bizData:{host:B.host||"empty",from:r.from,to:r.to}})),"cancel"!==e.t2.name){e.next=65;break}return e.abrupt("return");case 65:console.error(e.t2),s(e.t2);case 67:case"end":return e.stop()}}),e,null,[[2,14],[22,57],[43,52]])}))),U.apply(this,arguments)}function H(e,t){var n=e.__uniqueKey,r=k[n];r&&r.cancel()}function W(e){var t="fileCard";switch(e.type.slice(0,5)){case"image":t="imageCard";break;case"video":t="videoCard"}return t}function G(e,t){Object(u.default)(b(b({ext:"MsgStartUpload"},_.getCommonParams(e.uid)),{},{bizData:{type:"original",totalSize:e.size,msgType:W(e),md5:t}}))}function K(e,t,n,r){var a=e.name.match(/.*\.([a-zA-Z0-9]+)$/),o=a&&a[1]||"";Object(u.default)(b(b({ext:"MsgUploadComplete",success:"200"===r.code?"YES":"NO",resultCode:r.code,resultMsg:r.message},_.getCommonParams(e.uid)),{},{bizData:{type:"original",totalSize:e.size,msgType:W(e),uploadType:n,extension:o},costTime:t}))}function J(e,t,n,r){var a=function(e){return!!e&&!!e.includes("d41d8cd98f00b204e9800998ecf8427e")}(n),o=b(b({ext:"MsgMd5ComputeComplete",success:r?"NO":"YES",resultCode:r?v.d.UPLOAD_ERR:200},_.getCommonParams(e.uid)),{},{costTime:t,bizData:{type:"original",totalSize:e.size,isMd5Match:a,md5:n||"",msgType:W(e),name:e.name?e.name.toLocaleLowerCase():""}});r&&(o.resultMsg="".concat(C(r)," ").concat(C(e.error))),Object(u.default)(o)}function Z(e){for(var t=atob(e),n=new ArrayBuffer(t.length),r=new Uint8Array(n),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);var o=new Blob([r],{type:"image/jpeg"}),i=function(){for(var e=[],t=0;t<8;t++)e.push(String.fromCharCode(97+Math.floor(26*Math.random())));return e.join("")}(),s=new File([o],"".concat(i,".jpeg"),{type:"image/jpeg"});return s.uid=i,s}},function(e,t){e.exports=IcbuIM.ReactDOM16},function(e,t,n){var r=n(307),a=n(308),o=n(158),i=n(309);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=IcbuIM.dva1},function(e,t,n){"use strict";n.r(t);var r=n(25),a=n(10),o=window.IcbuIM.IMBaaSSDK.default,i=window.IcbuIM.IMSDKHelper.isWorkbench;t.default=function(e,t){switch(e){case"popWebCtrl":o.getMessageService().doCardAction({cmd:"popWebCtrl",param:JSON.stringify(t)});break;case"plugin":if(i)o.getMessageService().doCardAction({cmd:"openPlugin",param:JSON.stringify(t)});else{var n=Object(a.isWhiteListUrl)(t.url)?Object(r.transferDomain)(t.url):t.url;window.open(n,"_blank")}break;default:if(i)o.getMessageService().openUrl({url:encodeURIComponent(t)});else{var s=Object(a.isWhiteListUrl)(t)?Object(r.transferDomain)(t):t;window.open(s,"_blank")}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return["compare1","compare2","compare3"].includes(window.__APLUS_ABRATE__.AISummaryOpt)}},function(e,t,n){var r=n(312),a=n(313),o=n(158),i=n(314);e.exports=function(e){return r(e)||a(e)||o(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(222)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(82),t),a(n(56),t),a(n(362),t)},function(e,t,n){var r;window,r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=12)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&r.test(e)};var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,n){e.exports=t},function(e,t,n){e.exports=function(){"use strict";function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var a=window.document,o=a.documentElement,i=function(e){return Array.prototype.slice.call(e)},s={},c=null,l=500,u=300,d=10,p="ontouchstart"in o,f={tap:"click"},m="dx_",h=function(e,t){return Math.abs(e)>Math.abs(t)?e<0?"left":"right":t<0?"up":"down"};function g(){o.addEventListener("touchstart",w,!1)}function v(e,t){for(var n=e;n;){if(n.contains(t)||n===t)return n;n=n.parentNode}return null}function y(t,n,r){if(t){var o=a.createEvent("HTMLEvents");if(o.initEvent(n,!0,!0),"object"===e(r))for(var i in r)o[i]=r[i];t.dispatchEvent(o)}}function b(e,t,n,r,a,o,i,s){var c=Math.atan2(s-o,i-a)-Math.atan2(r-t,n-e),l=Math.sqrt((Math.pow(s-o,2)+Math.pow(i-a,2))/(Math.pow(r-t,2)+Math.pow(n-e,2))),u=[a-l*e*Math.cos(c)+l*t*Math.sin(c),o-l*t*Math.cos(c)-l*e*Math.sin(c)];return{rotate:c,scale:l,translate:u,matrix:[[l*Math.cos(c),-l*Math.sin(c),u[0]],[l*Math.sin(c),l*Math.cos(c),u[1]],[0,0,1]]}}function w(e){var t,n,r,a;function c(n,r){return function(){"tapping"===t.status&&(t.status="longTapping",y(n,m+"longtap",{touch:r,touches:e.touches,changedTouches:e.changedTouches,touchEvent:e})),clearTimeout(t.longTapHandler),t.longTapHandler=null}}0===Object.keys(s).length&&(o.addEventListener("touchmove",x,!1),o.addEventListener("touchend",C,!1),o.addEventListener("touchcancel",E,!1));for(var u=0;u<e.changedTouches.length;u++){for(var d in r={},n=e.changedTouches[u])r[d]=n[d];t={startTouch:r,startTime:Date.now(),status:"tapping",element:e.srcElement||e.target,longTapHandler:setTimeout(c(e.srcElement||e.target,e.changedTouches[u]),l)},s[n.identifier]=t}if(2===Object.keys(s).length){for(var p in a=[],s)a.push(s[p].element);y(v(a[0],a[1]),m+"dualtouchstart",{touches:i(e.touches),touchEvent:e})}}function x(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],r=s[n.identifier];if(!r)return;r.lastTouch||(r.lastTouch=r.startTouch),r.lastTime||(r.lastTime=r.startTime),r.velocityX||(r.velocityX=0),r.velocityY||(r.velocityY=0),r.duration||(r.duration=0);var a=Date.now()-r.lastTime,o=(n.clientX-r.lastTouch.clientX)/a,i=(n.clientY-r.lastTouch.clientY)/a,c=70;for(var l in a>c&&(a=c),r.duration+a>c&&(r.duration=c-a),r.velocityX=(r.velocityX*r.duration+o*a)/(r.duration+a),r.velocityY=(r.velocityY*r.duration+i*a)/(r.duration+a),r.duration+=a,r.lastTouch={},n)r.lastTouch[l]=n[l];r.lastTime=Date.now();var u=n.clientX-r.startTouch.clientX,p=n.clientY-r.startTouch.clientY,f=h(u,p),g=Math.sqrt(Math.pow(u,2)+Math.pow(p,2));("tapping"===r.status||"longTapping"===r.status)&&g>d&&(r.status="panning",y(r.element,m+"panbegin",{touch:n,touches:e.touches,changedTouches:e.changedTouches,touchEvent:e,direction:f})),"panning"===r.status&&(r.panTime=Date.now(),y(r.element,m+"panmove",{displacementX:u,displacementY:p,touch:n,direction:f,touches:e.touches,changedTouches:e.changedTouches,touchEvent:e}))}if(2===Object.keys(s).length){for(var w,x=[],C=[],E=[],S=0;S<e.touches.length;S++){var k=e.touches[S],T=s[k.identifier];T&&T.startTouch&&x.push([T.startTouch.clientX,T.startTouch.clientY]),C.push([k.clientX,k.clientY])}for(var _ in s)E.push(s[_].element);try{w=b(x[0][0],x[0][1],x[1][0],x[1][1],C[0][0],C[0][1],C[1][0],C[1][1]),y(v(E[0],E[1]),m+"dualtouch",{transform:w,touches:e.touches,touchEvent:e})}catch(e){}}}function C(e){if(2===Object.keys(s).length){var t=[];for(var n in s)t.push(s[n].element);y(v(t[0],t[1]),m+"dualtouchend",{touches:i(e.touches),touchEvent:e})}for(var r=0;r<e.changedTouches.length;r++){var a=e.changedTouches[r],l=a.identifier,d=s[l];if(d){if(d.longTapHandler&&(clearTimeout(d.longTapHandler),d.longTapHandler=null),"tapping"===d.status&&(d.timestamp=Date.now(),y(d.element,m+"tap",{touch:a,touchEvent:e}),c&&d.timestamp-c.timestamp<u&&y(d.element,m+"doubletap",{touch:a,touchEvent:e}),c=d),"panning"===d.status){var p=Date.now(),f=p-d.startTime,g=a.clientX-d.startTouch.clientX,b=a.clientY-d.startTouch.clientY,w=h(g,b),S=Math.sqrt(d.velocityY*d.velocityY+d.velocityX*d.velocityX)>.5&&p-d.lastTime<100,k={duration:f,isflick:S,velocityX:d.velocityX,velocityY:d.velocityY,displacementX:g,displacementY:b,touch:a,direction:w,touches:e.touches,changedTouches:e.changedTouches,touchEvent:e};y(d.element,m+"panend",k),S&&y(d.element,m+"swipe",k)}delete s[l]}}0===Object.keys(s).length&&(o.removeEventListener("touchmove",x,!1),o.removeEventListener("touchend",C,!1),o.removeEventListener("touchcancel",E,!1))}function E(e){if(2===Object.keys(s).length){var t=[];for(var n in s)t.push(s[n].element);y(v(t[0],t[1]),m+"dualtouchend",{touches:i(e.touches),touchEvent:e})}for(var r=0;r<e.changedTouches.length;r++){var a=e.changedTouches[r],c=a.identifier,l=s[c];l&&(l.longTapHandler&&(clearTimeout(l.longTapHandler),l.longTapHandler=null),"panning"===l.status&&y(l.element,m+"panend",{touch:a,touches:e.touches,changedTouches:e.changedTouches,touchEvent:e}),delete s[c])}0===Object.keys(s).length&&(o.removeEventListener("touchmove",x,!1),o.removeEventListener("touchend",C,!1),o.removeEventListener("touchcancel",E,!1))}var S=function(){function e(n,r,a,o){var i=this;t(this,e),this._pc_mode=a,this.enable_tap_delay=o,this._pc_mode||g(),this.el=n;var s=function(e){var t=i.processEventType(e);i.el&&i.el.addEventListener(t,(function(t){t.stopPropagation(),r[e](t)}))};for(var c in r)s(c)}return r(e,[{key:"on",value:function(e,t){var n=this,r=this.processEventType(e);this.el.addEventListener(r,(function(r){if(r.stopPropagation(),n.enable_tap_delay&&"tap"===e){var a=n._pc_mode?0:80;setTimeout((function(){t(r)}),a)}else t(r)}))}},{key:"processEventType",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),t=m;return p&&!this._pc_mode||!f[e]||(e=f[e],t=""),e=t+e}}]),e}();return S}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e)};var r,a=n(11),o=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&"text"===t)return["-webkit-text","text"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]};var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),a.hasOwnProperty(e)&&(n[a[e]]=r[t]||t)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},a={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&s.test(t))return i.map((function(e){return t.replace(s,(function(t){return e+t}))}))};var r,a=n(1),o=(r=a)&&r.__esModule?r:{default:r},i=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(Object.prototype.hasOwnProperty.call(r,e))for(var a=r[e],o=0,i=a.length;o<i;++o)n[a[o]]=t};var r={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,a=/^ms-/,o={};function i(e){return"-"+e.toLowerCase()}t.default=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(r,i);return o[e]=a.test(t)?"-"+t:t}},function(e,t,n){"use strict";n.r(t);var r=document.createElement("div");r.style.display="-webkit-box",r.style.display="-moz-box",r.style.display="-webkit-flex",r.style.display="flex";var a=r.style.display;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t[t.length-1]||"";return"display"===e&&t.indexOf(a)>-1&&(n=a),n}var i=n(0),s=n(3),c=n.n(s),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u="object"===("undefined"===typeof performance?"undefined":l(performance))&&performance.now;i.utils.deepGet;var d=i.utils.isString,p=function(e){return"object"===("undefined"===typeof e?"undefined":l(e))},f=i.utils.isEqual,m=i.utils.numTrunc,h=function(e){return!("false"===e||!1===e||"0"===e||!e)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(i.getGlobalConfig)("forcePcMode"),r=Object(i.getGlobalConfig)("enableTapDelay");return new c.a(e,t,n,r)},v=function(e){return null===e.offsetParent&&0===e.offsetHeight},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"leftTop",t=e.search(/[A-Z]/),n=void 0,r=void 0;return-1!==t?(n=e.slice(0,t),r=e.slice(t).toLowerCase()):n=r=e,{x:n,y:r}},b=function(e){return!0===e||"true"===e||"True"===e||"1"===e||1===e},w=function(e){return!1===e||"false"===e||"False"===e||"0"===e||0===e},x=function(e){return e&&e.getBoundingClientRect?e.getBoundingClientRect():null},C=/android/i.test(navigator.userAgent);function E(e){return e.charAt(0).toUpperCase()+e.slice(1)}function S(e,t,n){if(e.hasOwnProperty(t)){for(var r={},a=e[t],o=E(t),i=Object.keys(n),s=0;s<i.length;s++){var c=i[s];if(c===t)for(var l=0;l<a.length;l++)r[a[l]+o]=n[t];r[c]=n[c]}return r}return n}function k(e,t,n,r,a){for(var o=0,i=e.length;o<i;++o){var s=e[o](t,n,r,a);if(s)return s}}function T(e,t){-1===e.indexOf(t)&&e.push(t)}function _(e,t){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)T(e,t[n]);else T(e,t)}function I(e){return e instanceof Object&&!Array.isArray(e)}function O(e){var t=e.prefixMap,n=e.plugins;return function e(r){for(var a in r){var o=r[a];if(I(o))r[a]=e(o);else if(Array.isArray(o)){for(var i=[],s=0,c=o.length;s<c;++s)_(i,k(n,a,o[s],r,t)||o[s]);i.length>0&&(r[a]=i)}else{var l=k(n,a,o,r,t);l&&(r[a]=l),r=S(t,a,r)}}return r}}var A=["Webkit"],D=["ms"],M=["Webkit","ms"],N={plugins:[],prefixMap:{appearance:["Webkit","Moz"],textEmphasisPosition:A,textEmphasis:A,textEmphasisStyle:A,textEmphasisColor:A,boxDecorationBreak:A,maskImage:A,maskMode:A,maskRepeat:A,maskPosition:A,maskClip:A,maskOrigin:A,maskSize:A,maskComposite:A,mask:A,maskBorderSource:A,maskBorderMode:A,maskBorderSlice:A,maskBorderWidth:A,maskBorderOutset:A,maskBorderRepeat:A,maskBorder:A,maskType:A,textDecorationStyle:A,textDecorationSkip:A,textDecorationLine:A,textDecorationColor:A,userSelect:["Webkit","Moz","ms"],backdropFilter:A,fontKerning:A,scrollSnapType:M,scrollSnapPointsX:M,scrollSnapPointsY:M,scrollSnapDestination:M,scrollSnapCoordinate:M,clipPath:A,shapeImageThreshold:A,shapeImageMargin:A,shapeImageOutside:A,filter:A,hyphens:M,flowInto:M,flowFrom:M,breakBefore:M,breakAfter:M,breakInside:M,regionFragment:M,writingMode:M,textOrientation:A,tabSize:["Moz"],fontFeatureSettings:A,columnCount:A,columnFill:A,columnGap:A,columnRule:A,columnRuleColor:A,columnRuleStyle:A,columnRuleWidth:A,columns:A,columnSpan:A,columnWidth:A,wrapFlow:D,wrapThrough:D,wrapMargin:D,textSizeAdjust:M}},P=["-webkit-","-moz-",""],L={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0},R=n(1),F=n.n(R),j=["-webkit-",""],B=["-webkit-",""],z={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]},q={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},V={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"},U=["-webkit-","-moz-",""],H=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi,W=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function G(e){return"number"===typeof e&&!isNaN(e)}function K(e){return"string"===typeof e&&e.includes("/")}var J=["center","end","start","stretch"],Z={"inline-grid":["-ms-inline-grid","inline-grid"],grid:["-ms-grid","grid"]},X={alignSelf:function(e,t){J.indexOf(e)>-1&&(t.msGridRowAlign=e)},gridColumn:function(e,t){if(G(e))t.msGridColumn=e;else if(K(e)){var n=e.split("/"),r=W(n,2),a=r[0],o=r[1];X.gridColumnStart(+a,t);var i=o.split(/ ?span /),s=W(i,2),c=s[0],l=s[1];""===c?X.gridColumnEnd(+a+ +l,t):X.gridColumnEnd(+o,t)}else X.gridColumnStart(e,t)},gridColumnEnd:function(e,t){var n=t.msGridColumn;G(e)&&G(n)&&(t.msGridColumnSpan=e-n)},gridColumnStart:function(e,t){G(e)&&(t.msGridColumn=e)},gridRow:function(e,t){if(G(e))t.msGridRow=e;else if(K(e)){var n=e.split("/"),r=W(n,2),a=r[0],o=r[1];X.gridRowStart(+a,t);var i=o.split(/ ?span /),s=W(i,2),c=s[0],l=s[1];""===c?X.gridRowEnd(+a+ +l,t):X.gridRowEnd(+o,t)}else X.gridRowStart(e,t)},gridRowEnd:function(e,t){var n=t.msGridRow;G(e)&&G(n)&&(t.msGridRowSpan=e-n)},gridRowStart:function(e,t){G(e)&&(t.msGridRow=e)},gridTemplateColumns:function(e,t){t.msGridColumns=e},gridTemplateRows:function(e,t){t.msGridRows=e},justifySelf:function(e,t){J.indexOf(e)>-1&&(t.msGridColumnAlign=e)}},Y=["-webkit-",""],Q={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]},$=["-webkit-","-moz-",""],ee={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},te={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0},ne=n(4),re=n.n(ne),ae={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},oe={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};O({prefixMap:N.prefixMap,plugins:[function(e,t){if("string"===typeof t&&"text"===t)return["-webkit-text","text"]},function(e,t){if("string"===typeof t&&!F()(t)&&t.indexOf("cross-fade(")>-1)return j.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))},function(e,t){if("cursor"===e&&L.hasOwnProperty(t))return P.map((function(e){return e+t}))},function(e,t){if("string"===typeof t&&!F()(t)&&t.indexOf("filter(")>-1)return B.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))},function(e,t,n){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),V.hasOwnProperty(e)&&(n[V[e]]=q[t]||t)},function(e,t){if("string"===typeof t&&!F()(t)&&H.test(t))return U.map((function(e){return t.replace(H,(function(t){return e+t}))}))},function(e,t,n){if("display"===e&&t in Z)return Z[t];e in X&&(0,X[e])(t,n)},function(e,t){if("string"===typeof t&&!F()(t)&&t.indexOf("image-set(")>-1)return Y.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))},function(e,t,n){if(Object.prototype.hasOwnProperty.call(Q,e))for(var r=Q[e],a=0,o=r.length;a<o;++a)n[r[a]]=t},function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},function(e,t){if(ee.hasOwnProperty(e)&&te.hasOwnProperty(t))return $.map((function(e){return e+t}))},function(e,t,n,r){if("string"===typeof t&&ae.hasOwnProperty(e)){var a=function(e,t){if(F()(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,a=n.length;r<a;++r){var o=n[r],i=[o];for(var s in t){var c=re()(s);if(o.indexOf(c)>-1&&"order"!==c)for(var l=t[s],u=0,d=l.length;u<d;++u)i.unshift(o.replace(c,oe[l[u]]+c))}n[r]=i.join(",")}return n.join(",")}(t,r),o=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return o;var i=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?i:(n["Webkit"+E(e)]=o,n["Moz"+E(e)]=i,a)}},function(e,t){if("display"===e&&z.hasOwnProperty(t))return z[t]}]});var ie=n(5),se=n.n(ie),ce=n(6),le=n.n(ce),ue=n(7),de=n.n(ue),pe=n(8),fe=n.n(pe),me=n(9),he=n.n(me),ge=n(10),ve=n.n(ge),ye=["Webkit"],be=O({plugins:[se.a,le.a,de.a,fe.a,he.a,ve.a],prefixMap:{appearance:ye,userSelect:ye,textEmphasisPosition:ye,textEmphasis:ye,textEmphasisStyle:ye,textEmphasisColor:ye,boxDecorationBreak:ye,clipPath:ye,maskImage:ye,maskMode:ye,maskRepeat:ye,maskPosition:ye,maskClip:ye,maskOrigin:ye,maskSize:ye,maskComposite:ye,mask:ye,maskBorderSource:ye,maskBorderMode:ye,maskBorderSlice:ye,maskBorderWidth:ye,maskBorderOutset:ye,maskBorderRepeat:ye,maskBorder:ye,maskType:ye,textDecorationStyle:ye,textDecorationSkip:ye,textDecorationLine:ye,textDecorationColor:ye,filter:ye,fontFeatureSettings:ye,breakAfter:ye,breakBefore:ye,breakInside:ye,columnCount:ye,columnFill:ye,columnGap:ye,columnRule:ye,columnRuleColor:ye,columnRuleStyle:ye,columnRuleWidth:ye,columns:ye,columnSpan:ye,columnWidth:ye,writingMode:ye,flex:ye,flexBasis:ye,flexDirection:ye,flexGrow:ye,flexFlow:ye,flexShrink:ye,flexWrap:ye,alignContent:ye,alignItems:ye,alignSelf:ye,justifyContent:ye,order:ye,transform:ye,transformOrigin:ye,transformOriginX:ye,transformOriginY:ye,backfaceVisibility:ye,perspective:ye,perspectiveOrigin:ye,transformStyle:ye,transformOriginZ:ye,animation:ye,animationDelay:ye,animationDirection:ye,animationFillMode:ye,animationDuration:ye,animationIterationCount:ye,animationName:ye,animationPlayState:ye,animationTimingFunction:ye,backdropFilter:ye,fontKerning:ye,scrollSnapType:ye,scrollSnapPointsX:ye,scrollSnapPointsY:ye,scrollSnapDestination:ye,scrollSnapCoordinate:ye,textSizeAdjust:ye,shapeImageThreshold:ye,shapeImageMargin:ye,shapeImageOutside:ye,hyphens:ye,flowInto:ye,flowFrom:ye,regionFragment:ye,borderImage:ye,borderImageOutset:ye,borderImageRepeat:ye,borderImageSlice:ye,borderImageSource:ye,borderImageWidth:ye,transitionDelay:ye,transitionDuration:ye,transitionProperty:ye,transitionTimingFunction:ye}}),we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ce=function(){},Ee=function(e){return e&&"_"===e[0]},Se=function(e){return"children"!==e&&"dinamic"!==e},ke=function(){try{var e=navigator.userAgent.toLowerCase(),t=0;return e.indexOf("android")>0&&(t=(e.match(/android [\d._]+/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),t=parseInt(t.split(".")[0])),t}catch(e){}return 0}(),Te=function(){try{var e=navigator.userAgent;if(/iphone/i.test(e)||/ipad/i.test(e)){var t=e.match(/ os (\d+)_+/i);if(t)return parseInt(t[1])}}catch(e){console.log(e)}return null}(),_e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(r.getStyles=(n=Ie.call(r,"styles"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.styleParser(n(e))}),r.setStyles=Oe.call(r,"styles"),r.getAttrs=Ie.call(r,"attrs"),r.setAttrs=Oe.call(r,"attrs"),r.getEvents=Ie.call(r,"events"),r.setEvents=Oe.call(r,"events"),r._enableLayoutNG=i.getGlobalConfig("enableLayoutNG"),r.isRTL="rtl"===document.dir,r.setStyles({position:"relative",display:"flex"}),r.layoutProps=Me.call(r),r.layoutProps){var a=r.layoutProps,o=a._viewName,s=a.childrenLen;if("FrameLayout"===o){var c=!0;i.getGlobalConfig("enableExperimentalRender")&&1===s&&(c=!1);var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._idIndex,n=e._tplContext;if(!t||!n||!n.componentIndexSet)return!1;var r=n.componentIndexSet[t],a=n.componentIndexSet[t-1];return!(!r||!a||r.pid!==a.id)}(e),u=!e.gravity||/leftTop/.test(e.gravity);l&&u&&(c=!1),i.utils&&i.utils.env&&!i.utils.env.isIOS&&ke<=6&&(c=!0),c?(r.setStyles({position:"absolute"}),!e.gravity&&Te&&Te<=10&&r.setStyles({left:0})):r.setStyles({alignSelf:"flex-start"})}else"LinearLayout"===o?r._enableLayoutNG?r.props.width&&"match_parent"!==r.props.width&&parseFloat(r.props.width)>0&&r.setStyles({flexShrink:0}):r.setStyles({flexShrink:0,flexGrow:0}):"FrameLayoutNG"===o&&r.setStyles({gridArea:"1 / 1 / 2 / 2",alignSelf:"start"})}return Le.call(r),Pe.call(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xe(t,[{key:"render",value:function(){var e=this.props;return Ae.call(this),i.h("div",we({key:e._id,"view-name":this.getViewName(),style:this.getStyles()},this.getAttrs()),"gone"!==e.visibility&&this.renderView&&this.renderView(e))}},{key:"getChildren",value:function(){var e=this.props.children;return Array.isArray(e)?e:p(e)?[e]:[]}},{key:"getTemplateId",value:function(){return this.props._tplId}},{key:"getViewName",value:function(){return this.props._viewName}},{key:"styleParser",value:function(e){var t=function(e){return be(e)}(e);for(var n in t){var r=t[n];Array.isArray(r)&&(t[n]=o(n,r))}return t}},{key:"propParser",value:function(e){var t=this,n=[],r=e||this.props;for(var a in r){var o=r[a];if(!Ee(a)&&Se(a)){var i=this[a];if(!i)continue;if(Array.isArray(i)&&i.length>1)i.slice(0,-1).forEach((function(e){var a=t[e];if(-1===n.indexOf(e)&&(o=a)&&"function"===typeof o){var o,i=r[e];a.call(t,i),n.push(e)}})),i.slice(-1)[0].call(this,o);else{if(-1!==n.indexOf(a))continue;i.call(this,o,r),n.push(a)}}}}}]),t}(i.Component);function Ie(e){var t=this;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return Object.assign({},t[e][n])||{}}}function Oe(e){var t=this;return this[e]=this[e]||{},function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";t[e][r]=Object.assign(t[e][r]||{},n)}}function Ae(){for(var e=this.props,t=e._id,n=e._tplContext.componentIndexSet,r=n.length-1;r>=0;r--)if(n[r].id===t)return void(n[r].context=this)}function De(){var e=this,t=this.props._tplContext.lifeCycles.componentWillBindEvent,n=i.driver.findDOMNode(this);if(!n)return!1;var r=this.getEvents();if(Object.keys(r).length>0){var a=g(n),o=function(o){var i=r[o];t.call(e,i,n),i&&a.on(o,(function(t){if(!e._disable_event){var n=e.getEvents();(i=n[o]).handler(t)}}))};for(var s in r)o(s)}}function Me(){for(var e=this.props,t=e._tplContext,n=e._id,r=t.componentIndexSet,a=r.length-1;a>=0;a--){var o=r[a],i=o.id,s=o.pid;if(i===n){if(!s)break;for(var c=a-1;c>=0;c--){var l=r[c],u=l.id,d=l.props;if(s===u)return d}}}return null}var Ne={};function Pe(){var e=this;if(i.getGlobalConfig("enableLayoutNG"))this.calcLayoutSize=Ce;else{var t=i.getGlobalConfig("shouldSplitLayoutTask");this.calcLayoutSize=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,r=e.props._tplContext,a=r.componentIndexSet,o=(r.lifeCycles,e.getTemplateId()),i=Ne[o];i&&window.clearTimeout(i),Ne[o]=setTimeout((function(){for(var e=function(e){var r=a[e].context;if(r&&r.dynamicCalcSize)if(t){var o=function(e){var t=[],n=void 0;return function(r){t.push(r),n&&window.clearTimeout(n),n=setTimeout((function(){!function n(){requestAnimationFrame((function(r){for(;t.length>0&&(t.shift()(),!((u?performance.now():r)-r>=15)););t.length>0?n():e()}))}()}),0)}}(n);o((function(){return r.dynamicCalcSize()}))}else r.dynamicCalcSize()},r=a.length-1;r>=0;r--)e(r);t||n()}),0)}}}function Le(){var e=this,t={shouldComponentUpdate:function(t,n){return!(!n&&!t.children&&f(t,e.props))&&(e.propParser(t),!0)},componentWillMount:function(){e.propParser()},componentDidMount:function(){var t=e.props._tplContext,n=t.lifeCycles,r=t.shadow;n.componentFinishFirstPaint.call(e,e.dxCompId,i.driver.findDOMNode(e),r,{bindData:e._bindData}),i.getGlobalConfig("disableEventBinding")||De.call(e)},componentWillUnmount:Ce,componentWillReceiveProps:Ce,componentWillUpdate:Ce,componentDidUpdate:function(t,n){e.layoutProps&&e.layoutProps.listData&&e.props._id!==t._id&&De.call(e)}},n=function(n){var r=t[n],a=e[n]||function(){};e[n]=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=r.apply(e,n);return a.apply(e,n)||i}};for(var r in t)n(r)}_e.defaultProps={};var Re=_e,Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ze=i.utils.env.isIOS,qe=["LinearLayout","FlexLayout","HFlexLayout"];function Ve(){return"FlexLayout"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})._viewName}var Ue=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=Be(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.width=["marginLeft","marginRight","paddingLeft","paddingRight",function(e){var t=this.getStyles(),n=t.marginLeft,r=t.marginRight,a=t.paddingLeft,o=t.paddingRight,s=t.position,c=this.layoutProps||{},l=c.paddingLeft,u=c.paddingRight,d=c._viewName,p=c.orientation,f=c.childrenLen,m={};switch(e){case"match_parent":if(this._enableLayoutNG&&"LinearLayout"===d&&"horizontal"===p){m.flexGrow=1;break}if(m.width="100%",n||r||l||u){var h=n||"0px",g=r||"0px",v=i.unitParser(l)||"0px",y=i.unitParser(u)||"0px";m.maxWidth="absolute"===s?"calc(100% - "+h+" - "+g+" - "+v+" - "+y+")":"calc(100% - "+h+" - "+g+")"}break;case"match_content":if(this._enableLayoutNG){if("LinearLayout"===d&&"horizontal"===p&&f>1){var b=void 0!==this.props.weight,w=this.props.maxWidth&&parseFloat(this.props.maxWidth)>=0;b||w||(m.minWidth="fit-content")}"LinearLayout"===d&&"vertical"===p&&(m.maxWidth="-webkit-fill-available"),m.width="fit-content";break}ze&&"LinearLayout"===this.props._viewName&&(a||o)||(m.width="fit-content");break;default:var x=i.unitParser(e);"0px"===x&&"undefined"!==this.props.weight||(m.width=x)}this.setStyles(m)}],r.height=["marginTop","marginBottom",function(e){var t=this.getStyles(),n=t.marginTop,r=t.marginBottom,a={};switch(e){case"match_parent":var o=this.layoutProps||{},s=o._viewName,c=o.height,l=o.childGravity;if(C&&"LinearLayout"===s&&"match_content"===c){l&&(a.alignSelf="stretch");break}a.height="100%",(n||r)&&(a.maxHeight="calc(100% - "+(n||"0px")+" - "+(r||"0px")+")");break;case"match_content":a.height="auto";break;default:a.height=i.unitParser(e)}this.setStyles(a)}],r.onTap=["enabled",function(e){this.setEvents({tap:e}),this.setAttrs({className:"dx-event-node"+(this._disable_event?"-disabled":"")})}],Be(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fe(t,[{key:"dx-compid",value:function(e){this.setAttrs({"dx-compid":e})}},{key:"userId",value:function(e){this.dxCompId=e,this.setAttrs({"data-comp-id":e})}},{key:"minWidth",value:function(e){this.setStyles({minWidth:i.unitParser(e)})}},{key:"minHeight",value:function(e){this.setStyles({minHeight:i.unitParser(e)})}},{key:"marginLeft",value:function(e){this.setStyles(je({},this.isRTL?"marginRight":"marginLeft",i.unitParser(e)))}},{key:"marginRight",value:function(e){this.setStyles(je({},this.isRTL?"marginLeft":"marginRight",i.unitParser(e)))}},{key:"marginTop",value:function(e){this.setStyles({marginTop:i.unitParser(e)})}},{key:"marginBottom",value:function(e){this.setStyles({marginBottom:i.unitParser(e)})}},{key:"gravity",value:function(e){if(this.layoutProps){var t={},n=this.layoutProps,r=n._viewName,a=n.orientation,o=n.childrenLen,s=n.paddingTop,c=n.paddingLeft,l=n.paddingRight,u=n.paddingBottom,d=y(e),p=d.x,f=d.y;if("FrameLayout"===r){if(!i.getGlobalConfig("enableExperimentalRender")||"undefined"===o||o>1){var m,h={center:"0px"};je(m={},"center"===p?"left":p,h[p]||0),je(m,"center"===f?"top":f,h[f]||0),t=m,"absolute"===(this.getStyles()||{}).position&&(0==t.top&&s&&(t.top=i.unitParser(s)),0==t.bottom&&u&&(t.bottom=i.unitParser(u)),0==t.left&&c&&(t.left=i.unitParser(c)),0==t.right&&l&&(t.right=i.unitParser(l)))}}else if("LinearLayout"===r){var g={left:"flex-start",top:"flex-start",right:"flex-end",bottom:"flex-end",center:"center"},v=[g[p],g[f]];a&&"horizontal"!==a||(v=v.reverse()),t={alignSelf:v[0],justifySelf:v[1]}}else if("FrameLayoutNG"===r){var b={left:"start",top:"start",right:"end",bottom:"end",center:"center"};t={alignSelf:b[f],justifySelf:b[p]}}this.setStyles(t)}}},{key:"backgroundColor",value:function(e){this.setStyles({backgroundColor:i.colorParser(e)})}},{key:"backgroundGradient",value:function(e){e&&this.setStyles({backgroundImage:e})}},{key:"alpha",value:function(e){this.setStyles({opacity:e})}},{key:"visibility",value:function(e){var t={display:this._default_display||"flex"};switch(e){case"gone":t.display="none";break;case"invisible":t.visibility="hidden";break;case"visible":t.visibility="visible"}this.setStyles(t)}},{key:"cornerRadius",value:function(e){this.setStyles({borderRadius:i.unitParser(e)})}},{key:"cornerRadiusLeftTop",value:function(e){this.setStyles({borderTopLeftRadius:i.unitParser(e)})}},{key:"cornerRadiusRightTop",value:function(e){this.setStyles({borderTopRightRadius:i.unitParser(e)})}},{key:"cornerRadiusLeftBottom",value:function(e){this.setStyles({borderBottomLeftRadius:i.unitParser(e)})}},{key:"cornerRadiusRightBottom",value:function(e){this.setStyles({borderBottomRightRadius:i.unitParser(e)})}},{key:"borderWidth",value:function(e,t){var n=(t||this.props).borderColor,r=i.colorParser(n),a=i.unitParser(e);parseFloat(a)<1&&(a="1px"),this.setStyles({boxShadow:"inset 0 0 0 "+a+" "+r})}},{key:"accessibilityText",value:function(e){try{if(/&#\d+;/.test(e)){var t=e&&e.replace(/&#(\d+);/g,(function(e,t){return"%u"+Number(t).toString(16)}));e=unescape(t)}}catch(e){console.error(e)}this.setAttrs({"aria-label":e})}},{key:"focusable",value:function(e){}},{key:"weight",value:function(e){if(this.layoutProps){var t=this.layoutProps._viewName;-1!==qe.indexOf(t)&&this.setStyles({flex:e})}}},{key:"clipTopLeftRadius",value:function(e){this.setStyles({overflow:"hidden",borderTopLeftRadius:i.unitParser(e)})}},{key:"clipTopRightRadius",value:function(e){this.setStyles({overflow:"hidden",borderTopRightRadius:i.unitParser(e)})}},{key:"clipBottomLeftRadius",value:function(e){this.setStyles({overflow:"hidden",borderBottomLeftRadius:i.unitParser(e)})}},{key:"clipBottomRightRadius",value:function(e){this.setStyles({overflow:"hidden",borderBottomRightRadius:i.unitParser(e)})}},{key:"order",value:function(e){Ve(this.layoutProps)&&this.setStyles({order:e})}},{key:"flexGrow",value:function(e){Ve(this.layoutProps)&&this.setStyles({flexGrow:e})}},{key:"flexShrink",value:function(e){Ve(this.layoutProps)&&this.setStyles({flexShrink:e})}},{key:"flexBasis",value:function(e){Ve(this.layoutProps)&&this.setStyles({flexBasis:e})}},{key:"flex",value:function(e){Ve(this.layoutProps)&&this.setStyles({flex:e})}},{key:"alignSelf",value:function(e){Ve(this.layoutProps)&&this.setStyles({alignSelf:e})}},{key:"webEventDatasource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="";try{t=JSON.stringify(e)}catch(e){i.utils.log.warn(e)}this.setAttrs({"data-dx-event-datasource":t,className:"dx-event-node"})}},{key:"webEventDataSource",value:function(e){this.webEventDatasource(e)}},{key:"onBindData",value:function(e){this._bindData=e.handler()}},{key:"onLongTap",value:function(e){this.setEvents({longTap:e})}},{key:"onPanBegin",value:function(e){this.setEvents({panBegin:e})}},{key:"onPanMove",value:function(e){this.setEvents({panMove:e})}},{key:"onPanEnd",value:function(e){this.setEvents({panEnd:e})}},{key:"enabled",value:function(e){this._disable_event=w(e)}}]),t}(Re);i.registerView("View",Ue),i.registerView("DView",Ue);var He=Ue,We=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setStyles({overflow:"hidden",boxSizing:"border-box"}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),We(t,[{key:"paddingLeft",value:function(e){this.setStyles(Ge({},this.isRTL?"paddingRight":"paddingLeft",i.unitParser(e)))}},{key:"paddingTop",value:function(e){this.setStyles({paddingTop:i.unitParser(e)})}},{key:"paddingRight",value:function(e){this.setStyles(Ge({},this.isRTL?"paddingLeft":"paddingRight",i.unitParser(e)))}},{key:"paddingBottom",value:function(e){this.setStyles({paddingBottom:i.unitParser(e)})}}]),t}(He),Je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ze=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Je(t,[{key:"componentDidMount",value:function(){var e=this;i.getGlobalConfig("enableLayoutNG")||null===this.layoutProps&&this.calcLayoutSize((function(){return e.calcLayoutSize((function(){e.calcLayoutSize();var t=e.props._tplContext&&e.props._tplContext.perfTrackerPerfix;i.perfTracker&&i.perfTracker.mark(t,i.perfTracker.TPL_LAYOUT)}))}))}},{key:"componentDidUpdate",value:function(){var e=this;i.getGlobalConfig("enableLayoutNG")||null===this.layoutProps&&this.calcLayoutSize((function(){return e.calcLayoutSize((function(){return e.calcLayoutSize()}))}))}}]),t}(Ke),Xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ye(e){var t="match_content"===this.props.width,n="match_content"===this.props.height;if(!t&&!n)return null;t&&(e.style.width="auto"),n&&(e.style.height="auto");for(var r=-1,a=-1,o=e.childNodes||[],s=o.length,c=this.getChildren(),l=0;l<s;l++){var u=o[l];if((u.nodeType===Node.ELEMENT_NODE||u.nodeType===Node.TEXT_NODE)&&!v(u)){var d=c[l].props||{},p=!1;t&&"match_parent"===d.width&&(p=!0);var f=!1;if(n&&"match_parent"===d.height&&(f=!0),!f||!p){var h=x(u);if(h){var g=h.width,y=void 0===g?u.offsetWidth:g,b=h.height,w=void 0===b?u.offsetHeight:b;u.style&&"none"!==u.style.display&&(u.style.marginLeft&&(y+=parseFloat(u.style.marginLeft)||0),u.style.marginRight&&(y+=parseFloat(u.style.marginRight)||0),u.style.marginTop&&(w+=parseFloat(u.style.marginTop)||0),u.style.marginBottom&&(w+=parseFloat(u.style.marginBottom)||0)),p||(r=Math.max(y,r)),f||(a=Math.max(w,a))}}}}var C=x(e)||{width:0,height:0},E=this.props,S=E.paddingTop,k=E.paddingBottom,T=E.paddingLeft,_=E.paddingRight;return S&&(a+=parseFloat(i.unitParser(S))),k&&(a+=parseFloat(i.unitParser(k))),T&&(r+=parseFloat(i.unitParser(T))),_&&(r+=parseFloat(i.unitParser(_))),{width:m(t?r:C.width),height:m(n?a:C.height)}}function Qe(e,t){for(var n=t||x(e)||{width:0,height:0},r=n.width,a=n.height,o=e.childNodes||[],i=this.getChildren(),s=0;s<o.length;s++){var c=o[s],l=i[s],u=x(c);if(l&&l.props&&u){var d=l.props.gravity,p=parseFloat(c.style.marginLeft)||0,f=parseFloat(c.style.marginRight)||0,m=parseFloat(c.style.marginTop)||0,h=parseFloat(c.style.marginBottom)||0,g=u.width+p+f,v=u.height+m+h;"center"!==d&&"leftCenter"!==d&&"rightCenter"!==d||(c.style.top=(a-v)/2+"px"),"center"!==d&&"centerTop"!==d&&"centerBottom"!==d||(c.style.left=(r-g)/2+"px")}}}var $e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=i.getGlobalConfig("enableExperimentalRender");return n.shouldConvert2Flex=r&&e.childrenLen<=1,n.updateFlexStyle(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xe(t,[{key:"updateFlexStyle",value:function(){var e=this.shouldConvert2Flex,t=this.props;if(e&&t.children&&t.children.props&&t.children.props.gravity){var n=t.children.props.gravity,r=y(n),a=r.x,o=r.y,i={left:"flex-start",top:"flex-start",right:"flex-end",bottom:"flex-end",center:"center"};this.setStyles({justifyContent:i[a],alignItems:i[o]})}}},{key:"dynamicCalcSize",value:function(){if(!this.shouldConvert2Flex){var e=void 0;try{e=i.driver.findDOMNode(this)}catch(e){return}var t=Ye.call(this,e);if(Qe.call(this,e,t),t){var n=t.width,r=t.height;"match_content"===this.props.width&&(e.style.width=n+"px"),"match_content"===this.props.height&&(e.style.height=r+"px")}}}},{key:"renderView",value:function(){return this.props.children}}]),t}(Ze);i.registerView("FrameLayout",$e),i.registerView("DFrameLayout",$e);var et=$e,tt=(n(2),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),nt=/^[d][A-Z]/,rt=function(e){if(nt.test(e)){var t=e.slice(1);e=t[0].toLowerCase()+t.slice(1)}return e};function at(e,t,n,r){var a=this;if(e){var o=this.props._tplId,s=(this.props._tplName,this.props._tplContext),c=e.props,l=tt({key:c._id+"-"+n},c,{_parent_subdata:t}),u=l._id="cc"+ ++s.componentIdSeq,d=String(n).match(/(\d+)[\.]?/),f=d&&d[1],m=c._originProps;for(var h in m){var g=m[h],v=rt(h),y={data:t,subdataIndex:f,parentSubdata:this.props._parent_subdata,_tplId:o,_tplName:c._tplName,_tplContext:c._tplContext,_viewName:c._viewName,_originProps:c._originProps};"on"===v.slice(0,2)?l[v]=i.eventHandlerParser(g,y):l[v]=i.dataParser(g,y)}s.componentIndexSet.push({id:u,props:l,pid:r});var b=c.children;return b&&(Array.isArray(b)?b=b.map((function(e){return at.call(a,e,t,n,u)})):p(b)&&(b=at.call(this,b,t,n,u))),i.driver.cloneElement(e,l,b)}}var ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function st(e){for(var t=e.childNodes||[],n=t.length,r=e.getBoundingClientRect().width,a=this.props.orientation,o=0,i=0;i<n;i++){var s=t[i];if(s.nodeType===Node.ELEMENT_NODE||s.nodeType===Node.TEXT_NODE){var c=s.getBoundingClientRect(),l=parseFloat(s.style.marginLeft)||0,u=parseFloat(s.style.marginRight)||0;o+=c.width+l+u,0===c.width&&s.style.flex&&!v(s)&&(s.style.display="none"),o>r&&("horizontal"===a?s.style.flexShrink="1":s.style.maxWidth=m(r-l-u)+"px")}}}var ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),it(t,[{key:"dynamicCalcSize",value:function(){if(i.getGlobalConfig("shouldExecLinearLayoutHack"))try{var e=i.driver.findDOMNode(this);st.call(this,e)}catch(e){i.utils.log.warn(e)}}},{key:"childGravity",value:function(e){var t=this.props.orientation,n=e.search(/[A-Z]/),r=void 0,a=void 0;-1!==n?(r=e.slice(0,n),a=e.slice(n).toLowerCase()):r=a=e;var o={left:"flex-start",top:"flex-start",right:"flex-end",bottom:"flex-end",center:"center"},i=[o[r],o[a]];t&&"horizontal"!==t||(i=i.reverse()),this.setStyles({alignItems:i[0],justifyContent:i[1]})}},{key:"orientation",value:function(e){var t=void 0;t="horizontal"===e?"row":"column",this.setStyles({flexDirection:t})}},{key:"listData",value:function(e){this._listData=e}},{key:"renderLoopChildren",value:function(){var e=this,t=[],n=this.getChildren(),r=this.props,a={display:"flex",flexShrink:0,flexGrow:0,height:"fit-content"};return this._enableLayoutNG&&"vertical"===this.props.orientation&&(a.width="100%"),this._listData&&this._listData.forEach((function(o,s){n.forEach((function(n,c){if(n){var l=s+"."+c,u=n.props._originProps.filter,d=u&&i.dataParser(u,{data:o}),p={_tplId:r._tplId,data:o,parentSubdata:e.props._parent_subdata},f=n.props._originProps.visibility,m=f&&i.dataParser(f,p),h=a,g=n.props._originProps.weight;if(void 0!==g){var v=i.dataParser(g,p);h=ot({},a,{flex:v})}"gone"===m||void 0!==d&&!0!==d&&"true"!==d||t.push(i.h("div",{key:l,className:"list-item",style:h},at.call(e,n,o,l,r._id)))}}))})),t}},{key:"renderView",value:function(){return Array.isArray(this._listData)&&this._listData.length?this.renderLoopChildren():this.props.children}}]),t}(Ze);ct.defaultProps={orientation:"horizontal"},i.registerView("LinearLayout",ct),i.registerView("DLinearLayout",ct);var lt=ct,ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._elmCallback=function(e){n.state.maxLength||"vertical"===n.props.orientation||setTimeout((function(){try{for(var t=x(e.parentElement),r=0,a=0;a<e.children.length;a++){var o=e.children[a];if((r+=x(o).width)>t.width){n.setState({maxLength:a});break}}}catch(e){console.warn(e)}}),0)},n.state={maxLength:null},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),dt(t,[{key:"listData",value:function(e){this._listData=e}},{key:"renderLoopChildren",value:function(){var e=this,t=[],n=this.getChildren(),r=this.props,a={display:"flex",flexShrink:0,flexGrow:0,height:"fit-content"};return this._enableLayoutNG&&"vertical"===this.props.orientation&&(a.width="100%"),this._listData&&this._listData.forEach((function(o,s){e.state.maxLength&&s>=e.state.maxLength||n.forEach((function(n,c){if(n){var l=s+"."+c,u=n.props._originProps.filter,d=u&&i.dataParser(u,{data:o}),p={_tplId:r._tplId,data:o,parentSubdata:e.props._parent_subdata},f=n.props._originProps.visibility,m=f&&i.dataParser(f,p),h=a,g=n.props._originProps.weight;if(void 0!==g){var v=i.dataParser(g,p);h=ut({},a,{flex:v})}"gone"===m||void 0!==d&&!0!==d&&"true"!==d||t.push(i.h("div",{key:l,className:"list-item",style:h},at.call(e,n,o,l,r._id)))}}))})),t}},{key:"renderView",value:function(){var e={display:"flex",flexDirection:"vertical"===this.props.orientation?"column":"row",flexWrap:"nowrap"};return i.h("div",{style:e,ref:this._elmCallback},this._listData?this.renderLoopChildren():this.props.children)}}]),t}(lt);i.registerView("AdaptiveLinearLayout",pt);var ft=pt,mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ht(t,[{key:"listData",value:function(e){this._listData=e}},{key:"renderLoopChildren",value:function(){var e=this,t=[],n=this.getChildren(),r=this.props,a={flexShrink:0,flexGrow:0,height:"fit-content"};return this._enableLayoutNG&&"vertical"===this.props.orientation&&(a.width="100%"),Array.isArray(this._listData)&&this._listData.forEach((function(o,s){n.forEach((function(n){if(n){var c=n.props._id,l=n.props._originProps.filter,u=l&&i.dataParser(l,{data:o}),d={_tplId:r._tplId,data:o,parentSubdata:e.props._parent_subdata},p=n.props._originProps.visibility,f=p&&i.dataParser(p,d),m=a,h=n.props._originProps.weight;if(void 0!==h){var g=i.dataParser(h,d);m=mt({},a,{flex:g})}"gone"===f||void 0!==u&&!0!==u&&"true"!==u||t.push(i.h("div",{key:c+"-"+s,className:"list-item",style:m},at.call(e,n,o,s,r._id)))}}))})),t}},{key:"renderView",value:function(){return this.renderLoopChildren()}}]),t}(lt);gt.defaultProps={orientation:"horizontal"},i.registerView("ListLayout",gt),i.registerView("DLoopLinearLayout",gt);var vt=gt,yt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),yt(t,[{key:"flexDirection",value:function(e){this.setStyles({flexDirection:e})}},{key:"flexWrap",value:function(e){this.setStyles({flexWrap:e})}},{key:"justifyContent",value:function(e){this.setStyles({justifyContent:e})}},{key:"alignItems",value:function(e){this.setStyles({alignItems:e})}},{key:"alignContent",value:function(e){this.setStyles({alignContent:e})}},{key:"renderView",value:function(){return this.props.children}}]),t}(Ze);bt.defaultProps={},i.registerView("FlexLayout",bt),i.registerView("HFlexLayout",bt);var wt=bt,xt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ct=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Et.call(n);var r=e.columnCount,a=e.itemWidth,o=e.itemHeight;return r&&a&&o||(i.utils.log.warn("GridLayout 控件 columnCount/itemWidth/itemHeight 为必填属性"),n._error=!1),n.setStyles({flexDirection:"column"}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xt(t,[{key:"columnCount",value:function(e){this._columnCount=e}},{key:"itemWidth",value:function(e){this._itemWidth=i.unitParser(e)}},{key:"rowCount",value:function(e){}},{key:"rowSpacing",value:function(e){this._rowSpacing=i.unitParser(e)}},{key:"columnSpacing",value:function(e){this._columnSpacing=i.unitParser(e)}},{key:"lineColor",value:function(e){this._lineColor=e}},{key:"lineWidth",value:function(e){this._lineWidth=i.unitParser(e)}},{key:"renderLoopChildren",value:function(){var e=this,t=[],n=this.getChildren(),r=this.props;return this._listData.length,Array.isArray(this._listData)&&this._listData.map((function(a,o){var s={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",borderTop:o&&e._borderStyle?e._borderStyle:""},c=a.map((function(t,a){return n.map((function(n){var s=n.props._id,c=o*e._columnCount+a,l=s+"-"+o+"-"+a,u={overflow:"hidden",width:e._itemWidth,height:e._itemHeight,display:"flex",justifyContent:"center",alignItems:"center",marginLeft:a&&e._columnSpacing?e._columnSpacing:0,borderLeft:a&&e._borderStyle?e._borderStyle:"",marginTop:o&&e._rowSpacing?e._rowSpacing:0};return i.h("div",{key:l,className:"grid-item",style:u},at.call(e,n,t,c,r._id))}))}));t.push(i.h("div",{key:"gridrow"+o,className:"grid-row",style:s},c))})),t}},{key:"renderView",value:function(){return this._error?null:this.renderLoopChildren()}}]),t}(Ze),Et=function(){var e=this;this.itemHeight=function(t){e._itemHeight=i.unitParser(t)},this.needSeparator=["lineColor","lineWidth",function(t){e._needSeparator=e._lineColor&&e._lineWidth&&"true"===t,e._borderStyle=e._needSeparator?e._lineWidth+" solid "+e._lineColor:""}],this.listData=["columnCount",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Number(e._columnCount);e._listData=[];for(var r=0;r<t.length/e._columnCount;r++){var a=r*n,o=a+n;e._listData.push(t.slice(a,o))}}]};Ct.defaultProps={rowSpacing:0,needSeparator:!1,lineWidth:0},i.registerView("GridLayout",Ct);var St=Ct,kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Tt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setStyles({overflow:"auto"}),n.setAttrs({class:"dx-scrollerlayout"}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),kt(t,[{key:"listData",value:function(e){this._listData=e}},{key:"paddingRight",value:function(e){this._paddingRight=i.unitParser(e)}},{key:"orientation",value:function(e){var t=void 0;t="horizontal"===e?"row":"column",this.setStyles({flexDirection:t})}},{key:"renderLoopChildren",value:function(){var e=this,t=[],n=this.getChildren(),r=this.props,a={flexShrink:0,flexGrow:0};return Array.isArray(this._listData)&&this._listData.forEach((function(o,s){n.forEach((function(n){if(n){var c=n.props._id;t.push(i.h("div",{key:c+"-"+s,className:"scroller-item",style:a},at.call(e,n,o,s,r._id)))}}))})),this._paddingRight&&t.length&&t.push(i.h("div",{style:{paddingRight:this._paddingRight}})),t}},{key:"renderView",value:function(){return this.renderLoopChildren()}}]),t}(Ze);Tt.defaultProps={rowSpacing:0,needSeparator:!1,lineWidth:0,orientation:"horizontal"},i.registerView("ScrollerLayout",Tt);var _t=Tt,It=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ot=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._default_display="grid",n.setStyles({display:n._default_display}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),It(t,[{key:"renderView",value:function(){return this.props.children}}]),t}(Ke);i.registerView("FrameLayoutNG",Ot);var At=Ot,Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Nt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Pt=1.2,Lt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=Nt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.textContent=null,r.maxLines=["textSize","lineSpacing","lineHeight",function(e){var t=~~e,n=parseFloat(this.fontSize),r={whiteSpace:"pre-wrap"},a=i.getGlobalConfig("__SSR__");if(t>1){var o=void 0;a?o="calc("+this.fontSize+" * "+Pt+" + "+this._lineSpacing+" * "+Pt+")":(o=m((n+parseFloat(this._lineSpacing))*Pt),this._lineHeight&&(o=m(parseFloat(this._lineHeight)+parseFloat(this._lineSpacing))),o+="px"),r=Dt({},r,{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:""+t,lineHeight:o,overflow:"hidden"})}else if(r.lineHeight=a?this._lineHeight||"calc("+this.fontSize+" * "+Pt+")":this._lineHeight||m(n*Pt)+"px",1===t){var s=i.getGlobalConfig("forceNowrap1Line");r.whiteSpace=s?"nowrap":"pre"}this.setStyles({overflow:"hidden"}),this.setStyles(r,"font")}],r.textAlignment=["textGravity",r.textGravity],r._elmCallback=function(e){var t=r.layoutProps&&"AdaptiveLinearLayout"===r.layoutProps._viewName;i.getGlobalConfig("disableCharBreak")||!e||"char"!==r.props.lineBreakMode||t||setTimeout((function(){r._sliceText(e)}),100)},r._sliceText=function(e){var t=e.offsetWidth;if(t&&r.props.text&&!/\d/.test(r.props.text))try{var n=window.getComputedStyle(e,null).getPropertyValue("font-size"),a=parseFloat(n)||12,o=Math.floor(t/a),i=r.props.text.slice(0,o);i!==r.textContent&&(r.textContent=i,r.forceUpdate())}catch(e){console.error(e)}},Nt(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Mt(t,[{key:"componentDidUpdate",value:function(){this.calcLayoutSize()}},{key:"lineHeight",value:function(e){this._lineHeight=-1==e?0:i.unitParser(e)}},{key:"text",value:function(e,t){var n=(t||this.props).visibility;"gone"!==n&&"invisible"!==n&&(e?(this.textContent=e,this.setStyles({display:"flex",visibility:"visible"})):this.setStyles({visibility:"hidden"}))}},{key:"textSize",value:function(e){if(e){var t=i.unitParser(e);this.setStyles({fontSize:t}),this.fontSize=t}}},{key:"lineSpacing",value:function(e){this._lineSpacing=i.unitParser(e)||"0px"}},{key:"textStyle",value:function(e){var t={};switch(e){case"bold":t.fontWeight="bold";break;case"italic":t.fontStyle="italic"}this.setStyles(t)}},{key:"textColor",value:function(e){this.setStyles({color:i.colorParser(e)})}},{key:"textGravity",value:function(e){var t={justifyContent:"center",alignItems:"center"};switch(e){case"left":t.justifyContent="flex-start";break;case"right":t.justifyContent="flex-end",t.textAlign="right";break;case"center":t.textAlign="center"}this.setStyles(t)}},{key:"lineBreakMode",value:function(e){var t={overflow:"hidden",overflowWrap:"break-word"};switch(e){case"none":this.setStyles({overflow:"hidden"}),t.textOverflow="clip";break;case"start":case"middle":break;case"end":t.textOverflow="ellipsis",this.layoutProps&&"match_content"===this.layoutProps.width&&(t.overflowWrap="anywhere")}this.setStyles(t,"font")}},{key:"maxWidth",value:function(e){this.setStyles({maxWidth:"-1"===e?"none":i.unitParser(e)})}},{key:"isBold",value:function(e){var t=b(e)?"bold":"normal";this.setStyles({fontWeight:t})}},{key:"isItalic",value:function(e){var t=b(e)?"italic":"normal";this.setStyles({fontStyle:t})}},{key:"isStrikeThrough",value:function(e){var t=b(e)?"line-through":"none";this.setStyles({textDecoration:t})}},{key:"strikeThroughStyle",value:function(e){var t=b(e)?"line-through":"none";this.setStyles({textDecoration:t})}},{key:"isUnderline",value:function(e){var t=b(e)?"underline":"none";this.setStyles({textDecoration:t})}},{key:"renderView",value:function(){return i.h("span",{style:this.getStyles("font"),ref:this._elmCallback},(e=this.textContent,t=/&#(\d{1,5});/g,d(e)&&-1!==e.search(t)?e.replace(t,(function(e,t){return String.fromCharCode(t)})):e));var e,t}}]),t}(He);Lt.defaultProps={textSize:"12np",textGravity:"left",lineBreakMode:"end",maxLines:"1",lineHeight:"-1"},i.registerView("TextView",Lt),i.registerView("DTextView",Lt);var Rt=Lt,Ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ft(t,[{key:"paddingLeft",value:function(e){this.setStyles({paddingLeft:i.unitParser(e)})}},{key:"paddingTop",value:function(e){this.setStyles({paddingTop:i.unitParser(e)})}},{key:"paddingRight",value:function(e){this.setStyles({paddingRight:i.unitParser(e)})}},{key:"paddingBottom",value:function(e){this.setStyles({paddingBottom:i.unitParser(e)})}}]),t}(Rt);i.registerView("FastTextView",jt);var Bt=jt,zt={getItem:function(){},setItem:function(){}};try{zt=window.localStorage}catch(e){}var qt=function(){if(void 0!==window.DXSUPPORTWEBP)return window.DXSUPPORTWEBP;var e="false";try{e=zt.getItem("dx-isSupportWebp")}catch(e){}if("true"===e)return window.DXSUPPORTWEBP="true"===e,window.DXSUPPORTWEBP;var t=0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp");try{zt.setItem("dx-isSupportWebp",t?"true":"false")}catch(e){console.warn(e)}return window.DXSUPPORTWEBP=t,t},Vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ut=/^(http)?(s)?(:)?\/\//,Ht=/\/\/(gw|img)\.alicdn\.com/,Wt=/(\.(gif|webp))$/,Gt=/_\d+x\d+\.(jpg|png|gif|jpeg)$/i,Kt=[16,20,24,30,32,36,40,48,50,60,64,70,72,80,88,90,100,110,120,125,128,145,180,190,200,200,210,220,230,240,250,270,300,310,315,320,336,360,468,490,540,560,580,600,640,720,728,760,970],Jt=qt();function Zt(e,t,n){if(!Ht.test(n)||Wt.test(n)||Gt.test(n))return"";var r=parseInt(e)||-1,a=parseInt(t)||-1,o="_620x10000",i=Jt?"_.webp":"";if(-1!==r&&-1!==a)for(var s=2*Math.max(r,a),c=0,l=Kt.length;c<l;c++)if(Kt[c]>s){var u=Kt[c];o="_"+u+"x"+u;break}return o+"q90"+i}var Xt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setStyles({width:"100%",height:"100%"},"img"),n.setStyles({overflow:"hidden"}),n.imageData={},n.forceOriginalImg=i.getGlobalConfig("forceOriginalImg")||b(e.forceOriginal),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Vt(t,[{key:"imageName",value:function(e){this.setStyles({backgroundImage:'url("'+i.getLocalImage(e)+'")'},"img")}},{key:"image",value:function(e){Ut.test(e)?this.setStyles({backgroundImage:'url("'+e+'")'},"img"):this.setStyles({background:e},"img")}},{key:"imageUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props,n=t.width,r=t.height,a=t.aspectRatio;if("match_content"===n&&void 0===a||"match_content"===r&&void 0===a)this.imageData={isAutoImg:!0,imgSrc:e,fallbackSrc:e};else{var o="",s="";if(e&&!this.forceOriginalImg&&(s=e.replace(Gt,""),o=Zt(n,r,e)),this.imageData={isAutoImg:!1,imgSrc:(s||e)+o,fallbackSrc:e},a){var c={},l=String(n),u=String(r),d=/match_/;if(d.test(l)&&r&&!d.test(u)){var p=parseFloat(i.unitParser(u));c.width=p*a+"px"}else if(d.test(u)&&l&&!d.test(l)){var f=parseFloat(i.unitParser(l));c.height=f/a+"px"}this.setStyles(c,"img")}}if(i.getGlobalConfig("__SSR__")){var m=(this.imageData||{}).imgSrc;this.setStyles({backgroundImage:"url("+m+")"},"img")}}},{key:"aspectRatio",value:function(e){this.aspectRatioValue=e}},{key:"scaleType",value:function(e){var t={backgroundRepeat:"no-repeat",backgroundPosition:"center"};switch(e){case"fitXY":t.backgroundSize="100% 100%";break;case"fitCenter":case"centerInside":t.backgroundSize="contain";break;case"centerCrop":t.backgroundSize="cover"}this.setStyles(t,"img")}},{key:"dynamicImageLoaded",value:function(){var e=this.imageData,t=e.imgSrc,n=e.isAutoImg,r=this.$wrap;if(n&&r){var a=this.$img||{},o=a.naturalHeight,i=void 0===o?null:o,s=a.naturalWidth,c=void 0===s?null:s,l=this.props,u=l.width,d=l.height,p=null;if(i&&c&&(p=this.aspectRatioValue||c/i),!p)return;if("match_content"===u&&"match_content"===d&&(r.style.height=i,r.style.width=c),"match_content"===d&&"match_content"!==u){var f=r.parentElement.offsetWidth;r.style.height=Math.ceil(parseFloat("match_parent"===u?f:u)*(1/p))+"px"}if("match_content"===u&&"match_content"!==d){var m=r.parentElement&&r.parentElement.offsetHeight;r.style.width=Math.ceil(p*parseFloat("match_parent"===d?m:d))+"px"}this.calcLayoutSize()}r&&(r.style.backgroundImage='url("'+t+'")')}},{key:"dynamicImageLoadError",value:function(){var e=this.imageData.fallbackSrc,t=this.props,n=t.width,r=t.height,a=e;if(this.$wrap&&!this.forceOriginalImg&&"match_parent"===n&&"match_parent"===r){var o=~~this.$wrap.offsetHeight;a+=Zt(~~this.$wrap.offsetWidth,o,e)}this.$wrap&&(this.$wrap.style.backgroundImage='url("'+a+'")')}},{key:"renderView",value:function(){var e=this,t=(this.imageData||{}).imgSrc,n=this.props,r=n.width,a=n.height;return t&&"undefined"!==t?i.h("div",{ref:function(t){return e.$wrap=t},style:this.getStyles("img")},i.h("img",{onLoad:function(){return e.dynamicImageLoaded()},onError:function(){return e.dynamicImageLoadError()},src:"match_parent"===r&&"match_parent"===a?"":t,ref:function(t){return e.$img=t},style:{maxHeight:"100%",maxWidth:"100%",opacity:0}})):i.h("div",{style:this.getStyles("img")})}}]),t}(He);Xt.defaultProps={scaleType:"fitCenter"},i.registerView("ImageView",Xt),i.registerView("DImageView",Xt);var Yt=Xt,Qt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$t=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Qt(t,[{key:"tImage",value:function(e){this.image(e)}},{key:"tImageUrl",value:function(e){this.imageUrl(e)}},{key:"tLocalImageName",value:function(e){this.imageName(e)}},{key:"tScaleType",value:function(e){this.scaleType(e)}}]),t}(Yt);$t.defaultProps={tScaleType:"fitCenter"},i.registerView("TImageView",$t);var en=$t,tn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),tn(t,[{key:"hImageUrl",value:function(e){this.imageUrl(e)}},{key:"hPlaceHolderImage",value:function(e){this.placeHolderImage(e)}},{key:"hAspectRatio",value:function(e){this.aspectRatio(e)}},{key:"hCornerRadius",value:function(e){this.cornerRadius(e)}},{key:"hBorderWidth",value:function(e){this.borderWidth(e)}},{key:"hBorderColor",value:function(e){this.borderColor(e)}},{key:"hScaleType",value:function(e){this.scaleType(e)}}]),t}(Yt);nn.defaultProps={hScaleType:"fitCenter"},i.registerView("HImageView",nn);var rn=nn,an=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),on=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),an(t,[{key:"hGifUrl",value:function(e){e&&this.setStyles({backgroundImage:"url("+e+")"},"img")}}]),t}(rn);i.registerView("HGifView",on);var sn=on,cn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ln=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),cn(t,[{key:"hCoverURL",value:function(e){var t=this.props,n=t.width,r=t.height;"match_content"!==n&&"match_content"!==r||(this.isAutoImg=!0,this.imgSrc=e),e&&this.setStyles({backgroundImage:"url("+e+")"})}},{key:"coverUrl",value:function(e){this.imageUrl(e)}}]),t}(rn);i.registerView("HVideoView",ln);var un=ln,dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function fn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var mn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=fn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._checked=!1,r._enabled=!0,r.switchOn=["onColor","offColor",function(e){var t=h(e);this.setStyles({backgroundColor:t?this._onColor:this._offColor}),this._checked=t}],r.enabled=["switchOn",function(e){var t=h(e);t||r.setStyles({backgroundColor:"#ccc"}),r._enabled=t}],r.toggleCheck=function(){var e=!r._checked;r.setStyles({backgroundColor:e?r._onColor:r._offColor});var t=r.getEvents("switch").onChange;t&&t.handler({value:e})},fn(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pn(t,[{key:"componentDidMount",value:function(){var e=this,t=this.$switch;this.$switch&&this.$switch.parentNode&&(t=this.$switch.parentNode),g(t,{tap:function(){e._enabled&&e.toggleCheck()}})}},{key:"componentWillMount",value:function(){this._preprocessingStyle()}},{key:"_preprocessingStyle",value:function(){var e=this.props.height,t=i.unitParser(e),n=t.replace(/(\d*)/,(function(e){return e-2}));this.setStyles({borderRadius:t}),this.setStyles(dn({},hn,{width:n,height:n}),"switch"),this.setStyles({left:"1px"},"switchNormal"),this.setStyles({right:"1px"},"switchActive"),this.setStyles({boxShadow:"inset 0 0 0 1px #ccc"})}},{key:"onColor",value:function(e){this._onColor=i.colorParser(e)}},{key:"offColor",value:function(e){this._offColor=i.colorParser(e)}},{key:"onChange",value:function(e){this.setEvents({onChange:e},"switch")}},{key:"renderView",value:function(){var e=this;return i.h("div",{style:dn({},this.getStyles("switch"),this.getStyles(this._checked?"switchActive":"switchNormal")),ref:function(t){return e.$switch=t}})}}]),t}(He),hn={position:"absolute",top:"1px",borderRadius:"50%",backgroundColor:"#FFFFFF",boxShadow:"0px 2px 5px 1px #ccc"};mn.defaultProps={width:"25np",height:"12.5np",onColor:"#ff5000",offColor:"#FFFFFF",switchOn:0},i.registerView("Switch",mn),i.registerView("DSwitch",mn);var gn=mn,vn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function yn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var bn=/^((http(s)?)|(data:image))/,wn="dinamicx_checked",xn="dinamicx_discheck",Cn="dinamicx_uncheck",En="dinamicx_disunchk",Sn=function(e,t){if(bn.test(e))return e;var n=i.getLocalImage(e);return n||i.getLocalImage(t)},kn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=yn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._enabled=!0,r._checked=!1,r._selfChecked=null,r.toggleCheck=function(){r._selfChecked=!r._checked,r.forceUpdate();var e=r.getEvents("checkbox").onChange;e&&e.handler({value:r._selfChecked})},yn(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vn(t,[{key:"componentDidMount",value:function(){var e=this;g(this.$checkbox,{tap:function(){e._enabled&&e.toggleCheck()}})}},{key:"_updateImages",value:function(){this.setStyles({borderRadius:"50%",width:"100%",height:"100%"},"checkbox");var e=this._checked,t=this["_"+(this._enabled?"":"dis")+(e?"checked":"unchecked")+"Img"];this.setStyles({background:"url("+t+") 0% 0% / 100% 100%"},"checkbox")}},{key:"enabled",value:function(e){this._enabled=h(e)}},{key:"checked",value:function(e){var t=this._selfChecked;null!==t?(this._checked=t,this._selfChecked=null):this._checked=h(e)}},{key:"checkImg",value:function(e){this._checkedImg=Sn(e,wn)}},{key:"disCheckImg",value:function(e){this._discheckedImg=Sn(e,xn)}},{key:"uncheckImg",value:function(e){this._uncheckedImg=Sn(e,Cn)}},{key:"disUncheckImg",value:function(e){this._disuncheckedImg=Sn(e,En)}},{key:"onChange",value:function(e){this.setEvents({onChange:e},"checkbox")}},{key:"renderView",value:function(){var e=this;return this._updateImages(),i.h("div",{style:this.getStyles("checkbox"),ref:function(t){return e.$checkbox=t}})}}]),t}(He);kn.defaultProps={enabled:1,checked:0,checkImg:wn,disCheckImg:xn,uncheckImg:Cn,disUncheckImg:En},i.setLocalImage({dinamicx_checked:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABEBAMAAADKPY6BAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAqUExURUdwTP9rAP9xAP9vAP9pAP9tAP9rAP9tAP9fAP90AP9XAP99AP9nAP9tACJieToAAAAIdFJOUwCH6CSqRmbMw7TcXwAAAy1JREFUSMd1lr+LE0EUxzdeFMuAdnfCgYIecqAiIlwTPQRBhHioaHd4ZRrxKrlOPBlCqhM8hmWLmJAsU1oIy1RayBax0EYC2f/F92tmZ5Lc1o/PfN+b73zfJkn43bv8bvvn9QcHyVnf+YdVVf2eTqfltc7qittbWQY1UDJVHy6tqniutRbKtK/Uo+WKu1Axm1XVfA4HlUqp3cWKRgoleA4d1AdM3oor1t4XGjFOL2Imt6KSvaKQijnJxc8chxUXbKGhJhNKSZRevh+UrBdIybSj9LFCmUGg1VqtQy0KKaZnasVdW1jXEVFEjBn7wVubotoMp+vnghTjLuKOhRqk6GguKjdmKCVH1lLPuvJzcZSJF+tr3Fy4Bj4WvIPn6FQa4rk4ipz0BCHUNY6OKFhDWsxI+oFPc0tLFOqpSVJsGkwu0GLaIiWYLs6FOuoxBcWse0oW+UWRFhJzs9aio5tminFquaPYL6wF9JJaOKbQtV8A8/HljV5P9J6zjElDvyi1n7xiLWZTGiqKWMunJLnIEGipa+WkyC9gyfs9poy5Z/BLEfrlF3T6WLQM6IbwoMgvAGkqOWiEZvEHOb8IhGsmMrki8ksLITJd81VKbOiXHwjx0zWJQEK/MCSX6UoJUE4O3vA9OkhNES32e7K2xfkiSpwW47V8hsdCfiFI6f0CHR0J5QskyDbKRUg/uOmJjM7qb5Ame0D5A5CN0C8jfwHpVfBORpCG+CWXC+i60Z0A5jVD6AnIcOEad8QvujgEDEMiylAsha47BcwzgQRaNsWYNN1DfuLukUhHbbE3hccplWzUWSf2duPFO3orEMo6d0fuqaUUQYi54nOXtQz8g6U3AphG8I5y92CbNWX278XTxdfYduHBposSU7R0XARxTZ0vfUcZ+SDjxJwF+0i0DH0cpgv54v3S8qFq43zxyTCpo5nlLufLMAz4aB+VTkunXhOcddE+Qr+Mg2XDWafjlAqXDdxTvI8oDk24smDxxfuI/RItvmTPxvuIao4XlnC8j9TyEk4a8T5CSmvVD0HU0e7K34p6H5Wrfivo58Tvo9U/J/KLQ1rO+sWRH6W/iz9K/wEP1oz20WaXfgAAAABJRU5ErkJggg==",dinamicx_discheck:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5BAMAAAB+Np62AAAAIVBMVEVHcEzNzc3Nzc3Nzc3Nzc3Nzc3T09PNzc3Pz8/Nzc3MzMz103I3AAAACnRSTlMAz1LsjLEVZyI/uIMIOwAAAVdJREFUOMuFlTFPw0AMha9RVdKtA2K4CSTE0KnA1EydOxXB1KmdKjF1YMpUqbB3ZiKkSMW/kgvNOXdnn89Lm3x6iWM/+5TCGNw+Pdb3L3eKi3cN57jcUXgDGNW1ACn+AC9+vIcPC5/C1KUlhLHtYJ9AOHZ0SSksBKkjLjlq3zxkIfye6Z6n9S6aE+aVRSB8N7QXo1VDxzEKTS90lI6UyqMQTpFCYbmYpKq3wqb1yr2vre2KSdlIPm3Scy7V9uaM1tFIL7CWmpGW+LeIS2FC6JXjhomykuf2d9VJ4ctqFwNNpN2Tt2pNpIZq+2n/Yk9qcl6iEdah1HzvHFudF43UrewMr4x4b6SZbw7s0UHlgdT0qOcNZRaUDb1RH0ILHl1fTUNvn1xPGvE47JZz52FD/SzPgjxH8gwm5leefXlvJHaOvK8Su07ek4kdK+/nxG5PnAuJM4U9j/4A+2ARe5cQ9TAAAAAASUVORK5CYII=",dinamicx_uncheck:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAMAAAAPzWOAAAAANlBMVEVHcEzMzMzNzc3V1dXOzs7Nzc3Nzc3Nzc3Nzc3Nzc3b29vMzMz////19fXu7u7a2trk5OTR0dG06x/LAAAAC3RSTlMAN84GVqG36X8jB0no5zwAAAGJSURBVFjDrVjZtoQgDFOEqUvZ/v9nRwGvy1UHMHmdMadNWmhpmlsMsleCaJqIhOrl0JRilGr++ghSciygaP8zrDxtLsVnesAnh2bYKKwzWvMMrY2zG80vdbo+/dO78Pke2vn0Y989hiFSDIYvYVI84iEYGfW0mm+hIw3JO46Yijf8CBOT6p84LP+EvWeJHI4z4O5YIofhLJhrFhnk0JwJHYQ5qTsEX7I5Zpbg0cHpThTksstIdGdBHBfBnWQZMr29cHpLaOk5z8VYxP389X6xIDtZ2l0glitgt1DaQndPPsdQVG0gMRQVzmSqU2RVhcZU8J4r4VPxq/I6O1bckg/VyrpKS6lauRqxamW9N6s/MvSeqydxoQtVvcGryaoRb3SNyop35qz20Ctzgj3UTO9JJgwJJB2IsBCLIcUGKXtIA0KOAsihhDkeIQc15MqAXF6YaxRyoWNGC8iQgxm3IIMfZgSFDMOYsRyzIGBWFczShFnfMIskZqXFLNeYNR/04AB6+gA9wpQ+B30B3RGo3Y8v7Z8AAAAASUVORK5CYII=",dinamicx_disunchk:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5BAMAAAB+Np62AAAAJFBMVEVHcEzNzc3Ozs7Ozs7Nzc3Nzc3Nzc3Ozs7MzMzx8fHa2trr6+ssMFmhAAAACHRSTlMA0kwgje2zY5e6RVIAAAFESURBVDjLhZW/TsMwEMZNygN0YMgIG2MGQIyMHQsSUkaQGDoiwZCR0j/6SF6gl7xACi+QtC+HjUudNufzrT995/P57rNS+xi8Pz8u7l/eFBdXMWycJX14gX1Mzzn4vW1pu6n7+AbIW7KxAZYHyaPUQaISeOjSrAv/1K8OngJdSNRg7ugEPweQqhpPTprTUZROnGF9TKn+PznqS43409JrRqrFi2RXU8vQxtYVoWAgVTb1CZtYp54aeskmNqnNW8Q5C3XVQz0R+OIpYWYatfbQem6Kaj200WXdwgNphURluY+WutUjgd6pSeGjle5lLNChSgU6VqmvGbodYwWBfgS08rlyzfJ95V7JfZbfSH5feTYGKHwlz0IzGZhneRfkPfLs4GrnDfL+yrsv+0bAc2S/Cnid7JMBj5X9OeDtgX8h8Kew/9Ev78HvEWic5SIAAAAASUVORK5CYII="}),i.registerView("CheckBox",kn),i.registerView("DCheckBox",kn);var Tn=kn,_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},In=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),On=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={_holderHelperName:"",_holderIndex:null},n.blur=function(){var e=n.getEvents("textInput").onFinish;e&&e.handler({value:n.$inputText.value})},n.input=function(){var e=n.getEvents("textInput").onChange;e&&e.handler({value:n.$inputText.value})},n.focus=function(){var e=n.getEvents("textInput").onBegin;e&&e.handler({value:n.$inputText.value})},n.setStyles(Dn,"textInput"),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),In(t,[{key:"componentDidMount",value:function(){g(this.$inputText,{tap:function(){}})}},{key:"text",value:function(e){this.setAttrs({value:e},"textInput")}},{key:"textSize",value:function(e){this.setStyles({fontSize:i.unitParser(e)},"textInput")}},{key:"placeholderColor",value:function(e){}},{key:"textColor",value:function(e){this.setStyles({color:i.colorParser(e)},"textInput")}},{key:"keyboard",value:function(e){this.setAttrs({type:An[e]},"textInput")}},{key:"maxLength",value:function(e){this.setAttrs({maxLength:e},"textInput")}},{key:"placeholder",value:function(e){this.setAttrs({placeholder:e},"textInput")}},{key:"textGravity",value:function(e){this.setStyles({textAlign:e},"textInput")}},{key:"onFinish",value:function(e){this.setEvents({onFinish:e},"textInput")}},{key:"onChange",value:function(e){this.setEvents({onChange:e},"textInput")}},{key:"onBegin",value:function(e){this.setEvents({onBegin:e},"textInput")}},{key:"renderView",value:function(){var e=this,t=this.getStyles("font"),n=this.getStyles("textInput"),r=_n({},t,n);return i.h("input",_n({ref:function(t){return e.$inputText=t},onFocus:function(t){return e.focus(t)},onInput:function(t){return e.input(t)},onBlur:function(t){return e.blur(t)},style:r},this.getAttrs("textInput"),{className:this.state._holderHelperName}))}}]),t}(Rt),An={0:"text",1:"number",2:"tel"},Dn={width:"100%",height:"100%",outline:"none",border:"none",padding:0,margin:0,userSelect:"auto"};On.defaultProps={maxLength:-1,textSize:"12np",textGravity:"left",keyboard:0},i.registerView("TextInput",On),i.registerView("DTextInput",On);var Mn=On,Nn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Nn(t,[{key:"render",value:function(){if(void 0!==this.props.if&&w(this.props.if))return null;var e=this.props,t=e.templateContent,n=e.sticky,r=e._tplContext,a=e._parent_subdata,o={};b(n)&&(o.position="sticky",o.position="-webkit-sticky",o.top=0);var s=a||r.props.data;return i.h("div",{style:o},t?i.h(i.Template,{tpl:t,data:s}):null,this.props.children)}}]),t}(i.Component);i.registerView("Template",Pn);var Ln=Pn;n.d(t,"FrameLayout",(function(){return et})),n.d(t,"LinearLayout",(function(){return lt})),n.d(t,"AdaptiveLinearLayout",(function(){return ft})),n.d(t,"ListLayout",(function(){return vt})),n.d(t,"FlexLayout",(function(){return wt})),n.d(t,"GridLayout",(function(){return St})),n.d(t,"ScrollerLayout",(function(){return _t})),n.d(t,"Layout",(function(){return Ze})),n.d(t,"FrameLayoutNG",(function(){return At})),n.d(t,"View",(function(){return He})),n.d(t,"TextView",(function(){return Rt})),n.d(t,"DTextView",(function(){return Rt})),n.d(t,"FastTextView",(function(){return Bt})),n.d(t,"ImageView",(function(){return Yt})),n.d(t,"TImageView",(function(){return en})),n.d(t,"HGifView",(function(){return sn})),n.d(t,"HVideoView",(function(){return un})),n.d(t,"Switch",(function(){return gn})),n.d(t,"CheckBox",(function(){return Tn})),n.d(t,"TextInput",(function(){return Mn})),n.d(t,"InnerTemplate",(function(){return Ln})),n.d(t,"bindGestureEvent",(function(){return g})),n.d(t,"loopMergeSubData",(function(){return at}))}])},e.exports=r(n(24),n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.isBuyerPWA=location.pathname.indexOf("messengerAlone.htm")>=0,a=t.isSellerPWA=location.pathname.indexOf("weblitePWA.htm")>=0,o=t.isPureMessenger=location.pathname.indexOf("messenger.htm")>=0||location.pathname.indexOf("messengerShadow.htm")>=0,i=t.isPureWeblite=location.pathname.indexOf("weblite.htm")>=0,s=t.isWebATM=location.pathname.indexOf("webATM.htm")>=0;t.isWeblite=i||s,t.isMessenger=r||a||o,t.isSeller=a||location.pathname.indexOf("maDetail")>=0},function(e,t){e.exports=IcbuIM.Next1.Button},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return h}));var r=n(51),a=n.n(r),o=n(7),i=window.IcbuIM.IMSDKHelper.isWorkbench;function s(e){return a.a.getInstance().fetchMessages(e)}function c(e){return window.isGGSProxy?Object(o.sendMessage)(e):a.a.getInstance().sendMessage(e)}function l(e){return a.a.getInstance().sendLocalMessage(e)}function u(e){return Object(o.sendMessage)(e)}function d(e){return i?a.a.getInstance().translate(e):Object(o.translate)(e)}function p(e){return i?a.a.getInstance().translateSetting(e):Object(o.getLanguageInfo)(e)}function f(e){return a.a.getInstance().revertMessage(e)}function m(e){return i?a.a.getInstance().getCardHtml(e):Object(o.getCardHtml)(e)}function h(e){return a.a.getInstance().sendMessage({params:JSON.stringify({cardType:2013,msgtype:2013,mediaInfo:Object.assign({type:2013},e)})})}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.sellerEffects=t.buyerExtendCommands=t.sellerExtendCommands=t.extendCommands=t.getCallbackEffectName=t.getQueryEffectName=void 0;var a=n(120),o=n(341),i=n(363);t.getQueryEffectName=function(e){return"query"+e};t.getCallbackEffectName=function(e){return"callback"+e},t.extendCommands=((r={})[i.default.code]=i.default,r[o.default.code]=o.default,r);var s={};t.sellerExtendCommands=s;var c={};t.buyerExtendCommands=c;var l={};t.sellerEffects=l,Object.values(t.extendCommands).forEach((function(e){var n;switch(e.role){case a.CommandRole.buyer:c[e.code]=e;break;case a.CommandRole.seller:s[e.code]=e;var r=t.getQueryEffectName(e.code),o=t.getCallbackEffectName(e.code);Object.assign(l,((n={})[r]=e.query,n[o]=e.callback,n));break;case a.CommandRole.both:c[e.code]=e,s[e.code]=e}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Va})),n.d(t,"b",(function(){return Ua})),n.d(t,"d",(function(){return Nt})),n.d(t,"e",(function(){return Rt})),n.d(t,"f",(function(){return qa})),n.d(t,"c",(function(){return ht}));var r=n(4),a=n.n(r),o=n(12),i=n.n(o),s=n(0),c=n.n(s),l=n(178),u=n.n(l),d=n(80),p=n.n(d);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(null,arguments)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}var v=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function y(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],a=t[n],!(r===a||v(r)&&v(a)))return!1;var r,a;return!0}var b=function(e,t){var n;void 0===t&&(t=y);var r,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}};var w="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function x(e){cancelAnimationFrame(e.id)}function C(e,t){var n=w();var r={id:requestAnimationFrame((function a(){w()-n>=t?e.call(null):r.id=requestAnimationFrame(a)}))};return r}var E=-1;function S(e){if(void 0===e&&(e=!1),-1===E||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),E=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return E}var k=null;function T(e){if(void 0===e&&(e=!1),null===k||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),a=r.style;return a.width="100px",a.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?k="positive-descending":(t.scrollLeft=1,k=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),k}return k}var _=function(e,t){return e};function I(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,a=e.getItemSize,o=e.getOffsetForIndexAndAlignment,i=e.getStartIndexForOffset,c=e.getStopIndexForStartIndex,l=e.initInstanceProps,u=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return(t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=l(r.props,m(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:m(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=b((function(e,t,n,a){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:a})})),r._callOnScroll=void 0,r._callOnScroll=b((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,o=r.props,i=o.direction,s=o.itemSize,c=o.layout,l=r._getItemStyleCache(u&&s,u&&c,u&&i);if(l.hasOwnProperty(e))t=l[e];else{var d=n(r.props,e,r._instanceProps),p=a(r.props,e,r._instanceProps),f="horizontal"===i||"horizontal"===c,m="rtl"===i,h=f?d:0;l[e]=t={position:"absolute",left:m?void 0:h,right:m?h:void 0,top:f?0:d,height:f?"100%":p,width:f?p:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=b((function(e,t,n){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,a=t.scrollLeft,o=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===a)return null;var t=r.props.direction,i=a;if("rtl"===t)switch(T()){case"negative":i=-a;break;case"positive-descending":i=o-n-a}return i=Math.max(0,Math.min(i,o-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,a=t.scrollHeight,o=t.scrollTop;r.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,a-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"===typeof t?t(e):null!=t&&"object"===typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&x(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=C(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}g(t,e),t.getDerivedStateFromProps=function(e,t){return O(e,t),d(e),null};var p=t.prototype;return p.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},p.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,r=n.itemCount,a=n.layout,i=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var s=0;if(this._outerRef){var c=this._outerRef;s="vertical"===a?c.scrollWidth>c.clientWidth?S():0:c.scrollHeight>c.clientHeight?S():0}this.scrollTo(o(this.props,e,t,i,this._instanceProps,s))},p.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"===typeof n&&null!=this._outerRef){var a=this._outerRef;"horizontal"===t||"horizontal"===r?a.scrollLeft=n:a.scrollTop=n}this._callPropsCallbacks()},p.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,a=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(T()){case"negative":o.scrollLeft=-a;break;case"positive-ascending":o.scrollLeft=a;break;default:var i=o.clientWidth,s=o.scrollWidth;o.scrollLeft=s-i-a}else o.scrollLeft=a;else o.scrollTop=a}this._callPropsCallbacks()},p.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&x(this._resetIsScrollingTimeoutId)},p.render=function(){var e=this.props,t=e.children,n=e.className,a=e.direction,o=e.height,i=e.innerRef,c=e.innerElementType,l=e.innerTagName,u=e.itemCount,d=e.itemData,p=e.itemKey,m=void 0===p?_:p,h=e.layout,g=e.outerElementType,v=e.outerTagName,y=e.style,b=e.useIsScrolling,w=e.width,x=this.state.isScrolling,C="horizontal"===a||"horizontal"===h,E=C?this._onScrollHorizontal:this._onScrollVertical,S=this._getRangeToRender(),k=S[0],T=S[1],I=[];if(u>0)for(var O=k;O<=T;O++)I.push(Object(s.createElement)(t,{data:d,key:m(O,d),index:O,isScrolling:b?x:void 0,style:this._getItemStyle(O)}));var A=r(this.props,this._instanceProps);return Object(s.createElement)(g||v||"div",{className:n,onScroll:E,ref:this._outerRefSetter,style:f({position:"relative",height:o,width:w,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:a},y)},Object(s.createElement)(c||l||"div",{children:I,ref:i,style:{height:C?"100%":A,pointerEvents:x?"none":void 0,width:C?A:"100%"}}))},p._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],a=e[3];this._callOnItemsRendered(t,n,r,a)}if("function"===typeof this.props.onScroll){var o=this.state,i=o.scrollDirection,s=o.scrollOffset,c=o.scrollUpdateWasRequested;this._callOnScroll(i,s,c)}},p._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,a=r.isScrolling,o=r.scrollDirection,s=r.scrollOffset;if(0===t)return[0,0,0,0];var l=i(this.props,s,this._instanceProps),u=c(this.props,l,s,this._instanceProps),d=a&&"backward"!==o?1:Math.max(1,n),p=a&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,l-d),Math.max(0,Math.min(t-1,u+p)),l,u]},t}(s.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var O=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},A=function(e,t,n){var r=e.itemSize,a=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var i=0;if(o>=0){var s=a[o];i=s.offset+s.size}for(var c=o+1;c<=t;c++){var l=r(c);a[c]={offset:i,size:l},i+=l}n.lastMeasuredIndex=t}return a[t]},D=function(e,t,n,r,a){for(;r<=n;){var o=r+Math.floor((n-r)/2),i=A(e,o,t).offset;if(i===a)return o;i<a?r=o+1:i>a&&(n=o-1)}return r>0?r-1:0},M=function(e,t,n,r){for(var a=e.itemCount,o=1;n<a&&A(e,n,t).offset<r;)n+=o,o*=2;return D(e,t,Math.min(n,a-1),Math.floor(n/2),r)},N=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,a=t.estimatedItemSize,o=t.lastMeasuredIndex,i=0;if(o>=n&&(o=n-1),o>=0){var s=r[o];i=s.offset+s.size}return i+(n-o-1)*a},P=I({getItemOffset:function(e,t,n){return A(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:N,getOffsetForIndexAndAlignment:function(e,t,n,r,a,o){var i=e.direction,s=e.height,c=e.layout,l=e.width,u="horizontal"===i||"horizontal"===c?l:s,d=A(e,t,a),p=N(e,a),f=Math.max(0,Math.min(p-u,d.offset)),m=Math.max(0,d.offset-u+d.size+o);switch("smart"===n&&(n=r>=m-u&&r<=f+u?"auto":"center"),n){case"start":return f;case"end":return m;case"center":return Math.round(m+(f-m)/2);default:return r>=m&&r<=f?r:r<m?m:f}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,a=t.lastMeasuredIndex;return(a>0?r[a].offset:0)>=n?D(e,t,a,0,n):M(e,t,Math.max(0,a),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var a=e.direction,o=e.height,i=e.itemCount,s=e.layout,c=e.width,l="horizontal"===a||"horizontal"===s?c:o,u=A(e,t,r),d=n+l,p=u.offset+u.size,f=t;f<i-1&&p<d;)f++,p+=A(e,f,r).size;return f},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});var L=n(179),R=(n(221),["list"]),F=function(e){return Object(s.forwardRef)((function(t,n){var r=Object(s.useRef)(),o=Object(s.useRef)(!1),i=Object(s.useRef)(0),c=Object(s.useState)({}),l=c[0],u=c[1],d=t.list,f=void 0===d?[]:d,m=t.loadFunc,h=void 0===m?function(){}:m,g=t.fetchForwardMessagesForSearch,v=void 0===g?function(){}:g,y=function(e){var t,n=null===(t=f[e])||void 0===t?void 0:t.messageId;return l[n]||300},b=function(e,t){var n,o,i;void 0===e&&(e=1),void 0===t&&(t=300);var s=null===(n=f[e])||void 0===n?void 0:n.messageId;l[s]+30>=t||(e===f.length-1?t+=18:t+=8,u(a()({},l,((o={})[s]=t,o))),null===r||void 0===r||null===(i=r.current)||void 0===i||i.resetAfterIndex(e))},w=function(n){var r=n.index,o=n.style,i=t.list,c=void 0===i?[]:i,l=p()(t,R);return s.createElement("div",{style:o,key:r,index:r},s.createElement(e,a()({key:r,index:r,setItemSize:b,item:c[r]},l)))};Object(s.useEffect)((function(){t.initFetch&&x()}),[]),Object(s.useEffect)((function(){r.current&&(o.current=!0,r.current.scrollTo(C()-i.current),o.current=!1)}),[JSON.stringify(l)]),Object(s.useImperativeHandle)(n,(function(){return{scrollTo:E,loadMoreBox:r.current}}));var x=function(){new Promise((function(e,t){h((function(t){e()}))}))},C=function(){return f.reduce((function(e,t,n){return e+y(n)}),0)},E=function(e){"end"===e&&r.current&&(o.current=!0,r.current.scrollTo(C()),i.current=0,o.current=!1)},S=function(e){var t=e.scrollOffset,n=e.scrollDirection;"backward"===n&&t<=20&&x();var r=C()-t;!o.current&&"forward"===n&&r<i.current&&i.current-r>5&&(null===v||void 0===v||v()),i.current=r};return s.createElement("div",{className:"scrollbar-box"},s.createElement(L.a,null,(function(e){var t=e.height,n=e.width;return s.createElement(P,{height:t,width:n,onScroll:S,itemCount:f.length,overscanCount:20,itemSize:y,ref:r},w)})))}))},j=n(24),B=n(5),z=n.n(B),q=n(33),V=n.n(q),U=window.IcbuIM.IMBaaSSDK.default,H=(n(50),n(36)),W=window.IcbuIM.IMSDKHelper,G=W.isWorkbench,K=W.isAlisupplier;function J(e){return G||K||H.isSellerPWA||"onepage"===e?"one_page":"messenger"}var Z,X=function(){var e=/(sc_b_locale=*.+?)[&]/.exec(document.cookie),t=e&&e[1]&&e[1].slice(12)||"";return{language:(t=t.split("_"))[0]||"en",country:t[1]||"US"}},Y=function(){var e=/intl_locale=*.+?[&;]/.exec(document.cookie),t=e&&e[0]&&e[0].slice(12)||"";return t?{language:(t=t.split("_"))[0]||"zh",country:t[1]?t[1].replace(";",""):"CN"}:{language:"zh",country:"CN"}},Q=n(180),$=n.n(Q),ee=n(25),te=["accounts.alibaba.com","biz.alibaba.com","buyer.alibaba.com","cashier.alibaba.com","clouddisk.alibaba.com","dcms.alibaba.com","fmessage.alibaba.com","i.alibaba.com","login.alibaba.com","marketing.alibaba.com","message.alibaba.com","onetalk.alibaba.com","passport.alibaba.com","photobank.alibaba.com","profile.alibaba.com","rfq.alibaba.com","service.alibaba.com","support.alibaba.com","tradeassurance.alibaba.com","ug.alibaba.com","us.my.alibaba.com","www.alibaba.com"],ne=Object(ee.transferDomain)("message.alibaba.com"),re="workspace.alibaba.com",ae=Object(ee.transferDomain)("cashier.alibaba.com"),oe=Object(ee.transferDomain)("biz.alibaba.com"),ie=Object(ee.transferDomain)("www.alibaba.com"),se=(Object(ee.transferDomain)("workspace.alibaba.com"),function(e){var t=e;e.match(/^https?:\/\//i)||(t="https:"+e);var n=new URL(t).hostname;return te.some((function(e){return e===n}))}),ce="-2001",le="-2002",ue=Object(ee.transferDomain)("alibaba.com"),de={mProductReg:/^https?:\/\/m\.alibaba\.com\/product\/(\d+)\/.*\.html/,productReg:new RegExp("^https?:\\/\\/(\\w)+\\."+ue.replace(/\./g,".")+"\\/product-detail\\/.*(\\d+).html"),orderReg1:new RegExp("^https?:\\/\\/"+oe.replace(/\./g,".")+"\\/ta\\/detail.htm?.*orderId=(\\d+)"),orderReg2:new RegExp("^https?:\\/\\/"+oe.replace(/\./g,".")+"\\/ta\\/detail.htm?.*tradeId=(\\d+)"),cashierUrlReg:new RegExp("^https?:"+ae.replace(/\./g,".")+"\\/linkpay\\/payProxy.htm?param=.*"),cashierUrlReg2:"^https?:"+ae.replace(/\./g,".")+"\\/payment\\/cashier.htm",minisiteCgsReg:/^https?:\/\/((?!\?).)*\.en\.alibaba\.com/,minisiteGgsReg:/^https?:\/\/((?!\?).)*\.trustpass\.alibaba\.com/,liveReg:/^https?:\/\/activity.alibaba.com\/page\/live\.html/,liveReg2:/^https?:\/\/m\.alibaba\.com\/air\/app\/alimsc\/live\/pages\/live-room\/index\.html/,liveReg3:/^https?:\/\/m\.alibaba\.com\/watch/,liveReg4:/^https?:\/\/watch\.alibaba\.com/,liveReg5:/^https?:\/\/m\.alibaba\.com\/live/,liveReg6:new RegExp("^https?:\\/\\/"+ie.replace(/\./g,".")+"\\/live\\/.*","i")},pe=54,fe=2e3,me=10,he=53,ge=2023,ve=2024,ye=59,be=63,we=61,xe=52,Ce=2022,Ee=2002,Se=21,ke=2015,Te=1,_e=2011,Ie=57,Oe=2008,Ae=9601,De=2013,Me=2001,Ne=3,Pe=9408,Le=2085,Re={mProductReg:pe,productReg:pe,orderReg1:ye,orderReg2:ye,cashierUrlReg:Se,cashierUrlReg2:Se,minisiteCgsReg:Ie,minisiteGgsReg:Ie,liveReg:ke,liveReg2:ke,liveReg3:ke,liveReg4:ke,liveReg5:ke,liveReg6:ke},Fe=((Z={})[50]=276,Z[pe]=307,Z[fe]=322,Z[he]=60,Z[me]=100,Z[ge]=298,Z[ve]=144,Z[ye]=328,Z[be]=void 0,Z[we]=60,Z[xe]=226,Z[Ce]=155,Z[Ee]=226,Z[Se]=220,Z[ke]=408,Z[Te]=408,Z[_e]=143,Z[Ie]=void 0,Z[Oe]=273,Z[Ae]=290,Z[De]=264,Z[Me]=258,Z[Ne]=307,Z[Pe]=40,Z[Le]=102,Z),je=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},a=e.split(";"),o=r.decode||ze,i=0;i<a.length;i++){var s=a[i],c=s.indexOf("=");if(!(c<0)){var l=s.substring(0,c).trim();if(void 0==n[l]){var u=s.substring(c+1,s.length).trim();'"'===u[0]&&(u=u.slice(1,-1)),n[l]=Ue(u,o)}}}return n},Be=function(e,t,n){var r=n||{},a=r.encode||qe;if("function"!==typeof a)throw new TypeError("option encode is invalid");if(!Ve.test(e))throw new TypeError("argument name is invalid");var o=a(t);if(o&&!Ve.test(o))throw new TypeError("argument val is invalid");var i=e+"="+o;if(null!=r.maxAge){var s=r.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(s)}if(r.domain){if(!Ve.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!Ve.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(i+="; HttpOnly");r.secure&&(i+="; Secure");if(r.sameSite){switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return i},ze=decodeURIComponent,qe=encodeURIComponent,Ve=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Ue(e,t){try{return t(e)}catch(t){return e}}var He={parse:je,serialize:Be};function We(e){const t=Date.now(),n=He.parse(document.cookie),{cna:r}=n;return`${r}-${t}${e?"-"+e:""}`}var Ge=function(e){let t="";const{getHost:n,getChannel:r}=window.IcbuIM&&window.IcbuIM.IMSDKHelper||{},a=window.IcbuIM&&window.IcbuIM.IMBaaSSDK&&window.IcbuIM.IMBaaSSDK.default,{getLinkVars:o}=window.IcbuIM&&window.IcbuIM.CommonUtil||{},{traceId:i}=o(window.location.search);if("string"===typeof e)t=e;else if("object"===typeof e){const{ext:n,bizData:r,resultCode:a,errCode:o,resultMsg:i,errMsg:s}=e;t=n;const c={actionName:n,bizData:r,context:window.navigator.userAgent,resultCode:a||o,resultMsg:i||s};for(const n in e)["ext","bizData","resultCode","errCode","resultMsg","errMsg"].includes(n)||(t+=`&${n}=${e[n]}`);t+=`&operateContent=${encodeURIComponent(JSON.stringify(c))}`}else console.error("goldlog::params类型错误",e);t+=`&uid=${window.aliId||"unknown"}`,t+=`&host=${n()}`,t+=`&imChannel=${r()}`,i&&(t+=`&urlTraceId=${i}`),a&&(t+=`&connectionStatus=${a.getAuthService().connectionStatus}`);let s="";if(s=window.pageId?`page_id=${window.pageId}&ext=${encodeURIComponent(t)}`:`ext=${encodeURIComponent(t)}`,window.goldlog&&window.goldlog.record)window.goldlog.record("/sc.ma.im","CLK",s,"GET");else{(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:["/sc.ma.im","CLK",s,"GET"]})}},Ke=[60,62,63,2003];function Je(e){setTimeout((function(){return Ge(e)}),0)}function Ze(e,t,n,r){var o=new MutationObserver((function(i){i.forEach((function(o){var i,s,c=o.addedNodes;if(1===c.length)if(c[0]===e.querySelector(".im-unify-service-card.inquiry-file-item"))Je(a()({ext:"MsgFileLoad",success:"YES",resultCode:"200",resultMsg:"file load success",costTime:Date.now()-n},ht.createCommonLogParams(t,"display","messageflow",{isHtmlRender:r?"YES":"NO",url:encodeURIComponent(null===(i=t.originalData)||void 0===i||null===(s=i.params)||void 0===s?void 0:s.url)})));else if("#text"===c[0].nodeName){var l;Je(a()({ext:"MsgFileLoad",success:"NO",resultCode:ce,resultMsg:c[0].textContent||"file load failed",costTime:Date.now()-n},ht.createCommonLogParams(t,"display","messageflow",{isHtmlRender:r?"YES":"NO",url:encodeURIComponent(null===(l=t.originalData)||void 0===l?void 0:l.params.url)})))}})),o.disconnect()}));o.observe(e,{childList:!0,subtree:!0})}function Xe(e,t){var n=new MutationObserver((function(){var r=e.querySelectorAll("img"),o=e.querySelectorAll("video"),i=Date.now();function s(e){var t,n,r=null===ht||void 0===ht||null===(t=ht.getParentNode)||void 0===t?void 0:t.call(ht,e,"session-rich-content");null===ht||void 0===ht||null===(n=ht.updateReactNodeStyle)||void 0===n||n.call(ht,r,"min-height","40px")}function c(e,r){var o,c,l,u,d=a()({},ht.createCommonLogParams(t,"display","messageflow",{size:null===(o=t.originalData)||void 0===o?void 0:o.size,width:null===(c=t.originalData)||void 0===c?void 0:c.width,height:null===(l=t.originalData)||void 0===l?void 0:l.height,md5:null===(u=t.originalData)||void 0===u?void 0:u.fileId}),{url:encodeURIComponent(r.src)});if(Je(a()({ext:"Msg"+e+"LoadStart",success:"YES",resultCode:"200",resultMsg:"media load start"},d)),"Image"===e){if(r.addEventListener("load",(function(){Je(a()({ext:"Msg"+e+"Load",success:"YES",resultCode:"200",resultMsg:"media load success",costTime:Date.now()-i},d)),s(r),n.disconnect()}),!1),(r.src||"").indexOf("pre-clouddisk.alibaba.com")>=0||(r.src||"").indexOf("clouddisk.alibaba.com")>=0){var p,f=null===(p=t.originalData)||void 0===p?void 0:p.fileId;if(f&&f.length>0){if(U.getImageCacheService().getImage(f,"thumbnail"))return;U.getImageCacheService().cacheImageDetails(f,"thumbnail",r.src,"chat")}}}else r.addEventListener("loadeddata",(function(){Je(a()({ext:"Msg"+e+"Load",success:"YES",resultCode:"200",resultMsg:"media load success",costTime:Date.now()-i},d)),s(r),n.disconnect()}),!1);r.addEventListener("error",(function(t){Je(a()({ext:"Msg"+e+"Load",success:"NO",resultCode:ce,resultMsg:t?t.message:"media load failed",costTime:Date.now()-i},d)),n.disconnect()}),!1)}r.forEach(c.bind(null,"Image")),o.forEach(c.bind(null,"Video")),r.length||o.length||-1===Ke.indexOf(t.subType)||s(e)}));n.observe(e,{childList:!0})}function Ye(e){var t=e.boxDom,n=e.msgItem,r=e.startTime,o=new MutationObserver((function(e){e.forEach((function(e){var o,i,s,c,l,u=e.addedNodes;if(1===u.length)if((null===(o=u[0])||void 0===o?void 0:o.childNodes[0])===t.querySelector(".tpl-wrapper"))Je(a()({ext:"MsgCardLoad",success:"YES",resultCode:"200",resultMsg:"card load success",costTime:Date.now()-r},ht.createCommonLogParams(n,"display","messageflow",{isRenderOpt:"YES",isDxCacheRender:(null===(i=u[0])||void 0===i||null===(s=i.dataset)||void 0===s?void 0:s.iscacherendered)||"NO",url:encodeURIComponent(null===(c=n.originalData)||void 0===c||null===(l=c.params)||void 0===l?void 0:l.url)})));else if("#text"===u[0].nodeName){var d,p,f;Je(a()({ext:"MsgCardLoad",success:"NO",resultCode:ce,resultMsg:(null===(d=u[0])||void 0===d?void 0:d.textContent)||"card load failed",costTime:Date.now()-r},ht.createCommonLogParams(n,"display","messageflow",{isRenderOpt:"YES",isDxCacheRender:"NO",url:encodeURIComponent(null===(p=n.originalData)||void 0===p||null===(f=p.params)||void 0===f?void 0:f.url)})))}})),o.disconnect()}));o.observe(t,{childList:!0,subtree:!0})}var Qe=window.IcbuIM.lib.requestHelper.mtopRequest,$e=Y(),et=function(e){return G?U.getMessageService().mtopRequest(e):Qe({api:e.apiName,v:"1.0",appKey:"24889839",data:a()({},e.params,{country:$e.country,currency:"USD",timeZone:"Asia/Shanghai"}),ecode:1,dataType:"json"})},tt=function(){var e,t;return"base"!==(null===(e=window)||void 0===e||null===(t=e.__APLUS_ABRATE__)||void 0===t?void 0:t.web_messenger_memory_opt_sf)},nt=function(){return!1};function rt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ot=(document.querySelector("meta[name=data-spm]")||{}).content||"-1",it=document.body.dataset.spm||"-1",st=[2103,2104,2105,2106,2107,2109],ct=["jpg","png","bmp","jpeg","jpe","gif","tif","fax"],lt=["mp4","avi","mov","mpe","mpg","mpeg","mkv","rmvb","rm","ram"],ut=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"chat"}),dt="LIKE",pt="HATE",ft="NONE";var mt={isContentMatchWorkspaceUrl:function(e){return e.match(re)},isContentMatchAICard:function(e,t){return 9409===t||"__FAKE_AI_CARD__"===e},isUrlValid:function(e){return null!=this.getPureText(e).match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)},canTransfer:function(e){if(!this.isUrlValid(e))return!1;var t=this.getPureText(e);return!t.includes("\n")&&!t.includes(" ")&&function(e){for(var t=Object.entries(de),n=0;n<t.length;n++){var r=t[n],a=r[0],o=r[1];if(e.match(o))return Re[a]}return!1}(t)},canTransferProduct:function(e){var t=this.getPureText(e);return t.match(de.mProductReg)||t.match(de.productReg)},canTransferOrder:function(e){var t=this.getPureText(e);return t.match(de.orderReg1)||t.match(de.orderReg2)},getPureText:function(e){var t,n;return e&&null!==(t=null===(n=String(e))||void 0===n?void 0:n.replace(/<[^>]+>/g,""))&&void 0!==t?t:""},getLogParams:function(e){var t,n;return e?{host:e.host,messageId:e.uuid,messageType:e.subType,sendTime:e.sendTime,requestId:null===e||void 0===e||null===(t=e.originalData)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.requestMessageId,spm:ot+"."+it+".single."+e.subType,bizType:"single",read_status:e.contactRead?"read":"unread"}:{}},isMediaType:function(e){return st.indexOf(e)>=0},isActionMeeting:function(e){return[9515,9512,9513].indexOf(e)>=0},isFileType:function(e){return[60,62].indexOf(e)>=0},debounceWrapper:function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=100);var n=null;return function(){var r=arguments,a=this;n&&clearTimeout(n),n=setTimeout((function(){e.apply(a,r)}),t)}},getConvertContent:function(e){return void 0===e&&(e=""),mt.convertLinkToHtmlWhenMatch(mt.xssFilter(e||"",{}))},xssFilter:function(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t={}),void 0===n&&(n={}),""!==e)return e=this.convertNewlinesToBreaks(e,t),tt()?e:$.a.sanitize(e,Object.assign(n,{ADD_ATTR:["target"],FORBID_TAGS:["form","input"]}))},convertNewlinesToBreaks:function(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),""===e||"richText"===t.contentType||/<\/p>(\r)?\n/g.test(e)?e:e.replace(/[\n]/g,"<br/>")},convertLinkToHtmlWhenMatch:function(e){if(!e)return"";var t=/^(https?|ftp|file):\/\/[-A-Za-z0-9+&@#\/%?=~_|!:,.;]+[-A-Za-z0-9+&@#\/%=~_|]$/gi;if(t.test(e.trim()))return e.replace(t,'<a href="$&" target="_blank">$&</a>');var n=/^[A-Za-z0-9\-\.]+\.(com|cn|net|org|us)$/gi;return n.test(e.trim())?e.replace(n,'<a href="https://$&" target="_blank">$&</a>'):e},createCommonLogParams:function(e,t,n,r){void 0===r&&(r={});var o=e.messageId,i=e.subType,s=e.messageType,c=(e.content,e.conversationCode),l=e.originalData,u="",d="";if(c){var p=c.split("#")[0].split("-");"send"===s?(u=window.aliId,d=window.aliId===p[0]?p[1]:p[0]):(d=window.aliId,u=window.aliId===p[0]?p[1]:p[0])}return{businessId:o,index2:d,index1:u,operateType:t,traceId:We(),bizData:a()({scene:n,cardType:i,realCardType:(null===l||void 0===l?void 0:l.cardType)||i},r)}},aiCardStateTransfer:function(e,t){if("object"!==typeof e||null===e)return e;var n=a()({},e);if(Array.isArray(e.attachmentList)){var r=e.attachmentList.length,o=(ut.get("ai.card.viewMore.v2")||"View all")+"("+(r||0)+")",i="",s=[],c=[];if(r>0){i=["compare1","compare2","compare3"].includes(window.__APLUS_ABRATE__.AISummaryOpt)?ut.get("ai.card.relatedFileTitile")||"Related file and images":""+(ut.get("ai.card.relatedFiles")||"{{0}} related files").replace("{{0}}",r);for(var l,u=rt(e.attachmentList);!(l=u()).done;){var d=l.value,p={actionName:"openFile"};p.actionParams={fileUrl:d.previewUrl,fileExtension:d.fileType},d.actionEvent=p,d.isVideo=!!lt.includes(d.fileType),ct.includes(d.fileType.toLowerCase())||lt.includes(d.fileType.toLowerCase())?c.push(d):s.push(d)}}var f=[],m=[];s.length<=2&&(f=c.slice(0,6)),0===s.length&&(m=c.slice(6,12));var h={},g="",v="";e.messageDate&&e.messageDate.indexOf("-")>0&&(g=e.messageDate.split("-")[0],v=e.messageDate.split("-")[1]),Math.ceil(s.length/2)+Math.ceil(c.length/6)>2&&(h.actionName="viewMore",h.actionParams=[g,v]),s.length>0&&(c=[],f=[],m=[]),n.otherFiles=s,n.relatedFileContent=i,n.mediaFiles1=f,n.mediaFiles2=m,n.viewMoreAction=h,n.records=""+(ut.get("ai.card.records")||"{{0}} records").replace("{{0}}",e.summaryRecords),n.messageDate=e.summaryMessageDate,n.copyTextAction={actionName:"copyText",actionParams:null===e||void 0===e?void 0:e.content,traceInfo:{name:"copyText"}},n.viewMoreText=o}return n},getRateExt:function(e){var t,n=null===(t=e.originExt)||void 0===t?void 0:t.messageDisplayInfo;try{var r;n=null===(r=(n=JSON.parse(n)).evaluateInfo)||void 0===r?void 0:r.evaluateType}catch(e){return""}return n||ft},setRateExt:function(e,t){et({apiName:"mtop.alibaba.intl.ai.assistant.evaluate",params:{messageId:e.messageId+".PNM",evaluateValue:t}})},uploadRateForm:function(e,t,n){var r=e.originalData,o=(r=void 0===r?{}:r).params,i=(o=void 0===o?{}:o).requestId;return et({apiName:"mtop.alibaba.intl.ai.assistant.feedback",params:{feedbackInfo:JSON.stringify({scene:"CHAT",function:"AI_SUMMARY",businessId:i,content:a()({},n,{like:t})})}})},getParentNode:function(e,t){try{for(var n=e,r=0;n&&r<10;){if(n.className&&n.className.split(" ").includes(t))return n;n=n.parentNode,r++}return null}catch(e){return null}},updateReactNodeStyle:function(e,t,n){void 0===n&&(n="");try{e&&t&&(e.style[t]=n)}catch(e){}},getMemberType:function(){try{var e=/(xman_us_f=*.+?)[;]/.exec(document.cookie);if(null!==e&&void 0!==e&&e.length){var t=/(x_user=*.+?)[;]/.exec(e[0]);if(null!==t&&void 0!==t&&t.length){var n=t[0].split("|");if(null!==n&&void 0!==n&&n.length)return n[3]}}return""}catch(e){return console.error("==== get member type failed ====",e),""}}},ht=mt;function gt(e){void 0===e&&(e="");var t={};return e.replace(/([^?&]+)=([^?&]+)/g,(function(e,n,r){return t[decodeURIComponent(n)]=decodeURIComponent(r),r+"="+n})),t}function vt(e){var t=new Map;this.get=function(e){if(t.has(e)){var n=t.get(e);return t.delete(e),t.set(e,n),n}return null},this.put=function(n,r){t.has(n)?t.delete(n):t.size>=e&&t.delete(t.keys().next().value),t.set(n,r)},this.size=function(){return t.size},this.clear=function(){t.clear()},this.keys=function(){return t.keys()},this.values=function(){return t.values()},this.entries=function(){return t.entries()},this.forEach=function(e){t.forEach(e)},this.has=function(e){return t.has(e)},this.delete=function(e){return t.delete(e)}}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bt=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.database,a=t.version,o=t.table,i=t.keyPath,s=t.autoIncrement,c=t.mode,l=t.success,u=t.error,d=t.indexList,p=void 0===d?[]:d;if(this.table=o,this.mode=c,!window.indexedDB)return this.request={},void this.error({message:"indexedDB not supported!"});this.request=window.indexedDB.open(r,a),this.request.addEventListener("success",(function(e){n.db=e.target.result,"function"===typeof l&&l(e)})),this.request.addEventListener("error",(function(e){"function"===typeof u&&u(e)})),this.request.addEventListener("upgradeneeded",(function(e){var t=e.target.result;if(!t.objectStoreNames.contains(o)){var r={};i?(r.keyPath=i,r.autoIncrement=!!s):r.autoIncrement=!0,n.objectStore=t.createObjectStore(o,r),p.forEach((function(e){n.objectStore.createIndex(e.name,e.name,e.config||{unique:!1})}))}}))}var t,n,r;return t=e,(n=[{key:"error",value:function(e){console.error("==== indexedDB error ====: ",e.message)}},{key:"add",value:function(e){return this.promiseWrapper(e,(function(e,t){return e.add(t)}))}},{key:"put",value:function(e){return this.promiseWrapper(e,(function(e,t){return e.put(t)}))}},{key:"getByKey",value:function(e){return this.promiseWrapper(e,(function(e,t){return e.get(t)}))}},{key:"getByIndex",value:function(e,t){return this.promiseWrapper(e,(function(e,n){return e.index(t).get(n)}))}},{key:"iterate",value:function(e){var t=e.key,n=e.index,r=e.prefix,a=e.filter,o=void 0===a?function(){return!0}:a,i=e.callback,s=this.db.transaction(this.table,this.mode),c=s.objectStore(this.table),l=t?IDBKeyRange.only(t):null,u=r?IDBKeyRange.bound(r,r+"￿"):null,d=function(e){var t=e.target.result;t?(o(t.value)&&i(t.value),t.continue()):i(null)};return n?c.index(n).openCursor(l||u).addEventListener("success",d):c.openCursor(l||u).addEventListener("success",d),s}},{key:"delete",value:function(e){return this.promiseWrapper(e,(function(e,t){return e.delete(t)}))}},{key:"promiseWrapper",value:function(e,t){e=Array.isArray(e)?e:[e];var n=this.db.transaction(this.table,this.mode).objectStore(this.table);return Promise.all(e.map((function(e){return r=t(n,e),new Promise((function(e,t){r.addEventListener("success",(function(t){e(t.target.result)})),r.addEventListener("error",(function(e){t(e)}))}));var r}))).catch((function(e){return e}))}}])&&yt(t.prototype,n),r&&yt(t,r),e}(),wt=function(){function e(e){this._dxMemoryCache=new xt,this._dxIndexDbCache=new kt}e.getInstance=function(t){return this.instance||(this.instance=new e(t)),this.instance};var t=e.prototype;return t.set=function(e,t){var n=t.template,r=t.data;e&&(this._dxMemoryCache.setCard(e,{data:r,template:n}),this._dxIndexDbCache.setCard(e,{data:r,template:n}))},t.get=function(){var e=z()(V.a.mark((function e(t){var n,r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(!(n=this._dxMemoryCache.getCard(t))){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this._dxIndexDbCache.getCardData(t);case 7:if(!(r=e.sent)){e.next=15;break}if(a=this._dxMemoryCache.getTemplate(r.templateName)){e.next=14;break}return e.next=13,this._dxIndexDbCache.getTemplate(r.templateName);case 13:a=e.sent;case 14:a&&(n={data:r.data,template:a},this._dxMemoryCache.setCard(t,n));case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.delete=function(){var e=z()(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._dxMemoryCache.deleteCard(t),this._dxIndexDbCache.deleteCard(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),xt=function(){function e(){var e=this;this.getCard=function(t){if(!t)return null;var n=e._cardCache.get(t);if(n){var r=e._templateCache.get(n.templateName);if(r)return{data:n.data,template:r}}return null},this.setCard=function(t,n){var r=n.data,a=n.template;t?a?r?(e._cardCache.put(t,{data:r,templateName:a.templateName}),e._templateCache.put(a.templateName,a)):console.error("Invalid card data"):console.error("Invalid template object"):console.error("Invalid message ID")},this.getCardData=function(t){return t?e._cardCache.get(t):null},this.getTemplate=function(t){return t?e._templateCache.get(t):null},this._cardCache=new vt(200),this._templateCache=new vt(30)}return e.prototype.deleteCard=function(e){var t=this._cardCache.get(e);t&&(this._templateCache.delete(t.templateName),this._cardCache.delete(e))},e}(),Ct=function(){var e=this;this.getCacheCardSize=function(t){void 0===t&&(t={});var n=t.messageId;return{size:e.CardSizeCache.get(n)||{}}},this.setCacheCardSize=function(t,n){var r=t.size;void 0===n&&(n={});var a=n.messageId;a&&e.CardSizeCache.put(a,r)},this.hasCacheCardSize=function(t){void 0===t&&(t={});var n=t.messageId;return!!n&&e.CardSizeCache.has(n)},this.CardSizeCache=new vt(100)};Ct.getInstance=function(){return Ct.instance||(Ct.instance=new Ct),Ct.instance};var Et="messageId",St="name",kt=function(){function e(){this._cardDb=new bt({database:"DxCache",version:1,table:"cards",keyPath:Et,autoIncrement:!1,mode:"readwrite"}),this._templateDb=new bt({database:"DxTemplateCache",version:1,table:"templates",keyPath:St,autoIncrement:!1,mode:"readwrite",success:function(){},error:function(){console.log("ryujin templateDb error")}})}var t=e.prototype;return t.setCard=function(e,t){var n,r,a=t.data,o=t.template;this._cardDb.db&&this._cardDb.put(((n={})[Et]=e,n.data=a,n.templateName=o.templateName,n));this._templateDb.db&&this._templateDb.put(((r={})[St]=o.templateName,r.template=o,r))},t.deleteCard=function(e){this._cardDb.db&&this._cardDb.delete(e),this._templateDb.db&&this._templateDb.delete(e)},t.getCard=function(){var e=z()(V.a.mark((function e(t){var n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._cardDb.db){e.next=11;break}return e.next=3,this._cardDb.getByKey(t);case 3:if(!(n=e.sent)[0]){e.next=11;break}if(!this._templateDb.db){e.next=11;break}return e.next=8,this._templateDb.getByKey(n[0].templateName);case 8:if(!(r=e.sent)[0]){e.next=11;break}return e.abrupt("return",{data:n[0].data,template:r[0].template});case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getCardData=function(){var e=z()(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._cardDb.db){e.next=5;break}return e.next=3,this._cardDb.getByKey(t);case 3:return n=e.sent,e.abrupt("return",n&&n[0]);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getTemplate=function(){var e=z()(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._templateDb.db){e.next=6;break}return e.next=3,this._templateDb.getByKey(t);case 3:if(!(n=e.sent)[0]){e.next=6;break}return e.abrupt("return",n[0].template);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),Tt=window.IcbuIM.lib.requestHelper.mtopRequest,_t=window.IcbuIM.CommonUtil.sleep,It={},Ot=H.isSeller?Y():X(),At=Ot.language,Dt=Ot.country;function Mt(e,t){void 0===t&&(t=!1),e&&!t&&delete It[e]}function Nt(e,t,n){var r=null===t||void 0===t?void 0:t.messageId;r&&(It[r]={callback:e,itemData:t,eventExtInfo:n})}function Pt(e){var t,n=e[2]&&e[2].event||{},r=n.target,a=e[0],o=e[1],i=null===(t=e[2])||void 0===t?void 0:t._tplId;if(r&&i){var s,c=It[i];if(c)null===(s=c.callback)||void 0===s||s.call(c,n,a,o,c.eventExtInfo)}}function Lt(e){var t,n=(e[2]&&e[2].event||{}).target,r=e[0],a=e[1],o=null===(t=e[2])||void 0===t?void 0:t._tplId;if(n&&o){var i=It[o];return{itemData:null===i||void 0===i?void 0:i.itemData,data:r,fullData:a}}}function Rt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=z()(V.a.mark((function e(t,n){var r,a,o,i,s,c,l,u,d,p,f,m,h,g;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.toUid,a=t.fromUid,o=t.cid,i=t.conversationType,s=t.paramsMap,c=t.cardType,l=t.subType,u=t.messageId,!tt()){e.next=10;break}if(zt(l)){e.next=10;break}return e.next=5,wt.getInstance().get(u);case 5:return d=e.sent,e.next=8,_t(0);case 8:if(!d){e.next=10;break}return e.abrupt("return",Bt(d));case 10:return p="24889839",s&&(delete s.from,delete s.to,delete s.cardType),f={cardType:c,paramsMap:s},m={fromUid:+a,cid:o,proxyAliId:""+(window.proxyAliId||"")},2!==i&&Object.assign(m,{toUid:+r}),h={language:At,appKey:p,versionCode:1,appCountry:Dt,terminalType:J(host)},(g=n)||(g=2===i?2:1),e.abrupt("return",Tt({api:"mtop.alibaba.intl.mobile.interaction.fetchSceneCard",v:"1.0",appKey:p,data:{cardScene:g,cardParamContext:JSON.stringify(f),cardUserContext:JSON.stringify(m),cardExtraContext:JSON.stringify(h)},ecode:1,H5Request:!0,versionCode:1}).then((function(e){if(tt()){var t=e.data.fbCardList&&e.data.fbCardList[0];"dx"===(null===t||void 0===t?void 0:t.templateType)&&(zt(l)||wt.getInstance().set(u,{template:t.template,data:t.data}))}return e})));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e){var t=e.itemData,n=e.url,r=e.cardScene,a=t.content,o=t.originalData,i=void 0===o?{}:o,s=t.sender,c=void 0===s?{}:s,l=t.owner,u=void 0===l?{}:l,d=t.subType,p=t.messageId,f=c.targetId,m=u.aliId,h=i.cardType,g=i.params;g||(h=(g=gt(n||a)).type);return g&&(delete g.from,delete g.to,delete g.cardType),Rt({toUid:m,fromUid:f,cid:t.conversationCode,conversationType:t.conversationType,paramsMap:g,cardType:h,subType:d,messageId:p},r)}function Bt(e){var t=e.data,n=void 0===t?{}:t,r=e.template,a=void 0===r?{}:r;return n.isCacheRendered=!0,new Promise((function(e){e({data:{fbCardList:[{templateType:"dx",data:n,template:a}]},ret:["SUCCESS::调用成功"]})}))}function zt(e){return[2006,2004,2009,9401,9601].includes(e)}function qt(){return(qt=z()(V.a.mark((function e(t,n,r){var a,o,i,s,c,l,u,d,p,f,m,h,g,v,y,b,w,x;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=!1),a=t.content,o=t.host,i=t.originalData,s=void 0===i?{}:i,c=t.sender,l=void 0===c?{}:c,u=t.conversationCode,d=t.messageId,zt(p=t.subType)||r){e.next=10;break}return e.next=5,wt.getInstance().get(d);case 5:return f=e.sent,e.next=8,_t(0);case 8:if(!f){e.next=10;break}return e.abrupt("return",Bt(f));case 10:return m=/sc_b_currency=(\w+)/.exec(document.cookie),h=m&&m[1]||"USD",g=u.split("#")[0],v=g.split("-"),y=l.targetId,b=y===v[0]?v[1]:v[0],w=s.cardType,(x=s.params)||(x=gt(n||a),w=x.type),x&&(delete x.from,delete x.to,delete x.cardType),e.abrupt("return",Tt({api:"mtop.alibaba.intl.mobile.interaction.fetchCard",v:"1.1",appKey:"24889839",data:{appCountry:Dt,language:At,cardTypeValue:w,paramsMap:JSON.stringify(x),fromAliId:y,toAliId:b,currency:h,terminalType:J(o),proxyAliId:""+(window.proxyAliId||"")},type:"POST",ecode:1,H5Request:!0,versionCode:1}).then((function(e){var t=e.data.fbCardList&&e.data.fbCardList[0];return"dx"===(null===t||void 0===t?void 0:t.templateType)&&(zt(p)||wt.getInstance().set(d,{template:t.template,data:t.data})),e})));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e,t,n){void 0===n&&(n=!1);var r=e.content,a=e.loginId,o=e.host;return 2===e.conversationType?jt({itemData:e,url:t,cardScene:2}):function(e){var t;return(null===e||void 0===e||null===(t=e.sender)||void 0===t?void 0:t.targetId)&&(null===e||void 0===e?void 0:e.conversationCode)}(e)?function(e,t,n){return qt.apply(this,arguments)}(e,t,n):Tt({api:"mtop.alibaba.intl.mobile.interaction.parseDynamicCardMessages",v:"1.0",appKey:"24889839",data:{language:At,country:Dt,targetLoginId:a,terminalType:J(o),messages:JSON.stringify([{message:t||r,md5:""}]),proxyAliId:""+(window.proxyAliId||"")},type:"POST",ecode:1,H5Request:!0,versionCode:1})}var Ut=n(3),Ht={autoReplyTip:ut.get("auto.reply.tip")||"自动接待发送",urlSafeCheckToastTitle:ut.get("urlSafeCheck.toastTitle")||"即将离开阿里巴巴",urlSafeCheckToastContent:ut.get("urlSafeCheck.toastContent")||"即将跳转外部链接，请注意您的账号和资金安全",urlSafeCheckToastConfirm:ut.get("urlSafeCheck.toastConfirm")||"关闭",urlSafeCheckToastCancel:ut.get("urlSafeCheck.toastCancel")||"继续访问"};void 0===window.isOpenUrlListening&&(window.isOpenUrlListening=!1);var Wt,Gt,Kt,Jt=function(e){try{var t=function(e){return e.match(/^[a-zA-Z]+:/)||(e="https:"+e),e}(e);return new URL(t).hostname.match(/^(?:[a-zA-Z0-9-]+\.)+alibaba\.com$/i)}catch(e){return!1}},Zt=(n(223),function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}i()(t,e);var n=t.prototype;return n.componentDidCatch=function(){this.setState({hasError:!0})},n.render=function(){var e=this.props,t=e.itemData,n=void 0===t?{}:t,r=e.className,a=void 0===r?"":r,o=n.messageId,i=n.subType,s=["Something went wrong"];return o&&s.push("messageId: "+o),i&&s.push("type: "+i),this.state.hasError?c.a.createElement("div",{className:a},c.a.createElement("p",{className:"error-tip"},s.join(","))):this.props.children},t}(c.a.Component)),Xt=(n(224),(window.IcbuIM&&window.IcbuIM.lib).log),Yt=(null===(Wt=window)||void 0===Wt||null===(Gt=Wt.IcbuIM)||void 0===Gt||null===(Kt=Gt.UserUtil)||void 0===Kt?void 0:Kt.getBuyerLocal())||"en-us",Qt=window.IcbuIM.moment;Qt.locale(Yt),wt.getInstance(),j.setGlobalConfig("enableLayoutNG",!0),function(){if(!K&&!window.isOpenUrlListening){window.isOpenUrlListening=!0;var e=window.open;window.open=function(t){var n=arguments,r=this;if(t&&""!==t.trim())return Jt(t)?(Je({ext:"safeUrl",bizData:{url:t}}),e.apply(this,arguments)):void Ut.Dialog.alert({v2:!0,title:ut.get("urlSafeCheck.toastTitle")||"即将离开阿里巴巴",content:ut.get("urlSafeCheck.toastContent")||"即将跳转外部链接，请注意您的账号和资金安全",footerActions:["cancel","ok"],okProps:{children:ut.get("urlSafeCheck.toastConfirm")||"关闭"},cancelProps:{children:ut.get("urlSafeCheck.toastCancel")||"继续访问"},onOk:function(){Je({ext:"urlSafeCheckAction",bizData:{url:t,action:"close"}})},onCancel:function(){return Je({ext:"urlSafeCheckAction",bizData:{url:t,action:"open"}}),e.apply(r,n)}})}}}();var $t=function(e,t){return function(n){return function(r){function o(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))||this).handleATagClick=function(t){var n=e.findParentATag(t.target);if(n){var r=n.href;if(!r||""===r.trim())return void t.preventDefault();var a=!0;if("card-attachment"===n.getAttribute("data-clk"))return void t.preventDefault();Jt(r)||(a=!1,t.preventDefault(),window.open(r)),Je({ext:"alink_url",bizData:{url:r,safe:a}})}},e.scrollTo=function(t){var n;null===(n=e.listInstance)||void 0===n||n.scrollTo(t)},e}i()(o,r);var c=o.prototype;return c.findParentATag=function(e){for(;e&&(null===(t=e.className)||void 0===t||!t.includes("im-message-flow"));){var t;if("A"===e.tagName)return e;e=e.parentNode}return null},c.componentWillMount=function(){function e(e){var t=e.itemData,n=e.data,r=(void 0===n?{}:n)[0]||{},o=r.actionName,i=r.actionParams,s=r.traceInfo,c=void 0===s?{}:s,l=a()({},ht.getLogParams(t),{cardUrl:encodeURIComponent(null===t||void 0===t?void 0:t.content),clickTime:+new Date,clickActionName:o,clickActionArgs:JSON.stringify(i)},c),u="2020MC_MessageCard_Click";for(var d in l)u+="&"+d+"="+l[d];Xt&&Xt(u,"/sc.ma."+(null===t||void 0===t?void 0:t.host))}this.MessageList=nt()?F(n(t)):u()(n(t)),j.registerEventHandler("callback",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Lt(n),i=n[0][0]||{},s=i.actionName,c=i.actionParams,l=a()({},c,n[0][1]);if(o&&e(o),"previewImages"===s){l.imageUrls[l.startIndex||0];G?U.getMessageService().openUrl(l.imageUrls[0]):window.open(l.imageUrls[0])}else Pt(n)})),j.registerEventHandler("link",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Lt(n),i=n[0][0]||{},s=i.actionName,c=i.actionParams,l=a()({},c,n[0][1]),u=l.url;if(o&&e(o),"openUrl"===s)if(Xt&&Xt("dynamicCardClick&name="+u+"&from=web","weblite"===window.host?"/sc.ma.weblite":"/sc.ma.messenger"),G)u.indexOf("plugin://")>=0?U.getMessageService().doCardAction({cmd:"openPlugin",param:JSON.stringify(l)}):U.getMessageService().openUrl(u);else{var d=se(u)?Object(ee.transferDomain)(u):u;window.open(Object(ee.transferDomain)(d))}else Pt(n)})),j.registerDataParser("timeToHHMM",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0][0]){var r=parseInt(t[0][0]||Date.now()),a=new Date(r),o=a.getHours(),i="am";return o>12&&(i="pm",o-=12),o+":"+(""+a.getMinutes()).padStart(2,"0")+" "+i}})),j.registerDataParser("timeToPeriod",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0][0]){var r=t[0][0].split("-"),a=parseInt(r[0]||Date.now()),o=parseInt(r[1]||Date.now()),i=new Date(a),s=new Date(o),c=i.getDate(),l=s.getDate(),u=Qt.localeData(),d=i.getFullYear()===s.getFullYear();return u.months(Qt(a))+" "+c+" - "+u.months(Qt(o))+" "+l+(d?"":", "+s.getFullYear())}})),j.registerDataParser("timeToPeriodV2",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0][0]){var r=t[0][0].split("-"),a=parseInt(r[0]||Date.now()),o=parseInt(r[1]||Date.now()),i=new Date(a),s=new Date(o),c=i.getDate().toString().padStart(2,"0"),l=s.getDate().toString().padStart(2,"0"),u=i.getFullYear(),d=s.getFullYear();return u+"-"+(i.getMonth()+1).toString().padStart(2,"0")+"-"+c+" ~ "+d+"-"+(s.getMonth()+1).toString().padStart(2,"0")+"-"+l}})),j.setDeviceWidth(375)},c.componentDidMount=function(){if(!K&&this.containerDom){if(this.containerDom.haslistenedClick)return;this.containerDom.haslistenedClick=!0,this.containerDom.removeEventListener("click",this.handleATagClick),this.containerDom.addEventListener("click",this.handleATagClick)}},c.componentWillUnmount=function(){var e;null!==(e=this.containerDom)&&void 0!==e&&e.haslistenedClick&&(this.containerDom.haslistenedClick=!1)},c.render=function(){var t=this,n=this.props,r=n.list,a=n.groupMembers,o=n.loadDirection,i=n.initFetch,c=n.loadFunc,l=n.fetchForwardMessagesForSearch,u=void 0===l?function(){}:l,d=n.disableRemoveCardDom,p=void 0!==d&&d,f=this.MessageList;return s.createElement(Zt,null,s.createElement("div",{className:"im-message-flow "+e+" "+o,ref:function(e){return t.containerDom=e}},s.createElement(f,{ref:function(e){t.listInstance=e},list:r,groupMembers:a,loadDirection:o,initFetch:i,loadFunc:c,openAdjustScroll:!0,fetchForwardMessagesForSearch:u,disableRemoveCardDom:p})))},o}(s.Component)}},en=[57,59,66,2001,2002,2013,2017],tn=[2e3],nn=[50],rn=[54,57,63,66,2008,2013,2017,2002,2003,2015,2005],an=[57,59,66,2002,2003,2013,2017],on=[10,13,21,50,52,54,55,57,59,60,62,63,64,65,2e3,2001,2002,2003,2004,2005,2006,2008,2009,2010,2011,2012,2013,2014,2015,2017,2018,2019,2020,2022,2023,2024,2025,9600],sn=window.IcbuIM.classnames,cn=rn,ln=an,un=on,dn=function(e){return ln.includes(e)},pn=function(e){return un.includes(e)},fn=function(e){var t,n=1===e.subType&&ht.canTransfer(e.content);return sn({"item-content":!0,"item-content-right":"send"===e.messageType,"item-content-left":"rec"===e.messageType,"no-flex-grow":(t=e.subType,cn.includes(t)||n&&ht.canTransferProduct(e.content)),"min-width-set":dn(e.subType),"dx-card":pn(e.subType)||n,"structural-msg":100015===e.subType,"dx-card-weblite":(pn(e.subType)||n)&&H.isWeblite})},mn=function(e){if(e){var t=new Date(e),n=t.getFullYear(),r=t.getMonth()+1,a=t.getDate(),o=t.getHours(),i=t.getMinutes(),s=function(e){return e<10?"0"+e:e};return s(n)+"-"+s(r)+"-"+s(a)+" "+s(o)+":"+s(i)}return""};n(144);var hn=function(e){var t,n=e.messageType,r=e.sendTime,a=e.contact,o=e.groupMembers,i=void 0===o?{}:o,c=e.sender,l=(c=void 0===c?{}:c).targetId,u=2===e.conversationType,d=mn(r);return s.createElement("p",{className:"item-base-info"},s.createElement("span",{className:"name"},"rec"===n?u?(null===(t=i[l])||void 0===t?void 0:t.displayName)||l:a&&a.name:""),s.createElement("span",null,d))},gn=window.IcbuIM.UserUtil,vn=gn.getAvatarBackground,yn=gn.getFirstName;function bn(e,t,n){2!==e.conversationType&&e.onCardClick&&e.onCardClick(a()({},e,{avatarClick:!0}),n)}var wn,xn,Cn,En=function(e){return s.createElement("div",{className:"user-content"},e.children)},Sn=function(e){var t,n,r=e.itemData,a=e.url,o=r.contact,i=void 0===o?{}:o,c=r.owner,l=void 0===c?{}:c,u=r.messageType,d=r.loginId,p=r.host,f=r.conversationType,m=r.sender,h=(m=void 0===m?{}:m).targetId,g=r.groupMembers,v=void 0===g?{}:g,y=2===f,b="send"===u?l.name||(null===yn||void 0===yn?void 0:yn()):y?(null===(t=v[h])||void 0===t?void 0:t.displayName)||h:i.name,w=a||(null===(n=v[h])||void 0===n?void 0:n.fullPortrait);return s.createElement("div",{className:"user-content"},"send"===u&&e.children,w?s.createElement("div",{style:{backgroundImage:"url("+(w||"https://img.alicdn.com/tfs/TB1bs7ZQXXXXXXGapXXXXXXXXXX-88-88.png")+")"},className:"session-avatar "+p,onClick:bn.bind(null,r,e.EventBus)}):s.createElement("div",{className:"session-avatar head-portrait "+p,style:{backgroundColor:vn(b)},onClick:bn.bind(null,r,e.EventBus)},b||""===b?b.slice(0,1):d&&d.slice(0,1)||""),"rec"===u&&e.children)},kn=(n(225),(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"onepage.ma.session.plugin"})),Tn=[1,50,2085],_n=function(e){function t(t){var n;(n=e.call(this,t)||this).translate=function(){var e=n.props.itemData,t=e.messageId,r=e.content,a=e.translate,o=e.translateInfo;e.conversationCode;if(n.canTranslate&&(null===o||void 0===o||!o.targetContent)){Je(n.props.type+"TranslationCall");var i=n.props.realTimeTranslation.language,s=void 0===i?"":i;n.canTranslate=!1,a({data:{srcContents:[{messageId:t,srcContent:r}],targetLang:s},callback:function(e){if(200===1*e.code){Je(n.props.type+"TranslationSuccess");var t,a=e.data&&e.data.list&&e.data.list[0]||{},o=a.targetContent||r||"",i=o.replace(/<img\s+[^>]*?src="\/\/atmgateway-client\.alibaba\.com\/smily-big\/([^"]+\.png)"[^>]*>/g,(function(e,t){return"[["+t+"]]"})),s=n.props.itemData.localExt,c=void 0===s?{}:s;if(i===o)t=ht.xssFilter(o,c,{FORBID_ATTR:["src","onclick"]});else{t=ht.xssFilter(i,c,{FORBID_ATTR:["src","onclick"]}).replace(/\[\[([^\]]+\.png)\]\]/g,(function(e,t){return'<img src="//atmgateway-client.alibaba.com/smily-big/'+t+'" height="32px" width="32px" />'}))}n.setState({translateSuccess:a.translateSuccess,translatedContent:t}),n.setContentVisible(!0)}else Je(n.props.type+"TranslationFail"),n.setState({translateSuccess:!1,translatedContent:r}),n.setContentVisible(!0)}})}},n.translateClick=function(){var e=n.props.itemData,t=e.EventBus,r=e.host,a=n.props.realTimeTranslation.receiveTranslateAgreement;if(Je(n.state.contentVisible?"2021MC_SingleUntrans_Click":"2021MC_SingleTrans_Click"),!n.state.contentVisible){if(["messenger","weblite"].includes(r)&&!a)return void t.publish("message-flow:not-agree");n.translate()}n.setContentVisible(!n.state.contentVisible)},n.resultTipClick=function(){var e=n.props.itemData,t=e.EventBus,r=e.host;["messenger","weblite"].includes(r)&&t.publish("message-flow:result-tip-click")},n.feedbackClick=function(){var e=n.props.itemData,t=e.EventBus,r=e.content,a=e.messageId;t.publish("message-flow:feedback-click",{srcContent:r,targetContent:n.state.translatedContent,messageId:a})};var r=n.props.itemData,a=r.messageType,o=r.realTimeTranslation,i=r.subType,s=t.translateInfo||{},c="rec"===a&&((null===o||void 0===o?void 0:o.openRealTimeTranslation)&&Tn.includes(i));return n.state={contentVisible:c,translatedContent:ht.xssFilter(s.targetContent)||"",translateSuccess:!1!==s.translateSuccess},n.canTranslate=!0,t.setTranslateVisible(n.state.contentVisible),n}i()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){if(this.props.realTimeTranslation&&this.props.realTimeTranslation.language!==(e.realTimeTranslation&&e.realTimeTranslation.language)&&(this.canTranslate=!0),!this.props.translateInfo&&e.translateInfo){var t=e.translateInfo,n=e.itemData,r=n.messageType,a=n.realTimeTranslation,o=n.subType;this.setState({translatedContent:ht.xssFilter(t.targetContent)||"",translateSuccess:!1!==t.translateSuccess}),"rec"===r&&this.setContentVisible((null===a||void 0===a?void 0:a.openRealTimeTranslation)&&Tn.includes(o))}},n.setContentVisible=function(e){this.props.setTranslateVisible(e),this.setState({contentVisible:e})},n.render=function(){var e,t,n=this.state,r=n.contentVisible,a=n.translateSuccess,o=n.translatedContent,i=this.props.itemData,c=i.messageType,l=i.localExt,u=/^<(img|audio|video)("[^"]*"|'[^']*'|[^'">])*>$/.test(null===(e=this.props.itemData)||void 0===e?void 0:e.content),d=ht.xssFilter(o,l);return s.createElement("div",{className:"session-translate util-clearfix",style:{display:u?"none":"block"}},s.createElement("div",{className:"translate-result "+(r?"visible":"hide")+" "+c},d?s.createElement("p",{className:"target-content",dangerouslySetInnerHTML:{__html:d}}):s.createElement("div",{className:"target-content-placeholder"},s.createElement("pre",null,null===(t=this.props.itemData)||void 0===t?void 0:t.content),s.createElement(Ut.Icon,{type:"loading",size:"small",className:"placeholder-loading"})),!G&&s.createElement("div",{className:"result-tip"},s.createElement("div",{className:"result-action",onClick:this.resultTipClick,style:{maxWidth:H.isSeller?"auto":"80%"}},s.createElement("img",{className:"translate-icon-small",src:"https://img.alicdn.com/imgextra/i1/O1CN01512ZN11WAAe4DpHZX_!!6000000002747-2-tps-72-72.png"}),s.createElement("span",null,a?kn.get("translateSuccess")||"翻译结果由阿里翻译为您提供":kn.get("translateFailed")||"翻译结果由阿里翻译为您提供，当前不支持该语种翻译"),s.createElement(Ut.Icon,{className:"translate-arrow",type:"arrow-right",size:"xxs"})),s.createElement("div",{className:"placeholder"}),!H.isSeller&&s.createElement("div",{className:"result-action",onClick:this.feedbackClick,style:{marginLeft:"16px"}},s.createElement("span",null,kn.get("translateFeedback")||"Feedback"),s.createElement(Ut.Icon,{className:"translate-arrow",type:"arrow-right",size:"xxs"})))))},t}(s.Component),In=(n(226),(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"messenger"})),On=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleMenuVisibleChange=function(e){n.setState({menuVisible:e})},n.menuOptionMap={quote:{icon:"https://img.alicdn.com/imgextra/i2/O1CN018DsrJU2ACXL32icKC_!!6000000008167-2-tps-72-72.png",text:In.get("menuQuote")||"Quote",exp:"message_menu_exp_quote",position:"out",filter:function(e){var t=e.subType,n=e.content;return-1!==[1,60,62,100015].indexOf(t)&&!(ht.isUrlValid(n)&&ht.canTransfer(n))},onClick:function(e){Je("2020MC_MessageMenu_Quote&messageId="+e.uuid+"&messageType="+e.messageType),t.EventBus.publish("message-flow:quote",e),e.sendQuoteReplyToPc&&e.sendQuoteReplyToPc(e)}},translate:{icon:"https://img.alicdn.com/imgextra/i3/O1CN01giWi0V1LiYcklAXJo_!!6000000001333-2-tps-72-72.png",text:In.get("translate")||"Translate",exp:"message_menu_exp_singleTranslate",position:"out",filter:function(e){var t=e.subType,n=e.messageType,r=!e.translateVisible&&-1!==[1,50,2085].indexOf(t);return 50===t&&r&&(r="rec"===n),r},onClick:function(e){Je("2020MC_MessageMenu_Translate&messageId="+e.uuid+"&messageType="+e.messageType),e.translateClick&&e.translateClick()}},unTranslate:{icon:"https://img.alicdn.com/imgextra/i3/O1CN01giWi0V1LiYcklAXJo_!!6000000001333-2-tps-72-72.png",text:In.get("revertTranslate")||"Revert",exp:"message_menu_exp_singleUnTranslate",position:"out",filter:function(e){var t=e.subType;return e.translateVisible&&-1!==[1,50,2085].indexOf(t)},onClick:function(e){Je("2020MC_MessageMenu_UnTranslate&messageId="+e.uuid+"&messageType="+e.messageType),e.translateClick&&e.translateClick()}},recall:{text:In.get("menuRecall")||"recall",exp:"message_menu_exp_recall",position:"inner",filter:function(e){var t=e.messageType,n=e.subType,r=e.uuid,a=e.sendTime,o=-1!==[1,2,3,5,53,60,61,62,63,100015,2030,2031].indexOf(n);return"send"===t&&r&&+new Date-a<12e4&&o},onClick:function(e){if(Je("2020MC_MessageMenu_Recall&messageId="+e.uuid+"&messageType="+e.messageType),+new Date-e.sendTime>12e4)Ut.Message.show({type:"error",content:In.get("recallLimit"),hasMask:!1});else{var t=e.content;100015===e.subType&&(t=e.transferStructMsgToTextContent(e.originalData)),[2030,2031].includes(e.subType)&&(t=null),t&&sessionStorage.setItem("revert_msg_"+e.uuid,t),e.revertMessage({data:{fromAccountIdEncrypt:e.owner.accountIdEncrypt,toAccountIdEncrypt:e.contact.accountIdEncrypt,uuid:e.uuid,sendTime:e.sendTime}})}}},clearText:{text:In.get("menuClear")||"清屏",exp:"message_menu_exp_clear",position:"inner",filter:function(){return!0},onClick:function(e){Je("2020MC_MessageMenu_ClearText"),e.clearText()}},selectAll:{text:In.get("menuSelectAll")||"全选",exp:"message_menu_exp_selectAll",position:"inner",filter:function(){return!0},onClick:function(e){Je("2020MC_MessageMenu_SelectAllText"),e.selectAllText()}},addQuickTemplate:{text:In.get("menuAddQuickTpl")||"添加到快捷短语",exp:"message_menu_exp_addQuickTemplate",position:"inner",filter:function(e){var t=e.subType;return-1!==[1].indexOf(t)},onClick:function(e){Je("2020MC_MessageMenu_addQuickTemplate"),e.addQuickTemplate(e.content)}},copyText:{text:In.get("menuCopyText")||"复制",exp:"message_menu_exp_copyText",position:"inner",filter:function(e){var t=e.subType;return-1!==[1,60].indexOf(t)},onClick:function(e){Je("2020MC_MessageMenu_copyText"),e.copyText(e)}},saveToCloud:{text:In.get("saveToCloud")||"Save to AliCloud Drive",exp:"2020MC_CloudDrive_MsgMenu_AddToDrive_Show",position:"inner",filter:function(e){var t,n=e.subType,r=e.content;e.conversationType;1!==n&&r.match(re)&&((t=gt(r).type)&&(t=+t));return-1!==[12,13,14].indexOf(t)||-1!==[60,61,62].indexOf(n)},onClick:function(e){Je("2020MC_CloudDrive_MsgMenu_AddToDrive_Click&messageId="+e.uuid+"&messageType="+e.messageType),e.onSaveToCloudDrive&&e.onSaveToCloudDrive(e)}},download:{icon:"https://img.alicdn.com/imgextra/i1/O1CN01sjQB301qARW7qCiR7_!!6000000005455-2-tps-80-80.png",text:In.get("menuDownload")||"download",exp:"2020MC_MsgMenu_Download_Show",position:"out",filter:function(e){var t,n=e.subType,r=e.content;1!==n&&r.match(re)&&((t=gt(r).type)&&(t=+t));return-1!==[12,13,14].indexOf(t)||-1!==[60,61,62].indexOf(n)},onClick:function(e){Je("2020MC_MsgMenu_Download_Click&messageId="+e.uuid+"&messageType="+e.messageType+"&subType="+e.subType),e.downloadFile&&e.downloadFile(e)}},reportRisk:{text:In.get("menuReportRisk")||"Risk Reporting",exp:"2020MC_MsgMenu_ReportRisk_Show",position:"inner",filter:function(e){var t=e.messageType,n=e.subType,r=e.uuid,a=e.conversationType,o=-1!==[1,2,50,53,60,61,62,63,2003].indexOf(n),i=ht.getMemberType();return"rec"===t&&r&&o&&("ifm"!==i&&"cnfm"!==i)&&1===a},onClick:function(e){var n,r;Je("2020MC_MsgMenu_ReportRisk_Click&messageId="+e.uuid+"&messageType="+e.messageType+"&subType="+e.subType+"&buyerId="+(null===e||void 0===e||null===(n=e.contact)||void 0===n?void 0:n.aliId)+"&sellerId="+(null===e||void 0===e||null===(r=e.owner)||void 0===r?void 0:r.aliId)),t.EventBus.publish("message-flow:report-risk",e)}}},n.state={menuVisible:!1},n}return i()(t,e),t.prototype.render=function(){for(var e=this,t=this.props.item,n=this.state.menuVisible,r=t.messageType,a=t.menuConfig.filter((function(n){return e.menuOptionMap[n]&&e.menuOptionMap[n].filter(t)})),o="rec"===r?2:1,i=[],c=[],l=0;l<a.length;l++){"out"===this.menuOptionMap[a[l]].position&&i.length<=o?i.push(a[l]):c.push(a[l])}return a.length>0?s.createElement("div",{className:"message-flow-menu-box "+t.messageType+" "+(n?"active":"")},i.map((function(n,r){return s.createElement("div",{className:"menu-item",key:r,onClick:e.menuOptionMap[n].onClick.bind(e,t),"data-exp":e.menuOptionMap[n].exp},s.createElement("span",{className:"menu-tip"},e.menuOptionMap[n].text),s.createElement("img",{className:"menu-icon",src:e.menuOptionMap[n].icon}))})),c.length>0&&s.createElement("div",{className:"menu-item"},s.createElement(Ut.Dropdown,{autoClose:!0,shouldUpdatePosition:!0,triggerType:"hover",trigger:s.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01sNAEYb1a6k9tqzaoa_!!6000000003281-2-tps-72-72.png",className:"menu-icon"}),offset:[-3,-6],align:"bl tl",visible:n,onVisibleChange:this.handleMenuVisibleChange},s.createElement("ul",{className:"message-flow-menu-list"},c.map((function(n,r){return s.createElement("li",{key:r,className:"menu-item",onClick:e.menuOptionMap[n].onClick.bind(e,t)},e.menuOptionMap[n].icon?s.createElement("span",{className:"menu-icon"},e.menuOptionMap[n].icon):s.createElement(s.Fragment,null),e.menuOptionMap[n].text)})))))):null},t}(s.Component),An=(n(227),window.IcbuIM.classnames),Dn=window.IcbuIM.lib.I18N.createI18N,Mn=Dn({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"chat"}),Nn=Dn({parsePage:!0,namespace:window.mcmsWithoutAppName?"":"intl-gangesweb"}),Pn=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.getTipText=function(e){switch(e){case-2:case-3:case-15:case-17:case-19:case-20:case"chat.risk.tips.black.list":return Mn.get("blackNameTip");case-18:case"chat.risk.tips.send.forbidden":return Mn.get("sendBannedTip");case-1:case-4:case-5:case-6:case-7:case-8:case-9:case-10:case-11:case-12:case-13:case-14:case-16:case"chat.risk.tips.other":return Mn.get("sendSecurityTip");case 1:return Mn.get("sendFailTip")||"消息发送失败, 请重试";case 2:return Mn.get("sending")||"消息发送中...";default:return Mn.get("sendFailedDefault")||"You can not reply now"}},n.getFailTip=function(e){var t=e.code,n=e.reason;if(t)return this.getTipText(t);var r="";if(n&&!(r=Mn.get(n))){var a=n.replace(/_/g,".");(r=Nn.get(a))||(r=n)}return r||(r=this.getTipText()),r},n.renderContactUs=function(){return"buyer"===this.props.role?s.createElement("a",{href:"https://gcx.alibaba.com/icbu/annawireless/portal.htm?pageId=194354&_param_digest_=2aaeedcdb26384d61d59b533ae934244",target:"__blank"},Mn.get("contactUs")||"Contact us"):null},n.render=function(){var e=this.props.itemData,t=e.spamStatus,n=e.extInfo,r=e.status,a=e.localExt,o=n.icbuData,i=(void 0===o?{}:o).contentMcmsKey,c=r||t||i;return s.createElement("p",null,a?this.getFailTip(a):this.getTipText(c)," ",this.renderContactUs()," ")},t}(s.Component),Ln=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleCardClick=function(e){var n=t.props.itemData;n.onCardClick&&n.onCardClick(a()({},n,{statusClick:!0}),e)},t}return i()(t,e),t.prototype.render=function(){var e=this.props.itemData,t=e.host,n=e.status,r=e.spamStatus,a=An({"send-status":!0,fail:1===n||r&&0!==r});return s.createElement("div",{className:"session-status"},"msite"===t?s.createElement("span",{className:a,onClick:this.handleCardClick},"!"):s.createElement(Ut.Dropdown,{trigger:s.createElement("span",{onClick:this.handleCardClick,className:a},"!"),align:"tr br",offset:[10,8]},s.createElement("div",{className:"message-flow-status-tip"},s.createElement(Pn,this.props))))},t}(s.Component),Rn=Ln,Fn=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"chat"}),jn=-1!==window.location.href.indexOf(ne+"/message/maDetail.htm"),Bn=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this.props.itemData,t=e.messageType;return 2===e.conversationType?s.createElement("p",{className:"read-status"}):s.createElement("p",{className:"read-status "+(e.contactRead?"":"unread")+" "+(jn?"seller":"")},"send"===t&&(e.contactRead?Fn.get("alibot.read"):Fn.get("alibot.unread")))},t}(s.Component),zn=Bn,qn=(n(228),(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"messenger"})),Vn=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.getDisplayQuote=function(e,t){var n,r,a=e.subType,o=e.msgType,i=e.contentDisplay,c=e.contentAbstract,l=e.originalData,u=e.senderName,d=e.loginUserName,p=i||c,f=u||d,m=ht.xssFilter(null===l||void 0===l?void 0:l.url,{},{FORBID_ATTR:["src","onclick"]});if(1===a||10011===a||1===o||101===o)ht.isUrlValid(p)&&ht.canTransfer(p)?(r=ht.canTransferOrder(p)?"Order":ht.canTransferProduct(p)?"Product":"Card",n=s.createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:"["+r+"]"}})):n=s.createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:ht.xssFilter(p,{},{FORBID_ATTR:["src","onclick"]})}});else if(60===a)n=s.createElement("p",{className:"content image",onClick:function(){return t(m)},dangerouslySetInnerHTML:{__html:"<img src="+m+' style="max-height:160px;border:solid 1px #ccc;" />'}});else if(62===a){var h=ht.xssFilter(null===l||void 0===l?void 0:l.pic,{},{FORBID_ATTR:["src","onclick"]});n=s.createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:'<video style="background-color:#222;max-height:160px;border:solid 1px #ccc" poster='+h+' controls width="320" src='+m+"></video>"}})}else if(61===a||53===a){var g=l.params;n=s.createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:"<div data-exp='card-file' class='im-unify-service-card inquiry-file-item'>\n                      <a target=\"_blank\" style='display:block;min-width:327px' data-clk='card-attachment' data-need-attachment-scan="+(null===g||void 0===g?void 0:g.url)+" href="+((null===g||void 0===g?void 0:g.url)||"#")+">\n                      <div class='file-type' style='background-image:url("+(null===g||void 0===g?void 0:g.thumbnailUrl)+")'></div>\n                        <div class='file-info'>\n                          <p class='file-name'>"+(null===g||void 0===g?void 0:g.name)+"</p>\n                          <p class='file-size'>"+this.formatFileSize(null===g||void 0===g?void 0:g.size)+"</p>\n                        </div>\n                      </a>\n                    </div>"}})}else n=2022===a?s.createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:ht.xssFilter(p,{},{FORBID_ATTR:["src","onclick"]})}}):s.createElement("p",{className:"content"},"["+qn.get("unsupportedDisplay")+"]");return{displayContent:n,userName:f}},n.formatFileSize=function(e){var t=Number(e);return t<1e3?t+" B":t<1e6?(t/1e3).toFixed(2)+" K":(t/1e6).toFixed(2)+" M"},n.render=function(){var e,t,n=this.props,r=n.itemData,a=n.children,o=r.previewImg,i=(r.extInfo||{}).referMessage;if(i){var c=this.getDisplayQuote(i,o);return e=c.displayContent,t=c.userName,s.createElement("div",{className:"quote-wrapper"},s.createElement("div",{className:"quote-container"},s.createElement("p",{className:"name"},t,":"),e),s.createElement("div",{className:"split-line"}),a||null)}return a||null},t}(s.Component),Un=(n(229),function(e){return s.createElement("div",{className:"message-loading-wrapper"},s.createElement("span",{className:"dot"}),s.createElement("span",{className:"dot"}),s.createElement("span",{className:"dot"}))}),Hn={autoReplyIcon:c.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.184576 4.72307C0.183223 4.72363 0.181877 4.7242 0.180538 4.72478C-0.061749 4.82929 -0.0601692 5.17549 0.185278 5.27684L1.08741 5.64789C2.56463 6.25495 3.73781 7.42709 4.3459 8.90425L4.72096 9.81435C4.82297 10.0624 5.17303 10.0614 5.27504 9.81435L5.6441 8.91525C6.25119 7.43809 7.42336 6.26396 8.89959 5.65489L9.81472 5.27784C10.0618 5.17683 10.0618 4.82679 9.81472 4.72478L8.90659 4.35074C7.42936 3.74267 6.25719 2.57054 5.6491 1.09337L5.27504 0.185271C5.17403 -0.061757 4.82397 -0.061757 4.72196 0.185271L4.3449 1.10037C3.73581 2.57754 2.56163 3.74867 1.08441 4.35574L0.185278 4.72478V4.72278C0.185044 4.72288 0.18481 4.72297 0.184576 4.72307ZM1.57274 5.00115C3.09808 4.31941 4.31902 3.09801 4.9985 1.5698C5.67924 3.09847 6.90143 4.32062 8.43014 5.00133C6.90197 5.68114 5.67904 6.90302 4.99739 8.42985C4.31807 6.90314 3.098 5.68206 1.57274 5.00115Z",fill:"#767676"})),saveToCloud:c.a.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M6.01075 5.11718H10.7515V4.20052H6.01075V5.11718Z",fill:"#222222"}),c.a.createElement("path",{d:"M12.2753 11.9922C12.5558 11.9922 12.7832 11.7683 12.7832 11.4922C12.7832 11.216 12.5558 10.9922 12.2753 10.9922C11.9948 10.9922 11.7674 11.216 11.7674 11.4922C11.7674 11.7683 11.9948 11.9922 12.2753 11.9922Z",fill:"#222222"}),c.a.createElement("path",{d:"M13.2608 2.41421L14.4764 9.99218V12.9922C14.4764 13.5445 14.0215 13.9922 13.4605 13.9922H3.30176C2.74071 13.9922 2.28589 13.5445 2.28589 12.9922V9.99218L3.5014 2.41421C3.54039 2.17118 3.75318 1.99219 4.00313 1.99219H12.7591C13.0091 1.99219 13.2219 2.17118 13.2608 2.41421ZM3.37568 9.07551H13.3866L12.3974 2.90885H4.36482L3.37568 9.07551ZM3.217 9.99218L3.2171 12.9922C3.2171 13.0382 3.25501 13.0755 3.30176 13.0755H13.4605C13.5072 13.0755 13.5451 13.0382 13.5451 12.9922L13.545 9.99218H3.217Z",fill:"#222222"})),download:c.a.createElement("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M7.91534 8.25026V2.02344H8.84655V8.25026L10.4221 6.69935L11.0805 7.34753L8.38094 10.005L5.68134 7.34753L6.33981 6.69935L7.91534 8.25026Z",fill:"#222222"}),c.a.createElement("path",{d:"M4.9947 5.35677H2.79364C2.51312 5.35677 2.28571 5.58063 2.28571 5.85677V13.8568C2.28571 14.1329 2.51312 14.3568 2.79364 14.3568H13.9682C14.2488 14.3568 14.4762 14.1329 14.4762 13.8568V5.85677C14.4762 5.58063 14.2488 5.35677 13.9682 5.35677H11.7672V6.27344H13.545V13.4401H3.21692V6.27344H4.9947V5.35677Z",fill:"#222222"})),reportRisk:c.a.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{"clip-path":"url(#clip0_19_803)"},c.a.createElement("path",{d:"M14.1376 1.67447L11.0899 6.0078L14.1376 10.3411H3.89417V14.3411H2.96295V1.67447H14.1376ZM3.89417 9.42447H12.3603L9.95733 6.0078L12.3603 2.59114H3.89417V9.42447Z",fill:"#222222"})),c.a.createElement("defs",null,c.a.createElement("clipPath",{id:"clip0_19_803"},c.a.createElement("rect",{width:"16.254",height:"16",fill:"white",transform:"translate(0.253967 0.0078125)"}))))},Wn=(n(230),Ut.Balloon.Tooltip),Gn=function(e){var t,n,r,a,o,i,s=e.itemData,l=e.userType,u=(null===s||void 0===s||null===(t=s.extInfo)||void 0===t||null===(n=t.icbuData)||void 0===n||null===(r=n.chatEvent)||void 0===r?void 0:r.extParams)||{},d=u.autoReceptionType,p=u.autoRcptBuyerDisplayIcon,f=u.quotationType,m=u.rfqBuyerDisplayIcon,h=(null!==(a=null===s||void 0===s?void 0:s.originExt)&&void 0!==a?a:{}).basicMessageInfo,g={};try{g=JSON.parse(h||null)}catch(e){}if("sa_negotiation"!==(null!==(o=null===(i=g)||void 0===i?void 0:i.entranceSource)&&void 0!==o?o:"")){if("commonReceptionMsg"!==d&&"autoQuote"!==f)return null;if(!p&&!m)return null}var v="buyer"===l?ut.get("message.ai.buyerMark"):ut.get("message.ai.mark");return c.a.createElement("div",{className:"auto-reply-icon-wrap"},c.a.createElement("div",{className:"auto-reply-icon"},c.a.createElement(Wn,{trigger:Hn.autoReplyIcon,align:"bl"},ut.get(p)||ut.get(m)||v||"This message is sent by supplier’s AI-powered assistant")))},Kn=window.IcbuIM.classnames,Jn=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"onepage.ma"}),Zn=function(e){function t(t){var n;(n=e.call(this,t)||this).handleCardClick=function(e){var t=n.props.itemData,r=t.extInfo,a=(void 0===r?{}:r).icbuData,o=void 0===a?{}:a;0===t.status&&t.onCardClick&&t.onCardClick(t,e),o.showType&&"x003"===t.subType&&n.setState({showFakeLoading:!0})},n.setTranslateVisible=function(e){n.setState({translateVisible:e})};var r=n.props.itemData.subType;return n.isCloudFile=61===r,n.isStructMsg=100015===r,n.isMedia=ht.isFileType(r)||n.isCloudFile||/^<(img|video)[^>]+>$/.test(t.itemData.content)&&-1===t.itemData.content.indexOf("atmgateway-client.alibaba.com"),n.state={showFakeLoading:!1,translateVisible:!1},n}i()(t,e);var n=t.prototype;return n.componentWillMount=function(){var e=this,t=this.props.itemData,n=t.extInfo,r=void 0===n?{}:n,a=t.sendTime,o=r.icbuData,i=void 0===o?{}:o;this.willMountStartTime=Date.now();var s=+new Date;this.needLoading=s-a<5e3&&!!i.showType,this.needLoading&&(this.setState({showFakeLoading:!0}),setTimeout((function(){e.setState({showFakeLoading:!1},(function(){e.renderMediaContent()}))}),1e3))},n.componentDidMount=function(){this.needLoading||this.renderMediaContent()},n.renderMediaContent=function(){if(this.isMedia){var e=this.props.itemData,t=e.messageId,n=e.tmpKey,r=e.mediaMessageRenderer,a=e.originalData,o=(void 0===a?{}:a).params,i=(o=void 0===o?{}:o).url,s=o.downloadUrl,c=o.name;if(this.isCloudFile?Ze(this.contentDom,e,this.willMountStartTime,!0):Xe(this.contentDom,e),this.contentDom.innerHTML=e.content,t&&n&&r){var l={downloadUrl:s||(null===i||void 0===i?void 0:i.replace("redirectFileUrl","downloadFile"))};c&&(l.fileName=c),r(n,l)}var u=this.contentDom.querySelector("img");u&&(u.style.cursor="pointer")}else this.isStructMsg&&this.matchStructContent()},n.matchStructContent=function(){var e=this.props.itemData,t=e.groupMembers,n=void 0===t?{}:t;this.contentDom&&(this.contentDom.innerHTML=e.content,this.contentDom.querySelectorAll("a").forEach((function(e,t){var r,a=JSON.parse(e.getAttribute("data-at")),o=a.atAliId,i=a.atAll,s=a.defaultNick;i?e.innerText=" @"+(Jn.get("groupchat.all")||"所有人")+" ":e.innerText=" @"+((null===(r=n[o])||void 0===r?void 0:r.displayName)||s||o)+" "})))},n.renderContent=function(){var e,t=this,n=this.props.itemData,r=n.subType,a=n.content,o=void 0===a?"":a,i=n.messageType,c=n.translateInfo,l=n.realTimeTranslation,u=void 0===l?{}:l,d=Kn({"content-with-translation":!0,"no-flex-grow":ht.isFileType(r)||this.isStructMsg});if(this.isMedia||this.isStructMsg)return s.createElement("div",{className:"session-rich-content "+(this.isMedia?"media":"text"),onClick:this.handleCardClick},s.createElement("div",{ref:function(e){t.contentDom=e}}),"number"===typeof n.percent&&s.createElement("div",{className:"loading-cover"},s.createElement("span",null,n.percent.toFixed(0),"%")));e=s.createElement(s.Fragment,null,s.createElement("div",{className:"session-rich-content "+(this.isMedia?"media":"text"),onClick:this.handleCardClick,dangerouslySetInnerHTML:{__html:o}}),s.createElement(Gn,{itemData:n,userType:this.props.userType}));var p=s.createElement(_n,{ref:function(e){t.translateComponent=e},type:"text",itemData:n,translateInfo:c,realTimeTranslation:u||{},setTranslateVisible:this.setTranslateVisible});return"send"===i?s.createElement("div",{className:"fail-wrapper"},this.renderFailStatus(),s.createElement("div",{className:d},e,p)):s.createElement("div",{className:d},e,p)},n.renderFailStatus=function(){var e=this.props.itemData,t=e.messageType,n=e.spamStatus,r=e.status;return"rec"===t?null:n&&0!==n||r&&0!==r?s.createElement("p",{className:"fail-tip"},"send"===t&&s.createElement(Rn,{itemData:e,role:"seller"})):null},n.render=function(){var e,t,n,r,o=this,i=this.props.itemData,c=i.content,l=i.messageType,u=i.contact,d=i.owner,p=i.EventBus,f=i.showMenu,m=i.conversationType,h=i.sender,g=(h=void 0===h?{}:h).targetId,v=i.groupMembers,y=void 0===v?{}:v,b=fn(i),w=(e=u,t=d,r="rec"===l?2===m?null===(n=y[g])||void 0===n?void 0:n.fullPortrait:e.fullPortrait:t.fullPortrait,function(){return r}),x="send"===l?En:Sn,C=this.needLoading&&this.state.showFakeLoading;return s.createElement("div",{className:b},s.createElement(hn,i),s.createElement(x,{url:w(),EventBus:p,itemData:i},C?s.createElement(Un,null):s.createElement(Vn,{itemData:i},c&&this.renderContent())),s.createElement(zn,{itemData:i}),f&&s.createElement(On,{EventBus:p,item:a()({},i,{translateVisible:this.state.translateVisible,translateClick:function(){var e,t;null===(e=o.translateComponent)||void 0===e||null===(t=e.translateClick)||void 0===t||t.call(e)}})}))},t}(s.Component),Xn=(n(231),function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCardClick=function(e){var n=t.props.itemData,r=void 0===n?{}:n;r.onCardClick&&r.onCardClick(r,e)},t}return i()(t,e),t.prototype.render=function(){var e=this.props.itemData||{},t=e.content,n=e.action;return s.createElement("div",{className:"item-notification","data-exp":"notify"},s.createElement("p",{className:"notification-content"},t),s.createElement("p",{className:"notification-action","data-action":n+" || ''",onClick:this.handleCardClick},n))},t}(s.Component)),Yn=Xn,Qn=(n(232),function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){return s.createElement("div",{className:"session-security"},s.createElement("i",{className:"svg-card-icon svg-card-icon-ta"}),this.props.content||"For your protection and security, please always communicate and order through Alibaba platform.")},t}(s.Component)),$n=Qn,er=(n(145),function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCardClick=function(e){var n=t.props.itemData;n.onCardClick&&n.onCardClick(n,e)},t}return i()(t,e),t.prototype.render=function(){var e,t,n,r=this.props,a=r.content,o=r.downloadText,i=r.itemData,c=i.messageType,l=i.contact,u=i.owner,d=fn(i),p=(e=l,t=u,n="rec"===c?e.fullPortrait:t.fullPortrait,function(){return n}),f="send"===c?En:Sn;return s.createElement("div",{className:d},s.createElement(hn,i),s.createElement(f,{url:p(),itemData:i},s.createElement("div",{className:"item-not-supported",onClick:this.handleCardClick},s.createElement("p",{className:"text"},a),s.createElement("div",{className:"download"},s.createElement(Ut.Icon,{type:"download",size:"xs",className:"download-icon"}),s.createElement("p",{className:"download-text"},o||"GET APP")))),s.createElement(zn,{itemData:i}))},t}(s.Component)),tr=er,nr=function(e){return s.createElement("div",{className:"loading-wrapper card-loading card-"+e.type+"-"+e.subType+" "+(e.retry?"retry":""),style:e.style},e.retry?s.createElement(Ut.Icon,{className:"refresh",type:"refresh",onClick:e.retryHandler}):s.createElement("div",{className:"loading-bg"}))},rr=(n(233),function(e){function t(t){var n;return(n=e.call(this,t)||this).getCardHtml=function(){var e=n.props.itemData;e.getCardHtml({data:{url:e.content},callback:function(e){n.contentDom&&(n.contentDom.innerHTML=e,n.setState({content:e}))}})},n.handleCardClick=function(e){var t=n.props.itemData;e.target.getAttribute("data-action")&&t.onCardClick&&t.onCardClick(t,e)},n.state={content:null},n}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.getCardHtml()},n.render=function(){var e=this,t=this.state.content,n=this.props.itemData,r=n.type,a=n.subType;return s.createElement("div",{className:"item-insert-card"},s.createElement("div",{style:{display:t?"block":"none"},onClick:this.handleCardClick,className:"session-rich-content",ref:function(t){return e.contentDom=t}}),!t&&s.createElement(nr,{type:r,subType:a,retry:t&&"string"!==typeof t,retryHandler:this.getCardHtml}))},t}(s.Component)),ar=(n(234),function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).reEditClick=function(e){var n=t.props.itemData,r=n.EventBus,a=n.originExt,o=void 0===a?{}:a;r.publish("message-flow:revert-msg-reEdit",{msg:e,contentType:o.contentType})},t}return i()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.itemData,r=t.youReverseTip,a=t.reverseTip,o=t.reEditText,i=t.someReverseTip,c=t.groupMembers,l=n.messageType,u=n.uuid,d=n.subType,p=n.sender,f=(p=void 0===p?{}:p).targetId,m=n.conversationType,h="send"===l,g=h?r:2===m?((null===(e=c[f])||void 0===e?void 0:e.displayName)||f)+" "+i:a,v=sessionStorage.getItem("revert_msg_"+u);return s.createElement("div",{className:"revert-msg"},s.createElement("p",null,s.createElement("span",null,g),!G&&[1,100015].indexOf(d)>-1&&h&&v&&s.createElement("span",{className:"notice-options",onClick:this.reEditClick.bind(this,v)},o)))},t}(s.Component)),or=ar,ir=n(41),sr=n.n(ir),cr=n(27),lr=(n(35),n(146),(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"messenger"})),ur=j.Template,dr=j.Fragment,pr=(j.View,function(e){function t(t){var n;return(n=e.call(this,t)||this).dataChange=function(e){var t=e.detail.spreadId,r=e.detail.applyUserId,o=n.state.data.couponEvent,i=(o=void 0===o?{}:o).actionParams;(i=void 0===i?{}:i).spreadId===t&&et({apiName:"mtop.alibaba.intl.promotion.coupon.service.apply",v:"1.0",appKey:"24889839",params:{spreadId:t,applyUserId:r,channel:"mobile",applyPlace:0},ecode:1,dataType:"json"}).then((function(){console.log("get coupon success",n.state.data),n.setState({data:a()({},n.state.data,{isAdded:!0})})}),(function(e){console.error("get coupon error ===== ",e)})).catch((function(e){console.error("get coupon error",e)}))},n.onCardActionClick=function(e){var t=e.detail,r=t.itemData,a=t.extraData;if(t.e.stopPropagation(),n.props.item.messageId!==r.messageId)return!1;r.type;var o=a.data&&a.data[0]||{},i=o.actionName,s=o.actionParams;"request"===i&&et(s).then((function(e){var t=e.data,r=void 0===t?{}:t;s.refreshAfterRequest+""==="true"&&n.props.refreshCard(!0),Ut.Feedback.toast.show({type:"success",content:r.resultMsg||lr.get("common.success")||"请求成功"})}),(function(e){console.error("update logistics card error ===== ",e)})).catch((function(e){console.error("update logistics card error",e)}))},n.updateState=function(e){var t=e.detail,r=t.messageId,o=t.data;if(r===n.props.item.messageId){var i=a()({},n.state.data,o);n.setState({data:i})}},n.refreshDXCard=function(e){var t=e.detail.messageId;n.props.item.messageId===t&&n.props.refreshCard(!0)},n.state={data:t.data,description:"",cardContentType:""},n}i()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.props.data!==e.data&&this.setState({data:a()({},this.state.data,e.data)})},n.componentDidMount=function(){window.addEventListener("GET_COUPON",this.dataChange,!1),window.addEventListener("cardAction",this.onCardActionClick,!1),window.addEventListener("updateState",this.updateState,!1),window.addEventListener("refreshDXCard",this.refreshDXCard,!1)},n.componentWillUnmount=function(){var e;Mt(this.props.item.messageId,null===(e=this.props)||void 0===e?void 0:e.disableRemoveCardDom),window.removeEventListener("GET_COUPON",this.dataChange),window.removeEventListener("cardAction",this.onCardActionClick),window.removeEventListener("updateState",this.updateState),window.removeEventListener("refreshDXCard",this.refreshDXCard)},n.render=function(){var e=this.state.data,t=this.props,n=t.tpl,r=t.item,o=t.templateFinishFirstPaint,i=a()({},ht.getLogParams(r),e.exposeInfo||{},{cardUrl:encodeURIComponent(r.content),showTime:+new Date});return s.createElement(Zt,{itemData:r,className:"dx-error"},s.createElement("div",{"data-exp":"2020MC_MessageCard_Show","data-expInfo":JSON.stringify(i),"data-clk":"2020MC_MessageCard_Click","data-clkInfo":JSON.stringify(i),"data-isCacheRendered":e.isCacheRendered?"YES":"NO"},s.createElement(dr,null,s.createElement(ur,{customTemplateId:r.messageId,tpl:n,templateFinishFirstPaint:o,data:e}))))},t}(j.Component)),fr=function(e,t,n){if(void 0===t&&(t=function(){}),void 0===n&&(n={}),e){var r=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(t(),mr(r))}))}),n);return r.observe(e),r}},mr=function(e){e&&(null===e||void 0===e||e.disconnect())};function hr(e){var t,n,r,o;Ct.getInstance().hasCacheCardSize(e)&&(t=a()({},null===(o=Ct.getInstance().getCacheCardSize(e))||void 0===o?void 0:o.size));var i=function(e){var t=e.messageId;if(!zt(e.subType)){var n=wt.getInstance()._dxMemoryCache.getCard(t);if(n){var r=n.data,a=void 0===r?{}:r,o=n.template,i=void 0===o?{}:o;return a.isCacheRendered=!0,{data:{fbCardList:[{templateType:"dx",data:a,template:i}]},ret:["SUCCESS::调用成功"]}}}return null}(e);if(i&&i.data&&(r=(n=i.data.fbCardList&&i.data.fbCardList[0]||{}).templateType||"","dx"===n.templateType)){if([2003].includes(null===e||void 0===e?void 0:e.subType))try{var s,c,l=null===(s=n.data)||void 0===s?void 0:s.content;if(l)n.data.content=null===l||void 0===l||null===(c=l.map)||void 0===c?void 0:c.call(l,(function(e){var t,n,r;null!==e&&void 0!==e&&null!==(t=e.value)&&void 0!==t&&t.textRuns&&(e.value.textRuns=null===(n=(r=e.value.textRuns).map)||void 0===n?void 0:n.call(r,(function(e){var t,n;return a()({},null!==e&&void 0!==e?e:{},{text:null===e||void 0===e||null===(t=e.text)||void 0===t||null===(n=t.replace)||void 0===n?void 0:n.call(t,/\r\n/g,"<br>")})})));return a()({},null!==e&&void 0!==e?e:{})}))}catch(e){}Nt((function(t,n,r,a){e.onCardClick&&e.onCardClick(e,t,{data:n,fullData:r,eventExtInfo:a}),window.dispatchEvent(new CustomEvent("cardAction",{detail:{itemData:e,e:t,extraData:{data:n,fullData:r}}}))}),e,n.template.extInfo)}return{loadingSize:t,cardData:n,cardType:r}}var gr=null===(wn=window)||void 0===wn||null===(xn=wn.IcbuIM)||void 0===xn||null===(Cn=xn.IMBaaSSDK)||void 0===Cn?void 0:Cn.default,vr=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"onepage.ma"});var yr,br,wr,xr,Cr,Er,Sr,kr,Tr,_r=function(e){function t(t){var n;(n=e.call(this,t)||this).getCard=function(e){void 0===e&&(e=!1);var t=sr()(n),r=n.props.itemData,o=r.content,i=(j.Template,j.Fragment,Date.now()),s=a()({},ht.createCommonLogParams(r,"display","url2card"),{url:encodeURIComponent(o)});Je(a()({ext:"ParseDynamicCardStart",success:"YES",resultCode:"200",resultMsg:"parse card start"},s)),function(e){var t,n=e.content,r=e.host,o=(null===e||void 0===e||null===(t=e.contact)||void 0===t?void 0:t.loginId)||(null===e||void 0===e?void 0:e.loginId),i={apiName:"mtop.alibaba.intl.mobile.interaction.parseUrlMessages",params:{language:At,versionCode:"74100",targetLoginId:o,messages:ht.getPureText(n),terminalType:J(r)}};return G?(i.params.isNeedLogin=!0,U.getMessageService().mtopRequest(i).then((function(e){return JSON.parse(e)}))):Tt({api:i.apiName,v:"1.0",appKey:"24889839",data:a()({},i.params),ecode:1,H5Request:!0,versionCode:1})}(r).then((function(n){var o,c;if(null===gr||void 0===gr||null===(o=gr.context)||void 0===o||!o.cid||!r.conversationCode||r.conversationCode===(null===gr||void 0===gr||null===(c=gr.context)||void 0===c?void 0:c.cid)){var l,u=n.data.result&&n.data.result[0];if(!u.success||!u.chatCardInfoDTO||!u.chatCardInfoDTO.data||!((l=u.chatCardInfoDTO.template)&&l.templateName&&l.templateName.match(/^icbu_dx_/)))return Je(a()({ext:"ParseDynamicCard",success:"NO",resultCode:le,resultMsg:"card data error",costTime:Date.now()-i},s)),void t.handleUrlTransferError(r);var d=u.chatCardInfoDTO||{};Je(a()({ext:"ParseDynamicCard",success:"YES",resultCode:"200",resultMsg:"card parse success",costTime:Date.now()-i},s));var p=d.data;a()({},ht.getLogParams(r),p.exposeInfo||{},{cardUrl:encodeURIComponent(null===r||void 0===r?void 0:r.content),showTime:+new Date});t.setState({cardData:d}),!e&&Nt(t.handleCardClick,t.props.itemData,d.template.extInfo)}}),(function(e){var n=e.ret&&e.ret[0]||"noResult";console.log("=======err",e),t.handleUrlTransferError(r),Je(a()({ext:"ParseDynamicCard",success:"NO",resultCode:le,resultMsg:n,costTime:Date.now()-i},s))}))},n.handleCardClick=function(e,t,r,a){var o=n.props.itemData;o.onCardClick&&o.onCardClick(o,e,{data:t,fullData:r,eventExtInfo:a})};var r=hr(t.itemData);return n.state={content:r.cardData?"succ":null,isCard:!1,loadingSize:r.loadingSize||{},cardData:r.cardData||{}},n}i()(t,e);var n=t.prototype;return n.componentWillMount=function(){this.willMountStartTime=Date.now()},n.componentDidMount=function(){var e,t=this,n=this.props.itemData;(Ye({boxDom:this.contentDom,msgItem:n,startTime:this.willMountStartTime}),Ct.getInstance().hasCacheCardSize(n))?(this.setState({loadingSize:a()({},null===(e=Ct.getInstance().getCacheCardSize(n))||void 0===e?void 0:e.size)}),nt()?this.getCard():this.lazyLoad=fr(this.boxDom,(function(){t.getCard()}))):this.getCard()},n.componentWillUnmount=function(){var e;(this.lazyLoad&&(mr(this.lazyLoad),this.lazyLoad=null),this.contentDom&&(cr.unmountComponentAtNode(this.contentDom),this.contentDom=null),tt())&&Mt(this.props.itemData.messageId,null===(e=this.props)||void 0===e?void 0:e.disableRemoveCardDom)},n.saveDomCardSize=function(e){if(e){var t=this.props.itemData,n=e.getBoundingClientRect().height,r=e.getBoundingClientRect().width;n&&r&&Ct.getInstance().setCacheCardSize({size:{height:n,width:r}},t)}},n.handleUrlTransferError=function(e){this.contentDom&&(this.contentDom.innerHTML=ht.getConvertContent(e.content)),this.setState({content:"fail"})},n.isInstead=function(){var e=this.props.itemData,t=e.messageType,n=e.owner,r=e.replaceReplyer;return"send"===t&&r&&n.accountId!==r.accountId},n.renderWrapper=function(){var e,t,n,r,o,i,c,l=this,u=this.state,d=u.content,p=u.isCard,f=u.cardData,m=this.props,h=m.itemData,g=m.cardType,v=h.type,y=h.subType,b=h.messageType,w=h.contact,x=h.owner,C=h.EventBus,E=h.showMenu,S=fn(h),k=f.template,T=f.data,_=(o=w,i=x,c="rec"===b?o.fullPortrait:i.fullPortrait,function(){return c}),I=Sn;"send"!==b||H.isSeller||G||(I=En);var O=s.createElement("div",{style:a()({display:d?"block":"none"},null!==Fe&&void 0!==Fe&&Fe[Number(g)]?{minHeight:(null===Fe||void 0===Fe?void 0:Fe[Number(g)])+"px",backgroundColor:"#fff"}:{},this.state.loadingSize?{minHeight:(null!==(e=this.state.loadingSize)&&void 0!==e?e:{}).height,minWidth:(null!==(t=this.state.loadingSize)&&void 0!==t?t:{}).width}:{}),className:"session-rich-content "+(p?"":"text"),ref:function(e){return l.contentDom=e}},k&&T&&s.createElement(pr,{tpl:JSON.parse(k.templateBin),data:T,item:h,refreshCard:this.getCard,templateFinishFirstPaint:function(){l.setState({content:"succ",isCard:!0},(function(){setTimeout((function(){l.saveDomCardSize(l.contentDom)}),200)}))},disableRemoveCardDom:null===(n=this.props)||void 0===n?void 0:n.disableRemoveCardDom}));return s.createElement("div",{className:S,ref:function(e){return l.boxDom=e}},s.createElement(hn,h),s.createElement(I,{url:_(),EventBus:C,itemData:h},O,!d&&s.createElement(nr,{style:a()({},null!==Fe&&void 0!==Fe&&Fe[Number(g)]?{minHeight:(null===Fe||void 0===Fe?void 0:Fe[Number(g)])+"px",backgroundColor:"#fff"}:{},null!==(r=this.state.loadingSize)&&void 0!==r?r:{}),type:v,subType:y,retry:d&&"string"!==typeof d,retryHandler:this.getCard})),s.createElement(zn,{itemData:h}),E&&s.createElement(On,{EventBus:C,item:h}))},n.render=function(){return this.isInstead()?s.createElement("div",{className:"item-instead-wrapper"},s.createElement("div",{className:"item-instead-wrapper-inner"},this.renderWrapper()),s.createElement("p",{className:"instead-tip"},vr.get("chat.assign.insteadTip")||"上一条消息为主账号代回复")):this.renderWrapper()},t}(s.Component),Ir=null===(yr=window)||void 0===yr||null===(br=yr.IcbuIM)||void 0===br||null===(wr=br.IMBaaSSDK)||void 0===wr?void 0:wr.default,Or=function(e){function t(t){var n;(n=e.call(this,t)||this).setTranslateVisible=function(e){n.setState({translateVisible:e})},n.getCard=function(e){void 0===e&&(e=!1);var t=sr()(n),r=n.props.itemData,o=Date.now(),i=ht.createCommonLogParams(r,"display","messageflow");Je(a()({ext:"ParseDynamicCardStart",success:"YES",resultCode:"200",resultMsg:"parse card start"},i)),Vt(r).then((function(n){var s,c;if(null===Ir||void 0===Ir||null===(s=Ir.context)||void 0===s||!s.cid||!r.conversationCode||r.conversationCode===(null===Ir||void 0===Ir||null===(c=Ir.context)||void 0===c?void 0:c.cid)){var l=n.data.fbCardList&&n.data.fbCardList[0]||{},u=n.ret&&n.ret[0]||"noResult",d="SUCCESS::调用成功"===u;if(t.setState({cardType:l.templateType}),Je(a()({ext:"ParseDynamicCard",success:d?"YES":"NO",resultCode:d?"200":le,resultMsg:d?"card parse success":u,costTime:Date.now()-o},i)),"dx"===l.templateType){var p=function(){if(!t.contentDom)return Je(a()({ext:"CardInnerRenderContainerNull"},i)),void console.log("__innerRenderCard return because of container is null",i);t.setState({cardData:l})};if([2003].includes(null===r||void 0===r?void 0:r.subType))try{var f,m,h=null===(f=l.data)||void 0===f?void 0:f.content;if(h)l.data.content=null===h||void 0===h||null===(m=h.map)||void 0===m?void 0:m.call(h,(function(e){var t,n,r;null!==e&&void 0!==e&&null!==(t=e.value)&&void 0!==t&&t.textRuns&&(e.value.textRuns=null===(n=(r=e.value.textRuns).map)||void 0===n?void 0:n.call(r,(function(e){var t,n;return a()({},null!==e&&void 0!==e?e:{},{text:null===e||void 0===e||null===(t=e.text)||void 0===t||null===(n=t.replace)||void 0===n?void 0:n.call(t,/\r\n/g,"<br>")})})));return a()({},null!==e&&void 0!==e?e:{})}))}catch(e){}t.state.showFakeLoading?t.__innerRenderCard=p:p(),!e&&Nt(t.handleCardClick,t.props.itemData,l.template.extInfo)}else l.h5Data&&t.handleHTMLCard(decodeURIComponent(l.h5Data.replace(/\+/g,"%20"))),Je({ext:"htmlCard",bizData:{content:r.content}})}}),(function(e){var n=e.ret&&e.ret[0]||"noResult";console.log("=======err",e),t.contentDom&&e.ret&&(t.contentDom.innerHTML=e.ret[0]),t.setState({content:"fail"}),Je(a()({ext:"ParseDynamicCard",success:"NO",resultCode:le,resultMsg:n,costTime:Date.now()-o},i))}))},n.handleCardClick=function(e,t,r,a){var o=n.props.itemData;o.onCardClick&&o.onCardClick(o,e,{data:t,fullData:r,eventExtInfo:a})};var r=hr(t.itemData);return n.state={content:r.cardData?"succ":null,cardType:r.cardType||"",cardData:r.cardData||{},showFakeLoading:!1,translateVisible:!1,loadingSize:r.loadingSize||{}},n}i()(t,e);var n=t.prototype;return n.componentWillMount=function(){var e=this,t=this.props.itemData,n=t.extInfo,r=void 0===n?{}:n,a=t.sendTime,o=r.icbuData,i=void 0===o?{}:o;this.willMountStartTime=Date.now();var s=+new Date;this.needLoading=s-a<5e3&&!!i.showType,this.needLoading&&(this.setState({showFakeLoading:!0}),setTimeout((function(){e.setState({showFakeLoading:!1},(function(){e.__innerRenderCard&&e.__innerRenderCard()}))}),1e3))},n.componentDidMount=function(){var e,t=this,n=this.props.itemData,r=n.subType;(-1!==[53,60,62,63,2003].indexOf(r)&&Xe(this.contentDom,n),Ye({boxDom:this.contentDom,msgItem:n,startTime:this.willMountStartTime}),61===r&&Ze(this.contentDom,n,this.willMountStartTime,!1),Ct.getInstance().hasCacheCardSize(n))?(this.setState({loadingSize:a()({},null===(e=Ct.getInstance().getCacheCardSize(n))||void 0===e?void 0:e.size)}),nt()?(this.getTranslateContent(),this.getCard()):this.lazyLoad=fr(this.boxDom,(function(){t.getTranslateContent(),t.getCard()}))):(this.getTranslateContent(),this.getCard())},n.componentWillUnmount=function(){var e;(this.lazyLoad&&(mr(this.lazyLoad),this.lazyLoad=null),this.contentDom&&(cr.unmountComponentAtNode(this.contentDom),this.contentDom=null),tt())&&(this.__innerRenderCard=null,Mt(this.props.itemData.messageId,null===(e=this.props)||void 0===e?void 0:e.disableRemoveCardDom))},n.getTranslateContent=function(e,t,n){var r=this;e=e||this.state.content,t=t||"";var a=this.props.itemData,o=a.messageType,i=a.subType,s=a.messageId,c=a.realTimeTranslation,l=void 0===c?{}:c,u=a.translate,d=l.openRealTimeTranslation,p=void 0!==d&&d,f=l.language,m="",h="rec"===o&&(50===i||2085===i);if(h)if(n)m=n;else if(t){var g=this.contentDom?this.contentDom.querySelector(t):void 0;m=g?g.innerHTML:""}var v={};h&&p&&u?u({data:{srcContents:[{messageId:s,srcContent:m}],targetLang:f},callback:function(t){if(200===1*t.code){var n=(t.data||[{}]).list;v=n[0]}else v={targetContent:m,translateSuccess:!1};r.setState({content:e,description:m,translateInfo:v})}}):this.setState({content:e,description:m})},n.saveDomCardSize=function(e){if(e){var t=this.props.itemData,n=e.getBoundingClientRect().height,r=e.getBoundingClientRect().width;n&&r&&Ct.getInstance().setCacheCardSize({size:{height:n,width:r}},t)}},n.handleHTMLCard=function(e){var t=this,n=e&&e.replace(/<table[^>]*?>[\s\S]*?<\/table>/gi,(function(e){return'<div class="content-table-wrapper">'+e+"</div>"}));if(this.contentDom){this.contentDom.innerHTML=n;var r=this.props.itemData.setContentId;if(r){var a=this.contentDom.querySelector("[data-query]"),o=a&&a.getAttribute("data-query")||"{}";r((o=JSON.parse(o)).clickContentId||"no_id")}if(this.contentDom.querySelector(".img-card")||this.contentDom.querySelector(".video-item")){this.setState({cardContentType:"media-card"}),this.boxDom&&(this.boxDom.style.flexGrow="0");var i=this.contentDom.querySelector("img")||this.contentDom.querySelector("video");return i.onload=function(){return t.setState({content:n})},i.onloadeddata=function(){return t.setState({content:n})},i.onprogress=function(){t.state.content||t.setState({content:n})},void(i.onerror=function(){t.setState({content:n,cardContentType:""});var e=document.createElement("img");e.src="https://img.alicdn.com/imgextra/i3/O1CN01W4vfVJ1W4DWV9kMfo_!!6000000002734-2-tps-200-201.png",e.style.width="100%",e.onclick=function(){return t.getCard()},t.contentDom.innerHTML="",t.contentDom.appendChild(e)})}this.contentDom.querySelector(".super-text-card-item")&&this.setState({cardContentType:"rich-text-card"});this.getTranslateContent(n,".description-container")}},n.getExpLogName=function(){var e=this.props.itemData.subType;return 2004===e?"2020MC_AIQuestionCard_Show":"2020MC_Card_"+e+"_Show"},n.renderContent=function(){var e,t,n,r,o=this,i=this.state,c=i.translateInfo,l=i.description,u=i.cardContentType,d=i.content,p=i.cardType,f=i.showFakeLoading,m=i.cardData,h=this.needLoading&&(f||!d),g=this.props,v=g.itemData,y=g.isQuote,b=v.subType,w=v.messageType,x=v.realTimeTranslation,C=m.template,E=m.data,S=tn,k=nn,T=y&&(r=b,en.includes(r))?" width-set-in-quote":"",_=y&&function(e){return S.includes(e)}(b)?" short-width-set-in-quote":"",I=y&&function(e){return k.includes(e)}(b)?" inquiry-width-set-in-quote":"",O=s.createElement("div",{style:a()({display:d&&!h?"block":"none"},null!==Fe&&void 0!==Fe&&Fe[Number(b)]?{minHeight:(null===Fe||void 0===Fe?void 0:Fe[Number(b)])+"px",backgroundColor:"#fff"}:{},this.state.loadingSize?{minHeight:(null!==(e=this.state.loadingSize)&&void 0!==e?e:{}).height,minWidth:(null!==(t=this.state.loadingSize)&&void 0!==t?t:{}).width}:{}),onClick:"dx"!==p?this.handleCardClick:null,className:"session-rich-content "+(u||"")+T+I+_,ref:function(e){return o.contentDom=e},"data-exp":this.getExpLogName()},C&&E&&s.createElement(pr,{tpl:JSON.parse(C.templateBin),data:E,item:v,templateFinishFirstPaint:function(){o.setState({content:"succ"},(function(){setTimeout((function(){o.saveDomCardSize(o.contentDom),o.getTranslateContent("succ","",E.content)}),200)}))},refreshCard:this.getCard,disableRemoveCardDom:null===(n=this.props)||void 0===n?void 0:n.disableRemoveCardDom}));return y||"rec"!==w||50!==b&&2085!==b?O:s.createElement("div",{className:"content-with-translation"},O,l&&s.createElement(_n,{ref:function(e){return o.translateComponent=e},type:"inquiryCard",itemData:a()({},v,{content:l}),translateInfo:c,realTimeTranslation:x||{},setTranslateVisible:this.setTranslateVisible}))},n.render=function(){var e,t,n,r,o=this,i=this.state,c=i.content,l=i.showFakeLoading,u=this.props,d=u.itemData,p=u.isQuote,f=d.type,m=d.subType,h=d.messageType,g=d.contact,v=d.owner,y=d.EventBus,b=d.showMenu,w=fn(d),x=(t=g,n=v,r="rec"===h?t&&t.fullPortrait:n&&n.fullPortrait,function(){return r}),C="send"===h?En:Sn,E=this.needLoading&&(l||!c);return p?this.renderContent():s.createElement("div",{className:w,ref:function(e){return o.boxDom=e}},s.createElement(hn,d),s.createElement(C,{url:x(),EventBus:y,itemData:d},E&&s.createElement(Un,null),this.renderContent(),!c&&!E&&s.createElement(nr,{style:a()({},null!==Fe&&void 0!==Fe&&Fe[Number(m)]?{height:(null===Fe||void 0===Fe?void 0:Fe[Number(m)])+"px"}:{},null!==(e=this.state.loadingSize)&&void 0!==e?e:{}),type:f,subType:m,retry:c&&"string"!==typeof c,retryHandler:this.getCard})),s.createElement(zn,{itemData:d}),b&&s.createElement(On,{EventBus:y,item:a()({},d,{translateVisible:this.state.translateVisible,translateClick:function(){var e,t;null===(e=o.translateComponent)||void 0===e||null===(t=e.translateClick)||void 0===t||t.call(e)}})}))},t}(s.Component),Ar=(n(157),(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:window.mcmsWithoutAppName?"":"intl-gangesweb"})),Dr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCardClick=function(e){var n=t.props.itemData;n.onCardClick&&n.onCardClick(n,e)},t}return i()(t,e),t.prototype.render=function(){var e=this,t=this.props.itemData,n=t.messageType,r=t.EventBus,a=t.contact,o=t.owner,i=t.extInfo,c=i.icbuActionsDataVO,l=void 0===c?[]:c,u=i.icbuData,d=void 0===u?{}:u,p=d.contentMcmsParams,f=Ar.get(d.contentMcmsKey)||"";if(p&&p.length)p.forEach((function(e,t){f=f.replace("{"+t+"}",e)}));else{var m=d.imStandardMcmsParams;f=f.replace(/\{(\d+)\}/g,(function(e,t){return(null===m||void 0===m?void 0:m[t])||e}))}var h=d.bizId;d.chatEvent&&(h=d.chatEvent.bizId,l=d.actions||[]);var g,v,y,b=(g=a,v=o,y="rec"===n?g.fullPortrait:v.fullPortrait,function(){return y}),w=fn(t);return s.createElement("div",{className:w},s.createElement(hn,t),s.createElement(En,{url:b(),EventBus:r,itemData:t},s.createElement("div",{className:"session-rich-content text"},1===h?s.createElement("img",{className:"icon",src:"https://img.alicdn.com/tfs/TB1XdxCF4D1gK0jSZFKXXcJrVXa-56-56.png"}):s.createElement("img",{className:"icon",src:"https://img.alicdn.com/tfs/TB1_yRDF4D1gK0jSZFyXXciOVXa-56-56.png"}),s.createElement("span",null,f),l.map((function(t){return s.createElement("span",{className:"action",onClick:e.handleCardClick},Ar.get(t.actionMcmsKey))})))))},t}(s.Component),Mr=Dr,Nr=null===(xr=window)||void 0===xr||null===(Cr=xr.IcbuIM)||void 0===Cr||null===(Er=Cr.IMBaaSSDK)||void 0===Er?void 0:Er.default,Pr=function(e){function t(t){var n;(n=e.call(this,t)||this).getCard=function(e){void 0===e&&(e=!1);var t=sr()(n),r=n.props.itemData,o=Date.now(),i=ht.createCommonLogParams(r,"display","messageflow",{cardUrl:encodeURIComponent(r.extInfo.icbuData.cardUrls[0])});Je(a()({ext:"ParseDynamicCardStart",success:"YES",resultCode:"200",resultMsg:"parse card start"},i)),Vt(r,r.extInfo.icbuData.cardUrls[0]).then((function(n){var s,c;if(null===Nr||void 0===Nr||null===(s=Nr.context)||void 0===s||!s.cid||!r.conversationCode||r.conversationCode===(null===Nr||void 0===Nr||null===(c=Nr.context)||void 0===c?void 0:c.cid)){var l=n.data.fbCardList&&n.data.fbCardList[0]||{},u=n.ret&&n.ret[0]||"noResult",d="SUCCESS::调用成功"===u;if(t.setState({cardType:l.templateType}),Je(a()({ext:"ParseDynamicCard",success:d?"YES":"NO",resultCode:d?"200":le,resultMsg:d?"card parse success":u,costTime:Date.now()-o},i)),"dx"===l.templateType){t.setState({cardData:l}),!e&&Nt(t.handleCardClick,t.props.itemData,l.template.extInfo)}else l.h5Data&&t.handleHTMLCard(decodeURIComponent(l.h5Data.replace(/\+/g,"%20")))}}),(function(e){var n=e.ret&&e.ret[0]||"noResult";console.log("=======err",e),t.contentDom&&e.ret&&(t.contentDom.innerHTML=e.ret[0]),t.setState({content:"fail"}),Je(a()({ext:"ParseDynamicCard",success:"NO",resultCode:le,resultMsg:n,costTime:Date.now()-o},i))}))},n.handleCardClick=function(e,t,r,a){var o=n.props.itemData;o.onCardClick&&o.onCardClick(o,e,{data:t,fullData:r,eventExtInfo:a})};var r=hr(t.itemData);return n.state={content:r.cardData?"succ":"",loadingSize:r.loadingSize||{},cardData:r.cardData||{}},n}i()(t,e);var n=t.prototype;return n.componentWillMount=function(){this.willMountStartTime=Date.now()},n.componentDidMount=function(){var e,t=this,n=this.props.itemData;(Ye({boxDom:this.contentDom,msgItem:n,startTime:this.willMountStartTime}),Ct.getInstance().hasCacheCardSize(n))?(this.setState({loadingSize:a()({},null===(e=Ct.getInstance().getCacheCardSize(n))||void 0===e?void 0:e.size)}),nt()?this.getCard():this.lazyLoad=fr(this.boxDom,(function(){t.getCard()}))):this.getCard()},n.componentWillUnmount=function(){var e,t;(this.lazyLoad&&(mr(this.lazyLoad),this.lazyLoad=null),this.contentDom&&(cr.unmountComponentAtNode(this.contentDom),this.contentDom=null),tt())&&(this.__innerRenderCard=null,Mt(null===(e=this.props.itemData)||void 0===e?void 0:e.messageId,null===(t=this.props)||void 0===t?void 0:t.disableRemoveCardDom))},n.getExpLogName=function(){var e=this.props.itemData.subType;return 2004===e?"2020MC_AIQuestionCard_Show":"2020MC_Card_"+e+"_Show"},n.saveDomCardSize=function(e){if(e){var t=this.props.itemData,n=e.getBoundingClientRect().height,r=e.getBoundingClientRect().width;n&&r&&Ct.getInstance().setCacheCardSize({size:{height:n,width:r}},t)}},n.handleHTMLCard=function(e){var t=this.props.itemData.setContentId;if(e=e&&e.replace(/<table[^>]*?>[\s\S]*?<\/table>/gi,(function(e){return'<div class="content-table-wrapper">'+e+"</div>"})),this.contentDom){if(this.contentDom.innerHTML=e,t){var n=this.contentDom.querySelector("[data-query]"),r=n&&n.getAttribute("data-query")||"{}";t((r=JSON.parse(r)).clickContentId||"no_id")}this.setState({content:e})}},n.render=function(){var e,t,n,r=this,o=this.state,i=o.content,c=o.cardType,l=o.cardData,u=this.props,d=u.itemData,p=u.disableRemoveCardDom,f=void 0!==p&&p,m=d.type,h=d.subType,g=l.template,v=l.data;return s.createElement("div",{className:"dx"!==c?"":"sys-dx",ref:function(e){return r.boxDom=e}},s.createElement("div",{onClick:"dx"!==c?this.handleCardClick:null,style:a()({display:i?"block":"none"},null!==Fe&&void 0!==Fe&&Fe[Number(h)]?{minHeight:(null===Fe||void 0===Fe?void 0:Fe[Number(h)])+"px",backgroundColor:"#fff"}:{},this.state.loadingSize?{minHeight:(null!==(e=this.state.loadingSize)&&void 0!==e?e:{}).height,minWidth:(null!==(t=this.state.loadingSize)&&void 0!==t?t:{}).width}:{}),"data-exp":this.getExpLogName(),className:"session-rich-content",ref:function(e){return r.contentDom=e}},g&&v&&s.createElement(pr,{tpl:JSON.parse(g.templateBin),data:v,item:d,templateFinishFirstPaint:function(){r.setState({content:"succ"},(function(){setTimeout((function(){r.saveDomCardSize(r.contentDom)}),200)}))},refreshCard:this.getCard,disableRemoveCardDom:f})),!i&&s.createElement(nr,{style:a()({},null!==Fe&&void 0!==Fe&&Fe[Number(h)]?{height:(null===Fe||void 0===Fe?void 0:Fe[Number(h)])+"px"}:{},null!==(n=this.state.loadingSize)&&void 0!==n?n:{}),type:m,subType:h,retry:i&&"string"!==typeof i,retryHandler:this.getCard}))},t}(s.Component),Lr=(n(297),null===(Sr=window)||void 0===Sr||null===(kr=Sr.IcbuIM)||void 0===kr||null===(Tr=kr.IMBaaSSDK)||void 0===Tr?void 0:Tr.default),Rr=function(e){function t(t){var n;(n=e.call(this,t)||this).getCard=function(e){var t;void 0===e&&(e=!1);var r=sr()(n),o=n.props.itemData,i=o.extInfo,s=void 0===i?{}:i,c=(o.loginId,o.host,o.content),l=(o.subType,Date.now()),u=ht.createCommonLogParams(o,"display","messageflow");Je(a()({ext:"ParseDynamicCardStart",success:"YES",resultCode:"200",resultMsg:"parse card start"},u));var d=(null===s||void 0===s||null===(t=s.icbuData)||void 0===t?void 0:t.cardUrls)&&s.icbuData.cardUrls[0];if(ht.isContentMatchWorkspaceUrl(c))o.content=c;else{if(!ht.isContentMatchWorkspaceUrl(d))return;o.content=d}Vt(o).then((function(t){var n,i;if(null===Lr||void 0===Lr||null===(n=Lr.context)||void 0===n||!n.cid||!o.conversationCode||o.conversationCode===(null===Lr||void 0===Lr||null===(i=Lr.context)||void 0===i?void 0:i.cid)){var s=t.data.fbCardList&&t.data.fbCardList[0]||{},c=t.ret&&t.ret[0]||"noResult",d="SUCCESS::调用成功"===c;if(r.setState({cardType:s.templateType}),Je(a()({ext:"ParseDynamicCard",success:d?"YES":"NO",resultCode:d?"200":le,resultMsg:d?"card parse success":c,costTime:Date.now()-l},u)),"dx"===s.templateType){var p=function(){if(!r.contentDom)return Je(a()({ext:"CardInnerRenderContainerNull"},u)),void console.log("__innerRenderCard return because of container is null",u);r.setState({cardData:s})};r.state.showFakeLoading?r.__innerRenderCard=p:p(),!e&&Nt(r.handleCardClick,r.props.itemData,s.template.extInfo)}else s.h5Data&&r.handleHTMLCard(decodeURIComponent(s.h5Data.replace(/\+/g,"%20"))),Je({ext:"htmlCard",bizData:{content:o.content}})}}),(function(e){var t=e.ret&&e.ret[0]||"noResult";console.log("=======err",e),r.contentDom&&e.ret&&(r.contentDom.innerHTML=e.ret[0]),r.setState({content:"fail"}),Je(a()({ext:"ParseDynamicCard",success:"NO",resultCode:le,resultMsg:t,costTime:Date.now()-l},u))}))},n.handleCardClick=function(e,t,r){var a=n.props.itemData;a.onCardClick&&a.onCardClick(a,e,{data:t,fullData:r})},n.clickCard=function(){Je("2020MC_Card_"+n.props.itemData.subType+"_Click")};var r=hr(t.itemData);return n.state={content:r.cardData?"succ":null,showFakeLoading:!1,dxRenderStart:!1,cardData:r.cardData||{},loadingSize:r.loadingSize||{}},n}i()(t,e);var n=t.prototype;return n.componentWillMount=function(){var e=this,t=this.props.itemData,n=t.extInfo,r=void 0===n?{}:n,a=t.sendTime,o=r.icbuData,i=void 0===o?{}:o;this.willMountStartTime=Date.now();var s=+new Date;this.needLoading=s-a<5e3&&!!i.showType,this.needLoading&&(this.setState({showFakeLoading:!0}),setTimeout((function(){e.setState({showFakeLoading:!1},(function(){e.__innerRenderCard&&e.__innerRenderCard()}))}),1e3))},n.componentDidMount=function(){var e,t=this,n=this.props.itemData;(Ye({boxDom:this.contentDom,msgItem:n,startTime:this.willMountStartTime}),Ct.getInstance().hasCacheCardSize(n))?(this.setState({loadingSize:a()({},null===(e=Ct.getInstance().getCacheCardSize(n))||void 0===e?void 0:e.size)}),nt()?this.getCard():this.lazyLoad=fr(this.boxDom,(function(){t.getCard()}))):this.getCard()},n.componentWillUnmount=function(){var e,t;(this.lazyLoad&&(mr(this.lazyLoad),this.lazyLoad=null),this.contentDom&&(cr.unmountComponentAtNode(this.contentDom),this.contentDom=null),tt())&&(this.__innerRenderCard=null,Mt(null===(e=this.props.itemData)||void 0===e?void 0:e.messageId,null===(t=this.props)||void 0===t?void 0:t.disableRemoveCardDom))},n.saveDomCardSize=function(e){if(e){var t=this.props.itemData,n=e.getBoundingClientRect().height,r=e.getBoundingClientRect().width;n&&r&&Ct.getInstance().setCacheCardSize({size:{height:n,width:r}},t)}},n.getExpLogName=function(){return"2020MC_Card_"+this.props.itemData.subType+"_Show"},n.render=function(){var e,t,n,r=this,o=this.state,i=o.content,c=o.showFakeLoading,l=o.cardData,u=this.props.itemData,d=this.needLoading&&(c||!i),p=u.type,f=u.subType,m=l.template,h=l.data;return s.createElement("div",{className:"sys-dx",ref:function(e){return r.boxDom=e}},s.createElement("div",{onClick:this.clickCard,style:a()({display:i&&!d?"block":"none"},this.state.loadingSize?{minHeight:(null!==(e=this.state.loadingSize)&&void 0!==e?e:{}).height,minWidth:(null!==(t=this.state.loadingSize)&&void 0!==t?t:{}).width}:{}),className:"session-dx-content",ref:function(e){return r.contentDom=e},"data-exp":this.getExpLogName()},m&&h&&s.createElement(pr,{tpl:JSON.parse(m.templateBin),data:h,item:u,templateFinishFirstPaint:function(){r.setState({content:"succ"},(function(){setTimeout((function(){r.saveDomCardSize(r.contentDom)}),200)}))},refreshCard:this.getCard,disableRemoveCardDom:null===(n=this.props)||void 0===n?void 0:n.disableRemoveCardDom})),!i&&!d&&s.createElement(nr,{style:this.state.loadingSize,type:p,subType:f,retry:i&&"string"!==typeof i,retryHandler:this.getCard}))},t}(s.Component),Fr=(n(298),Ut.Overlay.Popup),jr=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:window.mcmsWithoutAppName?"":"intl-gangesweb"}),Br=[jr.get("chat.ai.rate.reason1"),jr.get("chat.ai.rate.reason2"),jr.get("chat.ai.rate.reason3"),jr.get("chat.ai.rate.reason4"),jr.get("chat.ai.rate.reason5")],zr=window.IcbuIM.classnames,qr=function(e){var t=Object(s.useState)(!1),n=t[0],r=t[1],a=e.onClick,o=e.item,i=zr({tag:"true","tag-selected":n});return React.createElement(React.Fragment,null,React.createElement("span",{className:i,onClick:function(){r(!n),a(o,!n)}},n&&React.createElement(Ut.Icon,{className:"icon-check",type:"select",size:"xxs"}),React.createElement("span",{className:"content",title:o},o)))};function Vr(e){var t=Object(s.useState)(""),n=t[0],r=t[1],a=Object(s.useState)(!0),o=a[0],i=a[1],c=Object(s.useState)(!1),l=c[0],u=c[1],d=e.itemData,p=void 0===d?{}:d,f=p.host,m=Object(s.useState)(ht.getRateExt(p)),h=m[0],g=m[1];Object(s.useEffect)((function(){g(ht.getRateExt(p))}),[ht.getRateExt(p)]);var v=Object(s.useRef)([]),y=Object(s.useRef)(!1),b=function(e){return function(){g(e),ht.setRateExt(p,e),ht.uploadRateForm(p,e),e!==ft&&Ut.Message.show({type:"success",content:jr.get("chat.ai.rate.feedback")})}},w=function(e,t){var n=!1;e||t||(n=!0),i(n)},x=function(){r(""),v.current=[],i(!0),u(!1)},C=function(e){var t=p.originalData,n=(t=void 0===t?{}:t).params,r=(n=void 0===n?{}:n).requestId,a=p.contact;if(Je("MC_AI_RATE_BAD_CLICK_"+e+"&requestId="+r+"&aliId="+(null===a||void 0===a?void 0:a.aliId)),h===pt){var o=ft;return g(o),ht.setRateExt(p,o),ht.uploadRateForm(p,o),void x()}u(e),e||x()},E=React.createElement("span",{className:"rate-bad"},h===pt?React.createElement("img",{src:"https://img.alicdn.com/imgextra/i1/O1CN01flBDJu20PEMBqUz8n_!!6000000006841-55-tps-13-14.svg"}):React.createElement("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN01lRL3o21OzugGY35hz_!!6000000001777-55-tps-13-14.svg"})),S=function(e,t){var r=v.current.indexOf(e);t?v.current.push(e):v.current.splice(r,1),w(n,v.current.length)},k=React.createElement("div",{className:"rating-container"},React.createElement("div",{className:"title"},jr.get("chat.ai.rate.title")||"Why did you choose this rating?"),React.createElement("div",{className:"close",onClick:function(){x()}},React.createElement("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN01ytEBpG1Cq2l3oCg0N_!!6000000000131-55-tps-16-16.svg"})),React.createElement("div",{className:"select-items"},Br.map((function(e,t){return React.createElement(React.Fragment,null,React.createElement(qr,{key:t,onClick:S,item:e}))}))),React.createElement(Ut.Input.TextArea,{style:{width:"100%"},placeholder:jr.get("chat.ai.rate.placeholder")||"Provide additional feedback",className:"content-input",trim:!0,autoFocus:!0,showLimitHint:!0,size:"large",maxLength:200,onChange:function(e){r(e),w(e,v.current.length)},height:110}),React.createElement("div",{className:"action"},React.createElement(Ut.Button,{onClick:function(){if(!y.current&&!o){y.current=!0;var e=pt;g(e),ht.setRateExt(p,e),setTimeout((function(){y.current=!1,x()}),1e3),ht.uploadRateForm(p,e,{optionList:v.current,detail:n}),Ut.Message.show({type:"success",content:jr.get("chat.ai.rate.feedback")})}},type:"primary",disabled:o},jr.get("chat.common.button.submit")||"submit")));return React.createElement(React.Fragment,null,React.createElement("div",{className:"rate-wrapper"},React.createElement("span",{className:"rate-good"},h===dt?React.createElement("img",{src:"https://img.alicdn.com/imgextra/i2/O1CN01vWDEFR1lwSrOAuBNV_!!6000000004883-55-tps-13-14.svg",onClick:b(ft)}):React.createElement("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN017EEsaN1ZhYa2z3xgR_!!6000000003226-55-tps-13-14.svg",onClick:b(dt)})),"weblite"===f?React.createElement(React.Fragment,null,React.createElement("span",{onClick:C},E),React.createElement(Ut.Dialog,{className:"rate-pop-wrapper",v2:!0,visible:l,onClose:function(){x()},footer:!1},k)):React.createElement(Fr,{visible:l,v2:!0,autoAdjust:!0,trigger:E,triggerType:"click",canCloseByTrigger:!1,wrapperClassName:"rate-pop-wrapper",onVisibleChange:C},k)))}n(299);var Ur,Hr,Wr,Gr=window.IcbuIM.lib.I18N.createI18N,Kr=null===(Ur=window)||void 0===Ur||null===(Hr=Ur.IcbuIM)||void 0===Hr||null===(Wr=Hr.IMBaaSSDK)||void 0===Wr?void 0:Wr.default,Jr=Gr({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"chat"}),Zr=s.useEffect,Xr=s.useState,Yr=s.useRef,Qr=["start","generating","finish","error","fetch"],$r={};var ea=function(e){var t=e.itemData,n=e.role,r=t.type,o=t.subType,i=t.onCardClick,c=t.contact,l=t.conversationCode,u=t.EventBus,d=t.content,p=t.aiABTest,f=t.startTime,m=t.originalData,h=(m=void 0===m?{}:m).params,g=(h=void 0===h?{}:h).requestMessageId,v=ht.isContentMatchWorkspaceUrl(d),y=Xr(v?Qr[4]:Qr[0]),b=y[0],w=y[1],x=Xr({}),C=x[0],E=x[1],S=Yr(),k=Yr({service:"",question:""}),T=Yr(),_=Yr({}),I=Yr();Zr((function(){"start"===b&&(I.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),O()),"generating"===b&&(Je({ext:"AIRequestStart",bizData:{requestId:g,aiABTest:null===p||void 0===p?void 0:p.summary,service:k.current.service,question:k.current.question,conversationId:l,contactAliId:null===c||void 0===c?void 0:c.aliId}}),function(e){var t=e.service,n=e.question,r=e.requestId,a=e.protocol,o=void 0===a?1:a,i=e.context;return Tt({api:"mtop.alibaba.intl.ai.assistant.request",v:"1.1",appKey:"24889839",data:{language:At,service:t,question:n,transferProtocol:o,requestId:r,context:i},ecode:1,H5Request:!0,versionCode:1,timeout:3e4})}({service:k.current.service,question:k.current.question,requestId:g,context:JSON.stringify({bucketName:(null===p||void 0===p?void 0:p.summary)||"compare1",modeSessionId:T.current,questionDesc:JSON.stringify({messageId:g,conversationId:l,contactAliId:null===c||void 0===c?void 0:c.aliId,language:At})})}).then((function(e){var t=e.data,n=t.code,r=t.data,o=(t.mcmsKey,t.message),i=void 0===o?"system error":o;if(1*n!==0)return _.current=M(n,i),Je({ext:"AIRequestResult",success:0,resultCode:n,resultMsg:i,bizData:{requestId:c,aiABTest:null===p||void 0===p?void 0:p.summary}}),w("error"),void u.publish("message-flow:ai-card-fail",{requestId:c,cid:l,errorContent:_.current});var s=r.body,c=r.requestId;try{var d=ht.aiCardStateTransfer(JSON.parse(s));D(a()({aiState:"finish",skeleton:"false"},d)),w("finish")}catch(e){D({aiState:"finish",skeleton:"false",content:""}),w("finish")}Je({ext:"AIRequestResult",success:1,resultCode:n,resultMsg:i,bizData:{requestId:c,aiABTest:null===p||void 0===p?void 0:p.summary}}),u.publish("message-flow:ai-card-success",{requestId:c,cid:l})}),(function(e){_.current=M(999,""),Je({ext:"AIRequestResult",success:0,resultCode:999,resultMsg:"",bizData:{requestId:g,aiABTest:null===p||void 0===p?void 0:p.summary}}),w("error"),u.publish("message-flow:ai-card-fail",{requestId:g,cid:l,errorContent:_.current})}))),"fetch"===b&&(Ye({boxDom:S.current,msgItem:t,startTime:Date.now()}),O())}),[b]);var O=function(){var e,n,r;if("fetch"===b&&null!==(e=$r[g])&&void 0!==e&&e.data&&null!==(n=$r[g])&&void 0!==n&&n.tpl&&"generating"!==(null===(r=$r[g])||void 0===r?void 0:r.data.aiState))return f&&Je(a()({ext:"AICardAttach",costTime:Date.now()-f},ht.createCommonLogParams(t,"display","messageflow",{requestId:g,cid:l,aiABTest:null===p||void 0===p?void 0:p.summary}))),A($r[g]),void w("finish");var o=Date.now(),i=ht.createCommonLogParams(t,"display","messageflow");jt({itemData:t,cardScene:3}).then((function(e){var n,r;if(null===Kr||void 0===Kr||null===(n=Kr.context)||void 0===n||!n.cid||!t.conversationCode||t.conversationCode===(null===Kr||void 0===Kr||null===(r=Kr.context)||void 0===r?void 0:r.cid)){var s=e.data.fbCardList&&e.data.fbCardList[0]||{},c=e.ret&&e.ret[0]||"noResult",l="SUCCESS::调用成功"===c;if(Je(a()({ext:"ParseDynamicCard",success:l?"YES":"NO",resultCode:l?"200":le,resultMsg:l?"card parse success":c,costTime:Date.now()-o},i)),"dx"===s.templateType){var u,d=null!==(u=s.data)&&void 0!==u?u:{},p=d.question,f=d.service;p&&f&&(k.current={service:f,question:p})}A({data:s.data,tpl:s.template})}}),(function(e){_.current=M(999,""),w("error")}))},A=function(e){var n=e.data,r=e.tpl,o=ht.createCommonLogParams(t,"display","messageflow");!function(){if(!S.current)return Je(a()({ext:"CardInnerRenderContainerNull"},o)),void console.log("__innerRenderCard return because of container is null",o);var e=a()({},n);v||(Object.assign(e,{aiState:"generating"}),$r[g]={data:a()({},e),tpl:r});try{E({template:r,data:e}),w(v?"finish":"generating")}catch(e){console.log("__innerRenderCard fail",o,e),Je(a()({ext:"CardInnerRenderFail"},o))}}(),Nt(N,t,r.extInfo)},D=function(e){void 0===e&&(e={}),$r[g]=a()({},$r[g]||{},{data:a()({},$r[g].data,e)})},M=function(e,t){var n={205:{content:Jr.get("ai.large.model.risk.error.code")||t,subType:"x009"},201:{content:Jr.get("ai.safe.error.code")||t,subType:"x009"},209:{content:Jr.get("ai.account.risk")||t,subType:"x009"},211:{content:Jr.get("ai.region.service.risk")||t,subType:"x009"},999:{content:Jr.get("ai.system.error")||"system.error",subType:"x009",extInfo:{icbuData:{chatEvent:{},actions:[{actionName:"retry",actionMcmsKey:"chat.ai.system.error.retry"}]}}}};return n[e+""]||n[999]},N=function(e,n,r){i&&i(t,e,{data:n,fullData:r})},P=C.template,L=C.data;return s.createElement("div",{className:"ai-card-container",ref:I},s.createElement("div",{className:"sys-dx ai-card"+(H.isWeblite?" isWeblite":"")},["start","fetch"].includes(b)&&s.createElement(nr,{type:r,subType:o,retry:!1,retryHandler:function(){}}),"error"===b?s.createElement(na,{role:n,itemData:a()({},t,_.current),disableRemoveCardDom:null===e||void 0===e?void 0:e.disableRemoveCardDom}):s.createElement("div",{className:"ai-card-wrapper"},s.createElement("div",{onClick:function(){Je("2020MC_Card_"+o+"_Click")},style:{display:["start","fetch"].includes(b)?"none":"block"},className:"session-dx-content",ref:S,"data-exp":function(){return"2020MC_Card_"+o+"_Show"}},P&&L&&s.createElement(pr,{tpl:JSON.parse(P.templateBin),data:L,item:t,refreshCard:function(){},disableRemoveCardDom:null===e||void 0===e?void 0:e.disableRemoveCardDom})),"finish"===b&&v&&s.createElement("div",{className:"rate-container"},s.createElement(Vr,{itemData:t})))))},ta=(n(300),n(301),(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:window.mcmsWithoutAppName?"":"intl-gangesweb"})),na=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCardClick=function(e){var n=t.props,r=n.itemData,a=n.role;r.role=a,r.onCardClick&&r.onCardClick(r,e)},t.handleCloseClick=function(){},t}i()(t,e);var n=t.prototype;return n.getCards=function(){var e=this.props,t=e.itemData,n=e.disableRemoveCardDom,r=void 0!==n&&n,a=t||{},o=a.extInfo,i=void 0===o?{}:o,c=a.getCardHtml,l=i.icbuData,u=(void 0===l?{}:l).cardUrls;return(void 0===u?[]:u).map((function(e,n){return s.createElement(Pr,{key:n,url:e,itemData:t,getCardHtml:c,disableRemoveCardDom:r})}))},n.render=function(){var e=this,t=this.props,n=t.itemData,r=t.role,o=t.disableRemoveCardDom,i=void 0!==o&&o,c=n.subType,l=n.extInfo,u=void 0===l?{}:l,d=n.content,p=void 0===d?"":d,f=u.icbuActionsDataVO,m=void 0===f?[]:f,h=u.icbuActionDataVO,g=void 0===h?{}:h,v=u.icbuData,y=void 0===v?{}:v,b=u.icbuTitleDataVO,w=void 0===b?{}:b;if(ht.isContentMatchAICard(p,c))return s.createElement(ea,{role:r,itemData:n,disableRemoveCardDom:i});if(9600===c||ht.isContentMatchWorkspaceUrl(p))return s.createElement(Rr,{role:r,itemData:n,disableRemoveCardDom:i});y.chatEvent&&(m=y.actions||[],w=y.title||{},g=y.action),15===c&&g&&(m=[a()({},g,{type:"web"})]),9500===c&&(m=[]);var x=y.msgLevel,C=void 0===x?1:x,E=y.iconUrl,S=void 0===E?"":E,k=y.canClosed,T=void 0!==k&&k,_=y.backgroundColor,I=void 0===_||_,O=w,A=O.titleName,D=void 0===A?"":A,M=O.titleMcmsKey,N=void 0===M?"":M,P=O.titleMcmsParams,L=void 0===P?[]:P,R=ta.get(N)||D;L.forEach((function(e,t){R=R.replace("{"+t+"}",e)}));var F=y.contentMcmsKey,j=y.contentMcmsParams,B=void 0===j?[]:j,z=y.imStandardMcmsParams,q=void 0===z?{}:z;9515===c&&(F="chat.meeting.tips.call.failed.schedule",H.isSeller&&(p=ta.get("chat.meeting.change.call.decline.note"))),p=ta.get(F)||p;var V=function(e,t,n){return e.replace(new RegExp("\\{"+t+"\\}|{\\{"+t+"\\}}","g"),n)},U=Object.keys(q).length>0,W=B.length>0;if(U)for(var G in q)p=V(p,G,q[G]);else W&&B.forEach((function(e,t){p=V(p,t,e)}));var K=m.filter((function(e){return/web|pwa|all|undefined/i.test(e.type)}));return function(e){return H.isSeller&&ht.isActionMeeting(e)}(c)&&(K=[{actionMcmsKey:"chat.meeting.go.set"}]),9511===c&&(K=K.filter((function(e){return"Unsubscribe"!==e.actionName})),S||(S="https://img.alicdn.com/imgextra/i2/O1CN01U2qgmw1Z2Kj3o8EzA_!!6000000003136-2-tps-60-60.png")),p?s.createElement("div",{className:"item-content-wrap","data-exp":"sysmsg"},s.createElement("div",{className:"item-system-notice level-"+C},s.createElement("div",{className:"notice-container "+(T?"can-close":"")+" "+(I?"":"no-background")},S&&s.createElement("img",{className:"notice-icon",src:S}),s.createElement("div",{className:"notice-main"},R&&s.createElement("div",{className:"notice-title"},R),s.createElement("div",{className:"notice-content"},s.createElement("span",{className:"notice-text"},p+" "),K&&s.createElement("span",{className:"notice-options"},K.map((function(t,n){var r,a,o,i=t.actionName||"";ta.get(t.actionMcmsKey)&&(i=ta.get(t.actionMcmsKey),null!==(o=t.actionMcmsParams)&&void 0!==o&&o.length&&t.actionMcmsParams.forEach((function(e,t){i=i.replace("{"+t+"}",e)})));if(t.scheme&&c>=9544&&("web"===(null===t||void 0===t||null===(r=t.type)||void 0===r?void 0:r.toLowerCase())||"all"===(null===t||void 0===t||null===(a=t.type)||void 0===a?void 0:a.toLowerCase()))){var l=se(t.scheme)?Object(ee.transferDomain)(t.scheme):t.scheme;return s.createElement("a",{href:l,target:"_blank",rel:"noreferrer"},i)}return s.createElement("span",{key:n,className:"btn-action",onClick:e.handleCardClick,"data-action-key":t.actionMcmsKey,"data-action":t.actionName},i)}))))),T&&s.createElement("div",{className:"icon-close",onClick:this.handleCloseClick},s.createElement("svg",{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg"},s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("path",{d:"M0 0h16v16H0z"}),s.createElement("path",{fill:"#999",fillRule:"nonzero",d:"M12.667 4.273l-.94-.94L8 7.06 4.273 3.333l-.94.94L7.06 8l-3.727 3.727.94.94L8 8.94l3.727 3.727.94-.94L8.94 8z"})))))),/^10|13$/.test(n.subType)&&s.createElement("div",{className:"item-assigin-inquiry"},!("msite"===n.host&&(10===n.subType||13===n.subType))&&this.getCards())):null},t}(s.Component),ra=(n(302),n(303),function(e){function t(t){var n;return(n=e.call(this,t)||this).handleCardClick=function(e){var t=n.props.itemData;0===t.status&&t.onCardClick&&t.onCardClick(t,e),n.showLoading()},n.state={showFakeLoading:!1},n}i()(t,e);var n=t.prototype;return n.showLoading=function(){var e=this;this.setState({showFakeLoading:!0}),setTimeout((function(){e.setState({showFakeLoading:!1})}),1e3)},n.componentWillMount=function(){var e=this.props.itemData.sendTime,t=+new Date;this.needLoading=t-e<5e3,this.needLoading&&this.showLoading()},n.render=function(){var e=this.props.itemData,t=e.content,n=fn(e),r=this.needLoading&&this.state.showFakeLoading;return s.createElement("div",{className:n},r?s.createElement("div",{className:"assist-loading"},s.createElement(Un,null)):s.createElement(Ut.Button,{className:"assist-btn",onClick:this.handleCardClick},s.createElement(Ut.Icon,{type:"all",className:"assist-icon"}),s.createElement("span",{className:"assist-content"},t)))},t}(s.Component)),aa=window.IcbuIM.classnames,oa=window.IcbuIM.lib.I18N.createI18N,ia=oa({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"messenger"}),sa=function(e,t){return/^(2005|2008|54|63|2|2000)$/.test(e)||ht.canTransferProduct(t)||ht.isMediaType(e)};var ca=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.componentWillMount=function(){"msite"===this.props.item.host&&(ia=oa({parsePage:!0,namespace:"chat"}))},n.render=function(){var e=this.props,t=e.item,n=e.groupMembers,r=e.disableRemoveCardDom,a=void 0!==r&&r,o=t.content,i=void 0===o?"":o,c=t.type,l=t.subType,u=t.viewType,d=t.conversationType;if(Object.assign(t,{groupMembers:n}),1===c){if(3===u)return s.createElement(or,{itemData:t,groupMembers:n,someReverseTip:ia.get("sbReverseTip")||"撤回了一条消息",youReverseTip:ia.get("youReverseTip"),reverseTip:ia.get("reverseTip"),reEditText:ia.get("reEdit")||"re-edit"});if("x003"===l)return s.createElement(ra,{itemData:t});var p=ht.canTransfer(i);return 1===l&&2!=d&&p?s.createElement(_r,{itemData:t,disableRemoveCardDom:a,cardType:p}):1!==l&&i.match("workspace.alibaba.com")?s.createElement(Or,{itemData:t,disableRemoveCardDom:a}):4===l?s.createElement(tr,{itemData:t,content:ia.get("notSupported"),downloadText:ia.get("toDownload")}):ht.isMediaType(l)?s.createElement(Mr,{itemData:t}):(t.content=ht.xssFilter(t.content||"",t.localExt||{}),t.content=ht.convertLinkToHtmlWhenMatch(t.content),s.createElement(Zn,{itemData:t,groupMembers:n,userType:"buyer"}))}return 2==c?s.createElement(na,{role:"buyer",itemData:t,disableRemoveCardDom:a}):0===c?s.createElement($n,{content:t.content||ia.get("securityTip")}):300===c?s.createElement(rr,{itemData:t}):s.createElement(Yn,{itemData:t})},t}(s.Component);var la=function(e){var t,n=e.messageType,r=e.sendTime,a=e.contact,o=e.groupMembers,i=void 0===o?{}:o,c=e.sender,l=(c=void 0===c?{}:c).targetId,u=2===e.conversationType,d=mn(r);return s.createElement("p",{className:"item-base-info"},s.createElement("span",{className:"name"},"rec"===n?u?(null===(t=i[l])||void 0===t?void 0:t.displayName)||l:a.name:""),s.createElement("span",null,d))},ua=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"onepage.ma"});var da,pa,fa,ma=function(e){var t=e.attachments||[];return t.length?s.createElement("div",{className:"inquiry-card-item"},s.createElement("div",{className:"attachment-container fake-message"},s.createElement("p",{className:"attachment-title"},ua.get("rfqdetail.attachment")),s.createElement("div",null,t.map((function(e,t){return e.materialType="jpg"===e.materialType||"png"===e.materialType||"jpeg"===e.materialType?"img":e.materialType,s.createElement("div",{key:t,className:"attach-item"},s.createElement("div",{className:"attach-preview attach-preview-default attach-preview-"+e.materialType},s.createElement("span",{className:"file-type"},e.materialType&&e.materialType.toUpperCase().substring(0,3))),s.createElement("p",{className:"attach-name"},e.fileName))}))))):null},ha=(n(304),window.IcbuIM.classnames),ga=function(e){var t,n,r,a=e.hideBoldTop,o=void 0!==a&&a,i=e.itemData;if("commonReceptionMsg"!==((null===i||void 0===i||null===(t=i.extInfo)||void 0===t||null===(n=t.icbuData)||void 0===n||null===(r=n.chatEvent)||void 0===r?void 0:r.extParams)||{}).autoReceptionType)return null;var s=Ht.autoReplyTip,l=ha({content:!0,"hide-bold-top":o});return c.a.createElement("div",{className:"auto-reply-footer"},c.a.createElement("div",{className:l},c.a.createElement("span",{className:"tip"},s)))},va=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"onepage.ma"}),ya=window.IcbuIM.classnames,ba=function(e){function t(t){var n;(n=e.call(this,t)||this).setTranslateVisible=function(e){n.setState({translateVisible:e})},n.handleCardClick=function(e){var t=n.props.itemData;0===t.status&&t.onCardClick&&t.onCardClick(t,e)};var r=n.props.itemData.subType;return n.isCloudFile=61===r,n.isStructMsg=100015===r,n.isMedia=ht.isFileType(r)||n.isCloudFile||/^<(img|video)[^>]+>$/.test(t.itemData.content)&&-1===t.itemData.content.indexOf("atmgateway-client.alibaba.com"),n.state={translateVisible:!1},n}i()(t,e);var n=t.prototype;return n.componentWillMount=function(){this.willMountStartTime=Date.now()},n.componentDidMount=function(){var e=this.props.itemData,t=e.tmpKey,n=e.messageId,r=e.mediaMessageRenderer,a=e.originalData,o=(void 0===a?{}:a).params,i=(o=void 0===o?{}:o).url,s=o.downloadUrl,c=o.name;if(this.isMedia){if(this.isCloudFile?Ze(this.contentDom,e,this.willMountStartTime,!0):Xe(this.contentDom,e),this.contentDom.innerHTML=e.content,n&&t&&r){var l={downloadUrl:s||(null===i||void 0===i?void 0:i.replace("redirectFileUrl","downloadFile"))};c&&(l.fileName=c),r(t,l)}var u=this.contentDom.querySelector("img");u&&(u.style.cursor="pointer")}else this.isStructMsg&&this.matchStructContent()},n.isInstead=function(){var e=this.props.itemData,t=e.messageType,n=e.owner,r=e.replaceReplyer;return"send"===t&&r&&n.accountId!==r.accountId},n.isAutoReply=function(){var e=this.props.itemData,t=void 0===e?{}:e,n=t.messageType,r=t.autoReply;return window.GDATA&&window.GDATA.user&&window.GDATA.user.isPaidMember&&1===r&&"send"===n},n.matchStructContent=function(){var e=this.props.itemData,t=e.groupMembers,n=void 0===t?{}:t;this.contentDom&&(this.contentDom.innerHTML=e.content,this.contentDom.querySelectorAll("a").forEach((function(e,t){var r,a=JSON.parse(e.getAttribute("data-at")),o=a.atAliId,i=a.atAll,s=a.defaultNick;i?e.innerText=" @"+(va.get("groupchat.all")||"所有人")+" ":e.innerText=" @"+((null===(r=n[o])||void 0===r?void 0:r.displayName)||s||o)+" "})))},n.renderContent=function(){var e,t,n=this,r=this.props.itemData,a=r.subType,o=r.content,i=void 0===o?"":o,c=r.messageType,l=r.translateInfo,u=r.realTimeTranslation,d="",p=ya({"content-with-translation":!0,"no-flex-grow":ht.isFileType(a)||this.isStructMsg,"text-content":!this.isMedia});d=this.isMedia||this.isStructMsg?s.createElement("div",{className:"session-rich-content "+(this.isMedia?"media":"text"),onClick:this.handleCardClick,ref:function(e){n.contentDom=e}}):s.createElement(s.Fragment,null,s.createElement("div",{className:"session-rich-content "+(this.isMedia?"media":"text"),onClick:this.handleCardClick,dangerouslySetInnerHTML:{__html:i}}),s.createElement(Gn,{itemData:r,userType:this.props.userType}));var f=s.createElement(_n,{ref:function(e){n.translateComponent=e},type:"text",itemData:r,translateInfo:l,realTimeTranslation:u||{},setTranslateVisible:this.setTranslateVisible}),m=null===(e=n.translateComponent)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.contentVisible;return"send"===c?s.createElement("div",{className:"fail-wrapper"},this.renderFailStatus(),s.createElement("div",{className:p},d,f,s.createElement(ga,{hideBoldTop:m,itemData:r}))):s.createElement("div",{className:p},d,f)},n.renderFailStatus=function(){var e=this.props.itemData,t=e.messageType,n=e.spamStatus,r=e.status;return"rec"===t?null:n&&0!==n||r&&0!==r?s.createElement("div",{className:"fail-tip"},"send"===t&&s.createElement(Rn,{itemData:e,role:"seller"})):null},n.renderWrapper=function(){var e,t,n,r,o=this,i=this.props.itemData,c=i.content,l=i.conversationType,u=i.messageType,d=i.contact,p=i.owner,f=i.editMode,m=i.attachments,h=i.EventBus,g=i.showMenu,v=i.sender,y=(v=void 0===v?{}:v).targetId,b=i.groupMembers,w=void 0===b?{}:b,x=fn(i),C=(e=d,t=p,r="rec"===u?2===l?null===(n=w[y])||void 0===n?void 0:n.fullPortrait:e.fullPortrait:t.fullPortrait,function(){return r});return s.createElement("div",{className:x},s.createElement(la,i),s.createElement(Sn,{url:C(),EventBus:h,itemData:i},s.createElement(Vn,{itemData:i},"profession"===f?s.createElement("div",{className:"content-profession"},c&&this.renderContent(),m?s.createElement(ma,{attachments:m}):null):c&&this.renderContent())),s.createElement(zn,{itemData:i}),g&&s.createElement(On,{EventBus:h,item:a()({},i,{translateVisible:this.state.translateVisible,translateClick:function(){var e,t;null===(e=o.translateComponent)||void 0===e||null===(t=e.translateClick)||void 0===t||t.call(e)}})}))},n.render=function(){return this.isInstead()?s.createElement("div",{className:"item-instead-wrapper"},this.renderWrapper(),s.createElement("p",{className:"instead-tip"},va.get("chat.assign.insteadTip")||"上一条消息为主账号代回复")):this.isAutoReply()?s.createElement("div",{className:"item-instead-wrapper"},this.renderWrapper(),s.createElement("p",{className:"instead-tip"},va.get("chat.autoReply.remindTip"))):this.renderWrapper()},t}(s.Component),wa=((0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"onepage.ma"}),function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCardClick=function(e){var n=t.props.itemData;n.onCardClick&&n.onCardClick(n,e)},t}return i()(t,e),t.prototype.render=function(){var e,t,n,r=this.props,a=r.content,o=r.downloadText,i=r.itemData,c=i.messageType,l=i.contact,u=i.owner,d=fn(i),p=(e=l,t=u,n="rec"===c?e.fullPortrait:t.fullPortrait,function(){return n});return s.createElement("div",{className:d},s.createElement(hn,i),s.createElement(Sn,{url:p(),itemData:i},s.createElement("div",{className:"item-not-supported",onClick:this.handleCardClick},s.createElement("p",{className:"text"},a),s.createElement("div",{className:"download"},s.createElement(Ut.Icon,{type:"download",size:"xs",className:"download-icon"}),s.createElement("p",{className:"download-text"},o||"GET APP")))),s.createElement(zn,{itemData:i}))},t}(s.Component)),xa=wa,Ca=window.IcbuIM.lib.I18N.createI18N,Ea=null===(da=window)||void 0===da||null===(pa=da.IcbuIM)||void 0===pa||null===(fa=pa.IMBaaSSDK)||void 0===fa?void 0:fa.default,Sa=Ca({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"onepage.ma"}),ka=[60,62,63,2003],Ta=function(e){function t(t){var n;(n=e.call(this,t)||this).getCard=function(e){void 0===e&&(e=!1);var t=sr()(n),r=n.props.itemData,o=Date.now(),i=ht.createCommonLogParams(r,"display","messageflow");Je(a()({ext:"ParseDynamicCardStart",success:"YES",resultCode:"200",resultMsg:"parse card start"},i)),Vt(r,null,e).then((function(n){var s,c;if(null===Ea||void 0===Ea||null===(s=Ea.context)||void 0===s||!s.cid||!r.conversationCode||r.conversationCode===(null===Ea||void 0===Ea||null===(c=Ea.context)||void 0===c?void 0:c.cid)){var l=n.data.fbCardList&&n.data.fbCardList[0]||{},u=n.ret&&n.ret[0]||"noResult",d="SUCCESS::调用成功"===u;if(t.setState({cardType:l.templateType}),Je(a()({ext:"ParseDynamicCard",success:d?"YES":"NO",resultCode:d?"200":le,resultMsg:d?"card parse success":u,costTime:Date.now()-o},i)),"dx"===l.templateType){var p=function(){if(!t.contentDom)return Je(a()({ext:"CardInnerRenderContainerNull"},i)),void console.log("__innerRenderCard return because of container is null",i);t.setState({cardData:l})};if([2003].includes(null===r||void 0===r?void 0:r.subType))try{var f,m,h=null===(f=l.data)||void 0===f?void 0:f.content;if(h)l.data.content=null===h||void 0===h||null===(m=h.map)||void 0===m?void 0:m.call(h,(function(e){var t,n,r;null!==e&&void 0!==e&&null!==(t=e.value)&&void 0!==t&&t.textRuns&&(e.value.textRuns=null===(n=(r=e.value.textRuns).map)||void 0===n?void 0:n.call(r,(function(e){var t,n;return a()({},null!==e&&void 0!==e?e:{},{text:null===e||void 0===e||null===(t=e.text)||void 0===t||null===(n=t.replace)||void 0===n?void 0:n.call(t,/\r\n/g,"<br>")})})));return a()({},null!==e&&void 0!==e?e:{})}))}catch(e){}t.state.showFakeLoading?t.__innerRenderCard=p:p(),!e&&Nt(t.handleCardClick,t.props.itemData,l.template.extInfo)}else l.h5Data&&t.handleHTMLCard(decodeURIComponent(l.h5Data.replace(/\+/g,"%20"))),Je({ext:"htmlCard",bizData:{content:r.content}})}}),(function(e){var n=e.ret&&e.ret[0]||"noResult";console.log("=======err",e),t.contentDom&&e.ret&&(t.contentDom.innerHTML=e.ret[0]),t.setState({content:"fail"}),Je(a()({ext:"ParseDynamicCard",success:"NO",resultCode:le,resultMsg:n,costTime:Date.now()-o},i))}))},n.setTranslateVisible=function(e){n.setState({translateVisible:e})},n.handleCardClick=function(e,t,r,a){var o=n.props.itemData;o.onCardClick&&o.onCardClick(o,e,{data:t,fullData:r,eventExtInfo:a}),window.dispatchEvent(new CustomEvent("cardAction",{detail:{itemData:o,e:e,extraData:{data:t,fullData:r}}}))};var r=hr(t.itemData);return n.state={content:r.cardData?"succ":null,description:"",translateInfo:{targetContent:""},cardData:r.cardData||{},cardType:r.cardType||"",cardContentType:"",translateVisible:!1,loadingSize:r.loadingSize||{}},n}i()(t,e);var n=t.prototype;return n.componentWillMount=function(){this.willMountStartTime=Date.now()},n.componentDidMount=function(){var e,t=this,n=this.props.itemData,r=n.subType;(-1!==[53,60,62,63,2003].indexOf(r)&&Xe(this.contentDom,n),Ye({boxDom:this.contentDom,msgItem:n,startTime:this.willMountStartTime}),61===r&&Ze(this.contentDom,n,this.willMountStartTime,!1),Ct.getInstance().hasCacheCardSize(n))?(this.setState({loadingSize:a()({},null===(e=Ct.getInstance().getCacheCardSize(n))||void 0===e?void 0:e.size)}),nt()?this.getCard():this.lazyLoad=fr(this.boxDom,(function(){t.getCard()}))):this.getCard()},n.componentWillUnmount=function(){var e,t;(this.lazyLoad&&(mr(this.lazyLoad),this.lazyLoad=null),this.contentDom&&(cr.unmountComponentAtNode(this.contentDom),this.contentDom=null),tt())&&(this.__innerRenderCard=null,Mt(null===(e=this.props.itemData)||void 0===e?void 0:e.messageId,null===(t=this.props)||void 0===t?void 0:t.disableRemoveCardDom))},n.saveDomCardSize=function(e){if(e){var t=this.props.itemData,n=e.getBoundingClientRect().height,r=e.getBoundingClientRect().width;n&&r&&Ct.getInstance().setCacheCardSize({size:{height:n,width:r}},t)}},n.handleHTMLCard=function(e){var t=this,n=this.props.itemData.setContentId,r=e&&e.replace(/<table[^>]*?>[\s\S]*?<\/table>/gi,(function(e){return'<div class="content-table-wrapper">'+e+"</div>"}));if(this.contentDom){if(this.contentDom.innerHTML=r,n){var a=this.contentDom.querySelector("[data-query]"),o=a&&a.getAttribute("data-query")||"{}";n((o=JSON.parse(o)).clickContentId||"no_id")}if(this.contentDom.querySelector(".img-card")||this.contentDom.querySelector(".video-item")){this.contentDom.parentNode.parentNode.style.flexGrow=0,this.setState({cardContentType:"media-card"}),this.boxDom&&(this.boxDom.style.flexGrow="0");var i=this.contentDom.querySelector("img")||this.contentDom.querySelector("video");return i.onload=function(){return t.setState({content:r})},i.onloadeddata=function(){return t.setState({content:r})},void(i.onerror=function(){t.setState({content:r,cardContentType:""});var e=document.createElement("img");e.src="https://img.alicdn.com/imgextra/i3/O1CN01W4vfVJ1W4DWV9kMfo_!!6000000002734-2-tps-200-201.png",e.style.width="100%",e.onclick=function(){return t.getCard()},t.contentDom.innerHTML="",t.contentDom.appendChild(e)})}this.contentDom.querySelector(".super-text-card-item")&&this.setState({cardContentType:"rich-text-card"});this.getTranslateContent(r,".description-container")}},n.getTranslateContent=function(e,t,n){var r=this,o=this.props.itemData,i=o.messageType,s=o.subType,c=o.messageId,l=o.realTimeTranslation,u=void 0===l?{}:l,d=o.translate,p=u.openRealTimeTranslation,f=void 0!==p&&p,m=u.language,h="",g="rec"===i&&(50===s||2085===s);if(g)if(n)h=n;else if(t){var v=this.contentDom?this.contentDom.querySelector(t):void 0;h=v?v.innerHTML:""}var y={};g&&f&&d?d({data:{srcContents:[{messageId:c,srcContent:h}],targetLang:m},callback:function(t){if(200===1*t.code){var n,o=(t.data||[{}]).list;y=a()({targetContent:h,translateSuccess:!0},null!==(n=o[0])&&void 0!==n?n:{})}else y={targetContent:h,translateSuccess:!1};r.setState({content:e,description:h,translateInfo:y})}}):this.setState({content:e,description:h})},n.isInstead=function(){var e=this.props.itemData,t=e.messageType,n=e.owner,r=e.replaceReplyer;return"send"===t&&r&&n.accountId!==r.accountId},n.renderContent=function(){var e,t,n,r,o=this,i=this.state,c=i.translateInfo,l=i.description,u=i.cardContentType,d=i.content,p=i.cardType,f=i.cardData,m=this.props,h=m.itemData,g=m.isQuote,v=h.subType,y=h.messageType,b=h.realTimeTranslation,w=f.template,x=f.data,C=tn,E=nn,S=g&&(r=v,en.includes(r))?" width-set-in-quote":"",k=g&&function(e){return C.includes(e)}(v)?" short-width-set-in-quote":"",T=g&&function(e){return E.includes(e)}(v)?" inquiry-width-set-in-quote":"",_=s.createElement("div",{style:a()({display:d?"block":"none"},null!==Fe&&void 0!==Fe&&Fe[Number(v)]?{minHeight:(null===Fe||void 0===Fe?void 0:Fe[Number(v)])+"px",backgroundColor:"#fff"}:{},this.state.loadingSize?{minHeight:(null!==(e=this.state.loadingSize)&&void 0!==e?e:{}).height,minWidth:(null!==(t=this.state.loadingSize)&&void 0!==t?t:{}).width}:{}),onClick:"dx"!==p?this.handleCardClick:null,className:"session-rich-content "+(u||"")+S+T+k+" "+(ka.includes(h.subType)?"session-rich-content-image":""),ref:function(e){return o.contentDom=e},"data-exp":this.getExpLogName()},w&&x&&s.createElement(pr,{tpl:JSON.parse(w.templateBin),data:x,item:h,templateFinishFirstPaint:function(){o.setState({content:"succ"},(function(){setTimeout((function(){o.saveDomCardSize(o.contentDom),o.getTranslateContent("succ","",x.content)}),200)}))},refreshCard:this.getCard,disableRemoveCardDom:null===(n=this.props)||void 0===n?void 0:n.disableRemoveCardDom}));return g||"rec"!==y||50!==v&&2085!==v?_:s.createElement("div",{className:"content-with-translation"},_,l&&s.createElement(_n,{ref:function(e){return o.translateComponent=e},type:"inquiryCard",itemData:a()({},h,{content:l}),translateInfo:c,realTimeTranslation:b||{},setTranslateVisible:this.setTranslateVisible}))},n.getExpLogName=function(){var e=this.props.itemData.subType;return 2004===e?"2020MC_AIQuestionCard_Show":"2020MC_Card_"+e+"_Show"},n.renderWrapper=function(){var e,t,n,r,o=this,i=this.state.content,c=this.props,l=c.itemData,u=c.cardRef,d=l.type,p=l.subType,f=l.messageType,m=l.contact,h=l.owner,g=l.EventBus,v=l.showMenu,y=fn(l),b=(t=m,n=h,r="rec"===f?t.fullPortrait:n.fullPortrait,function(){return r});return s.createElement("div",{className:y,ref:function(e){return o.boxDom=e}},s.createElement(la,l),s.createElement(Sn,{url:b(),EventBus:g,itemData:l},this.renderContent(),!i&&s.createElement(nr,{style:a()({},null!==Fe&&void 0!==Fe&&Fe[Number(p)]?{height:(null===Fe||void 0===Fe?void 0:Fe[Number(p)])+"px"}:{},null!==(e=this.state.loadingSize)&&void 0!==e?e:{}),type:d,subType:p,retry:i&&"string"!==typeof i,retryHandler:this.getCard})),s.createElement(zn,{itemData:l}),v&&s.createElement(On,{EventBus:g,item:a()({},l,{translateVisible:this.state.translateVisible,translateClick:function(){var e,t;null===(e=o.translateComponent)||void 0===e||null===(t=e.translateClick)||void 0===t||t.call(e)},getDomNode:function(){return u}})}))},n.render=function(){return this.props.isQuote?this.renderContent():this.isInstead()?s.createElement("div",{className:"item-instead-wrapper"},s.createElement("div",{className:"item-instead-wrapper-inner"},this.renderWrapper()),s.createElement("p",{className:"instead-tip"},Sa.get("chat.assign.insteadTip")||"上一条消息为主账号代回复")):this.renderWrapper()},t}(s.PureComponent),_a=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:window.mcmsWithoutAppName?"":"intl-gangesweb"}),Ia=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCardClick=function(e){var n=t.props.itemData;n.onCardClick&&n.onCardClick(n,e)},t}return i()(t,e),t.prototype.render=function(){var e=this,t=this.props.itemData,n=t.messageType,r=t.EventBus,a=t.contact,o=t.owner,i=t.extInfo,c=i.icbuActionsDataVO,l=void 0===c?[]:c,u=i.icbuData,d=void 0===u?{}:u,p=d.imStandardMcmsParams,f=_a.get(d.contentMcmsKey)||"";f=f.replace(/\{(\d+)\}/g,(function(e,t){return(null===p||void 0===p?void 0:p[t])||e}));var m=d.bizId;d.chatEvent&&(m=d.chatEvent.bizId,l=d.actions||[]);var h,g,v,y=(h=a,g=o,v="rec"===n?h.fullPortrait:g.fullPortrait,function(){return v}),b=fn(t);return s.createElement("div",{className:b},s.createElement(la,t),s.createElement(Sn,{url:y(),EventBus:r,itemData:t},s.createElement("div",{className:"session-rich-content text"},1===m?s.createElement("img",{className:"icon",src:"https://img.alicdn.com/tfs/TB1XdxCF4D1gK0jSZFKXXcJrVXa-56-56.png"}):s.createElement("img",{className:"icon",src:"https://img.alicdn.com/tfs/TB1_yRDF4D1gK0jSZFyXXciOVXa-56-56.png"}),s.createElement("span",null,f),l.map((function(t){return s.createElement("span",{className:"action",onClick:e.handleCardClick},_a.get(t.actionMcmsKey))})))))},t}(s.Component),Oa=Ia,Aa=(n(305),(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"onepage.ma"}),function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCardClick=function(e){var n=t.props.itemData;n.onCardClick&&n.onCardClick(n,e)},t}i()(t,e);var n=t.prototype;return n.renderContent=function(){var e=this.props.itemData.extInfo,t=(void 0===e?{}:e).icbuData;return s.createElement("div",{className:"session-rich-content audio",onClick:this.handleCardClick},s.createElement("span",{className:"duration"},t.duration,"s"))},n.render=function(){var e,t,n,r=this.props.itemData,a=fn(r),o=r.messageType,i=r.contact,c=r.owner,l=r.content,u=(e=i,t=c,n="rec"===o?e.fullPortrait:t.fullPortrait,function(){return n});return s.createElement("div",{className:a},s.createElement(hn,r),s.createElement(Sn,{url:u(),itemData:r},l&&this.renderContent()),s.createElement(zn,{itemData:r}))},t}(s.Component)),Da=Aa,Ma=(n(306),window.IcbuIM.classnames),Na=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"messenger"}),Pa=function(e,t){return/^(2005|2008|54|63|2|2000)$/.test(e)||ht.canTransferProduct(t)||ht.isMediaType(e)};var La=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.groupMembers,r=e.disableRemoveCardDom,a=void 0!==r&&r,o=e.cardRef,i=t.content,c=t.type,l=t.subType,u=t.viewType,d=t.conversationType;if(Object.assign(t,{groupMembers:n}),1===c){if(3===u)return s.createElement(or,{groupMembers:n,itemData:t,someReverseTip:Na.get("sbReverseTip")||"撤回了一条消息",youReverseTip:Na.get("youReverseTip"),reverseTip:Na.get("reverseTip"),reEditText:Na.get("reEdit")||"re-edit"});if("x003"===l)return s.createElement(ra,{itemData:t});var p=ht.canTransfer(i);return 1===l&&2!=d&&p?s.createElement(_r,{itemData:t,disableRemoveCardDom:a,cardType:p}):1!==l&&null!==i&&void 0!==i&&i.match("workspace.alibaba.com")?s.createElement(Ta,{itemData:t,disableRemoveCardDom:a,cardRef:o}):4===l?G?s.createElement(Da,{itemData:t}):s.createElement(xa,{itemData:t,content:Na.get("notSupported"),downloadText:Na.get("toDownload")}):ht.isMediaType(l)?s.createElement(Oa,{itemData:t}):(t.content=ht.xssFilter(t.content||"",t.localExt||{}),t.content=ht.convertLinkToHtmlWhenMatch(t.content),s.createElement(ba,{itemData:t,groupMembers:n,userType:"seller"}))}return 2===c?s.createElement(na,{role:"seller",itemData:t,disableRemoveCardDom:a}):0===c?s.createElement($n,{content:t.content||Na.get("securityTip")}):s.createElement(Yn,{itemData:t})},t}(s.Component);s.Component,s.Component;function Ra(e,t){var n=null;if(!e)return n;try{var r=t.isWorkbench,a=t.itemData,o=t.extraData,i=o.fullData,s=o.data,c=t.role,l=s&&s[0]||{},u=a.contact,d=a.host;n=(e.match(/(return (.|\n)+)/)?new Function("value","contact","host","itemData","fullData","actionData","role","isWorkbench",e):new Function("value","contact","host","itemData","fullData","actionData","role","isWorkbench","return "+e+";"))(e,u,d,a,i,l,c,r)}catch(e){console.error("error when getValue for cardclick action",e)}return n}function Fa(e,t){return function(e,t){return Ra(e,t)}(e.params.ifExpression_condition,t)}var ja=["title"],Ba={openUrl:function(e,t,n){var r=n.ActionClick,a=Ra(t.params.openUrl_url,n);a?r("openUrl",a):console.error("param of action openurl is null")},openFile:function(e,t,n){var r=n.openFile,a=n.itemData,o=Ra(t.params.openFile_url,n);if(o){var i=o.split(".");r({fileUrl:o,fileExtension:i[i.length-1]},a)}else console.error("param of action openFile is null")},ifExpression:function(e,t,n){var r=Fa(t,n);null!==r?za(r?t.yesChild:t.noChild,e,n):console.error("condition of action ifExpression is null")},redirectTo:function(e,t,n){var r=n.redirectTo,o=n.SPA_MODULES,i=Ra(t.params.redirectTo_appName,n),s=Ra(t.params.redirectTo_params,n)||{};i&&o[i]?r({appName:o[i],params:a()({redirectTo:r},s)}):console.error(i+" does not exist in SPA_MODULES")},sendTextMessage:function(e,t,n){var r=n.sendMessage,o=n.itemData,i=o.contact,s=o.host,c=Ra(t.params.sendTextMessage_params,n);r(a()({},c,{accountId:i.accountId,accountIdEncrypt:i.accountIdEncrypt,clientVersion:s}))},setContent:function(e,t,n){(0,n.setContent)(Ra(t.params.setContent_content,n))},setQuoteItem:function(e,t,n){var r=n.setQuoteItem,a=Ra(t.params.setQuoteItem_params,n);r(a.title,p()(a,ja))},openPlugin:function(e,t,n){var r=n.ActionClick,a=Ra(t.params.openPlugin_params,n);a?r("plugin",a):console.error("params of action openPlugin is null")},popWebCtrl:function(e,t,n){var r=n.ActionClick,a=Ra(t.params.popWebCtrl_params,n);a?r("popWebCtrl",a):console.error("params of action popWebCtrl is null")}};function za(e,t,n){e&&0!==e.length&&e.forEach((function(e){Ba[e.action].call(null,t,e,n)}))}function qa(e,t){var n=function(e){try{var t,n=null===(t=e.extraData)||void 0===t?void 0:t.eventExtInfo;return!!n&&JSON.parse(n)}catch(e){return console.error(e),!1}}(t);return!(!n||0===n.length)&&(za(n,e,t),!0)}var Va=$t("buyer",ca)((function(e){return function(t){function n(e){var n;return(n=t.call(this,e)||this).setContentId=function(e){n.setState({clickContentId:e})},n.state={clickContentId:""},n}i()(n,t);var r=n.prototype;return r.componentWillUnmount=function(){tt()&&(this.props.item.domNode=null,this.props.item.setContentId=null)},r.render=function(){var t,n=this,r=this.props.item,o=r.type,i=r.subType,c=r.content,l=void 0===c?"":c,u=r.host,d=r.className,p=aa(((t={"message-item-wrapper":!0,"item-right":"send"===r.messageType&&1===o,"item-right-card":"send"===r.messageType&&1===o&&(l.match(re)||ht.canTransfer(l)),"item-left-text":"rec"===r.messageType&&(1===o&&1===i&&!ht.canTransfer(l)||ht.isFileType(i)),"no-flex-grow":1===o&&sa(i,l),wider:1===o&&(50===i||63===i||1===i&&!ht.canTransfer(l))})[u]=!!u,t[d]=!!d,t)),f=ht.getLogParams(r);return r.setContentId=this.setContentId,s.createElement(Zt,{itemData:r,className:p},s.createElement("div",{className:p,ref:function(e){n.domNode=e,r.domNode=e},"data-exp":"2020MC_Message_Show","data-clk":"2020MC_Message_Click","data-expInfo":JSON.stringify(a()({},f,{showTime:+new Date})),"data-clkInfo":JSON.stringify(a()({},f,{clickTime:+new Date,clickContentId:this.state.clickContentId})),"data-original":l},s.createElement(e,this.props)))},n}(s.Component)})),Ua=$t("seller",La)((function(e){return function(t){function n(e){var n;return(n=t.call(this,e)||this).setContentId=function(e){n.setState({clickContentId:e})},n.onCardRef=function(e){e&&(n.cardRef=e)},n.state={clickContentId:""},n}i()(n,t);var r=n.prototype;return r.componentWillUnmount=function(){tt()&&(this.props.item.domNode=null,this.props.item.setContentId=null,this.domNode=null,this.cardRef=null)},r.render=function(){var t,n=this,r=this.props.item,o=r.type,i=r.subType,c=r.content,l=void 0===c?"":c,u=r.host,d=r.className;G&&(u="aliseller");var p=Ma(((t={"message-item-wrapper":!0,"item-right":"send"===r.messageType&&1===o,"item-left":"rec"===r.messageType&&1===o,"item-right-card":"send"===r.messageType&&1===o&&(l.match(re)||ht.canTransfer(l)&&!ht.canTransferProduct(l))&&54!==i&&2e3!==i&&2006!==i,"item-left-text":"rec"===r.messageType&&(1===o&&1===i&&!ht.canTransfer(l)||ht.isFileType(i)),"no-flex-grow":1===o&&Pa(i,l),wider:1===o&&(50===i||63===i||1===i&&!ht.canTransfer(l))})[u]=!!u,t[d]=!!d,t)),f=ht.getLogParams(r);return r.setContentId=this.setContentId,s.createElement(Zt,{itemData:r,className:p},s.createElement("div",{className:p,ref:function(e){n.onCardRef(e),n.domNode=e,r.domNode=e},"data-exp":"2020MC_Message_Show","data-clk":"2020MC_Message_Click","data-expInfo":JSON.stringify(a()({},f,{showTime:+new Date})),"data-clkInfo":JSON.stringify(a()({},f,{clickTime:+new Date,clickContentId:this.state.clickContentId})),"data-original":l},s.createElement(e,a()({},this.props,{cardRef:this.cardRef}))))},n}(s.Component)}))},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";t.a={"/:^_^":{t:"Smile",id:"0"},"/:^$^":{t:"Shy",id:"1"},"/:Q":{t:"Tongue",id:"2"},"/:815":{t:"Snicker",id:"3"},"/:809":{t:"Admire",id:"4"},"/:^O^":{t:"Laugh",id:"5"},"/:081":{t:"Dance",id:"6"},"/:087":{t:"Blow Kisses",id:"7"},"/:086":{t:"Comfort",id:"8"},"/:H":{t:"Hug",id:"9"},"/:012":{t:"Come on",id:"10"},"/:806":{t:"Victory",id:"11"},"/:b":{t:"Excellent",id:"12"},"/:^x^":{t:"Kiss",id:"13"},"/:814":{t:"Infatuated",id:"14"},"/:^W^":{t:"Grin",id:"15"},"/:080":{t:"Search",id:"16"},"/:066":{t:"Call",id:"17"},"/:807":{t:"Account",id:"18"},"/:805":{t:"Moneygrubber",id:"19"},"/:071":{t:"Good Idea",id:"20"},"/:072":{t:"Grimace",id:"21"},"/:065":{t:"Angel",id:"22"},"/:804":{t:"Bye",id:"23"},"/:813":{t:"Slobber",id:"24"},"/:818":{t:"Enjoy",id:"25"},"/:015":{t:"Erotomania",id:"26"},"/:084":{t:"Bemused",id:"27"},"/:801":{t:"Think",id:"28"},"/:811":{t:"Confused",id:"29"},"/:?":{t:"Question",id:"30"},"/:077":{t:"No Money",id:"31"},"/:083":{t:"Bored",id:"32"},"/:817":{t:"Doubt",id:"33"},"/:!":{t:"Sh",id:"34"},"/:068":{t:"Childish",id:"35"},"/:079":{t:"Shake",id:"36"},"/:028":{t:"Got a Cold",id:"37"},"/:026":{t:"Embarrassed",id:"38"},"/:007":{t:"Giggle",id:"39"},"/:816":{t:"Not Really",id:"40"},'/:\'""':{t:"No Choice",id:"41"},"/:802":{t:"Perspire",id:"42"},"/:027":{t:"Miserable",id:"43"},"/:(Zz...)":{t:"Sleepy",id:"44"},"/:*&*":{t:"Dizzy",id:"45"},"/:810":{t:"Sad",id:"46"},"/:018":{t:"Weep",id:"48"},"/:020":{t:"Howl",id:"50"},"/:044":{t:"Speechless",id:"51"},"/:819":{t:"Sorry",id:"52"},"/:085":{t:"Bye",id:"53"},"/:812":{t:"Frown",id:"54"},'/:"':{t:"Tired",id:"55"},"/:076":{t:"Bad Luck",id:"58"},"/:069":{t:"Surprise",id:"59"},"/:O":{t:"Shock",id:"60"},"/:067":{t:"Shut up",id:"61"},"/:043":{t:"Slap",id:"62"},"/:P":{t:"Disdain",id:"63"},"/:808":{t:"Fury",id:"64"},"/:073":{t:"God of Wealth",id:"66"},"/:008":{t:"Be Helpful",id:"67"},"/:803":{t:"Good Luck",id:"68"},"/:074":{t:"Waiter",id:"69"},"/:O=O":{t:"Boss",id:"70"},"/:036":{t:"Evil",id:"71"},"/:039":{t:"Fight Alone",id:"72"},"/:045":{t:"CS",id:"73"},"/:046":{t:"Invisible Man",id:"74"},"/:048":{t:"Bomb",id:"75"},"/:047":{t:"Scream",id:"76"},"/:girl":{t:"Beauty",id:"77"},"/:man":{t:"Handsome Guy",id:"78"},"/:052":{t:"Fortune Cat",id:"79"},"/:(OK)":{t:"OK",id:"80"},"/:8*8":{t:"Applause",id:"81"},"/:)-(":{t:"Shake Hands",id:"82"},"/:lip":{t:"Lip",id:"83"},"/:-F":{t:"Rose",id:"84"},"/:-W":{t:"Languished Rose",id:"85"},"/:Y":{t:"Love",id:"86"},"/:qp":{t:"Heartbreak",id:"87"},"/:$":{t:"Money",id:"88"},"/:%":{t:"Shopping",id:"89"},"/:(&)":{t:"Gift",id:"90"},"/:@":{t:"Mail",id:"91"},"/:~B":{t:"Phone",id:"92"},"/:U*U":{t:"Cheers",id:"93"},"/:clock":{t:"Clock",id:"94"},"/:R":{t:"Wait",id:"95"},"/:C":{t:"Late",id:"96"},"/:plane":{t:"Plane",id:"97"},"/:075":{t:"Alipay",id:"98"}}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(348)),o=i(n(360));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return r.use(o.default),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.iframe=function(e,t){return this.request(e,r({},t,{type:"iframe"}))},t}(a.default);s.version="3.0.4";var c=new s;t.default=c,e.exports=t.default},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports={default:n(243),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(152),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,o.default)(t))&&"function"!==typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(268)),a=i(n(272)),o=i(n(152));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,o.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},,function(e,t){e.exports=IcbuIM["@alife/im-alitalk-util"]},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(83),s=window.IcbuIM.IMBaaSSDK.default,c=window.IcbuIM.IMSDKHelper,l=c.isWorkbench,u=c.isSelfConv,d=window.IcbuIM.CommonUtil,p=d.safetyStringify,f=d.querystring2Json,m=window.IcbuIM.UserUtil.getLocale,h=window.IcbuIM.lib.requestHelper.mtopRequest,g=new(0,window.IcbuIM.IMBaaSSDK.Logger)("chat-service");function v(e,t,n){return void 0===n&&(n=""),{data:{code:t?200:500,data:e,message:t?"request success":n||i.MockErrorMessage.defaultError}}}g.color("#228B22");var y=s.getMessageServiceV2,b=function(){function e(){}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.fetchMessages=function(t){return a(this,void 0,void 0,(function(){var n,r=this;return o(this,(function(i){switch(i.label){case 0:return n={},Object.assign(n,JSON.parse(t.params)),[4,y().fetchMessages(n).then((function(t){return a(r,void 0,void 0,(function(){var n,r=this;return o(this,(function(i){return(n={}).list=t.list,n.hasMore=t.hasMore,n.list.filter((function(e){return 1===e.type&&50===e.subType&&"rec"===e.messageType})).map((function(t){return a(r,void 0,void 0,(function(){var n,r,a;return o(this,(function(o){switch(o.label){case 0:return n=t.conversationCode,[4,u(n)];case 1:return o.sent()?(r=f(t.content).encryTradeId,[4,e.getInstance().getAliId()]):[3,4];case 2:return a=o.sent(),[4,e.getInstance().mtopRequest({apiName:"mtop.alibaba.icbu.inquery.sectradeid.readstatus.set",params:{secTradeId:r,ownerAliId:a,isNeedLogin:!0}})];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))})),g.log("fetch messages result",v(n,!0)),[2,v(n,!0)]}))}))})).catch((function(e){return v([],!1,p(e))}))];case 1:return[2,i.sent()]}}))}))},e.prototype.sendMessage=function(e){return a(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t={},Object.assign(t,JSON.parse(e.params)),[4,y().sendUIMessages(t).then((function(e){return v(e,!0)})).catch((function(e){return v({},!1,i.MockErrorMessage.SendError+" - "+s.context.cid)}))];case 1:return[2,n.sent()]}}))}))},e.prototype.sendLocalMessage=function(e){return a(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t={},Object.assign(t,JSON.parse(e.params)),[4,y().sendUILocalMessages(t).then((function(e){return v(e,!0)})).catch((function(e){return v({},!1,i.MockErrorMessage.SendError+" - "+s.context.cid)}))];case 1:return[2,n.sent()]}}))}))},e.prototype.translate=function(e){return a(this,void 0,void 0,(function(){var t,n,r,i=this;return o(this,(function(s){switch(s.label){case 0:return t=JSON.parse(e.params),n=t.srcContents,r=n.map((function(e){return a(i,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return e.messageId=e.messageId.toString(),[4,y().translate(e)];case 1:return(t=n.sent()).translateSuccess=!0,[2,t]}}))}))})),[4,Promise.all(r)];case 1:return[2,v({list:s.sent()},!0)]}}))}))},e.prototype.translateSetting=function(){return a(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,y().translateSetting()];case 1:return[2,v({receiveTranslateOpen:e.sent().receive,receiveTranslateAgreement:!0},!0)]}}))}))},e.prototype.revertMessage=function(e){return a(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,y().recallMessage(JSON.parse(e.params)).catch((function(e){g.log(e)}))];case 1:return[2,v(t.sent(),!0)]}}))}))},e.prototype.getCardHtml=function(e){return a(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,y().getUrlSnapshot(e).catch((function(e){g.log(e)}))];case 1:return[2,{data:t.sent().snapshot.replace(/\\/g,"")}]}}))}))},e.prototype.getCurrentProfile=function(){return a(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,y().getCurrentProfile().catch((function(e){g.log(e)}))];case 1:return[2,e.sent()]}}))}))},e.prototype.getCurrentLoginID=function(){return a(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,y().getCurrentLoginID().catch((function(e){g.log(e)}))];case 1:return[2,e.sent()]}}))}))},e.prototype.getAliId=function(){return a(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return l?[4,y().getCurrentAliId()]:[3,2];case 1:return[2,e.sent().aliId];case 2:return[2,window.aliId]}}))}))},e.prototype.mtopRequest=function(e){return a(this,void 0,void 0,(function(){var t;return o(this,(function(n){return t=m(),l?[2,y().mtopRequest(e)]:[2,h({api:e.apiName,v:"1.0",appKey:"24889839",data:r(r({},e.params),{country:t.country,currency:"USD",timeZone:"Asia/Shanghai"}),ecode:1,dataType:"json"})]}))}))},e}();t.default=b},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(245),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_TRANSLATE_LANG",(function(){return i})),n.d(t,"GLOBAL_GRAY_KEYS",(function(){return s})),n.d(t,"mtopRequest",(function(){return l})),n.d(t,"getGray",(function(){return u})),n.d(t,"getGenerateLangs",(function(){return p}));var r=n(5),a=n.n(r),o=window.IcbuIM.lib.requestHelper.mtopRequest,i=((0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","chat")}),"en"),s={merchantReceptionPhase2Gray:"merchantReceptionPhase2Gray",aiReceptionAccessSmallLangGray:"ai_reception_access_small_language_gray"},c=[s.merchantReceptionPhase2Gray,s.aiReceptionAccessSmallLangGray];function l(e,t){return o({api:e,v:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.0",appKey:"24889839",data:t,dataType:"json",ecode:1}).catch((function(e){}))}function u(){return d.apply(this,arguments)}function d(){return(d=a()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l("mtop.alibaba.intl.ai.assistant.isInGrayScale",{functionNames:c.join(",")}).then((function(e){var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=a()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l("mtop.alibaba.intl.ai.reception.all.translate.language.query").then((function(e){var t,n=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)||[];return n.includes(i)?n:n.concat([i])})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(69)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventBus=t.IcbuIM=t.COMMAND_PREFIX=t.streamDisabled=t.ChatI18N=void 0;var r=window.EventBus;t.EventBus=r;var a=window.IcbuIM;t.IcbuIM=a;var o=(0,a.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"chat"});t.ChatI18N=o;var i=void 0!==typeof window.supportStream&&!1===window.supportStream;t.streamDisabled=i;t.COMMAND_PREFIX="/"},function(e,t,n){"use strict";var r={};function a(e,t,n){var o,i,s,c,l,u="";for("string"!==typeof t&&(n=t,t=a.defaultChars),"undefined"===typeof n&&(n=!0),l=function(e){var t,n,a=r[e];if(a)return a;for(a=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?a.push(n):a.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)a[e.charCodeAt(t)]=e[t];return a}(t),o=0,i=e.length;o<i;o++)if(s=e.charCodeAt(o),n&&37===s&&o+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))u+=e.slice(o,o+3),o+=2;else if(s<128)u+=l[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<i&&(c=e.charCodeAt(o+1))>=56320&&c<=57343){u+=encodeURIComponent(e[o]+e[o+1]),o++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[o]);return u}a.defaultChars=";/?:@&=+$,-_.!~*'()#",a.componentChars="-_.!~*'()",e.exports=a},function(e,t,n){var r;window,r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=10)}([function(e,t,n){"use strict";n.r(t),n.d(t,"env",(function(){return h})),n.d(t,"noop",(function(){return g})),n.d(t,"numTrunc",(function(){return v})),n.d(t,"deepGet",(function(){return y})),n.d(t,"log",(function(){return b})),n.d(t,"includes",(function(){return w})),n.d(t,"trimAllBlankString",(function(){return x})),n.d(t,"compactArray",(function(){return C})),n.d(t,"isEmpty",(function(){return E})),n.d(t,"isEqual",(function(){return S})),n.d(t,"mapValue",(function(){return k})),n.d(t,"getUniqueId",(function(){return T})),n.d(t,"matchRegexp",(function(){return _})),n.d(t,"isPlainObject",(function(){return I})),n.d(t,"isString",(function(){return O})),n.d(t,"compareComplierVersion",(function(){return A})),n.d(t,"addScript",(function(){return D})),n.d(t,"sendLog",(function(){return M})),n.d(t,"sendRateLog",(function(){return N})),n.d(t,"isNumberLike",(function(){return P})),n.d(t,"toNumber",(function(){return L}));var r=n(1),a=n(3),o=n(5),i=n(2),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};Object(a.a)("global-config");var u,d=/\[(\d+)\]/g,p=/^[_$]/,f={},m=[i.l,i.c],h={isIOS:/iPhone|iPad/.test(window.navigator.userAgent),devicePixelRatio:window.devicePixelRatio||1,deviceWidth:Math.min(768,window.innerWidth,window.screen.width)},g=function(){},v=function(e){if(e=parseFloat(e),isNaN(e))return NaN;var t=(""+(e+.4)).split("."),n=l(t,1)[0];return isNaN(n)?NaN:n},y=function(e,t){return t?[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.replace(d,(function(e,t){return"."+t})).split("."))).reduce((function(e,t){return"string"===typeof e?null:e&&e[t]})):null},b={warn:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,["[DinamicX warn]: "].concat(n))},error:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&~m.indexOf(t.type)){var a=t.parser||t.viewName;if(f[a])return;f[a]=!0}if(console.error("[DinamicX error]: ",e,t||""),o.a.report(e,t),!Object(r.a)("catchSDKJSError")){var i=e&&e.message||e;if(t&&(i=i+" "+JSON.stringify(t)),"undefined"!==typeof ErrorEvent){var s=new ErrorEvent("error",{error:new Error(i),message:i});window.dispatchEvent(s)}}if(n)throw e}},w=function(e,t){return-1!==e.indexOf(t)},x=function(e){return e.replace(/\s/g,"")},C=function(e){var t=[];return e.forEach((function(e){return e&&t.push(e)})),t},E=function(e){return"object"===("undefined"===typeof e?"undefined":c(e))?!(!Array.isArray(e)||0!==e.length)||!(!I(e)||0!==Object.keys(e).length):!e},S=function e(t,n){if(t==n)return!0;if(t&&n&&("undefined"===typeof t?"undefined":c(t))===("undefined"===typeof n?"undefined":c(n))&&"object"===("undefined"===typeof t?"undefined":c(t))){var r=Object.keys(t),a=Object.keys(n),o=r.length;if(o!==a.length)return!1;for(var i=0;i<o;i++){var s=r[i];if(!p.test(s)&&!e(t[s],n[s]))return!1}return!0}return!1},k=function(e,t){var n={};for(var r in e)n[r]=t(e[r],r,e);return n},T=(u=Object(a.a)("id"),function(e){var t=~~u.get(e);return u.set(e,++t),e+"_"+t}),_=function(e,t){if(e){if(t.global){for(var n=[],r=t.exec(e);null!==r;)n.push(r&&r.slice(1)),r=t.exec(e);return n}var a=t.exec(e);return a?a.slice(1):[]}},I=function(e){return"object"===("undefined"===typeof e?"undefined":c(e))&&e.constructor===Object},O=function(e){return"string"===typeof e},A=function(e,t){var n=0;for(var r in e.split(".")){var a=e[r],o=t[r];if(a!==o){if(a<o){n=-1;break}n=1;break}}return n},D=function(e){if(e){var t=document.createElement("script");return t.src=e,t.charset="UTF-8",new Promise((function(e,n){t.onload=function(){e();try{document.body.removeChild(t)}catch(e){g()}},t.onerror=function(e){n("Get script fail");try{document.body.removeChild(t)}catch(e){g()}},document.body.appendChild(t)}))}},M=o.a.log,N=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o.a.log(e,n,s({success:t,type:"api"},r))},P=function(e){return Number.isFinite(parseFloat(e,10))},L=function(e){return parseFloat(e,10)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(0),a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={shouldSplitLayoutTask:!0,shouldExecLinearLayoutHack:!0,forcePcMode:!1,disableEventBinding:!1,forceOriginalImg:!1,enableLazyload:!1,autotestMode:!1,disableTplCache:!1,disableCharBreak:!1,forceNowrap1Line:!1,perfTrackerRatio:.01,enableLayoutNG:!1,catchSDKJSError:!1},i=function(e,t){("enableLazyload"!==e||"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)&&("perfTrackerRatio"===e&&("number"!==typeof t||t>1||t<0)?r.log.warn("Invalid GlobalConfig, perfTrackerRatio should be 0 ~ 1"):"enableLayoutNG"===e&&void 0===a(document.documentElement.style.grid)||(o[e]=t))},s=function(e){return o[e]},c={},l=function(e,t){c[e]&&console.warn("Rewrite tpl cache ["+e+"]"),c[e]=t},u=function(e){var t=c[e];if(t&&"string"===typeof t)try{t=JSON.parse(t)}catch(e){console.warn(e)}return t}},function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"c",(function(){return m}));var r="template-render",a="template-download",o="template-content",i="template-url-process",s="data-parser-gen-ast",c="data-parser-parse",l="storage-idb-get-map",u="storage-idb-set-map",d="storage-ls-get-map",p="storage-ls-set-map",f="view-404",m="parser-404"},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a={},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache={}}return r(e,[{key:"set",value:function(e,t){return this.cache[e]=t,this}},{key:"get",value:function(e){return this.cache[e]}},{key:"getAll",value:function(){return this.cache}}]),e}();t.a=function(e){return a[e]||(a[e]=new o(e))}},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errorCallback=[],this.defaultReport=!0,this.extraInfo="",window.JSTracker2&&(this.jsTracker=new JSTracker2.constructor({}))}return o(e,[{key:"config",value:function(e){var t=e.extraInfo,n=void 0===t?"":t,a=e.defaultReport,o=void 0===a||a;if("string"!==typeof n)return r.log.error("extraInfo must be string!");this.extraInfo=n,this.defaultReport=o}},{key:"report",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.defaultReport&&this.jsTracker){var n=t&&t.type||"default",r=a({},t,{error:e&&e.message||e,extraInfo:""}),o="/dinamicx/"+n;try{o=""+location.origin+location.pathname+o}catch(e){console.error(e)}this.jsTracker.push({type:"error",url:o,sampling:10,message:JSON.stringify(r),stack:e&&e.stack})}this.errorCallback.forEach((function(n){n(e,t)}))}},{key:"log",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.defaultReport&&this.jsTracker&&this.jsTracker.push(a({module:e,msg:JSON.stringify(t),sampling:100},n))}},{key:"addErrorListener",value:function(e){if("function"!==typeof e)return r.log.error("callback must be function!");this.errorCallback.push(e)}}]),e}();t.a=new i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(){try{if("undefined"!==typeof window.indexedDB)return window.indexedDB;if("undefined"!==typeof window.webkitIndexedDB)return window.webkitIndexedDB;if("undefined"!==typeof window.mozIndexedDB)return window.mozIndexedDB;if("undefined"!==typeof window.OIndexedDB)return window.OIndexedDB;if("undefined"!==typeof window.msIndexedDB)return window.msIndexedDB}catch(e){return!1}}();function a(){try{if(!r)return!1;var e="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"===typeof fetch;return(!e||t)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(e){return!1}}},function(e,n){e.exports=t},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={getItem:function(){},setItem:function(){}};try{i=window.localStorage}catch(e){}function s(e){try{var t=i.getItem(e);return t?"object"===(t=JSON.parse(t)).t?JSON.parse(t.v):t.v:t}catch(e){return console.error(e),null}}function c(e,t){try{r.isPlainObject(t)?i.setItem(e,JSON.stringify({t:"object",v:JSON.stringify(t)})):i.setItem(e,JSON.stringify({t:"undefined"===typeof t?"undefined":o(t),v:t}))}catch(e){console.error(e)}}var l="tpl$TplNameList";t.default={setTemplateMap:function(e){try{var t=s(l);t=t?t.split("$"):[],r.mapValue(e,(function(e){var n=e.name;c("tpl-"+n,e),t.push(n)})),c(l,t.join("$"))}catch(e){r.log.error(e,{type:a.g})}return Promise.resolve([])},getTemplateMap:function(){var e={};try{var t=s(l);t&&(t=t.split("$")).forEach((function(t){var n=s("tpl-"+t);e[t]=n}))}catch(e){r.log.error(e,{type:a.f})}return Promise.resolve(e)}}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(6),o=n(2),i="template",s=a.a.open("DinamicX",2),c=new Promise((function(e){s.onupgradeneeded=function(t){var n=s.result,r=t.target.transaction;n.createObjectStore(i,{keyPath:"name"}),r.oncomplete=function(){return e(n)}},s.onsuccess=function(){return e(s.result)}})),l=function(e){return e.transaction(i,"readwrite").objectStore(i)};t.default={setTemplateMap:function(e){return c.then((function(t){var n=l(t),a=[];return r.mapValue(e,(function(e){var t;a.push((t=n.put(e),new Promise((function(e,n){t.onsuccess=e,t.onerror=n}))).catch((function(t){r.log.error(t,{type:o.e,templateName:e.name,templateVersion:e.version})})))})),Promise.all(a)}))},getTemplateMap:function(){return c.then((function(e){var t=l(e).openCursor();return new Promise((function(e,n){var r={};t.onsuccess=function(t){var n=t.target.result;if(n){var a=n.value;r[a.name]=a,n.continue()}else e(r)},t.onerror=n})).catch((function(e){r.log.error(e,{type:o.d})}))}))}}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"TPL_INIT",(function(){return g})),n.d(r,"TPL_DID_MOUNT",(function(){return v})),n.d(r,"TPL_LOAD_LOCAL",(function(){return y})),n.d(r,"TPL_LOAD_REMOTE",(function(){return b})),n.d(r,"BEFORE_CREATE_VDOM",(function(){return w})),n.d(r,"AFTER_CREATE_VDOM",(function(){return x})),n.d(r,"TPL_LAYOUT",(function(){return C})),n.d(r,"init",(function(){return E})),n.d(r,"mark",(function(){return S})),n.d(r,"report",(function(){return k}));var a=n(4),o=n(0),i=n(3),s=n(5),c=n(1),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=window.performance&&window.performance.mark&&window.performance.measure,d={};function p(e,t){return e+"_"+t}function f(e){return e+"_measure"}function m(e){var t=window.performance.getEntriesByName(e);return Boolean(t.length)}function h(e){var t=0,n=window.performance.getEntriesByName(e);return n.length&&(t=parseInt(Number(n[0].duration)),window.performance.clearMeasures(e)),t}var g=0,v=1,y=2,b=3,w=4.1,x=4.2,C=5,E=function(){var e=Object(c.a)("perfTrackerRatio"),t=Math.random()+1e-8;if(u&&s.a.jsTracker&&t<e)return setTimeout((function(){k(t)}),3e3),String(t)},S=function(e,t,n){e&&(window.performance.mark(p(e,t)),n&&(d[e]=l({},d[e],n)))},k=function(e){if(e){var t={localLoadTime:0,remoteLoadTime:0,vdomCreateTime:0,mountTime:0,layoutTime:0,layoutCount:0,fullTime:0},n=p(e,g),r=p(e,y),a=p(e,b),o=p(e,w),i=p(e,x),c=(p(e,"measureVdom"),p(e,v)),u=p(e,C);if(m(n)&&m(r)){var E=f(r);window.performance.measure(E,n,r),t.localLoadTime=h(E)}if(m(n)&&m(a)){var S=f(a);window.performance.measure(S,n,a),t.remoteLoadTime=h(S)}if(m(o)&&m(i)){var k=f(i);window.performance.measure(k,o,i),t.vdomCreateTime=h(k)}if(m(n)&&m(c)){var T=f(c);window.performance.measure(T,n,c),t.mountTime=h(T)}if(m(c)&&m(u)){var _=f(u);window.performance.measure(_,c,u),t.layoutTime=h(_),t.layoutCount=window.performance.getEntriesByName(u).length}t.fullTime=t.mountTime+t.layoutTime,s.a.log("perf",l({},t,d[e]),{sampling:1,url:"dinamicx/perf"}),delete d[e],window.performance.clearMarks(n),window.performance.clearMarks(c),window.performance.clearMarks(o),window.performance.clearMarks(i),window.performance.clearMarks(r),window.performance.clearMarks(a),window.performance.clearMarks(u)}},T=n(6),_=n(2),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},D=function(){return P.getTemplateMap().then((function(e){return Object.assign(R,e)}))},M=function(){P=n(8).default,L=D()},N=function(){Object(T.b)()?(P=n(9).default,L=D()):o.log.warn("当前设备不支持 indexedDB")},P=void 0,L=void 0;M();var R={},F=/rapid-oss-bucket\/?(publish|debug|preview)?\/(\d+)\/(.*?)\.(?:js|zip)/,j=/dinamicx.alibabausercontent.com\/?(.*)?\/.*?\/(\d+)\/(.*?)\.(?:js|zip)/,B=/\/(?:v-)?(\d+)\/(.*?)_(h5|ios|android)\.(?:plist|js|xml)/,z=/\ultronage.*\/dinamicx\/(.*?)\/(\d+)\/(h5|ios|android).*/i,q="ultron_dev",V=window.d_tpl=window.d_tpl||{};function U(e){var t=F.exec(e),n=j.exec(e),r=z.exec(e);if(t)var a=A(t,4),i=a[1],s=void 0===i?"":i,c=a[2],l=a[3],u="h5_3+";else if(n){var d=A(n,4),p=d[1],f=(s=void 0===p?"":p,c=d[2],u="h5_4+",l=d[3]);l=l.replace(/_h5$/,"")}else if(r){var m=A(r,3);l=m[1],c=m[2],u=q}else{var h=B.exec(e);if(!h)throw new Error("Fail to parse template url: "+e);var g=A(h,4);c=g[1],l=g[2],u=g[3]}var v={name:l,version:c,env:s,type:u};return"h5_3+"===u?v.url="https://ossgw.alicdn.com/rapid-oss-bucket/"+s+"/"+c+"/"+l+".js":"h5_4+"===u?v.url="https://dinamicx.alibabausercontent.com/"+s+"/"+l+"/"+c+"/"+f+".js":"h5"===u?o.includes(e,"g.alicdn")?(v.shouldCombo=!0,v.url=l+"/"+c+"/"+l+"_h5.js"):v.url=e:u===q?v.url="https://pre-ultronage3.alibaba-inc.com/gw/nobuc/v3/Dinamicx/"+l+"/"+c+"/h5/getCdn.js":l&&c&&(v.url="https://ossgw.alicdn.com/rapid-oss-bucket/template_online/"+l+"/"+c+"/"+l+"_h5.js"),v}function H(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?y:b;return S(e.perfTrackerPrefix,r,{name:e.name,version:e.version,length:JSON.stringify(t).length,useCache:n}),{template:e,tplNodeTree:t}}function W(e,t){var n=e.name,r=V[n];return r?R[n]=t[n]={name:n,content:r,version:e.version}:o.log.error("empty template content",{type:_.h,templateName:n},!0),H(e,r,!1)}var G,K=[],J={},Z=(G=void 0,function(){G&&clearTimeout(G),G=window.setTimeout((function(){var e,t;(e={},t=[],L.then((function(n){return Promise.all(K.map((function(r){var a=r.url,i=r.name,s=r.version,l=r.shouldCombo,u=r.onFinish,d=r.onError,p=r.type,f=n[i];if(p!==q&&!Object(c.a)("disableTplCache")&&f&&f.version==s)u(H(r,f.content));else{if(!l)return o.addScript(a).then((function(){return o.sendRateLog("download",!0,{templateUrl:a}),W(r,e)})).then((function(e){return u(e)})).catch((function(e){o.log.error(e,{type:_.i,templateUrl:a}),o.sendRateLog("download",!1,{templateUrl:a}),d(e)}));t.push(r)}})))})).then((function(){if(t.length>0){var n="https://g.alicdn.com/code/dinamic-publish/??"+t.map((function(e){return e.url})).join(",");return o.addScript(n).then((function(){t.forEach((function(t){o.sendRateLog("download",!0,{templateUrl:t.url});var n=W(t,e);t.onFinish(n)}))})).catch((function(e){o.log.error(e,{type:_.i,templateUrl:n}),t.forEach((function(t){o.sendRateLog("download",!1,{templateUrl:t.url}),t.onError(e)}))}))}})).then((function(){return P.setTemplateMap(e)}))).then((function(){return K=[],void(J={})}))}),0)}),X=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return I(e,null,[{key:"add",value:function(t,n){var r=e.processTplUrl(t),a=Object(c.b)(t);return a&&a.content?Promise.resolve(H(r,a.content)):r?(r.perfTrackerPrefix=n,L.then((function(e){var t=r.name,n=r.version;(r.type===q||Object(c.a)("disableTplCache"))&&(e={});var a=e[t];return a&&a.version==n?H(r,a.content):(Z(),function(e){var t=e.name,n=J[t]||{},r=n.version,a=n.downloadTask;if(r==e.version)return a;var o=new Promise((function(t,n){K.push(O({onFinish:t,onError:n},e))}));return J[t]={version:e.version,downloadTask:o},o}(r))}))):(o.log.error("invalid_tpl_url",{type:_.k,templateUrl:t}),Promise.reject("invalid_tpl_url "+t))}},{key:"processTplUrl",value:function(e){var t=void 0;try{t=U(e)}catch(t){o.log.warn("tpl url process error",e)}return t}},{key:"getCache",value:function(e,t){if(e.type===q||Object(c.a)("disableTplCache"))return null;var n=R[e.name];return n&&n.version==e.version?(S(t,y,{name:e.name,version:e.version,length:JSON.stringify(n).length,useCache:!0}),n.content):void 0}},{key:"setCache",value:function(e){e.forEach((function(e){var t=e.name,n=e.version,r=e.content;R[t]={name:t,version:n,content:r}}))}},{key:"registerTplUrlProcessor",value:function(e){if("function"!==typeof e)throw new Error("Invalid Tpl Url Processor");U=e}}]),e}(),Y=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$=Object(i.a)("ravel"),ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return Q(e,null,[{key:"bind",value:function(e,t,n){var r=$.get(t)||[];$.set(t,[[e,n]].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)))}},{key:"setData",value:function(e,t){var n=$.get(e);n||console.error("Can't find context bind with the name (\""+e+'") !'),Array.isArray(n)&&n.forEach((function(e){var n=Y(e,2),r=n[0],a=n[1],i={};o.mapValue(t,(function(e,t){var n=a[t];n&&(n in r&&(r[n]=e),r.state&&n in r.state&&(i[n]=e))})),o.isEmpty(i)?r.forceUpdate():r.setState(i)}))}},{key:"getContext",value:function(e){return($.get(e)||[])[0]}}]),e}(),te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},re={},ae=function(e){return!("false"===e||!1===e||"0"===e||!e||Array.isArray(e)&&0===e.length)},oe=function(e){return function(t){return 1===t.length&&o.isNumberLike(t[0])?e(t[0]):0}},ie=function(e){return function(t){var n=ne(t,2),r=n[0],a=n[1];return o.isNumberLike(r)&&o.isNumberLike(a)?e([o.toNumber(r),o.toNumber(a)]):o.isNumberLike(r)?o.toNumber(r):o.isNumberLike(a)?o.toNumber(a):0}},se=function(e){return function(t){var n=ne(t,2),r=n[0],a=n[1];return 0===o.toNumber(a)?0:e([o.toNumber(r),o.toNumber(a)])}};re.if=function(e){var t=ne(e,2),n=t[0],r=t[1];return ae(n)&&r},re.else=function(e){return ne(e,1)[0]},re.not=function(e){var t=ne(e,1)[0];return!ae(t)},re.and=function(e){return e.reduce((function(e,t){return ae(e)&&ae(t)}))},re.or=function(e){return e.reduce((function(e,t){return ae(e)||ae(t)}))},re.triple=function(e){var t=ne(e,3),n=t[0],r=t[1],a=t[2];return ae(n)?r:a},re.equal=function(e){var t=ne(e,2),n=t[0],r=t[1];return o.isEqual(n,r)},re.array_get=function(e){var t=ne(e,2),n=t[0],r=t[1];return!Array.isArray(n)||isNaN(r)?null:n[~~r]},re.index_of=function(e){var t=ne(e,3),n=t[0],r=void 0===n?[]:n,a=t[1];if(t[2],!Array.isArray(r))return null;var o=-1;if("object"===("undefined"===typeof a?"undefined":te(a))){var i="";try{i=JSON.stringify(a)}catch(e){console.error(e)}var s=[];try{r.map((function(e){s.push(JSON.stringify(e))}))}catch(e){console.error(e)}o=s.indexOf(i)}else o=r.indexOf(a);return-1===o?null:o},re.array_find=function(e){var t=ne(e,2),n=t[0],r=t[1];if(!Array.isArray(n))return null;var a=n.indexOf(r);return-1===a?null:n[a]},re.dict_get=function(e){var t=ne(e,2),n=t[0],r=t[1];return n&&n[r]},re.data=function(e,t){var n=ne(e,1)[0];return n?o.deepGet(t,n):t},re.subdata=function(e,t){var n=ne(e,1)[0],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n?o.deepGet(r.data,n):r.data},re.subdataIndex=function(e,t){return ne(e,1)[0],(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).subdataIndex},re.parentSubdata=function(e,t){var n=ne(e,1)[0],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n?o.deepGet(r.parentSubdata,n):r.parentSubdata},re.lowercase=function(e){var t=ne(e,1)[0];return o.isString(t)?t.toLowerCase():t},re.uppercase=function(e){var t=ne(e,1)[0];return o.isString(t)?t.toUpperCase():t},re.substr=function(e){var t=ne(e,3),n=t[0],r=t[1],a=t[2];return o.isString(n)?n.substr(r>=0?r:0,a):n},re.concat=function(e){return e.reduce((function(e,t){return(e||"")+(t||"")}))},re.trim=function(e){var t=ne(e,1)[0];return o.isString(t)?t.trim():t},re.iequal=function(e){var t=ne(e,2);return t[0]===t[1]},re.iless=function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)<Number(r)},re.igreater=function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)>Number(r)},re.iless_equal=function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)<=Number(r)},re.igreater_equal=function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)>=Number(r)},re.add=ie((function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)+Number(r)})),re.sub=ie((function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)-Number(r)})),re.mul=ie((function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)*Number(r)})),re.div=ie(se((function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)/Number(r)}))),re.mod=ie(se((function(e){var t=ne(e,2),n=t[0],r=t[1];return Number(n)%Number(r)}))),re.ceil=oe((function(e){return Math.ceil(e)})),re.floor=oe((function(e){return Math.floor(e)})),re.round=oe((function(e){return Math.round(e)})),re.abs=oe((function(e){return Math.abs(e)})),re.fequal=re.iequal,re.fless=re.iless,re.fgreater=re.igreater,re.fless_equal=re.iless_equal,re.fgreater_equal=re.igreater_equal,re.toDouble=function(e){var t=ne(e,1)[0];return o.toNumber(t)},re.toLong=function(e){var t=ne(e,1)[0];return o.toNumber(t)},re.toStr=function(e){var t=ne(e,2),n=t[0],r=t[1];if(!n||!r)return void 0!==n?String(n):"";try{return o.toNumber(n).toFixed(r)}catch(e){return o.log.warn(e),""}},re.const=function(e){var t=ne(e,1)[0];return t?t.trim():""},re.len=function(e){var t=ne(e,1)[0];return o.isPlainObject(t)?Object.keys(t).length:t?~~t.length:0},re.platform=function(e){var t=ne(e,1)[0];return t&&"h5"===t.toLowerCase()},re.eventChainEventData=function(e,t,n){var r=ne(e,1)[0],a=void 0===r?"":r;return n.customParams?a.split(".").reduce((function(e,t){return e[t]}),n.customParams):""},re.linearGradient=function(e){var t,n=(t=e,Array.isArray(t)?t:Array.from(t)),r=n[0],a=n.slice(1),o="";switch(r){case"toLeft":o="to left";break;case"toTop":o="to top";break;case"toRight":o="to right";break;case"toBottom":o="to bottom"}if(!o||!a.length)return null;var i="linear-gradient("+o+",";return a.map((function(e,t){var n=Pe(e),r=t===a.length-1?")":",";i+=n+r})),i},re.eq=re.equal,re.aget=re.array_get,re.afind=re.array_find,re.dget=re.dict_get,re.lc=re.lowercase,re.uc=re.uppercase,re.ieq=re.iequal,re.ilt=re.iless,re.igt=re.igreater,re.ilte=re.iless_equal,re.igte=re.igreater_equal,re.feq=re.fequal,re.flt=re.fless,re.fgt=re.fgreater,re.flte=re.fless_equal,re.fgte=re.fgreater_equal,re.less=re.iless,re.greater=re.igreater,re.lessEqual=re.iless_equal,re.greaterEqula=re.igreater_equal,re.greaterEqual=re.igreater_equal;var ce=re,le={},ue=function(e,t){le[e]=t},de=function(e){return le[e]||ce[e]},pe=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},fe=/\$(\w+)\{(.+?)\}/g,me=Object(i.a)("data"),he=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ge=Object(i.a)("data"),ve=Object(i.a)("parser"),ye={if:{conditionIndex:0,conditionValue:!0},triple:{conditionIndex:0,conditionValue:!0,trueIndex:1,falseIndex:2},or:{conditionIndex:-1,conditionValue:!1},and:{conditionIndex:-1,conditionValue:!0}},be=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=t,this.maxLen=t.length,this.pos=-1}return he(e,[{key:"hasNext",value:function(){return this.pos<this.maxLen-1}},{key:"getPrevValue",value:function(){return this.source[this.pos-1]}},{key:"getCurrentValue",value:function(){return this.val}},{key:"next",value:function(){return this.val=this.source[++this.pos],{value:this.val,done:!this.hasNext()}}},{key:"loop",value:function(e){for(var t="";!this.next().done&&e(this.val,this.pos);)t+=this.val;return t}}]),e}();function we(e,t){var n=e.getCurrentValue();return"@"===n?function(e){var t={type:"pattern"};t.name=e.loop((function(e){return"{"!==e}));var n=[];return e.loop((function(){var t=we(e,",");return o.isPlainObject(t)&&n.push(t),"}"!==e.getCurrentValue()||(e.next(),!1)})),t.args=n,t}(e):"'"===n?{type:"const",content:e.loop((function(t){return!("\\"!==e.getPrevValue()&&"'"===t)}))}:/[\w\d_\-\.]/.test(n)?{type:"const",content:n+e.loop((function(e){return e&&!/[\s\}]/.test(e)&&e!==t}))}:void 0}function xe(e,t,n){var r=e.name,a=e.type;if("const"===a){var i=/\\(.)/g;return i.test(e.content)&&(e.content=e.content.replace(i,"$1")),e.content}if("pattern"===a){var s=de(r);if(s){var c=function(e,t,n){var r=[],a=ye[e.name];return a?e.args.map((function(e,o){var i=!0;if(o>0){var s=-1===a.conditionIndex?o-1:a.conditionIndex;ae(r[s])===a.conditionValue?a.hasOwnProperty("trueIndex")&&a.trueIndex!==o&&(i=!1):a.hasOwnProperty("falseIndex")&&a.falseIndex===o||(i=!1)}i?r.push(xe(e,t,n)):r.push(null)})):r=e.args.map((function(e){return xe(e,t,n)})),r}(e,t,n);return s.call(n.context,c,t,n)}o.log.error("Can't find the given pattern ["+r+"], make sure you register it before use",{type:_.c,templateName:n._tplName,parser:r})}}var Ce=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ee=Object(i.a)("handler"),Se={_openUrl:function(e){var t=Ce(e,1)[0];window.dispatchEvent(new Event("page:jump")),window.location.href=t}};function ke(e){return Ee.get(e)}function Te(e,t){var n=ke(e),r=t;n&&(r=Array.isArray(n)?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n),[t]):[n,t]),Ee.set(e,r),ue(e,t)}setTimeout((function(){Object(o.mapValue)(Se,(function(e,t){return Te(t,e)}))}),0);var _e=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ie=/^([a-zA-Z]\w*?)\s*\((.*?)\)$/,Oe=/^([\-\d\.]+)(np|ap)?$/g,Ae=/^#(?:\w{4}|\w{8})$/,De=Object(i.a)("data"),Me=function(e,t){if(e)switch(e[0]){case"@":return function(e,t){var n=t._tplId,r=t._tplName,a=ve.get(r+e),i=ge.get(n)||t.data;if(!a){a=[];var s=new be(e);try{s.loop((function(){var e=we(s,";");return o.isPlainObject(e)&&a.push(e),!0}))}catch(t){o.log.error(t,{type:_.a,templateId:n,parser:e})}ve.set(r+e,a)}var c=void 0;try{a.some((function(e){return c=xe(e,i,t)}))}catch(t){o.log.error(t,{type:_.b,templateName:r,parser:e})}return c}(e,t);case"$":return function(e,t){var n=t.data||me.get(t.tplId),r="",a=o.matchRegexp(e,fe);return Array.isArray(a)&&a.length>0?(a.every((function(e){var a=pe(e,2),o=a[0],i=a[1].split(","),s=de(o);return s&&(r=s.call(t.context,i,n,t)),!r})),r):e}(e,t)}return e},Ne=function(e,t){var n=e&&"@"===e[0]?"v2":"v1",r=De.get(t._tplId);return{pattern:e,options:t,handler:function(a,i){if(t.event=a,t.customParams=i,"v1"===n){var s=o.matchRegexp(e,Ie);if(s){var c=_e(s,2),l=c[0],u=c[1],d=ke(l);if(d){var p=o.compactArray(o.trimAllBlankString(u).split(",").map((function(e){return Me(e,t)})));if(!Array.isArray(d))return d.call(null,p,r,t);d.map((function(e){e.call(null,p,r,t)}))}else o.log.error("Can't find the given event handler ["+l+"], make sure you register it before use",{type:_.c,templateName:t._tplName})}}else if("v2"===n)return Me(e,t)}}},Pe=function(e){if(Ae.test(e)){for(var t=[],n=9===e.length?2:1,r=1;r<e.length;r+=n){var a=~~("0x"+e.slice(r,r+n));t.push(16*a*(2/n-1)+a)}return t.push(t.shift()/255),"rgba("+t.join()+")"}return e},Le=function(e){var t=o.env,n=t.deviceWidth,r=t.devicePixelRatio,a=t.isIOS;return isNaN(e)||(e+="ap"),"string"===typeof e?e.replace(Oe,(function(e,t,i){if((t=Number(t))>0){if("np"===i);else{if(!0===Object(c.a)("__SSR__"))return t/375*100+"vw";t=t/375*n}t=t<1?t>.5||1===r||!a?1:.5:o.numTrunc(t)}return t+"px"})):e||0},Re={FrameLayout:"FrameLayoutNG",DFrameLayout:"FrameLayoutNG"},Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=Object(i.a)("data"),Ve=Object(i.a)("view"),Ue="data-tpl-id",He=[],We=/^[d][A-Z]/,Ge=/^[A-Z]{2}[0-9a-z_\-]/;function Ke(e,t){return Array.isArray(t)&&(t=t[0]||{}),qe.set(e,t),t}function Je(e){return Ve.get(e)}function Ze(e,t){Ve.set(e,t)}function Xe(){Object(c.a)("enableForceUpdate")?this.componentIdSeq=this.componentIdSeq||0:this.componentIdSeq=0,this.componentIndexSet=[]}function Ye(e,t){var n=this;if(o.isPlainObject(e)){var r={};return o.mapValue(e,(function(e,a){if("h5RavelBind"===a){var o=e.split("|"),i=Be(o,2),s=i[0],c=i[1];ee.bind(n,t._tplId,ze({},s,c))}if("on"===a.slice(0,2)&&"onColor"!==a)r[a]=Ne(e,t);else{var l=a;We.test(a)&&(l=function(e){var t=e.slice(1);return t[0].toLowerCase()+t.slice(1)}(a)),r[l]=Me(e,t)}})),r}return{}}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=arguments[2],i=arguments[3],s=r._tplId,c=e.bizCode&&e.template?"3.0.0":"0.0.0";return function e(c,l){return c.map((function(){var c,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=u.name;n._enableLayoutNG&&(d=Re[c=d]||c);var p,f=Je(d);if("Children"===d&&i)return i;if(u.attrs&&u.attrs.userId&&l&&l._originProps&&"true"!==String(l._originProps.alwaysShowIndicator)&&l._originProps.moreIndicatorUserId===u.attrs.userId)return null;if(f){var m=s+"_c"+ ++n.componentIdSeq,h={key:m,_id:m,_idIndex:n.componentIdSeq-1,_tplId:s,_tplName:r._tplName,_tplContext:r._context,_viewName:(p=d,Ge.test(p)?p.slice(1):p),_originProps:u.attrs},g=je({},Ye.call(n,u.attrs,je({data:t},h)),h,{childrenLen:Array.isArray(u.children)?u.children.length:0,templateContent:u.templateContent});return n.componentIndexSet.push({id:m,props:g,pid:l?l._id:null}),Object(a.createElement)(f,g,u.children&&e(u.children,h))}o.log.error(new Error("View not found "+d),{type:_.l,viewName:d,templateName:r._tplName})}))}(o.compareComplierVersion(c,"3.0.0")>=0?e.template:e)}var $e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initPerfTracker(),n._enableLazyload=Object(c.a)("enableLazyload"),n._enableLayoutNG=Object(c.a)("enableLayoutNG"),n.initByProps(e),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fe(t,[{key:"initPerfTracker",value:function(){this.perfTrackerPerfix=E(),S(this.perfTrackerPerfix,g)}},{key:"initByProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=e.tpl,r=e.data,a=e.templateName,i=e.customTemplateId,s={};t&&(s=X.processTplUrl(t)||{});var l=Object(c.b)(t),u=i||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.getUniqueId(e.templateName||o.deepGet(e,"template.name")||"dt")}(r);r=Ke(u,r),this.shadow={tpl:n||l&&l.content||l||X.getCache(s,this.perfTrackerPerfix),data:r,options:{_context:this,_tplId:u,_tplName:a||s.name||u}},this.bindLifeCycleEvent()}},{key:"bindLifeCycleEvent",value:function(){var e=function(){},t=this.props,n=t.componentWillBindEvent,r=void 0===n?e:n,a=t.componentFinishFirstPaint,i=void 0===a?e:a,s=t.templateWillDownload,c=void 0===s?e:s,l=t.templateFinishDownload,u=void 0===l?e:l,d=t.templateDownloadError,p=void 0===d?e:d,f=t.templateWillRender,m=void 0===f?e:f,h=t.templateFinishCreateViews,g=void 0===h?e:h,v=t.templateFinishFirstPaint,y=void 0===v?e:v,b=t.templateFinishUpdate,w={componentWillBindEvent:r,componentFinishFirstPaint:i,templateWillDownload:c,templateFinishDownload:u,templateDownloadError:p,templateWillRender:m,templateFinishCreateViews:g,templateFinishFirstPaint:y,templateFinishUpdate:void 0===b?e:b};this.lifeCycles=o.mapValue(w,(function(e,t){return function(){for(var n=this,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return He.forEach((function(e){var r=e[t];r&&r.apply(n,a)})),e.apply(this,a)}}))}},{key:"componentDidCatch",value:function(e){var t=this.shadow.options._tplName;o.log.error(e,{type:_.j,templateName:t})}},{key:"componentDidUpdate",value:function(){var e=this.lifeCycles,t=e.templateFinishFirstPaint,n=e.templateFinishUpdate;this.shadow.tpl&&(this.firstPaint?n.call(this,this.shadow):(t.call(this,this.shadow),this.firstPaint=!0))}},{key:"componentDidMount",value:function(){S(this.perfTrackerPerfix,v);var e=this.lifeCycles.templateFinishFirstPaint;this.shadow.tpl?(e.call(this,this.shadow),this.firstPaint=!0):this.rerenderTemplateByUrl(this.props.url),this._enableLazyload&&this.connectLazyObserver()}},{key:"connectLazyObserver",value:function(){var e=this,t=this.shadow.options._tplId;if(t){var n=new IntersectionObserver((function(t){t.some((function(e){return e.intersectionRatio>0}))&&(e._enableLazyload=!1,e.forceUpdate(),n.disconnect())}));n.observe(document.querySelector("div["+Ue+'="'+t+'"]'))}else o.log.warn("Cannot get template id")}},{key:"shouldComponentUpdate",value:function(e){var t=e.data,n=e.url,r=e.tpl,a=this.props,o=a.data,i=a.url,s=a.tpl,c=!1;return i!==n&&(this.rerenderTemplateByUrl(n,!0),c=!0),t!==o&&(this.rerenderTemplateByData(t),c=!0),r&&JSON.stringify(r)!==JSON.stringify(s)&&(this.initByProps(e),c=!0),c}},{key:"rerenderTemplateByData",value:function(e){e=Ke(this.shadow.options._tplId,e),this.shadow.data=e}},{key:"rerenderTemplateByUrl",value:function(e,t){var n=this,r=this.shadow,a=r.tpl,o=(r.data,r.options);if(e&&(!a||t)){var i=this.lifeCycles,s=i.templateWillDownload,c=i.templateFinishDownload,l=i.templateDownloadError;s.call(this,this.shadow),X.add(e,this.perfTrackerPerfix).then((function(e){var t=e.tplNodeTree,r=e.template;o._template=r,c.call(n,n.shadow),t&&(n.shadow.tpl=t,n.forceUpdate())})).catch((function(e){l(e)}))}}},{key:"renderTemplateWrapper",value:function(e){var t,n=this.props,r=n.style,i=n.className,s=n.extraAttrs,l=this.shadow,u=l.options,d=l.tpl,p=u._tplId,f=function(e){var t=Array.isArray(e)?e[0]:e,n="300px";return t&&t.attrs&&t.attrs.defaultHeight&&(n=Le(t.attrs.defaultHeight)||n),n}(d),m=(ze(t={"data-spm":p},Ue,p),ze(t,"className","tpl-wrapper"),t);return this._enableLazyload&&(this.props.placeholder&&"function"===typeof this.props.placeholder?e=Object(a.createElement)(this.props.placeholder,{defaultHeight:f,tpl:d,data:this.props.data}):m.style={height:f}),i&&(m.className+=" "+i),o.isPlainObject(r)&&(m.style=r),o.isPlainObject(s)&&Object.assign(m,s),Object(c.a)("autotestMode")&&(m["aria-label"]=p),Object(a.createElement)("div",m,e)}},{key:"renderViews",value:function(e){var t=this.shadow,n=t.data,r=t.options,a=this.props.children;if(e){Xe.call(this),S(this.perfTrackerPerfix,w);var o=Qe.call(this,e,n,r,a);return S(this.perfTrackerPerfix,x),o}return null}},{key:"render",value:function(){var e=this.shadow.tpl,t=this.lifeCycles,n=t.templateWillRender,r=t.templateFinishCreateViews;n.call(this,this.shadow);var a=this._enableLazyload?null:this.renderViews(e),o=this.renderTemplateWrapper(a);return r.call(this,this.shadow),o}}]),t}(a.Component);function et(e){Array.isArray(e)&&e.forEach((function(e){o.isPlainObject(e)&&He.push(e)}))}function tt(e){o.env.deviceWidth=e;var t=document.createElement("style");t.innerHTML=".tpl-wrapper{max-width: "+e+"px}",document.head.appendChild(t)}function nt(e){return e.children}var rt=Object(i.a)("local-image");function at(e){return rt.get(e)}function ot(e){Object(o.mapValue)(e,(function(e,t){rt.set(t,e)}))}var it=n(7),st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct={findDOMNode:it.findDOMNode,cloneElement:a.cloneElement,renderDriver:null},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{ct=st({},ct,e)}catch(e){throw e}},ut=function(e,t,n,r){ct.renderDriver?(n?n.driver=ct.renderDriver:n={driver:ct.renderDriver},it.render(e,t,n,r)):it.render.apply(this,arguments)};n.d(t,"h",(function(){return a.createElement})),n.d(t,"render",(function(){return ut})),n.d(t,"Component",(function(){return a.Component})),n.d(t,"driver",(function(){return ct})),n.d(t,"setDriver",(function(){return lt})),n.d(t,"getView",(function(){return Je})),n.d(t,"registerView",(function(){return Ze})),n.d(t,"Template",(function(){return $e})),n.d(t,"addTemplatePlugins",(function(){return et})),n.d(t,"Fragment",(function(){return nt})),n.d(t,"getDataParser",(function(){return de})),n.d(t,"registerDataParser",(function(){return ue})),n.d(t,"dataParser",(function(){return Me})),n.d(t,"colorParser",(function(){return Pe})),n.d(t,"unitParser",(function(){return Le})),n.d(t,"eventHandlerParser",(function(){return Ne})),n.d(t,"getLocalImage",(function(){return at})),n.d(t,"setLocalImage",(function(){return ot})),n.d(t,"getEventHandler",(function(){return ke})),n.d(t,"registerEventHandler",(function(){return Te})),n.d(t,"setDeviceWidth",(function(){return tt})),n.d(t,"Downloader",(function(){return X})),n.d(t,"initIndexedDB",(function(){return N})),n.d(t,"initLocalStorage",(function(){return M})),n.d(t,"STORAGE_TEMPLATE",(function(){return R})),n.d(t,"tracker",(function(){return s.a})),n.d(t,"perfTracker",(function(){return r})),n.d(t,"Ravel",(function(){return ee})),n.d(t,"setGlobalConfig",(function(){return c.c})),n.d(t,"getGlobalConfig",(function(){return c.a})),n.d(t,"setTplCache",(function(){return c.d})),n.d(t,"getTplCache",(function(){return c.b})),n.d(t,"utils",(function(){return o})),t.default={h:a.createElement,render:ut,Component:a.Component,driver:ct,setDriver:lt,getView:Je,registerView:Ze,Template:$e,addTemplatePlugins:et,Fragment:nt,getDataParser:de,registerDataParser:ue,dataParser:Me,colorParser:Pe,unitParser:Le,eventHandlerParser:Ne,getLocalImage:at,setLocalImage:ot,getEventHandler:ke,registerEventHandler:Te,Downloader:X,initIndexedDB:N,initLocalStorage:M,STORAGE_TEMPLATE:R,tracker:s.a,perfTracker:r,Ravel:ee,setGlobalConfig:c.c,getGlobalConfig:c.a,setTplCache:c.d,getTplCache:c.b,utils:o}}])},e.exports=r(n(0),n(27))},function(e,t,n){e.exports=n(444)},function(e,t){e.exports=IcbuIM.Next1.Message},function(e,t,n){var r=n(54),a=n(44),o=n(140),i=n(67),s=n(63),c="prototype",l=function(e,t,n){var u,d,p,f=e&l.F,m=e&l.G,h=e&l.S,g=e&l.P,v=e&l.B,y=e&l.W,b=m?a:a[t]||(a[t]={}),w=b[c],x=m?r:h?r[t]:(r[t]||{})[c];for(u in m&&(n=t),n)(d=!f&&x&&void 0!==x[u])&&s(b,u)||(p=d?x[u]:n[u],b[u]=m&&"function"!=typeof x[u]?n[u]:v&&d?o(p,r):y&&x[u]==p?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[c]=e[c],t}(p):g&&"function"==typeof p?o(Function.call,p):p,g&&((b.virtual||(b.virtual={}))[u]=p,e&l.R&&w&&!w[u]&&i(w,u,p)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(78),a=n(147),o=n(109),i=Object.defineProperty;t.f=n(55)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),a)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";(function(e){t.__esModule=!0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.serialize=function(e){var t=[],r=/\[\]$/,a=function(e,n){n="function"===typeof n?n():null===n||void 0===n?"":n,t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)};return function e(o,i){var s=void 0,c=void 0,l=void 0;if(o)if(Array.isArray(i))for(s=0,c=i.length;s<c;s++)r.test(o)?a(o,i[s]):e(o+"["+("object"===n(i[s])?s:"")+"]",i[s]);else if(i&&"[object Object]"===String(i))for(l in i)e(o+"["+l+"]",i[l]);else a(o,i);else if(i&&"object"===("undefined"===typeof i?"undefined":n(i)))for(l in i)e(l,i[l]);return t}("",e).join("&")},t.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.parseQuery=function(e){if("string"!==typeof e)return e;var t=/([^=&\s]+)[=\s]*([^=&\s]*)/g,n={};for(;t.exec(e);)n[RegExp.$1]=decodeURIComponent(RegExp.$2);return n},t.addQueryString=function(e,t){if(!t)return e;var n=e.indexOf("?")>-1?"&":"?";return""+e+n+t};t.isWeex="function"===typeof callNative,t.isWeb="object"===("undefined"===typeof window?"undefined":n(window))&&"object"===n(window.document),t.isNodejs="object"===("undefined"===typeof e?"undefined":n(e))&&e+""==="[object process]"}).call(this,n(121))},function(e,t,n){"use strict";n.r(t);var r=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),a={polishEntryTip:r.get("polish.entry.tip")||"AI润色",polishEntryEmpty:r.get("polish.entry.empty.tip")||"请先输入内容",polishFirstTip:r.get("polish.entry.first.tip")||"可以润色",replyEntryTip:r.get("reply.entry.tip")||"AI辅助接待",replyFirstTip:r.get("reply.entry.first.tip")||"可以辅助接待"};t.default=a},function(e,t,n){var r=n(113)("wks"),a=n(91),o=n(54).Symbol,i="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=i&&o[e]||(i?o:a)("Symbol."+e))}).store=r},function(e,t,n){var r=n(62),a=n(88);e.exports=n(55)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(150),a=n(110);e.exports=function(e){return r(a(e))}},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r=n(16),a=n.n(r),o=n(17),i=n.n(o),s=n(18),c=n.n(s),l=n(11),u=n.n(l),d=n(19),p=n.n(d),f=n(0),m=n.n(f),h=n(3),g=n(15);function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var y=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),b=function(e){function t(e){return a()(this,t),n=this,r=t,o=[e],r=u()(r),c()(n,v()?Reflect.construct(r,o||[],u()(n).constructor):r.apply(n,o));var n,r,o}return p()(t,e),i()(t,[{key:"render",value:function(){var e=this.props,t=e.onMaximize,n=e.hasRichTextDraft,r=e.style;return m.a.createElement("div",{className:"maximize",onClick:t,style:r},n?m.a.createElement(h.Balloon.Tooltip,{align:"tl",trigger:g.default.draft,closable:!1,text:y.get("richText.draft")||"Draft"}):m.a.createElement(h.Balloon.Tooltip,{align:"tl",trigger:g.default.maximize,closable:!1,text:y.get("richText.fullscreen")||"Fullscreen Input"}))}}])}(m.a.Component)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(29),i=n(8),s=n(2),c=(n(343),n(21));t.a=Object(o.connect)((function(e){}),(function(e){}))((function(e){var t=e.command,n=t.code,r=t.title;return a.a.createElement("div",{className:"command-item",onClick:Object(c.a)((function(t){t.stopPropagation(),t.preventDefault(),Object(s.default)({ext:"commandSelect",bizData:{code:n}}),e.onCommandSelect(n)}))},t.icon&&a.a.createElement("span",{className:"icon"},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},a.a.createElement("g",{"clip-path":"url(#clip0_563_622)"},a.a.createElement("path",{d:"M2.1242 4V7.80952C2.1242 8.44071 2.63587 8.95238 3.26705 8.95238H12.8423L10.4206 11.3738L11.2288 12.182L15 8.41073L11.2288 4.6395L10.4206 5.44762L12.7829 7.80952H3.26705V4H2.1242Z",fill:"#6E55D8"})),a.a.createElement("defs",null,a.a.createElement("clipPath",{id:"clip0_563_622"},a.a.createElement("rect",{width:"16",height:"16",fill:"white"}))))),a.a.createElement("span",{className:"command-title"},r),t.beta&&a.a.createElement("span",{className:"beta"},i.COPY.beta),t.freeTrial&&a.a.createElement("span",{className:"free"},i.COPY.freeTrial),t.desc&&a.a.createElement("span",{className:"desc"},t.desc))}))},function(e,t){e.exports=IcbuIM.Next1.Icon},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function d(e,t){return!t||"object"!==((n=t)&&"undefined"!==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!==typeof t?r(e):t;var n}var p=n(6),f=n(0),m=n.n(f),h=n(20),g=n(27);function v(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,s,"next",e)}function s(e){v(o,r,a,i,s,"throw",e)}i(void 0)}))}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var C=n(85),E=n.n(C),S=n(79),k=n.n(S),T=n(134),_=n.n(T),I=n(37),O=n.n(I),A=n(187),D=n.n(A),M=n(74),N=n.n(M),P=n(60),L=n.n(P),R=n(188),F=n.n(R),j=n(3),B=n(43),z=n.n(B),q=n(135),V=n.n(q);function U(){var e={},t=V.a.get("xman_us_f");if(t)for(var n=t.split("&"),r=n.length;r--;){var a=n[r].split("=");e[a[0]]=a[1]}return e}function H(){return(H=y((function(e){return x(this,(function(t){switch(t.label){case 0:return[4,z.a.get("//aipro.alibaba.com/ai/commerce/getOpenStatus.do",{data:s({},e)})];case 1:return[2,t.sent().body||{}]}}))}))).apply(this,arguments)}function W(){return G.apply(this,arguments)}function G(){return(G=y((function(){return x(this,(function(e){switch(e.label){case 0:return[4,z.a.get("//aipro.alibaba.com/ai/commerce/tryTrial.do")];case 1:return[2,e.sent().body||{}]}}))}))).apply(this,arguments)}function K(e){return J.apply(this,arguments)}function J(){return(J=y((function(e){return x(this,(function(t){switch(t.label){case 0:return[4,z.a.get("//aipro.alibaba.com/ai/commerce/createOpenTime.do",{data:{openTime:e}})];case 1:return[2,t.sent().body||{}]}}))}))).apply(this,arguments)}function Z(){return X.apply(this,arguments)}function X(){return(X=y((function(){var e,t;return x(this,(function(n){switch(n.label){case 0:return e=U().x_locale||"zh_CN",[4,z.a.get("//aipro.alibaba.com/mcms/getByNamespace.do?namespace=core.js.pages.commerce&language=".concat(e),{})];case 1:return[2,(null===(t=n.sent())||void 0===t?void 0:t.body)||{}]}}))}))).apply(this,arguments)}function Y(e,t){return Q.apply(this,arguments)}function Q(){return(Q=y((function(e,t){return x(this,(function(n){switch(n.label){case 0:return[4,z.a.get("//aipro.alibaba.com/ai/commerce/createSalesLeads.do",{data:{leadsOrigin:e,sceneAbility:t}})];case 1:return[2,n.sent().body||{}]}}))}))).apply(this,arguments)}function $(){return ee.apply(this,arguments)}function ee(){return(ee=y((function(){return x(this,(function(e){switch(e.label){case 0:return[4,z.a.get("//aipro.alibaba.com/ai/commerce/agreeContract.do",{data:{}})];case 1:return[2,e.sent().body||{}]}}))}))).apply(this,arguments)}function te(){return(te=y((function(){return x(this,(function(e){switch(e.label){case 0:return[4,z.a.get("//aipro.alibaba.com/ai/getGlobalFrontConfig.do",{data:{}})];case 1:return[2,e.sent().body||{}]}}))}))).apply(this,arguments)}function ne(){return(ne=y((function(){return x(this,(function(e){switch(e.label){case 0:return[4,z.a.get("//aipro.alibaba.com/ai/commerce/getContract.do",{data:{}})];case 1:return[2,e.sent().body||{}]}}))}))).apply(this,arguments)}function re(){return ae.apply(this,arguments)}function ae(){return(ae=y((function(){return x(this,(function(e){switch(e.label){case 0:return[4,z.a.get("//aipro.alibaba.com/ai/benefitPoint/benefitPointGoods.do",{})];case 1:return[2,e.sent().body||{}]}}))}))).apply(this,arguments)}function oe(){return ie.apply(this,arguments)}function ie(){return(ie=y((function(){return x(this,(function(e){switch(e.label){case 0:return[4,z.a.get("//aipro.alibaba.com/ai/commerce/getGoodsInfoByAliId.do",{})];case 1:return[2,e.sent().body||{}]}}))}))).apply(this,arguments)}var se=function(e){var t=e.onClose,n=e.getI18nText,r=w(Object(f.useState)([]),2),a=r[0],o=r[1],i=w(Object(f.useState)({}),2),s=i[0],c=i[1];Object(f.useEffect)((function(){y((function(){var e;return x(this,(function(t){switch(t.label){case 0:return[4,re()];case 1:return e=t.sent(),o(e.data),c((null===e||void 0===e?void 0:e.data[0])||{}),[2]}}))}))()}),[]);var l,u=(l=y((function(){return x(this,(function(e){return window.open("https://aipro.alibaba.com/ai/benefitPoint/index.htm#/aiPointPayCheck?benefitPointId=".concat(s.benefitPointId),"_blank"),t&&t(),[2]}))})),function(){return l.apply(this,arguments)});return Object(p.jsxs)("div",{className:"ai-center-refueling-bag-dialog-sdk-body",children:[Object(p.jsx)("div",{className:"title",dangerouslySetInnerHTML:{__html:n("core.js.pages.commerce.AiBussinessSdk.aiCenter.buy.dialog.subTitle")}}),Object(p.jsx)("div",{className:"list-content",children:a.map((function(e,t){return Object(p.jsxs)("div",{className:"bag-info-content ".concat(s.benefitPointId===e.benefitPointId&&"active"),onClick:function(){c(e)},children:[Object(p.jsxs)("div",{className:"bag-info-content-body",children:[Object(p.jsx)("div",{className:"bag-info-content-title",children:e.benefitPointName}),Object(p.jsxs)("div",{className:"bag-info-content-price",children:[Object(p.jsx)("span",{children:"¥"}),e.price]})]}),Object(p.jsx)("div",{className:"bag-info-content-point-info",children:Object(p.jsx)("span",{dangerouslySetInnerHTML:{__html:n("core.js.pages.commerce.AiBussinessSdk.aiCenter.buy.dialog.hasSomePoint").replace("{}",'<span class="point-count">'.concat(e.point,"</span>"))}})})]},e.benefitPointId)}))}),Object(p.jsx)("div",{className:"ai-center-refueling-bag-dialog-sdk-body-footer-content",children:Object(p.jsx)(j.Button,{type:"primary",disabled:0===Object.keys(s).length,onClick:u,children:n("core.js.pages.commerce.AiBussinessSdk.aiCenter.useDetail.buyBtnText")})})]})},ce=(n(361),function(e){var t=e.onClose,n=e.getI18nText,r=w(Object(f.useState)({}),2),a=r[0],o=r[1],i=w(Object(f.useState)({}),2),s=i[0],c=i[1],l=w(Object(f.useState)(!1),2),u=l[0],d=l[1];Object(f.useEffect)((function(){y((function(){var e,t,n;return x(this,(function(r){switch(r.label){case 0:d(!0),r.label=1;case 1:return r.trys.push([1,4,5,6]),[4,Z()];case 2:return e=r.sent(),[4,oe()];case 3:return t=r.sent(),c(t.data||{}),o(e.data||{}),[3,6];case 4:return n=r.sent(),console.log("error: PackageBuyer",n),[3,6];case 5:return d(!1),[7];case 6:return[2]}}))}))()}),[]);var m,h=(m=y((function(){return x(this,(function(e){return window.open("https://aipro.alibaba.com/ai/benefitPoint/index.htm#/aiPointPayCheck?promotionId=".concat(s.promotionId),"_blank"),t&&t(),[2]}))})),function(){return m.apply(this,arguments)}),g=function(e){return a[e]||""};return Object(p.jsx)("div",{className:"ai-center-package-bag-dialog-sdk-body",children:Object(p.jsxs)(j.Loading,{visible:u,style:{width:"100%"},children:[Object(p.jsx)("div",{className:"title",dangerouslySetInnerHTML:{__html:g("core.js.pages.commerce.detail.config.procurementPlanUrl")}}),Object(p.jsxs)("div",{className:"package-info-content active",children:[Object(p.jsx)("div",{className:"package-info-content-title",children:s.title}),Object(p.jsxs)("div",{className:"package-info-content-price",children:[Object(p.jsxs)("div",{className:"package-info-content-price-min",children:[Object(p.jsx)("span",{className:"small-text-price",children:"¥"}),Object(p.jsx)("span",{children:s.minPrice}),Object(p.jsx)("span",{className:"small-text-price",children:g(s.unit)})]}),Object(p.jsx)("div",{className:"package-info-content-price-quote",children:"¥".concat(s.quotePrice).concat(g(s.unit))})]}),Object(p.jsxs)("div",{className:"package-info-content-sub-title",children:[Object(p.jsx)("div",{className:"line-sub-title-left"}),g(s.subtitle),Object(p.jsx)("div",{className:"line-sub-title-right"})]}),Object(p.jsx)("div",{className:"package-detail-info",children:["textOptimization","picOptimization","videoOptimization","dataOptimization"].map((function(e){return t=s[e]||{},Object(p.jsxs)("div",{className:"package-detail-info-item",children:[Object(p.jsxs)("div",{className:"package-detail-info-item-title",children:[Object(p.jsx)(j.Icon,{type:"success-filling",size:"small",style:{color:"#60464780",marginRight:"8px"}}),Object(p.jsx)("span",{children:g(t.name).replace("#{point}",t.point)})]}),Array.isArray(t.description)&&t.description.map((function(e){return Object(p.jsxs)("div",{className:"package-detail-info-item-sub",children:[Object(p.jsx)("div",{className:"icon-content"}),g(e)]})}))]});var t}))}),Object(p.jsx)("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN012syGO51N3uxv34ESN_!!6000000001515-2-tps-512-278.png",alt:"",className:"hot-icon-content"}),Object(p.jsx)("img",{src:"https://img.alicdn.com/imgextra/i1/O1CN01YSEl8t1knTWX3lWvY_!!6000000004728-2-tps-512-512.png",alt:"",className:"select-icon-content"})]}),Object(p.jsx)("div",{className:"ai-center-package-bag-footer-content",children:Object(p.jsx)(j.Button,{type:"primary",onClick:h,children:n("core.js.pages.commerce.AiBussinessSdk.aiCenter.useDetail.buyBtnText")})})]})})});function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";for(var n in e)t=t+(t?"&":"")+"".concat(n,"=").concat(e[n]);return t}function ue(e){window.goldlog&&window.goldlog.record&&window.goldlog.record("/sc.ai-helper-center.ai_bussiness_sdk","CLK","".concat(le(e)),"GET")}var de=U().x_locale||"zh_CN";E.a.locale(de);var pe=E()((new Date).toLocaleDateString()),fe=m.a.useState,me=m.a.useEffect,he=function(e,t){return"date"===t&&(e.valueOf()<=pe.valueOf()-1||e.valueOf()>E()().subtract(-60,"days").valueOf())},ge=function(e){var t=e.title,n=e.sceneAbility,r=e.popupContainer,a=void 0===r?"ai-bussiness-sdk-container":r,o=w(fe("NO_DATA"),2),i=o[0],s=o[1],c=w(fe(""),2),l=c[0],u=c[1],d=w(fe(pe.valueOf()),2),f=d[0],m=d[1],h=w(fe({}),2),g=h[0],v=h[1],b=w(fe({}),2),C=b[0],S=b[1],T=w(fe({}),2),I=T[0],A=T[1],M=w(fe(!1),2),P=M[0],R=M[1],j=w(fe(""),2),B=j[0],z=j[1],q=w(fe(!1),2),V=q[0],U=q[1],G=w(fe(!1),2),J=G[0],X=G[1];me((function(){ee()}),[]);var Q,ee=(Q=y((function(){return x(this,(function(e){var t;return function(e){return H.apply(this,arguments)}({sceneAbility:n,bizCode:"icbu.general"}).then((function(e){var t,r,a,o,i,c,l,d,p,f;if(A(e.data||{}),s((null===(t=e.data)||void 0===t?void 0:t.openStatus)||"NO_DATA"),X(!!(null===(r=e.data)||void 0===r||null===(a=r.extend)||void 0===a?void 0:a.hasTrialPermission)),(null===(o=e.data)||void 0===o||null===(i=o.extend)||void 0===i?void 0:i.openTime)&&m(null===(p=e.data)||void 0===p||null===(f=p.extend)||void 0===f?void 0:f.openTime),"TO_AGREE_CONTRACT"===(null===(c=e.data)||void 0===c?void 0:c.openStatus)&&function(){return ne.apply(this,arguments)}().then((function(e){var t;z((null===(t=e.data)||void 0===t?void 0:t.address)||"")})).catch((function(e){console.error("getContract==error",e)})),Array.isArray(null===(l=e.data)||void 0===l||null===(d=l.extend)||void 0===d?void 0:d.newPopUpWindowsInfo)){var h,g,v,y=null===(h=e.data)||void 0===h||null===(g=h.extend)||void 0===g||null===(v=g.newPopUpWindowsInfo)||void 0===v?void 0:v.map((function(e){return e.abilityCode}));y.includes(n)?u(n):u(y[0])}})).catch((function(e){console.error("getOpenStatus==error",e)})),Z().then((function(e){v(e.data||{})})).catch((function(e){console.error("getByNamespaceAiCenter==error",e)})),function(){return te.apply(this,arguments)}().then((function(e){S(e.data)})),t={sceneAbility:n,btnName:"EXP",pageVersion:"video_version"},window.goldlog&&window.goldlog.record&&window.goldlog.record("/sc.ai-helper-center.ai_bussiness_sdk","EXP","".concat(le(t)),"GET"),[2]}))})),function(){return Q.apply(this,arguments)}),re=function(e,t){var n=g[e];return n?n||"":t||e},ae=function(){e.onClose&&e.onClose(i),ue({sceneAbility:n,btnName:"".concat(i,"_ACTION")})},oe=function(){var e=y((function(){var e;return x(this,(function(t){switch(t.label){case 0:return[4,Y(10111,n)];case 1:return(e=t.sent()).data?L.a.success(re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.createLeadsSuccess","已成功通知您的客户经理，预计会在12小时内联系您")):L.a.error(e.errorCode?ye(e.errorCode):e.msg),ue({sceneAbility:n,btnName:10111}),ae(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e;window.open((null===I||void 0===I||null===(e=I.extend)||void 0===e?void 0:e.orderPaymentUrl)||"https://business.alibaba.com/customer/proposalAndOrderList","_blank"),ae()},de=function(){var e=y((function(){var e;return x(this,(function(t){switch(t.label){case 0:return[4,K(f)];case 1:return(e=t.sent()).data?(s("TO_BE_OPENED"),ue({sceneAbility:n,btnName:"SET_TIME_SUCCESS"})):(L.a.error(e.errorCode?ye(e.errorCode):re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.FailedToSet","设置失败")),ue({sceneAbility:n,btnName:"SET_TIME_ERROR"})),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=y((function(){var e;return x(this,(function(t){switch(t.label){case 0:return[4,W()];case 1:return e=t.sent(),ue({sceneAbility:n,btnName:"CUSTOMER_TRY_TRIAL"}),e.data?(L.a.success(re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.sampleSack.success","试用成功！")),ae()):L.a.error(e.errorCode?ye(e.errorCode):re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.sampleSack.error","试用失败，请联系客户经理")),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=y((function(){var e;return x(this,(function(t){switch(t.label){case 0:return[4,$()];case 1:return(e=t.sent()).data?ae():L.a.error(e.msg?ye(e.errorCode):re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.FailedToSet")),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ye=function(e){return e?re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.error.".concat(e)):""},be=function(){var e=y((function(){var e,t;return x(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,W()];case 1:if(e=n.sent(),200!==Number(e.code))throw new Error("开启试用失败");return s("OPEN_TRIAL_SUCCESS"),[3,3];case 2:return t=n.sent(),L.a.error(re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.freeTrialFail"),t.message||t),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),we=function(e){m(e?e.valueOf():null)},xe={NO_ORDER:function(){var t,r,a,o,i;return V?Object(p.jsx)(ce,{getI18nText:re,onClose:ae}):Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{style:{height:414},children:(null===I||void 0===I||null===(t=I.extend)||void 0===t||null===(r=t.newPopUpWindowsInfo)||void 0===r?void 0:r.length)>0&&Object(p.jsx)(_.a,{tabPosition:"left",shape:"wrapped",onChange:function(e){u(e),ue({sceneAbility:n,btnName:"NO_ORDER_BANNER_TAB_CLICK",clickTabKey:e})},unmountInactiveTabs:!0,activeKey:l,contentClassName:"ai-bussiness-sdk-dialog-tab-content",id:"ai-bussiness-sdk-dialog-banner-tab",children:null===I||void 0===I||null===(a=I.extend)||void 0===a?void 0:a.newPopUpWindowsInfo.map((function(e,t){var n,r,a,o,i,s,c;return Object(p.jsx)(_.a.Item,{title:Object(p.jsx)("div",{style:{width:104,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:14,fontWeight:500},children:re(e.menuName)}),children:Object(p.jsxs)("div",{className:"ai-bussiness-sdk-dialog-tab-content-item",children:[Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-tab-content-item-title",children:re(null===(n=e.content)||void 0===n?void 0:n.title)}),Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-tab-content-item-sub-title-content",children:Array.isArray(null===(r=e.content)||void 0===r?void 0:r.subTitle)&&(null===(a=e.content)||void 0===a?void 0:a.subTitle.map((function(e){return Object(p.jsxs)("div",{className:"ai-bussiness-sdk-dialog-tab-content-item-sub-title",children:["· ",Object(p.jsx)("span",{dangerouslySetInnerHTML:{__html:re(e)}})]})})))}),Object(p.jsxs)("div",{className:"video-info-content",children:[(null===(o=e.content)||void 0===o?void 0:o.pictureLink)&&Object(p.jsx)("img",{draggable:!1,src:null===(i=e.content)||void 0===i?void 0:i.pictureLink,style:{width:468}}),(null===(s=e.content)||void 0===s?void 0:s.videoLink)&&Object(p.jsx)("video",{draggable:!1,controls:!0,autoPlay:!0,style:{width:468,height:277},children:Object(p.jsx)("source",{src:null===(c=e.content)||void 0===c?void 0:c.videoLink,type:"video/mp4"})})]})]},e.abilityCode)},e.abilityCode)}))})}),Object(p.jsxs)("div",{className:"ai-bussiness-sdk-dialog-action flex-action-content",children:[Object(p.jsxs)("div",{className:"button-list",children:[J&&Object(p.jsx)(O.a,{className:"trial-button button-position",onClick:function(){be()},children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.freeTrialButtton","免费试用")}),"out"===(null===I||void 0===I||null===(o=I.extend)||void 0===o?void 0:o.renewalStatus)&&Object(p.jsx)(O.a,{className:"button-position",type:"primary",onClick:function(){U(!0),ue({sceneAbility:e.sceneAbility,btnName:"buy_package_ACTION"})},children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.order","自助下单")})]}),(null===I||void 0===I||null===(i=I.extend)||void 0===i?void 0:i.disableCreateOrderLeads)?Object(p.jsx)("span",{onClick:ae,children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.ContactMyAccountManagerWait","销售正在准备资料中，请耐心等候！")}):Object(p.jsx)("span",{style:{color:"#1047f5"},onClick:function(){return oe()},children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.ContactMyAccountManager","联系我的客户经理")})]})]})},TO_BE_SET:function(){return Object(p.jsxs)("div",{className:"dialog-content-box",children:[Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-desc",children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.YouHavePurchasedABusiness","您已经购买了生意助手，选择开通日期并点击下方按钮，开启外贸AI～！")}),Object(p.jsx)("div",{className:"set-time-content",children:Object(p.jsx)(D.a,{size:"medium",style:{width:280},className:"set-time",placeholder:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.PleaseSelectTheActivationDate","请选择开通日期"),popupContainer:a,defaultValue:pe,disabledDate:he,onChange:we})}),Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-action",children:Object(p.jsx)(O.a,{type:"primary",disabled:!f,onClick:de,children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.StartBusinessAssistantNow","立即开启生意助手")})})]})},TO_BE_PAYMENT:function(){return Object(p.jsxs)("div",{className:"dialog-content-box",children:[Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-desc",children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.TheAccountManagerHasHelped","客户经理已经帮您生成了生意助手的订单，如还没付款。\n          请您联系客户经理尽快处理～！")}),Object(p.jsxs)("div",{className:"ai-bussiness-sdk-dialog-action",children:[Object(p.jsx)(O.a,{type:"primary",onClick:ie,style:{marginRight:20},children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.orderPaymentUrl","查看订单")}),Object(p.jsx)(O.a,{type:"normal",onClick:ae,children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.IKnow","我知道了")})]})]})},TO_BE_OPENED:function(){return Object(p.jsxs)("div",{className:"dialog-content-box",children:[Object(p.jsxs)("div",{className:"time-success-content",children:[Object(p.jsx)(N.a,{type:"success-filling",style:{color:"#04C3B3",marginRight:12},size:"small"}),Object(p.jsxs)("span",{children:[re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.TheActivationTimeIsSet","开通时间设置成功，将在"),E()(f).format("YYYY-MM-DD"),re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.StartBusinessAssistantAndStart","启动生意助手，开启外贸AI～")]})]}),Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-action",children:Object(p.jsx)(O.a,{type:"normal",onClick:function(){return ae()},children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.IKnow","我知道了")})})]})},CAN_NOT_SET_OPEN:function(){return Object(p.jsxs)("div",{className:"dialog-content-box",children:[Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-desc",children:re("core.js.pages.commerce.AiBussinessSdk.status.CAN_NOT_SET_OPEN","")}),Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-action",children:Object(p.jsx)(O.a,{type:"primary",onClick:function(){return ge()},children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.sampleSack","立即试用")})})]})},TO_AGREE_CONTRACT:function(){return Object(p.jsxs)("div",{className:"customer-contract-content",children:[Object(p.jsx)("div",{className:"contract-title",children:re("core.js.pages.commerce.AiBussinessSdk.status.TO_AGREE_CONTRACT","")}),Object(p.jsx)("div",{children:Object(p.jsxs)(F.a,{checked:P,onChange:function(e){R(e)},children:[re("core.js.pages.commerce.AiBussinessSdk.status.customerContract",""),Object(p.jsx)("a",{href:B,target:"_blank",children:re("core.js.pages.commerce.AiBussinessSdk.status.customerContract.agree","")})]})}),Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-action",children:Object(p.jsx)(O.a,{type:"primary",disabled:!P,onClick:ve,children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.agreeBtn")})})]})},NO_REMAIN_COST:function(){return C.benefitPointEnabled?Object(p.jsx)(se,{getI18nText:re}):Object(p.jsx)("span",{children:re("core.js.pages.commerce.AiBussinessSdk.status.NO_REMAIN_COST")})},OPEN_TRIAL_SUCCESS:function(){return Object(p.jsxs)("div",{className:"dialog-content-box",children:[Object(p.jsxs)("div",{className:"time-success-content",children:[Object(p.jsx)(N.a,{type:"success-filling",style:{color:"#04C3B3",marginRight:12},size:"small"}),Object(p.jsx)("span",{children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.freeTrialSuccess","已成功为您开通14天生意助手试用，快来体验吧！")})]}),Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-action",children:Object(p.jsx)(O.a,{type:"normal",onClick:function(){return ae()},children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.IKnow","我知道了")})})]})}};return Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-wrapper",children:Object.keys(g).length>0&&Object(p.jsx)(k.a,{title:"TO_AGREE_CONTRACT"===i?re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.ggs.dialogTitle"):t||re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.BusinessAssistantTips","生意助手提示"),width:690,visible:e.visible,onOk:e.onClose,onClose:ae,closeIcon:Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:Object(p.jsx)("path",{d:"M18.72 4L19.935 5.20938L13.1766 11.9989L19.935 18.7882L18.72 19.9976L11.9674 13.2137L5.21498 19.9976L4 18.7882L10.7577 11.9989L4 5.20938L5.21498 4L11.9674 10.7834L18.72 4Z",fill:"black"})}),v2:!0,footer:!1,popupContainer:a,className:"ai-bussiness-sdk-dialog ".concat(i),children:i&&(xe[i]?xe[i]():Object(p.jsxs)("div",{className:"dialog-content-box",children:[Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-desc",children:re("core.js.pages.commerce.AiBussinessSdk.status.".concat(i))}),Object(p.jsx)("div",{className:"ai-bussiness-sdk-dialog-action",children:Object(p.jsx)(O.a,{type:"normal",onClick:function(){return ae()},children:re("core.js.pages.commerce.AiBussinessSdk.src.AiDialog.ContactMyAccountManager","联系我的客户经理")})})]}))})})},ve=function(e){return e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then},ye=function(){},be=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(h,e);var t,n,o,c,f,m=(t=h,n=u(),function(){var e,r=l(t);if(n){var a=l(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return d(this,e)});function h(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(n=m.call(this,e,t)).state={visible:!0,isLoading:!1},n.close=n.close.bind(r(n)),n.onHide=n.onHide.bind(r(n));var a=(0,e.init)(r(n));return ve(a)&&(n.setState({isLoading:!0}),a.then((function(){n.setState({isLoading:!1})}),(function(){n.setState({visible:!1})}))),n}return o=h,(c=[{key:"_onOk",value:function(){var e=this;this.isCloseByOk=!0;var t=(0,this.props.onOk)(this);ve(t)?(this.setState({isLoading:!0}),t.then((function(){e.setState({isLoading:!1}),e.close(!0)}),(function(){e.setState({isLoading:!1})}))):"undefined"!==typeof t&&!0!==t||this.close(!0)}},{key:"close",value:function(e){this.state.visible&&this.setState({visible:!1}),this.props.afterClose(e)}},{key:"onHide",value:function(e){this.setState({visible:!1}),this.props.afterClose(e)}},{key:"render",value:function(){return Object(p.jsx)(ge,s({onClose:this.onHide,visible:this.state.visible},this.props))}}])&&a(o.prototype,c),f&&a(o,f),h}(f.Component);o(be,"propTypes",{onOk:h.func,init:h.func,content:h.oneOfType([h.func,h.string,h.element]),afterClose:h.func}),o(be,"defaultProps",{onOk:ye,init:ye});var we=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.afterClose,r=t.popupContainer,a=c(t,["afterClose","popupContainer"]),o=document.createElement("div");o.id="ai-bussiness-sdk-container";var i=new Promise((function(t,n){e=t,n}));return r&&document.getElementById(r)?document.getElementById(r).appendChild(o):document.body.appendChild(o),g.render(Object(p.jsx)(be,s({afterClose:function(t){"function"===typeof n&&n(t),setTimeout((function(){g.unmountComponentAtNode(o),o.parentNode.removeChild(o)}),200),e(t)}},a)),o),i};n(344),t.a={show:we}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.refreshDxCard=t.updateDxCard=void 0;var i=n(30),s=n(14),c=n(10),l=n(7),u=n(81),d=n(9),p=n(10),f=n(56),m=n(7),h=window.IcbuIM.lib.I18N.createI18N,g=n(2),v=h({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"chat"}),y=function(){};var b=function(){function e(e,t,n,r){this.event=e,this.itemData=t||{},this.extraData=n||{},this.props=r;var a=this.extraData.data,o=(void 0===a?[]:a)[0]||{},i=o.actionName,s=o.actionParams;this.actionName=i,this.actionParams=s}return e.prototype.request=function(){var e=this,t=e.itemData,n=e.extraData,r=e.event;window.dispatchEvent(new CustomEvent("cardAction",{detail:{itemData:t,extraData:n,e:r}}))},e.prototype.openAppraiseDialog=function(){u.showAppraiseDialog(this)},e.prototype.logisticsTrack=function(){var e,t=this.itemData,n=t.contact,r=t.messageId;i.default("link",null===(e=this.actionParams)||void 0===e?void 0:e.url),l.sendSystemMsgEvaluation({messageId:r,recAliId:null===n||void 0===n?void 0:n.aliId})},e.prototype.viewMore=function(){g.default("MC_AI_SUMMARY_VIEWMORE");var e=this.props.summaryData.contact.memberId||"",t=this.props.summaryData.contact.aliId||"",n=this.actionParams;if(d.isWeblite){var r=this.props.summaryData.contact||{},a=r.accountIdEncrypt,o=r.accountId,i="https://"+c.MESSAGE_DOMAIN+"/message/messenger.htm";window.open(i+"??activeAccountId="+o+"&activeAccountIdEncrypt="+a+"&viewMoreParam="+encodeURIComponent(JSON.stringify({loginId:e,aliId:t,dateFromLink:n})))}else this.props.redirectTo({appName:this.props.SPA_MODULES.chatHistory,params:{loginId:e,aliId:t,EventBus:this.props.EventBus,dateFromLink:n,fromLink:!0,timestamp:Date.now()}})},e.prototype.copyText=function(){g.default("MC_AI_SUMMARY_COPY");var e=this.actionParams,t=null===e||void 0===e?void 0:e.replace(/(\n\s+)-/g,"$1●");if(navigator.clipboard&&navigator.permissions&&!d.isWeblite)navigator.clipboard.writeText(t);else{var n=document.createElement("textArea");n.value=t,n.style.width=0,n.style.position="fixed",n.style.left="-999px",n.style.top="10px",n.setAttribute("readonly","readonly"),document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}s.default.success(v.get("common.card.copySuccess")||"success")},e.prototype.chatNow=function(){var e=this.actionParams.productId;e&&function(e,t){var n,r,i,s;return a(this,void 0,Promise,(function(){var a,c,l,u,d;return o(this,(function(o){switch(o.label){case 0:return e&&t?[4,m.requestWrapper("//"+p.ONETALK_DOMAIN+"/csrf/getToken.htm",{method:"POST"})]:[2,new y];case 1:return a=o.sent(),c=null===(n=null===a||void 0===a?void 0:a.data)||void 0===n?void 0:n.token,(null===(r=null===a||void 0===a?void 0:a.data)||void 0===r?void 0:r.token)?(l={bizType:e,bizId:t},[4,m.requestWrapper("//"+p.ONETALK_DOMAIN+"/message/distributeChat.htm",{method:"POST",body:{params:JSON.stringify(l),_csrf:c}})]):[2,new y];case 2:return u=o.sent(),(d=new y).code=null===(i=null===u||void 0===u?void 0:u.data)||void 0===i?void 0:i.code,d.data=null===(s=null===u||void 0===u?void 0:u.data)||void 0===s?void 0:s.data,[2,d]}}))}))}("1",e).then((function(e){var t;if(null===e||void 0===e?void 0:e.data){var n=e.data.receiverAccountId,r=e.data.receiverAccountIdEncrypt,a=e.data.receiverLoginId,o=e.data.receiverLoginIdEncrypt;null===(t=null===f.EventBus||void 0===f.EventBus?void 0:f.EventBus.publish)||void 0===t||t.call(f.EventBus,"im-weblite-list:selectContact",{accountId:n||"",accountIdEncrypt:r||"",loginId:a||"",loginIdEncrypt:o||""})}}))},e.prototype.changeToChat=function(){var e,t=this.actionParams,n=t.accountId,a=t.accountIdEncrypt,o=t.loginIdEncrypt,i=this.extraData,s=i.data,c=void 0===s?[]:s,l=i.fullData,u=(c[0]||{}).traceInfo;null===(e=null===f.EventBus||void 0===f.EventBus?void 0:f.EventBus.publish)||void 0===e||e.call(f.EventBus,"im-weblite-list:selectContact",r(r({accountId:n||"",accountIdEncrypt:a||"",loginIdEncrypt:o||""},null!==l&&void 0!==l?l:{}),{fromScene:null===u||void 0===u?void 0:u.triggerScene,actionName:this.actionName||""}))},e.prototype.evaFollow=function(){return a(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:e=this.actionParams.processId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,m.mtopRequest("mtop.alibaba.icbu.im.card.updateStatus",{processType:"1",processId:e,status:"1"})];case 2:return t=r.sent(),console.log("[evaFollow]",t),[3,4];case 3:return n=r.sent(),console.log("[evaFollow]",n),[3,4];case 4:return w(this.itemData.messageId),this.changeToChat(),[2]}}))}))},e.prototype.logisticsInquiry=function(){g.default("2020MC_AddressCard_LogisticsQuote_Click");var e=this.props,t=e.summaryData.contact;(0,e.redirectTo)({appName:e.SPA_MODULES.logisticsInquiry,params:r(r({},this.actionParams),{chatLoginId:(null===t||void 0===t?void 0:t.memberId)||"",ownerLoginId:window.currentUserLoginId})})},e}();function w(e){e&&window.dispatchEvent(new CustomEvent("refreshDXCard",{detail:{messageId:e}}))}t.default=b,t.updateDxCard=function(e,t){void 0===t&&(t={}),window.dispatchEvent(new CustomEvent("updateState",{detail:{messageId:e,data:t}}))},t.refreshDxCard=w},function(e){e.exports=JSON.parse('{"name":"@ali/dataphant-universal","version":"4.0.1","description":"dataphant abtest jssdk for browser","main":"lib/index.js","module":"es/index.js","author":"qingsong.xqs","files":["build","dist","es","lib"],"keywords":["dataphant","abtest","jssdk","typescript"],"engines":{"npm":">=3.0.0"},"scripts":{"start":"build-scripts start","build":"build-scripts build","eslint":"eslint --ext .js,.jsx,.ts,.tsx ./","eslint:fix":"npm run eslint -- --fix","stylelint":"stylelint \\"**/*.{css,scss,less}\\"","lint":"npm run eslint && npm run stylelint","test":"jest"},"dependencies":{"@ali/dataphant-core":"^4.0.1","@ali/lib-mtop":"^2.6.1","@ali/wpk-reporter":"^1.1.2","cookie":"^0.4.1","isomorphic-fetch":"^3.0.0"},"devDependencies":{"@alib/build-scripts":"^0.1.0","@iceworks/spec":"^1.0.0","@types/jest":"^28.1.5","@types/rax":"^1.0.0","babel-jest":"^28.1.3","build-plugin-component":"^1.0.0","driver-universal":"^3.1.0","eslint":"^6.8.0","jest":"^28.1.2","jest-environment-jsdom":"^28.1.3","rax":"^1.1.0","rax-test-renderer":"^1.0.0","stylelint":"^13.7.2","ts-jest":"^28.0.6","typescript":"^3.7.3"},"repository":{"type":"git","url":"git@gitlab.alibaba-inc.com:icbu-data-center/dataphant-abtest-jssdk.git"},"publishConfig":{"registry":"https://registry.npm.alibaba-inc.com"},"license":"MIT","homepage":"https://unpkg.alibaba-inc.com/@ali/dataphant-universal@4.0.1/build/index.html","__npminstall_done":true,"_from":"@ali/dataphant-universal@4.0.1","_resolved":"https://registry.anpm.alibaba-inc.com/@ali/dataphant-universal/-/dataphant-universal-4.0.1.tgz"}')},function(e,t,n){var r=n(68);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=IcbuIM.Next1.Dialog},function(e,t){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.r(t),n.d(t,"checkSendAppraiseCard",(function(){return w})),n.d(t,"getFatigue",(function(){return C})),n.d(t,"setFatigue",(function(){return S})),n.d(t,"checkMessageList",(function(){return T})),n.d(t,"fetchMessage",(function(){return I})),n.d(t,"sendAppraiseCard",(function(){return A})),n.d(t,"getABTestBucket",(function(){return M})),n.d(t,"getBucketParams",(function(){return N})),n.d(t,"showAppraiseDialog",(function(){return L})),n.d(t,"onAppraiseSubmitSucceed",(function(){return R})),n.d(t,"addEventListener",(function(){return F}));var r,a,o=n(5),i=n.n(o),s=n(3),c=n(14),l=n(7),u=n(38),d=n(2),p=n(25),f=n(76),m=(n(436),"mtop.alibaba.icbu.im.evaluate.fatigue.get"),h="mtop.alibaba.icbu.im.evaluate.fatigue.set",g="mtop.alibaba.icbu.chat.standard.message.send",v=window.IcbuIM.IMSDKHelper.isAlisupplier,y=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","chat")}),b={dialogTitle:y.get("appraiseCard.dialogTitle")||"Write a review",submitSucceed:y.get("appraiseCard.submitSucceed")||"Submit succeed"};function w(e){return x.apply(this,arguments)}function x(){return(x=i()(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,s,c,l,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.contact,o=a.conversationType,a.cid,i=a.aliId,s=a.owner,!v){e.next=4;break}return e.abrupt("return");case 4:if(2!==o){e.next=6;break}return e.abrupt("return");case 6:if(c=M(),c.bucket){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,C(i,"evalSubmit");case 11:if(null===(l=e.sent)||void 0===l||null===(n=l.data)||void 0===n||!n.object){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,C(i,"evalCardSend");case 16:if(null===(u=e.sent)||void 0===u||null===(r=u.data)||void 0===r||!r.object){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,N(a);case 21:if((d=e.sent).passed){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,A(a,d);case 26:S(i,"evalCardSend");case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return E.apply(this,arguments)}function E(){return(E=i()(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(l.mtopRequest)(m,{recAliId:t,scene:n});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,n){return k.apply(this,arguments)}function k(){return(k=i()(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(l.mtopRequest)(h,{recAliId:t,scene:n,expireTime:r||2592e3});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return _.apply(this,arguments)}function _(){return _=i()(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},n={hasAB7:!1,hasAB3:!1,hasAppraiseCard:!1,msgCount:0},r=s.length>1?s[1]:void 0){e.next=8;break}return e.next=7,I(t);case 7:r=e.sent;case 8:if(a=Date.now()-1728e5,(r=r.filter((function(e){return e.sendTime>=a})))&&r.length){e.next=12;break}return e.abrupt("return",n);case 12:return n.msgCount=r.length,o=0,i=0,r.some((function(e,t){var r=e.type,a=e.subType,s=e.messageType,c=e.content;(1===r&&("send"===s?o++:i++),o>=3&&i>=3&&(n.hasAB3=!0),o>=7&&i>=7&&(n.hasAB7=!0),t<20)&&((/9601/.test(a)||/workspace.alibaba.com/gi.test(c)&&/type=9601/gi.test(c))&&(n.hasAppraiseCard=!0));if(n.hasAB3&&n.hasAB7&&n.hasAppraiseCard)return!0})),e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function I(){return O.apply(this,arguments)}function O(){return O=i()(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,s,c,l,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>1&&void 0!==d[1]?d[1]:100,i=(a=d.length>0&&void 0!==d[0]?d[0]:{}).aliId,s=a.aliIdEncrypt,c=JSON.stringify({aliId:i,aliIdEncrypt:s,timeSlide:{forward:!1,timeStamp:null,pageSize:o}}),e.next=6,u.a({params:c});case 6:return l=e.sent,e.abrupt("return",null!==(t=null===(n=l.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.list)&&void 0!==t?t:[]);case 8:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function A(){return D.apply(this,arguments)}function D(){return D=i()(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,s,c,u,p,f,m,h,v=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.length>1&&void 0!==v[1]?v[1]:{},r=(t=v.length>0&&void 0!==v[0]?v[0]:{}).cid,a=t.aliId,o=t.owner,i=(void 0===o?{}:o).aliId,s=a,c=Date.now(),u="".concat(i,"_").concat(s,"_").concat(c),n.passed,p=n.messageType,f=n.scene,m=n.showType,h={receiverAliID:JSON.stringify([i,s]),excludeAliID:JSON.stringify([s]),chatType:1,content:"",conversationID:r.replace(/@(cntaobao|icbu)$/i,""),messageType:p,scene:f,extParam:JSON.stringify({reviewId:u,showType:m})},Object(d.default)({ext:"2023MC_SendAppraiseCard",bizData:h}),e.next=12,Object(l.mtopRequest)(g,h);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function M(){var e=(window.__APLUS_ABRATE__||{}).im_rate_supplier_card||"";return{bucket:e,isNewScene:/new_scene/gi.test(e)}}function N(e){return P.apply(this,arguments)}function P(){return(P=i()(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,s,c,l,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!0,e.next=3,T(t);case 3:i=e.sent,s=i.msgCount,c=i.hasAB3,l=i.hasAB7,i.hasAppraiseCard&&(o=!1),u=M(),d=u.bucket,e.t0=d,e.next="base"===e.t0?10:"new_card_with_old_scene"===e.t0?15:"old_card_with_new_scene"===e.t0?20:"new_card_with_new_scene"===e.t0?25:30;break;case 10:return(s<20||!c)&&(o=!1),n=9601,r=9601,a="",e.abrupt("break",32);case 15:return(s<20||!c)&&(o=!1),n=100014,r=1000022,a="newAppraise",e.abrupt("break",32);case 20:return l||(o=!1),n=9601,r=9601,a="",e.abrupt("break",32);case 25:return l||(o=!1),n=100014,r=1000022,a="newAppraise",e.abrupt("break",32);case 30:return o=!1,e.abrupt("break",32);case 32:return e.abrupt("return",{messageType:n,scene:r,showType:a,bucket:d,passed:o});case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){var t=e.actionParams;a=e,r=s.Dialog.show({needWrapper:!1,title:b.dialogTitle,overlayProps:{className:"appraise-iframe-dialog"},content:React.createElement("iframe",{className:"appraise-iframe",src:t.url}),footer:!1}),Object(d.default)({ext:"2023MC_ShowAppraiseDialog",bizData:t})}function R(e){var t=a,n=(t.event,t.itemData),o=(t.extraData,t.actionParams),i=n.contact,s=void 0===i?{}:i,l=n.messageId,u=s.aliId,p=e.urlData;-1!==(null===o||void 0===o?void 0:o.url.indexOf(p.messageId))&&(c.default.success(b.submitSucceed),r&&r.hide(),Object(d.default)({ext:"2023MC_AppraiseSubmitSucceed",bizData:e}),S(u,"evalSubmit"),Object(f.refreshDxCard)(l))}function F(){window.addEventListener("message",(function(e){var t=e.data,n=void 0===t?{}:t,r=e.origin,a=Object(p.transferDomain)("alibaba.com");if(new RegExp(a.replace(".","\\.")+"$").test(Object(p.transferDomain)(r))&&"review-post-message"===n.event)R(n.params)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVA_ASSISTANT_AVATAR=t.AI_INPUT_DELETE_NEW=t.AI_INPUT_DELETE_OLD=t.AI_INPUT_CHANGE=void 0,t.AI_INPUT_CHANGE="https://img.alicdn.com/imgextra/i4/O1CN01cNiugk1VPuwuUkVQS_!!6000000002646-55-tps-21-20.svg",t.AI_INPUT_DELETE_OLD="https://img.alicdn.com/imgextra/i4/O1CN01hijus31RF95eWBYVt_!!6000000002081-55-tps-16-16.svg",t.AI_INPUT_DELETE_NEW="https://img.alicdn.com/imgextra/i4/O1CN01bx3KKh1w6DXPnOCtl_!!6000000006258-55-tps-21-20.svg",t.EVA_ASSISTANT_AVATAR="https://img.alicdn.com/imgextra/i1/O1CN0110wfrf1z7zweMc0HP_!!6000000006668-2-tps-68-68.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatErrorTip=t.MockErrorMessage=t.MockCodeEnum=void 0;var r=n(14);!function(e){e[e.SendError=-1001]="SendError",e[e.FetchMessageError=-1002]="FetchMessageError"}(t.MockCodeEnum||(t.MockCodeEnum={})),function(e){e.SendError="send error",e.FetchError="fetchMessage error",e.defaultError="saas server error"}(t.MockErrorMessage||(t.MockErrorMessage={}));t.formatErrorTip=function(e,t){r.default.error("("+e+")"+t)}},function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure "+e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=IcbuIM.moment},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateState=void 0;var i,s=n(8),c=n(39),l=n(56),u=n(39),d=n(34),p=l.IcbuIM.CommonUtil.safetyParse;function f(){var e,t,n,r;(null===(t=null===(e=document.querySelector(".generate-input"))||void 0===e?void 0:e.classList)||void 0===t?void 0:t.contains("ai-shake"))&&document.querySelector(".generate-input").classList.remove("ai-shake"),(null===(r=null===(n=document.querySelector(".generate-input"))||void 0===n?void 0:n.classList)||void 0===r?void 0:r.contains("ai-shake-border"))&&document.querySelector(".generate-input").classList.remove("ai-shake-border"),setTimeout((function(){var e,t,n,r,a,o;(null===(t=null===(e=document.querySelector(".generate-input"))||void 0===e?void 0:e.classList)||void 0===t?void 0:t.contains("ai-border-animation"))?(document.querySelector(".generate-input").classList.remove("ai-shake"),null===(r=null===(n=document.querySelector(".generate-input"))||void 0===n?void 0:n.classList)||void 0===r||r.add("ai-shake-border")):null===(o=null===(a=document.querySelector(".generate-input"))||void 0===a?void 0:a.classList)||void 0===o||o.add("ai-shake")}),100)}!function(e){e.finish="finish",e.error="error",e.generating="generating",e.cancel="cancel"}(i=t.GenerateState||(t.GenerateState={})),t.default={namespace:"generate",state:{generateSession:{}},subscriptions:{initEvent:function(e){var t=e.dispatch;window.EventBus.on("im-weblite-chat:generateCallback",(function(e){t({type:"receiveGenerateContent",payload:e})})),window.EventBus.on("im-weblite-chat:startCommand",(function(e){t({type:"startCommand",payload:e})}))}},reducers:{setGenerateVisible:function(e,t){var n,r,a,o;t.payload?null===(o=null===(a=window.tinyMCE)||void 0===a?void 0:a.activeEditor)||void 0===o||o.getBody().setAttribute("contenteditable",!1):null===(r=null===(n=window.tinyMCE)||void 0===n?void 0:n.activeEditor)||void 0===r||r.getBody().setAttribute("contenteditable",!0)},updateGenerateSession:function(e,t){var n=t.payload,a=n.aliId,o=n.data,i=e.generateSession[a],s=r(r({},i),o);e.generateSession[a]=s}},effects:r(r({},c.sellerEffects),{startCommand:function(e,t){var n,r,o,i,s,c,l,p,f,m,h,g,v,y,b,w,x=e.payload,C=t.put,E=t.select;return a(this,(function(e){switch(e.label){case 0:return r=(n=null!==x&&void 0!==x?x:{}).commandName,o=n.content,i=n.isSimpleEditor,s=n.from,c=n.extraInfo,[4,E((function(e){return e.messageBox.summaryData}))];case 1:return l=e.sent().contact,p=(void 0===l?{}:l).aliId,[4,E((function(e){return e.messageBox.generateSession}))];case 2:return f=e.sent(),m=f[p],[4,C({type:"updateGenerateSession",payload:{aliId:p,data:{fromScene:s}}})];case 3:return e.sent(),(null===m||void 0===m?void 0:m.generateVisible)&&!d.EVA_TRIGGER_SCENE.includes(s)?[2]:(h=null===(w=u.extendCommands[r])||void 0===w?void 0:w.beforeSelectCommand)?(g={aliId:p,content:o,isSimpleEditor:i,from:s,time:null===x||void 0===x?void 0:x.time},d.EVA_TRIGGER_SCENE.includes(null===c||void 0===c?void 0:c.fromScene)&&Object.assign(g,{extraInfo:c}),[4,h(g)]):[3,7];case 4:return(v=e.sent())?(y=v.inputText,b=v.queryData,[4,C({type:"setInput",payload:y})]):[2];case 5:return e.sent(),[4,C({type:"startGenerate",payload:b})];case 6:e.sent(),e.label=7;case 7:return[2]}}))},startGenerate:function(e,t){var n,r,o,s,l,u,d=e.payload,p=t.put,m=t.select;return a(this,(function(e){switch(e.label){case 0:return n=d.queryId,r=d.commandName,document.querySelector("#super_text_wrapper")?document.querySelector("#super_text_wrapper").addEventListener("click",(function(){f()})):document.querySelector(".send-textarea-box").addEventListener("click",(function(){f()})),[4,m((function(e){return e.messageBox.summaryData}))];case 1:return o=e.sent().contact,s=(void 0===o?{}:o).aliId,l={generateState:i.generating,generateText:"",generateVisible:!0,errorMessage:"",generateExt:{}},n&&Object.assign(l,{queryId:n}),r&&Object.assign(l,{executeCommand:r}),[4,p({type:"updateGenerateSession",payload:{aliId:s,data:l}})];case 2:return e.sent(),[4,p({type:"setGenerateVisible",payload:!0})];case 3:return e.sent(),u=c.getQueryEffectName(r),c.sellerEffects[u]?[4,p({type:u,payload:d})]:[3,5];case 4:e.sent(),e.label=5;case 5:return[2]}}))},receiveGenerateContent:function(e,t){var n,r,c,l,u,d,f,m,h,g,v,y,b,w,x,C,E,S=e.payload,k=t.put,T=t.select;return a(this,(function(e){switch(e.label){case 0:return n=S.code,r=S.errorMessage,c=S.canRetry,l=S.content,u=void 0===l?"":l,d=S.queryId,f=S.requestId,m=S.contentWithAnalyse,[4,T((function(e){return e.messageBox.generateSession}))];case 1:return h=e.sent(),g=s.getQueryAliId(d),(null===(v=h[g])||void 0===v?void 0:v.generateState)===i.cancel?[2]:!!r?(y={generateState:i.error,errorMessage:{code:n,errorMessage:r,canRetry:c}},[4,k({type:"updateGenerateSession",payload:{aliId:g,data:y}})]):[3,3];case 2:case 4:return e.sent(),[2];case 3:b={content:u};try{"string"!==typeof(w=p(u))&&(b=w)}catch(e){console.log("receiveGenerateContent parse error:",e)}return x=b.content,C=o(b,["content"]),E={generateState:i.finish,generateText:x,requestId:f,generateExt:C,selectedIndex:0,contentWithAnalyse:m},[4,k({type:"updateGenerateSession",payload:{aliId:g,data:E}})]}}))},endGenerate:function(e,t){e.payload;var n,r,o,s=t.put,c=t.select;return a(this,(function(e){switch(e.label){case 0:return[4,c((function(e){return e.messageBox.summaryData}))];case 1:return n=e.sent().contact,r=(void 0===n?{}:n).aliId,o={generateState:i.finish},[4,s({type:"updateGenerateSession",payload:{aliId:r,data:o}})];case 2:return e.sent(),[2]}}))},clearAll:function(e,t){e.payload;var n,r,o,s=t.put,c=t.select;return a(this,(function(e){switch(e.label){case 0:return[4,c((function(e){return e.messageBox.summaryData}))];case 1:return n=e.sent().contact,r=(void 0===n?{}:n).aliId,o={generateState:i.finish,generateText:"",generateVisible:!1,inputText:{},errorMessage:"",generateExt:{}},[4,s({type:"setGenerateVisible",payload:!1})];case 2:return e.sent(),[4,s({type:"updateGenerateSession",payload:{aliId:r,data:o}})];case 3:return e.sent(),[2]}}))},cancelGenerate:function(e,t){e.payload;var n,r,o,s=t.put,c=t.select;return a(this,(function(e){switch(e.label){case 0:return[4,c((function(e){return e.messageBox.summaryData}))];case 1:return n=e.sent().contact,r=(void 0===n?{}:n).aliId,o={generateState:i.cancel},[4,s({type:"updateGenerateSession",payload:{aliId:r,data:o}})];case 2:return e.sent(),[2]}}))},useGenerate:function(e,t){var n,r,o,i,s,c,l,u,d,p,f,m,h=e.payload,g=t.put,v=t.select;return a(this,(function(e){switch(e.label){case 0:return n=h.callback,r=h.selectedContent,o=void 0===r?"":r,[4,v((function(e){return e.messageBox.summaryData}))];case 1:return i=e.sent().contact,s=(void 0===i?{}:i).aliId,[4,v((function(e){return e.messageBox.generateSession}))];case 2:return c=e.sent(),l=c[s],""===(u=o)&&(u=l.generateText,d=l.selectedIndex||0,(null===(f=l.generateExt)||void 0===f?void 0:f.contentWithAnalyse)&&(null===(m=l.generateExt)||void 0===m?void 0:m.contentWithAnalyse.solutionAnswerList.length)>d&&(p=l.generateExt.contentWithAnalyse.solutionAnswerList[d],u=p.answer)),n(u),[4,g({type:"clearAll"})];case 3:return e.sent(),[2]}}))},selectOneStrategy:function(e,t){var n,r,o,i=e.payload,s=t.put,c=t.select;return a(this,(function(e){switch(e.label){case 0:return n=i.selectedIndex,[4,c((function(e){return e.messageBox.summaryData}))];case 1:return r=e.sent().contact,o=(void 0===r?{}:r).aliId,[4,s({type:"updateGenerateSession",payload:{aliId:o,data:{selectedIndex:n}}})];case 2:return e.sent(),[2]}}))},leaveGenerate:function(e,t){e.payload;var n=t.put;return a(this,(function(e){switch(e.label){case 0:return[4,n({type:"clearAll"})];case 1:return e.sent(),[2]}}))},setInput:function(e,t){var n,r,o=e.payload,i=t.put,s=t.select;return a(this,(function(e){switch(e.label){case 0:return[4,s((function(e){return e.messageBox.summaryData}))];case 1:return n=e.sent().contact,r=(void 0===n?{}:n).aliId,[4,i({type:"updateGenerateSession",payload:{aliId:r,data:{inputText:o}}})];case 2:return e.sent(),[2]}}))},changeGenerateSession:function(e,t){var n,r,o,i,c,l,u,d,p,f,m,h,g,v=e.payload,y=t.put,b=t.select;return a(this,(function(e){switch(e.label){case 0:return n=v.aliId,r=v.nextAliId,[4,b((function(e){return e.messageBox}))];case 1:return o=e.sent().generateSession,(null===(i=o[n])||void 0===i?void 0:i.generateVisible)||delete o[n],[4,y({type:"setGenerateSession",payload:o})];case 2:return e.sent(),(c=o[r])?(l=c,window.tinyMCE.activeEditor.setContent(null===(d=l.inputText)||void 0===d?void 0:d.contentBefore),window.tinyMCE.activeEditor.selection.select(window.tinyMCE.activeEditor.getBody(),!0),window.tinyMCE.activeEditor.selection.collapse(!1),u=window.tinyMCE.activeEditor.selection.getBookmark(2,!0),window.tinyMCE.activeEditor.setContent((null===(p=l.inputText)||void 0===p?void 0:p.contentBefore)+(null===(m=null===(f=l.inputText)||void 0===f?void 0:f.contentAfter)||void 0===m?void 0:m.replace("<p> </p>",""))),(null===(h=s.ALL_COMMANDS[l.executeCommand])||void 0===h?void 0:h.selectPosition)===s.ALL_COMMAND_KEY_MAP.before?function(e){window.tinyMCE.activeEditor.selection.moveToBookmark(e);var t=new Range,n=window.tinyMCE.activeEditor.dom.select("p")[0];t.setStart(n,0),t.setEnd(window.tinyMCE.activeEditor.selection.getRng().endContainer,window.tinyMCE.activeEditor.selection.getRng().endOffset),window.tinyMCE.activeEditor.selection.setRng(t)}(u):(null===(g=s.ALL_COMMANDS[l.executeCommand])||void 0===g?void 0:g.selectPosition)===s.ALL_COMMAND_KEY_MAP.middle&&function(e){window.tinyMCE.activeEditor.selection.moveToBookmark(e);var t=new Range;t.setStart(window.tinyMCE.activeEditor.selection.getRng().startContainer,window.tinyMCE.activeEditor.selection.getRng().startOffset-1),t.setEnd(window.tinyMCE.activeEditor.selection.getRng().endContainer,window.tinyMCE.activeEditor.selection.getRng().endOffset),window.tinyMCE.activeEditor.selection.setRng(t)}(u),[3,5]):[3,3];case 3:return[4,y({type:"clearAll"})];case 4:e.sent(),e.label=5;case 5:return[2]}}))}})}},function(e,t,n){var r=n(110);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(149),a=n(114);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=IcbuIM.classnames},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"mtopRequest",(function(){return l})),n.d(t,"mtopRequest2",(function(){return u})),n.d(t,"AIPayCheckService",(function(){return d})),n.d(t,"checkAIPay",(function(){return f})),n.d(t,"AutoTriggerSetting",(function(){return h}));var r=n(5),a=n.n(r),o=n(75),i=n(39),s=window.IcbuIM.lib.requestHelper,c=(s.request,s.mtopRequest);function l(e,t){return c({api:e,v:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.0",appKey:"21574054",data:t,dataType:"json",ecode:1})}function u(e,t){return c({api:e,v:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.0",appKey:"24889839",data:t,dataType:"json",ecode:1})}function d(e){return p.apply(this,arguments)}function p(){return(p=a()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l("mtop.alibaba.icbu.assistant.commercial.checkpoint",{bizCode:"icbu.general",sceneAbility:t.scene,userDTO:JSON.stringify({userId:t.aliId})}).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.data})).catch((function(e){return!1})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return(m=a()(regeneratorRuntime.mark((function e(t,n){var r,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.extendCommands[t],a=null===r||void 0===r?void 0:r.aiPaySceneCode){e.next=4;break}throw new Error("checkAiPay scene null");case 4:return e.next=6,d({aliId:n,scene:a});case 6:return(s=e.sent)||o.a.show({sceneAbility:a}),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=a()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u("mtop.alibaba.intl.ai.rcpt.auto.trigger.setting",{status:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){var r=n(80);e.exports=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";e.exports=n(345)},function(e,t,n){e.exports=n(368)},function(e,t,n){e.exports=n(389)},function(e,t,n){"use strict";e.exports=n(407)},function(e,t,n){e.exports=n(410)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(346);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||(t[e]=r[e]))}))},function(e,t,n){(function(e){var r,a=function(e){"use strict";var t=1e7,n=9007199254740992,r=p(n),o="0123456789abcdefghijklmnopqrstuvwxyz",i="function"===typeof BigInt;function s(e,t,n,r){return"undefined"===typeof e?s[0]:"undefined"!==typeof t&&(10!==+t||n)?H(e,t,n,r):Z(e)}function c(e,t){this.value=e,this.sign=t,this.isSmall=!1}function l(e){this.value=e,this.sign=e<0,this.isSmall=!0}function u(e){this.value=e}function d(e){return-n<e&&e<n}function p(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function f(e){m(e);var n=e.length;if(n<4&&A(e,r)<0)switch(n){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function m(e){for(var t=e.length;0===e[--t];);e.length=t+1}function h(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t}function g(e){return e>0?Math.floor(e):Math.ceil(e)}function v(e,n){var r,a,o=e.length,i=n.length,s=new Array(o),c=0,l=t;for(a=0;a<i;a++)c=(r=e[a]+n[a]+c)>=l?1:0,s[a]=r-c*l;for(;a<o;)c=(r=e[a]+c)===l?1:0,s[a++]=r-c*l;return c>0&&s.push(c),s}function y(e,t){return e.length>=t.length?v(e,t):v(t,e)}function b(e,n){var r,a,o=e.length,i=new Array(o),s=t;for(a=0;a<o;a++)r=e[a]-s+n,n=Math.floor(r/s),i[a]=r-n*s,n+=1;for(;n>0;)i[a++]=n%s,n=Math.floor(n/s);return i}function w(e,n){var r,a,o=e.length,i=n.length,s=new Array(o),c=0,l=t;for(r=0;r<i;r++)(a=e[r]-c-n[r])<0?(a+=l,c=1):c=0,s[r]=a;for(r=i;r<o;r++){if(!((a=e[r]-c)<0)){s[r++]=a;break}a+=l,s[r]=a}for(;r<o;r++)s[r]=e[r];return m(s),s}function x(e,n,r){var a,o,i=e.length,s=new Array(i),u=-n,d=t;for(a=0;a<i;a++)o=e[a]+u,u=Math.floor(o/d),o%=d,s[a]=o<0?o+d:o;return"number"===typeof(s=f(s))?(r&&(s=-s),new l(s)):new c(s,r)}function C(e,n){var r,a,o,i,s=e.length,c=n.length,l=h(s+c),u=t;for(o=0;o<s;++o){i=e[o];for(var d=0;d<c;++d)r=i*n[d]+l[o+d],a=Math.floor(r/u),l[o+d]=r-a*u,l[o+d+1]+=a}return m(l),l}function E(e,n){var r,a,o=e.length,i=new Array(o),s=t,c=0;for(a=0;a<o;a++)r=e[a]*n+c,c=Math.floor(r/s),i[a]=r-c*s;for(;c>0;)i[a++]=c%s,c=Math.floor(c/s);return i}function S(e,t){for(var n=[];t-- >0;)n.push(0);return n.concat(e)}function k(e,t){var n=Math.max(e.length,t.length);if(n<=30)return C(e,t);n=Math.ceil(n/2);var r=e.slice(n),a=e.slice(0,n),o=t.slice(n),i=t.slice(0,n),s=k(a,i),c=k(r,o),l=k(y(a,r),y(i,o)),u=y(y(s,S(w(w(l,s),c),n)),S(c,2*n));return m(u),u}function T(e,n,r){return new c(e<t?E(n,e):C(n,p(e)),r)}function _(e){var n,r,a,o,i=e.length,s=h(i+i),c=t;for(a=0;a<i;a++){r=0-(o=e[a])*o;for(var l=a;l<i;l++)n=o*e[l]*2+s[a+l]+r,r=Math.floor(n/c),s[a+l]=n-r*c;s[a+i]=r}return m(s),s}function I(e,n){var r,a,o,i,s=e.length,c=h(s),l=t;for(o=0,r=s-1;r>=0;--r)o=(i=o*l+e[r])-(a=g(i/n))*n,c[r]=0|a;return[c,0|o]}function O(e,n){var r,a=Z(n);if(i)return[new u(e.value/a.value),new u(e.value%a.value)];var o,d=e.value,v=a.value;if(0===v)throw new Error("Cannot divide by zero");if(e.isSmall)return a.isSmall?[new l(g(d/v)),new l(d%v)]:[s[0],e];if(a.isSmall){if(1===v)return[e,s[0]];if(-1==v)return[e.negate(),s[0]];var y=Math.abs(v);if(y<t){o=f((r=I(d,y))[0]);var b=r[1];return e.sign&&(b=-b),"number"===typeof o?(e.sign!==a.sign&&(o=-o),[new l(o),new l(b)]):[new c(o,e.sign!==a.sign),new l(b)]}v=p(y)}var x=A(d,v);if(-1===x)return[s[0],e];if(0===x)return[s[e.sign===a.sign?1:-1],s[0]];r=d.length+v.length<=200?function(e,n){var r,a,o,i,s,c,l,u=e.length,d=n.length,p=t,m=h(n.length),g=n[d-1],v=Math.ceil(p/(2*g)),y=E(e,v),b=E(n,v);for(y.length<=u&&y.push(0),b.push(0),g=b[d-1],a=u-d;a>=0;a--){for(r=p-1,y[a+d]!==g&&(r=Math.floor((y[a+d]*p+y[a+d-1])/g)),o=0,i=0,c=b.length,s=0;s<c;s++)o+=r*b[s],l=Math.floor(o/p),i+=y[a+s]-(o-l*p),o=l,i<0?(y[a+s]=i+p,i=-1):(y[a+s]=i,i=0);for(;0!==i;){for(r-=1,o=0,s=0;s<c;s++)(o+=y[a+s]-p+b[s])<0?(y[a+s]=o+p,o=0):(y[a+s]=o,o=1);i+=o}m[a]=r}return y=I(y,v)[0],[f(m),f(y)]}(d,v):function(e,n){for(var r,a,o,i,s,c=e.length,l=n.length,u=[],d=[],p=t;c;)if(d.unshift(e[--c]),m(d),A(d,n)<0)u.push(0);else{o=d[(a=d.length)-1]*p+d[a-2],i=n[l-1]*p+n[l-2],a>l&&(o=(o+1)*p),r=Math.ceil(o/i);do{if(A(s=E(n,r),d)<=0)break;r--}while(r);u.push(r),d=w(d,s)}return u.reverse(),[f(u),f(d)]}(d,v),o=r[0];var C=e.sign!==a.sign,S=r[1],k=e.sign;return"number"===typeof o?(C&&(o=-o),o=new l(o)):o=new c(o,C),"number"===typeof S?(k&&(S=-S),S=new l(S)):S=new c(S,k),[o,S]}function A(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var n=e.length-1;n>=0;n--)if(e[n]!==t[n])return e[n]>t[n]?1:-1;return 0}function D(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function M(e,t){for(var n,r,o,i=e.prev(),s=i,c=0;s.isEven();)s=s.divide(2),c++;e:for(r=0;r<t.length;r++)if(!e.lesser(t[r])&&!(o=a(t[r]).modPow(s,e)).isUnit()&&!o.equals(i)){for(n=c-1;0!=n;n--){if((o=o.square().mod(e)).isUnit())return!1;if(o.equals(i))continue e}return!1}return!0}c.prototype=Object.create(s.prototype),l.prototype=Object.create(s.prototype),u.prototype=Object.create(s.prototype),c.prototype.add=function(e){var t=Z(e);if(this.sign!==t.sign)return this.subtract(t.negate());var n=this.value,r=t.value;return t.isSmall?new c(b(n,Math.abs(r)),this.sign):new c(y(n,r),this.sign)},c.prototype.plus=c.prototype.add,l.prototype.add=function(e){var t=Z(e),n=this.value;if(n<0!==t.sign)return this.subtract(t.negate());var r=t.value;if(t.isSmall){if(d(n+r))return new l(n+r);r=p(Math.abs(r))}return new c(b(r,Math.abs(n)),n<0)},l.prototype.plus=l.prototype.add,u.prototype.add=function(e){return new u(this.value+Z(e).value)},u.prototype.plus=u.prototype.add,c.prototype.subtract=function(e){var t=Z(e);if(this.sign!==t.sign)return this.add(t.negate());var n=this.value,r=t.value;return t.isSmall?x(n,Math.abs(r),this.sign):function(e,t,n){var r;return A(e,t)>=0?r=w(e,t):(r=w(t,e),n=!n),"number"===typeof(r=f(r))?(n&&(r=-r),new l(r)):new c(r,n)}(n,r,this.sign)},c.prototype.minus=c.prototype.subtract,l.prototype.subtract=function(e){var t=Z(e),n=this.value;if(n<0!==t.sign)return this.add(t.negate());var r=t.value;return t.isSmall?new l(n-r):x(r,Math.abs(n),n>=0)},l.prototype.minus=l.prototype.subtract,u.prototype.subtract=function(e){return new u(this.value-Z(e).value)},u.prototype.minus=u.prototype.subtract,c.prototype.negate=function(){return new c(this.value,!this.sign)},l.prototype.negate=function(){var e=this.sign,t=new l(-this.value);return t.sign=!e,t},u.prototype.negate=function(){return new u(-this.value)},c.prototype.abs=function(){return new c(this.value,!1)},l.prototype.abs=function(){return new l(Math.abs(this.value))},u.prototype.abs=function(){return new u(this.value>=0?this.value:-this.value)},c.prototype.multiply=function(e){var n,r,a,o=Z(e),i=this.value,l=o.value,u=this.sign!==o.sign;if(o.isSmall){if(0===l)return s[0];if(1===l)return this;if(-1===l)return this.negate();if((n=Math.abs(l))<t)return new c(E(i,n),u);l=p(n)}return r=i.length,a=l.length,new c(-.012*r-.012*a+15e-6*r*a>0?k(i,l):C(i,l),u)},c.prototype.times=c.prototype.multiply,l.prototype._multiplyBySmall=function(e){return d(e.value*this.value)?new l(e.value*this.value):T(Math.abs(e.value),p(Math.abs(this.value)),this.sign!==e.sign)},c.prototype._multiplyBySmall=function(e){return 0===e.value?s[0]:1===e.value?this:-1===e.value?this.negate():T(Math.abs(e.value),this.value,this.sign!==e.sign)},l.prototype.multiply=function(e){return Z(e)._multiplyBySmall(this)},l.prototype.times=l.prototype.multiply,u.prototype.multiply=function(e){return new u(this.value*Z(e).value)},u.prototype.times=u.prototype.multiply,c.prototype.square=function(){return new c(_(this.value),!1)},l.prototype.square=function(){var e=this.value*this.value;return d(e)?new l(e):new c(_(p(Math.abs(this.value))),!1)},u.prototype.square=function(e){return new u(this.value*this.value)},c.prototype.divmod=function(e){var t=O(this,e);return{quotient:t[0],remainder:t[1]}},u.prototype.divmod=l.prototype.divmod=c.prototype.divmod,c.prototype.divide=function(e){return O(this,e)[0]},u.prototype.over=u.prototype.divide=function(e){return new u(this.value/Z(e).value)},l.prototype.over=l.prototype.divide=c.prototype.over=c.prototype.divide,c.prototype.mod=function(e){return O(this,e)[1]},u.prototype.mod=u.prototype.remainder=function(e){return new u(this.value%Z(e).value)},l.prototype.remainder=l.prototype.mod=c.prototype.remainder=c.prototype.mod,c.prototype.pow=function(e){var t,n,r,a=Z(e),o=this.value,i=a.value;if(0===i)return s[1];if(0===o)return s[0];if(1===o)return s[1];if(-1===o)return a.isEven()?s[1]:s[-1];if(a.sign)return s[0];if(!a.isSmall)throw new Error("The exponent "+a.toString()+" is too large.");if(this.isSmall&&d(t=Math.pow(o,i)))return new l(g(t));for(n=this,r=s[1];!0&i&&(r=r.times(n),--i),0!==i;)i/=2,n=n.square();return r},l.prototype.pow=c.prototype.pow,u.prototype.pow=function(e){var t=Z(e),n=this.value,r=t.value,a=BigInt(0),o=BigInt(1),i=BigInt(2);if(r===a)return s[1];if(n===a)return s[0];if(n===o)return s[1];if(n===BigInt(-1))return t.isEven()?s[1]:s[-1];if(t.isNegative())return new u(a);for(var c=this,l=s[1];(r&o)===o&&(l=l.times(c),--r),r!==a;)r/=i,c=c.square();return l},c.prototype.modPow=function(e,t){if(e=Z(e),(t=Z(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=s[1],r=this.mod(t);for(e.isNegative()&&(e=e.multiply(s[-1]),r=r.modInv(t));e.isPositive();){if(r.isZero())return s[0];e.isOdd()&&(n=n.multiply(r).mod(t)),e=e.divide(2),r=r.square().mod(t)}return n},u.prototype.modPow=l.prototype.modPow=c.prototype.modPow,c.prototype.compareAbs=function(e){var t=Z(e),n=this.value,r=t.value;return t.isSmall?1:A(n,r)},l.prototype.compareAbs=function(e){var t=Z(e),n=Math.abs(this.value),r=t.value;return t.isSmall?n===(r=Math.abs(r))?0:n>r?1:-1:-1},u.prototype.compareAbs=function(e){var t=this.value,n=Z(e).value;return(t=t>=0?t:-t)===(n=n>=0?n:-n)?0:t>n?1:-1},c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=Z(e),n=this.value,r=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:A(n,r)*(this.sign?-1:1)},c.prototype.compareTo=c.prototype.compare,l.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=Z(e),n=this.value,r=t.value;return t.isSmall?n==r?0:n>r?1:-1:n<0!==t.sign?n<0?-1:1:n<0?1:-1},l.prototype.compareTo=l.prototype.compare,u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,n=Z(e).value;return t===n?0:t>n?1:-1},u.prototype.compareTo=u.prototype.compare,c.prototype.equals=function(e){return 0===this.compare(e)},u.prototype.eq=u.prototype.equals=l.prototype.eq=l.prototype.equals=c.prototype.eq=c.prototype.equals,c.prototype.notEquals=function(e){return 0!==this.compare(e)},u.prototype.neq=u.prototype.notEquals=l.prototype.neq=l.prototype.notEquals=c.prototype.neq=c.prototype.notEquals,c.prototype.greater=function(e){return this.compare(e)>0},u.prototype.gt=u.prototype.greater=l.prototype.gt=l.prototype.greater=c.prototype.gt=c.prototype.greater,c.prototype.lesser=function(e){return this.compare(e)<0},u.prototype.lt=u.prototype.lesser=l.prototype.lt=l.prototype.lesser=c.prototype.lt=c.prototype.lesser,c.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},u.prototype.geq=u.prototype.greaterOrEquals=l.prototype.geq=l.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals,c.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},u.prototype.leq=u.prototype.lesserOrEquals=l.prototype.leq=l.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals,c.prototype.isEven=function(){return 0===(1&this.value[0])},l.prototype.isEven=function(){return 0===(1&this.value)},u.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},c.prototype.isOdd=function(){return 1===(1&this.value[0])},l.prototype.isOdd=function(){return 1===(1&this.value)},u.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},c.prototype.isPositive=function(){return!this.sign},l.prototype.isPositive=function(){return this.value>0},u.prototype.isPositive=l.prototype.isPositive,c.prototype.isNegative=function(){return this.sign},l.prototype.isNegative=function(){return this.value<0},u.prototype.isNegative=l.prototype.isNegative,c.prototype.isUnit=function(){return!1},l.prototype.isUnit=function(){return 1===Math.abs(this.value)},u.prototype.isUnit=function(){return this.abs().value===BigInt(1)},c.prototype.isZero=function(){return!1},l.prototype.isZero=function(){return 0===this.value},u.prototype.isZero=function(){return this.value===BigInt(0)},c.prototype.isDivisibleBy=function(e){var t=Z(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},u.prototype.isDivisibleBy=l.prototype.isDivisibleBy=c.prototype.isDivisibleBy,c.prototype.isPrime=function(t){var n=D(this);if(n!==e)return n;var r=this.abs(),o=r.bitLength();if(o<=64)return M(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var i=Math.log(2)*o.toJSNumber(),s=Math.ceil(!0===t?2*Math.pow(i,2):i),c=[],l=0;l<s;l++)c.push(a(l+2));return M(r,c)},u.prototype.isPrime=l.prototype.isPrime=c.prototype.isPrime,c.prototype.isProbablePrime=function(t,n){var r=D(this);if(r!==e)return r;for(var o=this.abs(),i=t===e?5:t,s=[],c=0;c<i;c++)s.push(a.randBetween(2,o.minus(2),n));return M(o,s)},u.prototype.isProbablePrime=l.prototype.isProbablePrime=c.prototype.isProbablePrime,c.prototype.modInv=function(e){for(var t,n,r,o=a.zero,i=a.one,s=Z(e),c=this.abs();!c.isZero();)t=s.divide(c),n=o,r=s,o=i,s=c,i=n.subtract(t.multiply(i)),c=r.subtract(t.multiply(c));if(!s.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(e)),this.isNegative()?o.negate():o},u.prototype.modInv=l.prototype.modInv=c.prototype.modInv,c.prototype.next=function(){var e=this.value;return this.sign?x(e,1,this.sign):new c(b(e,1),this.sign)},l.prototype.next=function(){var e=this.value;return e+1<n?new l(e+1):new c(r,!1)},u.prototype.next=function(){return new u(this.value+BigInt(1))},c.prototype.prev=function(){var e=this.value;return this.sign?new c(b(e,1),!0):x(e,1,this.sign)},l.prototype.prev=function(){var e=this.value;return e-1>-n?new l(e-1):new c(r,!0)},u.prototype.prev=function(){return new u(this.value-BigInt(1))};for(var N=[1];2*N[N.length-1]<=t;)N.push(2*N[N.length-1]);var P=N.length,L=N[P-1];function R(e){return Math.abs(e)<=t}function F(e,t,n){t=Z(t);for(var r=e.isNegative(),o=t.isNegative(),i=r?e.not():e,s=o?t.not():t,c=0,l=0,u=null,d=null,p=[];!i.isZero()||!s.isZero();)c=(u=O(i,L))[1].toJSNumber(),r&&(c=L-1-c),l=(d=O(s,L))[1].toJSNumber(),o&&(l=L-1-l),i=u[0],s=d[0],p.push(n(c,l));for(var f=0!==n(r?1:0,o?1:0)?a(-1):a(0),m=p.length-1;m>=0;m-=1)f=f.multiply(L).add(a(p[m]));return f}c.prototype.shiftLeft=function(e){var t=Z(e).toJSNumber();if(!R(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var n=this;if(n.isZero())return n;for(;t>=P;)n=n.multiply(L),t-=P-1;return n.multiply(N[t])},u.prototype.shiftLeft=l.prototype.shiftLeft=c.prototype.shiftLeft,c.prototype.shiftRight=function(e){var t,n=Z(e).toJSNumber();if(!R(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var r=this;n>=P;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=O(r,L))[1].isNegative()?t[0].prev():t[0],n-=P-1}return(t=O(r,N[n]))[1].isNegative()?t[0].prev():t[0]},u.prototype.shiftRight=l.prototype.shiftRight=c.prototype.shiftRight,c.prototype.not=function(){return this.negate().prev()},u.prototype.not=l.prototype.not=c.prototype.not,c.prototype.and=function(e){return F(this,e,(function(e,t){return e&t}))},u.prototype.and=l.prototype.and=c.prototype.and,c.prototype.or=function(e){return F(this,e,(function(e,t){return e|t}))},u.prototype.or=l.prototype.or=c.prototype.or,c.prototype.xor=function(e){return F(this,e,(function(e,t){return e^t}))},u.prototype.xor=l.prototype.xor=c.prototype.xor;var j=1<<30;function B(e){var n=e.value,r="number"===typeof n?n|j:"bigint"===typeof n?n|BigInt(j):n[0]+n[1]*t|1073758208;return r&-r}function z(e,t){if(t.compareTo(e)<=0){var n=z(e,t.square(t)),r=n.p,o=n.e,i=r.multiply(t);return i.compareTo(e)<=0?{p:i,e:2*o+1}:{p:r,e:2*o}}return{p:a(1),e:0}}function q(e,t){return e=Z(e),t=Z(t),e.greater(t)?e:t}function V(e,t){return e=Z(e),t=Z(t),e.lesser(t)?e:t}function U(e,t){if(e=Z(e).abs(),t=Z(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var n,r,a=s[1];e.isEven()&&t.isEven();)n=V(B(e),B(t)),e=e.divide(n),t=t.divide(n),a=a.multiply(n);for(;e.isEven();)e=e.divide(B(e));do{for(;t.isEven();)t=t.divide(B(t));e.greater(t)&&(r=t,t=e,e=r),t=t.subtract(e)}while(!t.isZero());return a.isUnit()?e:e.multiply(a)}c.prototype.bitLength=function(){var e=this;return e.compareTo(a(0))<0&&(e=e.negate().subtract(a(1))),0===e.compareTo(a(0))?a(0):a(z(e,a(2)).e).add(a(1))},u.prototype.bitLength=l.prototype.bitLength=c.prototype.bitLength;var H=function(e,t,n,r){n=n||o,e=String(e),r||(e=e.toLowerCase(),n=n.toLowerCase());var a,i=e.length,s=Math.abs(t),c={};for(a=0;a<n.length;a++)c[n[a]]=a;for(a=0;a<i;a++){if("-"!==(d=e[a])&&(d in c&&c[d]>=s)){if("1"===d&&1===s)continue;throw new Error(d+" is not a valid digit in base "+t+".")}}t=Z(t);var l=[],u="-"===e[0];for(a=u?1:0;a<e.length;a++){var d;if((d=e[a])in c)l.push(Z(c[d]));else{if("<"!==d)throw new Error(d+" is not a valid character");var p=a;do{a++}while(">"!==e[a]&&a<e.length);l.push(Z(e.slice(p+1,a)))}}return W(l,t,u)};function W(e,t,n){var r,a=s[0],o=s[1];for(r=e.length-1;r>=0;r--)a=a.add(e[r].times(o)),o=o.times(t);return n?a.negate():a}function G(e,t){if((t=a(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var n=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return n.unshift([1]),{value:[].concat.apply([],n),isNegative:!1}}var r=!1;if(e.isNegative()&&t.isPositive()&&(r=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:r};for(var o,i=[],s=e;s.isNegative()||s.compareAbs(t)>=0;){o=s.divmod(t),s=o.quotient;var c=o.remainder;c.isNegative()&&(c=t.minus(c).abs(),s=s.next()),i.push(c.toJSNumber())}return i.push(s.toJSNumber()),{value:i.reverse(),isNegative:r}}function K(e,t,n){var r=G(e,t);return(r.isNegative?"-":"")+r.value.map((function(e){return function(e,t){return e<(t=t||o).length?t[e]:"<"+e+">"}(e,n)})).join("")}function J(e){if(d(+e)){var t=+e;if(t===g(t))return i?new u(BigInt(t)):new l(t);throw new Error("Invalid integer: "+e)}var n="-"===e[0];n&&(e=e.slice(1));var r=e.split(/e/i);if(r.length>2)throw new Error("Invalid integer: "+r.join("e"));if(2===r.length){var a=r[1];if("+"===a[0]&&(a=a.slice(1)),(a=+a)!==g(a)||!d(a))throw new Error("Invalid integer: "+a+" is not a valid exponent.");var o=r[0],s=o.indexOf(".");if(s>=0&&(a-=o.length-s-1,o=o.slice(0,s)+o.slice(s+1)),a<0)throw new Error("Cannot include negative exponent part for integers");e=o+=new Array(a+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(i)return new u(BigInt(n?"-"+e:e));for(var p=[],f=e.length,h=f-7;f>0;)p.push(+e.slice(h,f)),(h-=7)<0&&(h=0),f-=7;return m(p),new c(p,n)}function Z(e){return"number"===typeof e?function(e){if(i)return new u(BigInt(e));if(d(e)){if(e!==g(e))throw new Error(e+" is not an integer.");return new l(e)}return J(e.toString())}(e):"string"===typeof e?J(e):"bigint"===typeof e?new u(e):e}c.prototype.toArray=function(e){return G(this,e)},l.prototype.toArray=function(e){return G(this,e)},u.prototype.toArray=function(e){return G(this,e)},c.prototype.toString=function(t,n){if(t===e&&(t=10),10!==t||n)return K(this,t,n);for(var r,a=this.value,o=a.length,i=String(a[--o]);--o>=0;)r=String(a[o]),i+="0000000".slice(r.length)+r;return(this.sign?"-":"")+i},l.prototype.toString=function(t,n){return t===e&&(t=10),10!=t||n?K(this,t,n):String(this.value)},u.prototype.toString=l.prototype.toString,u.prototype.toJSON=c.prototype.toJSON=l.prototype.toJSON=function(){return this.toString()},c.prototype.valueOf=function(){return parseInt(this.toString(),10)},c.prototype.toJSNumber=c.prototype.valueOf,l.prototype.valueOf=function(){return this.value},l.prototype.toJSNumber=l.prototype.valueOf,u.prototype.valueOf=u.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var X=0;X<1e3;X++)s[X]=Z(X),X>0&&(s[-X]=Z(-X));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=q,s.min=V,s.gcd=U,s.lcm=function(e,t){return e=Z(e).abs(),t=Z(t).abs(),e.divide(U(e,t)).multiply(t)},s.isInstance=function(e){return e instanceof c||e instanceof l||e instanceof u},s.randBetween=function(e,n,r){e=Z(e),n=Z(n);var a=r||Math.random,o=V(e,n),i=q(e,n).subtract(o).add(1);if(i.isSmall)return o.add(Math.floor(a()*i));for(var c=G(i,t).value,l=[],u=!0,d=0;d<c.length;d++){var p=u?c[d]+(d+1<c.length?c[d+1]/t:0):t,f=g(a()*p);l.push(f),f<c[d]&&(u=!1)}return o.add(s.fromArray(l,t,!1))},s.fromArray=function(e,t,n){return W(e.map(Z),Z(t||10),n)},s}();e.hasOwnProperty("exports")&&(e.exports=a),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(203)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){e.exports={}},,function(e,t,n){var r=n(68);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(113)("keys"),a=n(91);e.exports=function(e){return r[e]||(r[e]=a(e))}},function(e,t,n){var r=n(44),a=n(54),o="__core-js_shared__",i=a[o]||(a[o]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(90)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(78),a=n(252),o=n(114),i=n(112)("IE_PROTO"),s=function(){},c="prototype",l=function(){var e,t=n(148)("iframe"),r=o.length;for(t.style.display="none",n(253).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l[c][o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[c]=r(e),n=new s,s[c]=null,n[i]=e):n=l(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(62).f,a=n(63),o=n(66)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){t.f=n(66)},function(e,t,n){var r=n(54),a=n(44),o=n(90),i=n(118),s=n(62).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandRole=void 0,function(e){e.buyer="buyer",e.seller="seller",e.both="both"}(t.CommandRole||(t.CommandRole={}))},function(e,t){var n,r,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||u||s(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){e.exports=n(374)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=t.ns2json=t.transfer=t.format=t.shtml=t.parse=t.currentLang=t.formatLang=t.assign=t.assignClear=t.mountCache=t.isBrowserSide=t.langpacks=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(0)),i=s(n(162));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={},u={},d=t.langpacks={},p="_i18n_cache_key."+Math.random(),f=t.isBrowserSide=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.document},m=t.mountCache={},h=(t.assignClear=function(){Object.keys(m).forEach((function(e){Object.keys(m[e]).forEach((function(t){d[e][t]=l[e][t]})),m[e]={}}))},t.assign=function(e,t,n){return("string"===typeof t?[t]:t).forEach((function(t){var r=u[e]&&u[e][t];r?(n?[n]:Object.keys(r)).forEach((function(n){var a=r[n]||[];m[n]=m[n]||{},a.forEach((function(r){var a=r.replace(t,e);d[n][a]=l[n][r],m[n][a]=m[n][a]||[],m[n][a].push(r)}))})):console.warn("无namespace:'%s',assign'%s 配置'",t,e)})),d}),g=t.formatLang=function(e){return(e||"").replace(/-/,"_").replace(/[-_]*([A-Z]+)/,(function(e,t){return"_"+t.toLowerCase()})).toLowerCase()},v=t.currentLang=f()?g(window.document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.language):"",y=t.parse=function(){if(!f())return{};var e=document.querySelectorAll('script[type="json/i18n"],script[type="json/mcms-i18n"],script[type="json/i18n-mcms"]');return Array.prototype.forEach.call(e,(function(e){var t=g(e.getAttribute("lang"))||v,n=e.getAttribute("namespace"),r=e.getAttribute("assign")||e.getAttribute("mount"),o=p+"_"+t;if(!e[o]){e[o]=!0;var i={};"json/mcms-i18n"===e.type&&console.warn('(type="json/mcms")已经被废弃，请使用(type="json/i18n")');try{i=JSON.parse(e.innerText.replace(/;[\n\s]*$/gi,""))}catch(t){e[o]=!1,console.warn("文案解析失败,节点内容：%s",e.outerHTML)}finally{d[t]=d[t]||{},a(d[t],i),l[t]=l[t]||{},a(l[t],i),n&&r&&(u[r]=u[r]||{},u[r][n]=u[r][n]||c({},t,{}),u[r][n][t]=Object.keys(i),h(r,n,t))}}})),d},b=t.shtml=function(e){return e};t.format=function(e,t,n,a){var s="split-react-i18n-split",c={},l=!1,u=e.replace(/\{\s*(?:([-\w]+)\s+)?([-\\.\w]+)(?:\s+([^}]+))*\s*\}/g,(function(e,o){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,d=arguments[3],p=t[u];if(o)if(n.helpers[o]||i.default[o]){var f=n.helpers[o]||i.default[o];try{p=f.bind(n)(u,p,d,t,a)}catch(e){console.warn("@alife/i18n Helper error:"+p)}}else console.warn('@alife/i18n Helper "'+o+'" 不存在');return p&&"symbol"===r(p.$$typeof)?(l=!0,c[u]=p,p=""+s+u+s):p="undefined"===typeof p?e:p,p}));return l&&(u=u.split(s).map((function(e){return c[e]||t[e]||o.default.createElement("span",{dangerouslySetInnerHTML:{__html:b(e)}})}))),u},t.transfer=function e(t,n){var o={};return"object"===("undefined"===typeof t?"undefined":r(t))&&Object.keys(t).forEach((function(i){var s=n?n+"."+i:i,c=t[i];"object"===("undefined"===typeof c?"undefined":r(c))?a(o,e(t[i],s)):o[s]=c})),o},t.ns2json=function(e,t){var n={};return Object.keys(e).filter((function(e){return new RegExp("^"+t.replace(".","\\.")).test(e)})).forEach((function(r){var a=(t?r.replace(t+".",""):r).split("."),o=n;a.forEach((function(t,n){n===a.length-1?o[t]=e[r]:o=o[t]=o[t]||c({},a[n+1],{})}))})),n},t.distinct=function(e){var t=void 0,n={},r=[],a=e.length;for(t=0;t<a;t++)n[e[t]]||(n[e[t]]=1,r.push(e[t]));return r};t.default={parse:y,currentLang:v,formatLang:g,langpacks:d,mountCache:m,shtml:b}},function(e,t,n){e.exports=n(395)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=t.ns2json=t.transfer=t.format=t.shtml=t.parse=t.currentLang=t.formatLang=t.assign=t.assignClear=t.mountCache=t.isBrowserSide=t.langpacks=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(0)),i=s(n(164));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={},u={},d=t.langpacks={},p="_i18n_cache_key."+Math.random(),f=t.isBrowserSide=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.document},m=t.mountCache={},h=(t.assignClear=function(){Object.keys(m).forEach((function(e){Object.keys(m[e]).forEach((function(t){d[e][t]=l[e][t]})),m[e]={}}))},t.assign=function(e,t,n){return("string"===typeof t?[t]:t).forEach((function(t){var r=u[e]&&u[e][t];r?(n?[n]:Object.keys(r)).forEach((function(n){var a=r[n]||[];m[n]=m[n]||{},a.forEach((function(r){var a=r.replace(t,e);d[n][a]=l[n][r],m[n][a]=m[n][a]||[],m[n][a].push(r)}))})):console.warn("无namespace:'%s',assign'%s 配置'",t,e)})),d}),g=t.formatLang=function(e){return(e||"").replace(/-/,"_").replace(/[-_]*([A-Z]+)/,(function(e,t){return"_"+t.toLowerCase()})).toLowerCase()},v=t.currentLang=f()?g(window.document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.language):"",y=t.parse=function(){if(!f())return{};var e=document.querySelectorAll('script[type="json/i18n"],script[type="json/mcms-i18n"],script[type="json/i18n-mcms"]');return Array.prototype.forEach.call(e,(function(e){var t=g(e.getAttribute("lang"))||v,n=e.getAttribute("namespace"),r=e.getAttribute("assign")||e.getAttribute("mount"),o=p+"_"+t;if(!e[o]){e[o]=!0;var i={};"json/mcms-i18n"===e.type&&console.warn('(type="json/mcms")已经被废弃，请使用(type="json/i18n")');try{i=JSON.parse(e.innerText.replace(/;[\n\s]*$/gi,""))}catch(t){e[o]=!1,console.warn("文案解析失败,节点内容：%s",e.outerHTML)}finally{d[t]=d[t]||{},a(d[t],i),l[t]=l[t]||{},a(l[t],i),n&&r&&(u[r]=u[r]||{},u[r][n]=u[r][n]||c({},t,{}),u[r][n][t]=Object.keys(i),h(r,n,t))}}})),d},b=t.shtml=function(e){return e};t.format=function(e,t,n,a){var s="split-react-i18n-split",c={},l=!1,u=e.replace(/\{\s*(?:([-\w]+)\s+)?([-\\.\w]+)(?:\s+([^}]+))*\s*\}/g,(function(e,o){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,d=arguments[3],p=t[u];if(o)if(n.helpers[o]||i.default[o]){var f=n.helpers[o]||i.default[o];try{p=f.bind(n)(u,p,d,t,a)}catch(e){console.warn("@alife/i18n Helper error:"+p)}}else console.warn('@alife/i18n Helper "'+o+'" 不存在');return p&&"symbol"===r(p.$$typeof)?(l=!0,c[u]=p,p=""+s+u+s):p="undefined"===typeof p?e:p,p}));return l&&(u=u.split(s).map((function(e){return c[e]||t[e]||o.default.createElement("span",{dangerouslySetInnerHTML:{__html:b(e)}})}))),u},t.transfer=function e(t,n){var o={};return"object"===("undefined"===typeof t?"undefined":r(t))&&Object.keys(t).forEach((function(i){var s=n?n+"."+i:i,c=t[i];"object"===("undefined"===typeof c?"undefined":r(c))?a(o,e(t[i],s)):o[s]=c})),o},t.ns2json=function(e,t){var n={};return Object.keys(e).filter((function(e){return new RegExp("^"+t.replace(".","\\.")).test(e)})).forEach((function(r){var a=(t?r.replace(t+".",""):r).split("."),o=n;a.forEach((function(t,n){n===a.length-1?o[t]=e[r]:o=o[t]=o[t]||c({},a[n+1],{})}))})),n},t.distinct=function(e){var t=void 0,n={},r=[],a=e.length;for(t=0;t<a;t++)n[e[t]]||(n[e[t]]=1,r.push(e[t]));return r};t.default={parse:y,currentLang:v,formatLang:g,langpacks:d,mountCache:m,shtml:b}},function(e,t,n){e.exports=n(416)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=t.ns2json=t.transfer=t.format=t.shtml=t.parse=t.currentLang=t.formatLang=t.assign=t.assignClear=t.mountCache=t.isBrowserSide=t.langpacks=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(0)),i=s(n(166));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={},u={},d=t.langpacks={},p="_i18n_cache_key."+Math.random(),f=t.isBrowserSide=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.document},m=t.mountCache={},h=(t.assignClear=function(){Object.keys(m).forEach((function(e){Object.keys(m[e]).forEach((function(t){d[e][t]=l[e][t]})),m[e]={}}))},t.assign=function(e,t,n){return("string"===typeof t?[t]:t).forEach((function(t){var r=u[e]&&u[e][t];r?(n?[n]:Object.keys(r)).forEach((function(n){var a=r[n]||[];m[n]=m[n]||{},a.forEach((function(r){var a=r.replace(t,e);d[n][a]=l[n][r],m[n][a]=m[n][a]||[],m[n][a].push(r)}))})):console.warn("无namespace:'%s',assign'%s 配置'",t,e)})),d}),g=t.formatLang=function(e){return(e||"").replace(/-/,"_").replace(/[-_]*([A-Z]+)/,(function(e,t){return"_"+t.toLowerCase()})).toLowerCase()},v=t.currentLang=f()?g(window.document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.language):"",y=t.parse=function(){if(!f())return{};var e=document.querySelectorAll('script[type="json/i18n"],script[type="json/mcms-i18n"],script[type="json/i18n-mcms"]');return Array.prototype.forEach.call(e,(function(e){var t=g(e.getAttribute("lang"))||v,n=e.getAttribute("namespace"),r=e.getAttribute("assign")||e.getAttribute("mount"),o=p+"_"+t;if(!e[o]){e[o]=!0;var i={};"json/mcms-i18n"===e.type&&console.warn('(type="json/mcms")已经被废弃，请使用(type="json/i18n")');try{i=JSON.parse(e.innerText.replace(/;[\n\s]*$/gi,""))}catch(t){e[o]=!1,console.warn("文案解析失败,节点内容：%s",e.outerHTML)}finally{d[t]=d[t]||{},a(d[t],i),l[t]=l[t]||{},a(l[t],i),n&&r&&(u[r]=u[r]||{},u[r][n]=u[r][n]||c({},t,{}),u[r][n][t]=Object.keys(i),h(r,n,t))}}})),d},b=t.shtml=function(e){return e};t.format=function(e,t,n,a){var s="split-react-i18n-split",c={},l=!1,u=e.replace(/\{\s*(?:([-\w]+)\s+)?([-\\.\w]+)(?:\s+([^}]+))*\s*\}/g,(function(e,o){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,d=arguments[3],p=t[u];if(o)if(n.helpers[o]||i.default[o]){var f=n.helpers[o]||i.default[o];try{p=f.bind(n)(u,p,d,t,a)}catch(e){console.warn("@alife/i18n Helper error:"+p)}}else console.warn('@alife/i18n Helper "'+o+'" 不存在');return p&&"symbol"===r(p.$$typeof)?(l=!0,c[u]=p,p=""+s+u+s):p="undefined"===typeof p?e:p,p}));return l&&(u=u.split(s).map((function(e){return c[e]||t[e]||o.default.createElement("span",{dangerouslySetInnerHTML:{__html:b(e)}})}))),u},t.transfer=function e(t,n){var o={};return"object"===("undefined"===typeof t?"undefined":r(t))&&Object.keys(t).forEach((function(i){var s=n?n+"."+i:i,c=t[i];"object"===("undefined"===typeof c?"undefined":r(c))?a(o,e(t[i],s)):o[s]=c})),o},t.ns2json=function(e,t){var n={};return Object.keys(e).filter((function(e){return new RegExp("^"+t.replace(".","\\.")).test(e)})).forEach((function(r){var a=(t?r.replace(t+".",""):r).split("."),o=n;a.forEach((function(t,n){n===a.length-1?o[t]=e[r]:o=o[t]=o[t]||c({},a[n+1],{})}))})),n},t.distinct=function(e){var t=void 0,n={},r=[],a=e.length;for(t=0;t<a;t++)n[e[t]]||(n[e[t]]=1,r.push(e[t]));return r};t.default={parse:y,currentLang:v,formatLang:g,langpacks:d,mountCache:m,shtml:b}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=l,t.addEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&l(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=c(e,t,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:n}},t.createSVGTransform=function(e,t){return c(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=c,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=s,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(s(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,o=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:o}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=u,t.removeEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&u(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var r=n(96),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(461));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}let i="";function s(e,t){return i||(i=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[i])&&e[i](t)}function c(e,t,n){let{x:r,y:a}=e,o="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){const e="".concat("string"===typeof t.x?t.x:t.x+n),r="".concat("string"===typeof t.y?t.y:t.y+n);o="translate(".concat(e,", ").concat(r,")")+o}return o}function l(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},function(e,t,n){var r,a;r=function(){function e(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(t,n.firstChild);for(var r,a=document.createElement("a"),o=1;o<e;o++)a.href=arguments[o],r=a.href,t.href=r;return n.removeChild(t),r}return e},void 0===(a="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=a)},function(e,t){e.exports=IcbuIM.Next1.Overlay},function(e,t,n){e.exports=n(432)},function(e,t,n){"use strict";n.r(t);t.default={chatToobarItemClick:"chatToobarItemClick",startCommand:"im-weblite-chat:startCommand"}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},c=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t,n=r.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!o)return!1;for(t in e);return"undefined"===typeof t||r.call(e,t)},l=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,n,r,a,o,i,d=arguments[0],p=1,f=arguments.length,m=!1;for("boolean"===typeof d&&(m=d,d=arguments[1]||{},p=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});p<f;++p)if(null!=(t=arguments[p]))for(n in t)r=u(d,n),d!==(a=u(t,n))&&(m&&a&&(c(a)||(o=s(a)))?(o?(o=!1,i=r&&s(r)?r:[]):i=r&&c(r)?r:{},l(d,{name:n,newValue:e(m,i,a)})):"undefined"!==typeof a&&l(d,{name:n,newValue:a}));return d}},function(e,t){e.exports=IcbuIM.Next1.Tab},function(e,t,n){e.exports=n(347)},function(e,t,n){var r={},a="en-us";for(var o in r["en-us"]=n(467),r["bn-bd"]=n(468),r["zh-tw"]=n(469),r["ja-jp"]=n(470),r["en-np"]=n(471),r["pl-pl"]=n(472),r["zh-cn"]=n(473),r["hi-in"]=n(474),r["en-lk"]=n(475),r["en-bd"]=n(476),r["tr-tr"]=n(477),r["ko-kr"]=n(478),r["fr-fr"]=n(479),r["ne-np"]=n(480),r["uk-ua"]=n(481),r["es-es"]=n(482),r["in-id"]=n(483),r["ar-sa"]=n(484),r["ur-pk"]=n(485),r["my-mm"]=n(486),r["vi-vn"]=n(487),r["pt-pt"]=n(488),r["de-de"]=n(489),r["en-pk"]=n(490),r["en-vn"]=n(491),r["th-th"]=n(492),r["it-it"]=n(493),r["nl-nl"]=n(494),r["zh-hk"]=n(495),r["en-mm"]=n(496),r["ms-my"]=n(497),r["ru-ru"]=n(498),r["iw-il"]=n(499),r["si-lk"]=n(500),r)if(r.hasOwnProperty(o)&&o!=a)for(var i in r[a])r[a].hasOwnProperty(i)&&(r[o].hasOwnProperty(i)||(r[o][i]=r[a][i]));r.appName="intl-gangesweb",r.groupName="translate_feedback",r.defaultLocale=a,e.exports=r},function(e,t,n){e.exports=n(501)},function(e,t,n){n(507);const r=n(508),{fetchFile:a}=n(175);e.exports={createFFmpeg:r,fetchFile:a}},function(e,t,n){"use strict";e.exports=n(448)},function(e,t,n){var r=n(239);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(71).default,a=n(216);e.exports=function(e){var t=a(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(235);Object.defineProperty(t,"ALICheckedTag",{enumerable:!0,get:function(){return p(r).default}});var a=n(276);Object.defineProperty(t,"ALIFlowLayout",{enumerable:!0,get:function(){return p(a).default}});var o=n(278);Object.defineProperty(t,"ALITagButton",{enumerable:!0,get:function(){return p(o).default}});var i=n(280);Object.defineProperty(t,"ALIChatRichTextView",{enumerable:!0,get:function(){return p(i).default}});var s=n(282);Object.defineProperty(t,"ALISuperTextView",{enumerable:!0,get:function(){return p(s).default}});var c=n(286);Object.defineProperty(t,"ALINormalRichTextView",{enumerable:!0,get:function(){return p(c).default}});var l=n(288);Object.defineProperty(t,"AILayout",{enumerable:!0,get:function(){return p(l).default}});var u=n(291);Object.defineProperty(t,"AILoading",{enumerable:!0,get:function(){return p(u).default}});var d=n(293);function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"AIText",{enumerable:!0,get:function(){return p(d).default}})},function(e,t,n){e.exports=!n(55)&&!n(69)((function(){return 7!=Object.defineProperty(n(148)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(68),a=n(54).document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var r=n(63),a=n(70),o=n(241)(!1),i=n(112)("IE_PROTO");e.exports=function(e,t){var n,s=a(e),c=0,l=[];for(n in s)n!=i&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(141);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(63),a=n(87),o=n(112)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(248)),a=i(n(258)),o="function"===typeof a.default&&"symbol"===typeof r.default?function(e){return typeof e}:function(e){return e&&"function"===typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function i(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof a.default&&"symbol"===o(r.default)?function(e){return"undefined"===typeof e?"undefined":o(e)}:function(e){return e&&"function"===typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":"undefined"===typeof e?"undefined":o(e)}},function(e,t,n){"use strict";var r=n(90),a=n(61),o=n(154),i=n(67),s=n(107),c=n(251),l=n(117),u=n(151),d=n(66)("iterator"),p=!([].keys&&"next"in[].keys()),f="keys",m="values",h=function(){return this};e.exports=function(e,t,n,g,v,y,b){c(n,t,g);var w,x,C,E=function(e){if(!p&&e in _)return _[e];switch(e){case f:case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",k=v==m,T=!1,_=e.prototype,I=_[d]||_["@@iterator"]||v&&_[v],O=I||E(v),A=v?k?E("entries"):O:void 0,D="Array"==t&&_.entries||I;if(D&&(C=u(D.call(new e)))!==Object.prototype&&C.next&&(l(C,S,!0),r||"function"==typeof C[d]||i(C,d,h)),k&&I&&I.name!==m&&(T=!0,O=function(){return I.call(this)}),r&&!b||!p&&!T&&_[d]||i(_,d,O),s[t]=O,s[S]=h,v)if(w={values:k?O:E(m),keys:y?O:E(f),entries:A},b)for(x in w)x in _||o(_,x,w[x]);else a(a.P+a.F*(p||T),t,w);return w}},function(e,t,n){e.exports=n(67)},function(e,t,n){var r=n(149),a=n(114).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t,n){var r=n(92),a=n(88),o=n(70),i=n(109),s=n(63),c=n(147),l=Object.getOwnPropertyDescriptor;t.f=n(55)?l:function(e,t){if(e=o(e),t=i(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return a(!r.f.call(e,t),e[t])}},function(e,t,n){},function(e,t,n){var r=n(159);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=_(n(0)),o=_(n(93)),i=_(n(316)),s=_(n(317)),c=_(n(318)),l=_(n(319)),u=_(n(320)),d=_(n(321)),p=_(n(322)),f=_(n(323)),m=_(n(324)),h=_(n(325)),g=_(n(326)),v=_(n(327)),y=_(n(328)),b=_(n(329)),w=_(n(330)),x=_(n(331)),C=_(n(332)),E=_(n(333)),S=_(n(334)),k=_(n(335)),T=_(n(336));function _(e){return e&&e.__esModule?e:{default:e}}var I={"assessed-supplier":i.default,"av-checked":s.default,"company-video":c.default,diamond:l.default,"new-diamond":u.default,"grey-new-diamond":d.default,"e-credit":p.default,"gold-supplier":f.default,"plus-supplier":E.default,"plus-supplier-w":S.default,"half-diamond":m.default,"hundred-percent":h.default,"identity-checked":g.default,"identity-disabled":v.default,"identity-unchecked":y.default,"logistic-service":b.default,"onsite-check":w.default,"secure-payment":x.default,"trade-assurance":C.default,"alibaba-logo":k.default,"verified-icon":T.default},O={xxs:8,xs:12,small:16,medium:20,large:24,xl:32,xxl:48,xxxl:64};function A(e){var t,n,i,s=e.type,c=e.size,l=e.className,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["type","size","className"]),d=(0,o.default)((i=l,(n=l)in(t={"icbu-icon-svg":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t)),p=I[s];if(!p)return null;var f=Number(c)||O[c]||O.medium;return a.default.createElement(p,r({},u,{className:d,size:f}))}A.defaultProps={size:64},t.default=A,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warn=t.getOwnKeys=void 0;var r,a,o,i,s,c,l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isDescriptor=w,t.decorate=function(e,t){return w(t[t.length-1])?e.apply(void 0,h(t).concat([[]])):function(){return e.apply(void 0,h(Array.prototype.slice.call(arguments)).concat([t]))}},t.metaFor=function(e){!1===e.hasOwnProperty(C)&&g(e,C,{value:new x});return e[C]},t.getOwnPropertyDescriptors=function(e){var t={};return E(e).forEach((function(n){return t[n]=v(e,n)})),t},t.createDefaultSetter=function(e){return function(t){return Object.defineProperty(this,e,{configurable:!0,writable:!0,enumerable:!0,value:t}),t}},t.bind=S,t.internalDeprecation=function(e){!0!==T[e]&&(T[e]=!0,k("DEPRECATION: "+e))};var u,d=n(370),p=(u=d)&&u.__esModule?u:{default:u};function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var g=Object.defineProperty,v=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols;function w(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],n=0,r=t.length;n<r;n++)if(e.hasOwnProperty(t[n]))return!0;return!1}var x=(r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"debounceTimeoutIds",a,this),f(this,"throttleTimeoutIds",o,this),f(this,"throttlePreviousTimestamps",i,this),f(this,"throttleTrailingArgs",s,this),f(this,"profileLastRan",c,this)},a=m(r.prototype,"debounceTimeoutIds",[p.default],{enumerable:!0,initializer:function(){return{}}}),o=m(r.prototype,"throttleTimeoutIds",[p.default],{enumerable:!0,initializer:function(){return{}}}),i=m(r.prototype,"throttlePreviousTimestamps",[p.default],{enumerable:!0,initializer:function(){return{}}}),s=m(r.prototype,"throttleTrailingArgs",[p.default],{enumerable:!0,initializer:function(){return null}}),c=m(r.prototype,"profileLastRan",[p.default],{enumerable:!0,initializer:function(){return null}}),r),C="function"===typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";var E=t.getOwnKeys=b?function(e){return y(e).concat(b(e))}:y;function S(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}var k=t.warn="object"===("undefined"===typeof console?"undefined":l(console))&&console&&"function"===typeof console.warn?S(console.warn,console):function(){},T={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registry=void 0;var r,a=n(376),o=(r=a)&&r.__esModule?r:{default:r};var i={"-":function(e,t,n){return isNaN(t)?t:(0,o.default)(t).format(n)}};t.registry=function(e,t){i[e]=t};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warn=t.getOwnKeys=void 0;var r,a,o,i,s,c,l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isDescriptor=w,t.decorate=function(e,t){return w(t[t.length-1])?e.apply(void 0,h(t).concat([[]])):function(){return e.apply(void 0,h(Array.prototype.slice.call(arguments)).concat([t]))}},t.metaFor=function(e){!1===e.hasOwnProperty(C)&&g(e,C,{value:new x});return e[C]},t.getOwnPropertyDescriptors=function(e){var t={};return E(e).forEach((function(n){return t[n]=v(e,n)})),t},t.createDefaultSetter=function(e){return function(t){return Object.defineProperty(this,e,{configurable:!0,writable:!0,enumerable:!0,value:t}),t}},t.bind=S,t.internalDeprecation=function(e){!0!==T[e]&&(T[e]=!0,k("DEPRECATION: "+e))};var u,d=n(391),p=(u=d)&&u.__esModule?u:{default:u};function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var g=Object.defineProperty,v=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols;function w(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],n=0,r=t.length;n<r;n++)if(e.hasOwnProperty(t[n]))return!0;return!1}var x=(r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"debounceTimeoutIds",a,this),f(this,"throttleTimeoutIds",o,this),f(this,"throttlePreviousTimestamps",i,this),f(this,"throttleTrailingArgs",s,this),f(this,"profileLastRan",c,this)},a=m(r.prototype,"debounceTimeoutIds",[p.default],{enumerable:!0,initializer:function(){return{}}}),o=m(r.prototype,"throttleTimeoutIds",[p.default],{enumerable:!0,initializer:function(){return{}}}),i=m(r.prototype,"throttlePreviousTimestamps",[p.default],{enumerable:!0,initializer:function(){return{}}}),s=m(r.prototype,"throttleTrailingArgs",[p.default],{enumerable:!0,initializer:function(){return null}}),c=m(r.prototype,"profileLastRan",[p.default],{enumerable:!0,initializer:function(){return null}}),r),C="function"===typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";var E=t.getOwnKeys=b?function(e){return y(e).concat(b(e))}:y;function S(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}var k=t.warn="object"===("undefined"===typeof console?"undefined":l(console))&&console&&"function"===typeof console.warn?S(console.warn,console):function(){},T={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registry=void 0;var r,a=n(397),o=(r=a)&&r.__esModule?r:{default:r};var i={"-":function(e,t,n){return isNaN(t)?t:(0,o.default)(t).format(n)}};t.registry=function(e,t){i[e]=t};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warn=t.getOwnKeys=void 0;var r,a,o,i,s,c,l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isDescriptor=w,t.decorate=function(e,t){return w(t[t.length-1])?e.apply(void 0,h(t).concat([[]])):function(){return e.apply(void 0,h(Array.prototype.slice.call(arguments)).concat([t]))}},t.metaFor=function(e){!1===e.hasOwnProperty(C)&&g(e,C,{value:new x});return e[C]},t.getOwnPropertyDescriptors=function(e){var t={};return E(e).forEach((function(n){return t[n]=v(e,n)})),t},t.createDefaultSetter=function(e){return function(t){return Object.defineProperty(this,e,{configurable:!0,writable:!0,enumerable:!0,value:t}),t}},t.bind=S,t.internalDeprecation=function(e){!0!==T[e]&&(T[e]=!0,k("DEPRECATION: "+e))};var u,d=n(412),p=(u=d)&&u.__esModule?u:{default:u};function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var g=Object.defineProperty,v=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols;function w(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],n=0,r=t.length;n<r;n++)if(e.hasOwnProperty(t[n]))return!0;return!1}var x=(r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"debounceTimeoutIds",a,this),f(this,"throttleTimeoutIds",o,this),f(this,"throttlePreviousTimestamps",i,this),f(this,"throttleTrailingArgs",s,this),f(this,"profileLastRan",c,this)},a=m(r.prototype,"debounceTimeoutIds",[p.default],{enumerable:!0,initializer:function(){return{}}}),o=m(r.prototype,"throttleTimeoutIds",[p.default],{enumerable:!0,initializer:function(){return{}}}),i=m(r.prototype,"throttlePreviousTimestamps",[p.default],{enumerable:!0,initializer:function(){return{}}}),s=m(r.prototype,"throttleTrailingArgs",[p.default],{enumerable:!0,initializer:function(){return null}}),c=m(r.prototype,"profileLastRan",[p.default],{enumerable:!0,initializer:function(){return null}}),r),C="function"===typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";var E=t.getOwnKeys=b?function(e){return y(e).concat(b(e))}:y;function S(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}var k=t.warn="object"===("undefined"===typeof console?"undefined":l(console))&&console&&"function"===typeof console.warn?S(console.warn,console):function(){},T={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registry=void 0;var r,a=n(418),o=(r=a)&&r.__esModule?r:{default:r};var i={"-":function(e,t,n){return isNaN(t)?t:(0,o.default)(t).format(n)}};t.registry=function(e,t){i[e]=t};t.default=i},function(e,t,n){},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){var r,a,o;a=[],void 0===(o="function"===typeof(r=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e,t){return-1===e.indexOf(t)?e.length:e.indexOf(t)}function n(e){var n=e.replace(/^v/,"").replace(/\+.*$/,""),r=t(n,"-"),a=n.substring(0,r).split(".");return a.push(n.substring(r+1)),a}function r(e){return isNaN(Number(e))?e:Number(e)}function a(t){if("string"!==typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function o(e,t){[e,t].forEach(a);for(var o=n(e),i=n(t),s=0;s<Math.max(o.length-1,i.length-1);s++){var c=parseInt(o[s]||0,10),l=parseInt(i[s]||0,10);if(c>l)return 1;if(l>c)return-1}var u=o[o.length-1],d=i[i.length-1];if(u&&d){var p=u.split(".").map(r),f=d.split(".").map(r);for(s=0;s<Math.max(p.length,f.length);s++){if(void 0===p[s]||"string"===typeof f[s]&&"number"===typeof p[s])return-1;if(void 0===f[s]||"string"===typeof p[s]&&"number"===typeof f[s])return 1;if(p[s]>f[s])return 1;if(f[s]>p[s])return-1}}else if(u||d)return u?-1:1;return 0}var i=[">",">=","=","<","<="],s={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function c(e){if("string"!==typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===i.indexOf(e))throw new TypeError("Invalid operator, expected one of "+i.join("|"))}return o.validate=function(t){return"string"===typeof t&&e.test(t)},o.compare=function(e,t,n){c(n);var r=o(e,t);return s[n].indexOf(r)>-1},o})?r.apply(t,a):r)||(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(r=c(regeneratorRuntime.mark((function e(t,n,r){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,o=new Date,e.abrupt("return",new Promise((function(e,t){var i=setTimeout((function(){t({code:504,message:"timeout",path:a.href||a.src})}),6e4),s=void 0;function c(){clearTimeout(s),clearTimeout(i),e(new Date-o)}function l(e){clearTimeout(s),clearTimeout(i);var n=e.target.href||a.src,r=new Date-o;t({code:"loaderror",path:n,delay:r})}r&&(setTimeout((function(){e(300)}),300),a.removeEventListener("load",c),a.removeEventListener("error",l)),a.addEventListener("load",c),a.addEventListener("error",l),n()})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)}),s=(a=c(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l[t]||((n=document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",t),r=document.getElementsByTagName("head")[0],l[t]=i(n,(function(){r.insertBefore(n,r.firstChild)}))),e.abrupt("return",l[t]);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)});function c(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var l={};function u(e){if(!l[e]){var t=document.querySelector('[src="'+e+'"]'),n=function(){};if(t){if(performance&&performance.getEntriesByName(t.src).length||t.readyState&&["loaded","complete"].indexOf(t.readyState))return Promise.resolve();l[e]=i(t,n,!0)}else t||((t=document.createElement("script")).type="text/javascript",t.src=e,t.crossOrigin="anonymous",n=function(){return document.body.appendChild(t)}),l[e]=i(t,n)}return l[e]}t.loadJS=u,t.loadCSS=s,t.loadJSONP=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).timeout,n=void 0===t?6e4:t,r=("jsonp_"+Math.random()).replace(".","");return new Promise((function(t,a){var o=setTimeout((function(){s(),a({code:504,message:"jsonp-timeout"})}),n);window[r]=function(e){s(),t(e)};var i=e+"&callback="+r;function s(){delete window[r],clearTimeout(o),delete l[i]}u(i).then(t,(function(e){s(),a(e)}))}))},t.jsonp=function(e,t){if(!e)throw new Error("api url is necessary");var n="jsonp_"+Math.random().toString().slice(2),r="";if("string"===typeof t&&(r="&"+t),"object"===("undefined"===typeof t?"undefined":o(t)))for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r+="&"+a+"="+encodeURIComponent(t[a]||""));var i=e+"&callback="+n+r,s=document.getElementsByTagName("head")[0],c=document.createElement("script");return c.setAttribute("type","text/javascript"),c.src=i,new Promise((function(e){window[n]=function(t){e(t),s.removeChild(c),delete window[n]},s.appendChild(c)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserId=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(450),o=n(451),i=t.getUserId=function(){var e="";try{var t=document.cookie&&document.cookie.match(/(?:^|;)\s*xman_us_t\s*=\s*([^;]+)/);t&&t.length>0&&(e=t[1].match(/(?:^|&)\s*x_lid\s*=\s*([^&]+)/)[1])}catch(e){}return e},s=(0,a.getItraceInstance)({bid:"linx-micro-service-react",rel:o.COMP_VERSION,uid:i()}),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e&&s.report(r({category:e},t))}catch(e){console.error(e)}},l={install:function(){s.setReady()},trackerLoadFailProtocal:function(e){c(100,e)},trackerLoadFailProtocalAfter10senconds:function(e){c(101,e)},trackerLoadFailProtocalAfter20senconds:function(e){c(102,e)},trackerComponentRenderError:function(e){c(104,e)},trackerMicroServiceResourceVersion:function(e){c(105,e)}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const a=!(0,r.isNum)(e.lastX),i=o(e);return a?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:i}=e.props;i="string"===typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);const s=o(e);if("string"===typeof i){const{ownerDocument:e}=s,t=e.defaultView;let n;if(n="parent"===i?s.parentNode:e.querySelector(i),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const o=n,c=t.getComputedStyle(s),l=t.getComputedStyle(o);i={left:-s.offsetLeft+(0,r.int)(l.paddingLeft)+(0,r.int)(c.marginLeft),top:-s.offsetTop+(0,r.int)(l.paddingTop)+(0,r.int)(c.marginTop),right:(0,a.innerWidth)(o)-(0,a.outerWidth)(s)-s.offsetLeft+(0,r.int)(l.paddingRight)-(0,r.int)(c.marginRight),bottom:(0,a.innerHeight)(o)-(0,a.outerHeight)(s)-s.offsetTop+(0,r.int)(l.paddingBottom)-(0,r.int)(c.marginBottom)}}(0,r.isNum)(i.right)&&(t=Math.min(t,i.right));(0,r.isNum)(i.bottom)&&(n=Math.min(n,i.bottom));(0,r.isNum)(i.left)&&(t=Math.max(t,i.left));(0,r.isNum)(i.top)&&(n=Math.max(n,i.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"===typeof t?(0,a.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;const i=o(n),s=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]};var r=n(96),a=n(128);function o(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},function(e,t){let n=!1,r=()=>{};e.exports={logging:n,setLogging:e=>{n=e},setCustomLogger:e=>{r=e},log:(e,t)=>{r({type:e,message:t}),n&&console.log(`[${e}] ${t}`)}}},function(e,t,n){const r=n(512),a=n(513),o=n(514);e.exports={defaultOptions:r,getCreateFFmpegCore:a,fetchFile:o}},function(e){e.exports=JSON.parse('{"name":"@ffmpeg/ffmpeg","version":"0.9.8","description":"FFmpeg WebAssembly version","main":"src/index.js","types":"src/index.d.ts","directories":{"example":"examples"},"scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","prepublishOnly":"npm run build","lint":"eslint src","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"keywords":["ffmpeg","WebAssembly","video"],"author":"Jerome Wu <jeromewus@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","dependencies":{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},"devDependencies":{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.9.0","@types/emscripten":"^1.39.4","babel-loader":"^8.1.0","chai":"^4.2.0","cors":"^2.8.5","eslint":"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1","express":"^4.17.1","mocha":"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0","webpack":"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},"__npminstall_done":true,"_from":"@ffmpeg/ffmpeg@0.9.8","_resolved":"https://registry.anpm.alibaba-inc.com/@ffmpeg/ffmpeg/-/ffmpeg-0.9.8.tgz"}')},function(e,t){e.exports=IcbuIM["dva-immer"]},function(e,t,n){"use strict";e.exports=n(218)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(0);let a;a="undefined"!==typeof window?window:"undefined"!==typeof self?self:e;let o=null,i=null;const s=a.clearTimeout,c=a.setTimeout,l=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame,u=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame;function d(e){let t,n,r,s,c,l,u;const d="undefined"!==typeof document&&document.attachEvent;if(!d){l=function(e){const t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,a=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,a.style.width=n.offsetWidth+1+"px",a.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},c=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},u=function(e){if(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)return;const t=this;l(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=i((function(){c(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))};let e=!1,a="";r="animationstart";const d="Webkit Moz O ms".split(" ");let p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="";{const t=document.createElement("fakeelement");if(void 0!==t.style.animationName&&(e=!0),!1===e)for(let n=0;n<d.length;n++)if(void 0!==t.style[d[n]+"AnimationName"]){f=d[n],a="-"+f.toLowerCase()+"-",r=p[n],e=!0;break}}n="resizeanim",t="@"+a+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",s=a+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,i){if(d)o.attachEvent("onresize",i);else{if(!o.__resizeTriggers__){const i=o.ownerDocument,c=a.getComputedStyle(o);c&&"static"===c.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){const r=(t||"")+".resize-triggers { "+(s||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',a=n.head||n.getElementsByTagName("head")[0],o=n.createElement("style");o.id="detectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=r:o.appendChild(n.createTextNode(r)),a.appendChild(o)}}(i),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=i.createElement("div")).className="resize-triggers";const d=i.createElement("div");d.className="expand-trigger",d.appendChild(i.createElement("div"));const p=i.createElement("div");p.className="contract-trigger",o.__resizeTriggers__.appendChild(d),o.__resizeTriggers__.appendChild(p),o.appendChild(o.__resizeTriggers__),l(o),o.addEventListener("scroll",u,!0),r&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&l(o)},o.__resizeTriggers__.addEventListener(r,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(i)}},removeResizeListener:function(e,t){if(d)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",u,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}null==l||null==u?(o=s,i=function(e){return c(e,20)}):(o=function([e,t]){l(e),s(t)},i=function(e){const t=u((function(){s(n),e()})),n=c((function(){l(t),e()}),20);return[t,n]});class p extends r.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:e,disableWidth:t,onResize:n}=this.props;if(this._parentNode){const r=window.getComputedStyle(this._parentNode)||{},a=parseFloat(r.paddingLeft||"0"),o=parseFloat(r.paddingRight||"0"),i=parseFloat(r.paddingTop||"0"),s=parseFloat(r.paddingBottom||"0"),c=this._parentNode.getBoundingClientRect(),l=c.height-i-s,u=c.width-a-o,d=this._parentNode.offsetHeight-i-s,p=this._parentNode.offsetWidth-a-o;(e||this.state.height===d&&this.state.scaledHeight===l)&&(t||this.state.width===p&&this.state.scaledWidth===u)||(this.setState({height:d,width:p,scaledHeight:l,scaledWidth:u}),"function"===typeof n&&n({height:d,scaledHeight:l,scaledWidth:u,width:p}))}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){const{nonce:e}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(null!=t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;const n=t.ownerDocument.defaultView.ResizeObserver;null!=n?(this._resizeObserver=new n((()=>{this._timeoutId=setTimeout(this._onResize,0)})),this._resizeObserver.observe(t)):(this._detectElementResize=d(e),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:t,defaultWidth:n,disableHeight:a=!1,disableWidth:o=!1,doNotBailOutOnEmptyChildren:i=!1,nonce:s,onResize:c,style:l={},tagName:u="div",...d}=this.props,{height:p,scaledHeight:f,scaledWidth:m,width:h}=this.state,g={overflow:"visible"},v={};let y=!1;return a||(0===p&&(y=!0),g.height=0,v.height=p,v.scaledHeight=f),o||(0===h&&(y=!0),g.width=0,v.width=h,v.scaledWidth=m),i&&(y=!1),Object(r.createElement)(u,{ref:this._setRef,style:{...g,...l},...d},!y&&e(v))}}}).call(this,n(106))},function(e,t,n){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function r(e,a,o){return r=n()?Reflect.construct:function(e,n,r){var a=[null];a.push.apply(a,n);var o=new(Function.bind.apply(e,a));return r&&t(o,r.prototype),o},r.apply(null,arguments)}function a(e){return o(e)||i(e)||s(e)||l()}function o(e){if(Array.isArray(e))return c(e)}function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=Object.hasOwnProperty,d=Object.setPrototypeOf,p=Object.isFrozen,f=Object.getPrototypeOf,m=Object.getOwnPropertyDescriptor,h=Object.freeze,g=Object.seal,v=Object.create,y="undefined"!==typeof Reflect&&Reflect,b=y.apply,w=y.construct;b||(b=function(e,t,n){return e.apply(t,n)}),h||(h=function(e){return e}),g||(g=function(e){return e}),w||(w=function(e,t){return r(e,a(t))});var x=M(Array.prototype.forEach),C=M(Array.prototype.pop),E=M(Array.prototype.push),S=M(String.prototype.toLowerCase),k=M(String.prototype.toString),T=M(String.prototype.match),_=M(String.prototype.replace),I=M(String.prototype.indexOf),O=M(String.prototype.trim),A=M(RegExp.prototype.test),D=N(TypeError);function M(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return b(e,t,r)}}function N(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(e,n)}}function P(e,t,n){var r;n=null!==(r=n)&&void 0!==r?r:S,d&&d(e,null);for(var a=t.length;a--;){var o=t[a];if("string"===typeof o){var i=n(o);i!==o&&(p(t)||(t[a]=i),o=i)}e[o]=!0}return e}function L(e){var t,n=v(null);for(t in e)!0===b(u,e,[t])&&(n[t]=e[t]);return n}function R(e,t){for(;null!==e;){var n=m(e,t);if(n){if(n.get)return M(n.get);if("function"===typeof n.value)return M(n.value)}e=f(e)}function r(e){return console.warn("fallback value for",e),null}return r}var F=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),j=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),B=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),z=h(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),q=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),V=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),U=h(["#text"]),H=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),W=h(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),K=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Z=g(/<%[\w\W]*|[\w\W]*%>/gm),X=g(/\${[\w\W]*}/gm),Y=g(/^data-[\-\w.\u00B7-\uFFFF]/),Q=g(/^aria-[\-\w]+$/),$=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=g(/^(?:\w+script|data):/i),te=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ne=g(/^html$/i),re=g(/^[a-z][.\w]*(-[.\w]+)+$/i),ae=function(){return"undefined"===typeof window?null:window},oe=function(t,n){if("object"!==e(t)||"function"!==typeof t.createPolicy)return null;var r=null,a="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(a)&&(r=n.currentScript.getAttribute(a));var o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function ie(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae(),n=function(e){return ie(e)};if(n.version="2.5.6",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,c=t.Node,l=t.Element,u=t.NodeFilter,d=t.NamedNodeMap,p=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,f=t.HTMLFormElement,m=t.DOMParser,g=t.trustedTypes,v=l.prototype,y=R(v,"cloneNode"),b=R(v,"nextSibling"),w=R(v,"childNodes"),M=R(v,"parentNode");if("function"===typeof s){var N=o.createElement("template");N.content&&N.content.ownerDocument&&(o=N.content.ownerDocument)}var se=oe(g,r),ce=se?se.createHTML(""):"",le=o,ue=le.implementation,de=le.createNodeIterator,pe=le.createDocumentFragment,fe=le.getElementsByTagName,me=r.importNode,he={};try{he=L(o).documentMode?o.documentMode:{}}catch(e){}var ge={};n.isSupported="function"===typeof M&&ue&&void 0!==ue.createHTMLDocument&&9!==he;var ve,ye,be=J,we=Z,xe=X,Ce=Y,Ee=Q,Se=ee,ke=te,Te=re,_e=$,Ie=null,Oe=P({},[].concat(a(F),a(j),a(B),a(q),a(U))),Ae=null,De=P({},[].concat(a(H),a(W),a(G),a(K))),Me=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,Pe=null,Le=!0,Re=!0,Fe=!1,je=!0,Be=!1,ze=!0,qe=!1,Ve=!1,Ue=!1,He=!1,We=!1,Ge=!1,Ke=!0,Je=!1,Ze="user-content-",Xe=!0,Ye=!1,Qe={},$e=null,et=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),tt=null,nt=P({},["audio","video","img","source","image","track"]),rt=null,at=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ot="http://www.w3.org/1998/Math/MathML",it="http://www.w3.org/2000/svg",st="http://www.w3.org/1999/xhtml",ct=st,lt=!1,ut=null,dt=P({},[ot,it,st],k),pt=["application/xhtml+xml","text/html"],ft="text/html",mt=null,ht=o.createElement("form"),gt=function(e){return e instanceof RegExp||e instanceof Function},vt=function(t){mt&&mt===t||(t&&"object"===e(t)||(t={}),t=L(t),ve=ve=-1===pt.indexOf(t.PARSER_MEDIA_TYPE)?ft:t.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===ve?k:S,Ie="ALLOWED_TAGS"in t?P({},t.ALLOWED_TAGS,ye):Oe,Ae="ALLOWED_ATTR"in t?P({},t.ALLOWED_ATTR,ye):De,ut="ALLOWED_NAMESPACES"in t?P({},t.ALLOWED_NAMESPACES,k):dt,rt="ADD_URI_SAFE_ATTR"in t?P(L(at),t.ADD_URI_SAFE_ATTR,ye):at,tt="ADD_DATA_URI_TAGS"in t?P(L(nt),t.ADD_DATA_URI_TAGS,ye):nt,$e="FORBID_CONTENTS"in t?P({},t.FORBID_CONTENTS,ye):et,Ne="FORBID_TAGS"in t?P({},t.FORBID_TAGS,ye):{},Pe="FORBID_ATTR"in t?P({},t.FORBID_ATTR,ye):{},Qe="USE_PROFILES"in t&&t.USE_PROFILES,Le=!1!==t.ALLOW_ARIA_ATTR,Re=!1!==t.ALLOW_DATA_ATTR,Fe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,je=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Be=t.SAFE_FOR_TEMPLATES||!1,ze=!1!==t.SAFE_FOR_XML,qe=t.WHOLE_DOCUMENT||!1,He=t.RETURN_DOM||!1,We=t.RETURN_DOM_FRAGMENT||!1,Ge=t.RETURN_TRUSTED_TYPE||!1,Ue=t.FORCE_BODY||!1,Ke=!1!==t.SANITIZE_DOM,Je=t.SANITIZE_NAMED_PROPS||!1,Xe=!1!==t.KEEP_CONTENT,Ye=t.IN_PLACE||!1,_e=t.ALLOWED_URI_REGEXP||_e,ct=t.NAMESPACE||st,Me=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&gt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Me.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&gt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Me.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Me.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Be&&(Re=!1),We&&(He=!0),Qe&&(Ie=P({},a(U)),Ae=[],!0===Qe.html&&(P(Ie,F),P(Ae,H)),!0===Qe.svg&&(P(Ie,j),P(Ae,W),P(Ae,K)),!0===Qe.svgFilters&&(P(Ie,B),P(Ae,W),P(Ae,K)),!0===Qe.mathMl&&(P(Ie,q),P(Ae,G),P(Ae,K))),t.ADD_TAGS&&(Ie===Oe&&(Ie=L(Ie)),P(Ie,t.ADD_TAGS,ye)),t.ADD_ATTR&&(Ae===De&&(Ae=L(Ae)),P(Ae,t.ADD_ATTR,ye)),t.ADD_URI_SAFE_ATTR&&P(rt,t.ADD_URI_SAFE_ATTR,ye),t.FORBID_CONTENTS&&($e===et&&($e=L($e)),P($e,t.FORBID_CONTENTS,ye)),Xe&&(Ie["#text"]=!0),qe&&P(Ie,["html","head","body"]),Ie.table&&(P(Ie,["tbody"]),delete Ne.tbody),h&&h(t),mt=t)},yt=P({},["mi","mo","mn","ms","mtext"]),bt=P({},["foreignobject","annotation-xml"]),wt=P({},["title","style","font","a","script"]),xt=P({},j);P(xt,B),P(xt,z);var Ct=P({},q);P(Ct,V);var Et=function(e){var t=M(e);t&&t.tagName||(t={namespaceURI:ct,tagName:"template"});var n=S(e.tagName),r=S(t.tagName);return!!ut[e.namespaceURI]&&(e.namespaceURI===it?t.namespaceURI===st?"svg"===n:t.namespaceURI===ot?"svg"===n&&("annotation-xml"===r||yt[r]):Boolean(xt[n]):e.namespaceURI===ot?t.namespaceURI===st?"math"===n:t.namespaceURI===it?"math"===n&&bt[r]:Boolean(Ct[n]):e.namespaceURI===st?!(t.namespaceURI===it&&!bt[r])&&!(t.namespaceURI===ot&&!yt[r])&&!Ct[n]&&(wt[n]||!xt[n]):!("application/xhtml+xml"!==ve||!ut[e.namespaceURI]))},St=function(e){E(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ce}catch(t){e.remove()}}},kt=function(e,t){try{E(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){E(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ae[e])if(He||We)try{St(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Tt=function(e){var t,n;if(Ue)e="<remove></remove>"+e;else{var r=T(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ve&&ct===st&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var a=se?se.createHTML(e):e;if(ct===st)try{t=(new m).parseFromString(a,ve)}catch(e){}if(!t||!t.documentElement){t=ue.createDocument(ct,"template",null);try{t.documentElement.innerHTML=lt?ce:a}catch(e){}}var i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),ct===st?fe.call(t,qe?"html":"body")[0]:qe?t.documentElement:i},_t=function(e){return de.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null,!1)},It=function(e){return e instanceof f&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof p)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore||"function"!==typeof e.hasChildNodes)},Ot=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName},At=function(e,t,r){ge[e]&&x(ge[e],(function(e){e.call(n,t,r,mt)}))},Dt=function(e){var t;if(At("beforeSanitizeElements",e,null),It(e))return St(e),!0;if(A(/[\u0080-\uFFFF]/,e.nodeName))return St(e),!0;var r=ye(e.nodeName);if(At("uponSanitizeElement",e,{tagName:r,allowedTags:Ie}),e.hasChildNodes()&&!Ot(e.firstElementChild)&&(!Ot(e.content)||!Ot(e.content.firstElementChild))&&A(/<[/\w]/g,e.innerHTML)&&A(/<[/\w]/g,e.textContent))return St(e),!0;if("select"===r&&A(/<template/i,e.innerHTML))return St(e),!0;if(7===e.nodeType)return St(e),!0;if(ze&&8===e.nodeType&&A(/<[/\w]/g,e.data))return St(e),!0;if(!Ie[r]||Ne[r]){if(!Ne[r]&&Nt(r)){if(Me.tagNameCheck instanceof RegExp&&A(Me.tagNameCheck,r))return!1;if(Me.tagNameCheck instanceof Function&&Me.tagNameCheck(r))return!1}if(Xe&&!$e[r]){var a=M(e)||e.parentNode,o=w(e)||e.childNodes;if(o&&a)for(var i=o.length-1;i>=0;--i){var s=y(o[i],!0);s.__removalCount=(e.__removalCount||0)+1,a.insertBefore(s,b(e))}}return St(e),!0}return e instanceof l&&!Et(e)?(St(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!A(/<\/no(script|embed|frames)/i,e.innerHTML)?(Be&&3===e.nodeType&&(t=e.textContent,t=_(t,be," "),t=_(t,we," "),t=_(t,xe," "),e.textContent!==t&&(E(n.removed,{element:e.cloneNode()}),e.textContent=t)),At("afterSanitizeElements",e,null),!1):(St(e),!0)},Mt=function(e,t,n){if(Ke&&("id"===t||"name"===t)&&(n in o||n in ht))return!1;if(Re&&!Pe[t]&&A(Ce,t));else if(Le&&A(Ee,t));else if(!Ae[t]||Pe[t]){if(!(Nt(e)&&(Me.tagNameCheck instanceof RegExp&&A(Me.tagNameCheck,e)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(e))&&(Me.attributeNameCheck instanceof RegExp&&A(Me.attributeNameCheck,t)||Me.attributeNameCheck instanceof Function&&Me.attributeNameCheck(t))||"is"===t&&Me.allowCustomizedBuiltInElements&&(Me.tagNameCheck instanceof RegExp&&A(Me.tagNameCheck,n)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(n))))return!1}else if(rt[t]);else if(A(_e,_(n,ke,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==I(n,"data:")||!tt[e])if(Fe&&!A(Se,_(n,ke,"")));else if(n)return!1;return!0},Nt=function(e){return"annotation-xml"!==e&&T(e,Te)},Pt=function(t){var r,a,o,i;At("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ae};for(i=s.length;i--;){var l=r=s[i],u=l.name,d=l.namespaceURI;if(a="value"===u?r.value:O(r.value),o=ye(u),c.attrName=o,c.attrValue=a,c.keepAttr=!0,c.forceKeepAttr=void 0,At("uponSanitizeAttribute",t,c),a=c.attrValue,ze&&A(/((--!?|])>)|<\/(style|title)/i,a))kt(u,t);else if(!c.forceKeepAttr&&(kt(u,t),c.keepAttr))if(je||!A(/\/>/i,a)){Be&&(a=_(a,be," "),a=_(a,we," "),a=_(a,xe," "));var p=ye(t.nodeName);if(Mt(p,o,a)){if(!Je||"id"!==o&&"name"!==o||(kt(u,t),a=Ze+a),se&&"object"===e(g)&&"function"===typeof g.getAttributeType)if(d);else switch(g.getAttributeType(p,o)){case"TrustedHTML":a=se.createHTML(a);break;case"TrustedScriptURL":a=se.createScriptURL(a)}try{d?t.setAttributeNS(d,u,a):t.setAttribute(u,a),It(t)?St(t):C(n.removed)}catch(e){}}}else kt(u,t)}At("afterSanitizeAttributes",t,null)}},Lt=function e(t){var n,r=_t(t);for(At("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)At("uponSanitizeShadowNode",n,null),Dt(n)||(n.content instanceof i&&e(n.content),Pt(n));At("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(a){var o,s,l,u,d,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((lt=!a)&&(a="\x3c!--\x3e"),"string"!==typeof a&&!Ot(a)){if("function"!==typeof a.toString)throw D("toString is not a function");if("string"!==typeof(a=a.toString()))throw D("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"===typeof t.toStaticHTML){if("string"===typeof a)return t.toStaticHTML(a);if(Ot(a))return t.toStaticHTML(a.outerHTML)}return a}if(Ve||vt(p),n.removed=[],"string"===typeof a&&(Ye=!1),Ye){if(a.nodeName){var f=ye(a.nodeName);if(!Ie[f]||Ne[f])throw D("root node is forbidden and cannot be sanitized in-place")}}else if(a instanceof c)1===(s=(o=Tt("\x3c!----\x3e")).ownerDocument.importNode(a,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!He&&!Be&&!qe&&-1===a.indexOf("<"))return se&&Ge?se.createHTML(a):a;if(!(o=Tt(a)))return He?null:Ge?ce:""}o&&Ue&&St(o.firstChild);for(var m=_t(Ye?a:o);l=m.nextNode();)3===l.nodeType&&l===u||Dt(l)||(l.content instanceof i&&Lt(l.content),Pt(l),u=l);if(u=null,Ye)return a;if(He){if(We)for(d=pe.call(o.ownerDocument);o.firstChild;)d.appendChild(o.firstChild);else d=o;return(Ae.shadowroot||Ae.shadowrootmod)&&(d=me.call(r,d,!0)),d}var h=qe?o.outerHTML:o.innerHTML;return qe&&Ie["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&A(ne,o.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+h),Be&&(h=_(h,be," "),h=_(h,we," "),h=_(h,xe," ")),se&&Ge?se.createHTML(h):h},n.setConfig=function(e){vt(e),Ve=!0},n.clearConfig=function(){mt=null,Ve=!1},n.isValidAttribute=function(e,t,n){mt||vt({});var r=ye(e),a=ye(t);return Mt(r,a,n)},n.addHook=function(e,t){"function"===typeof t&&(ge[e]=ge[e]||[],E(ge[e],t))},n.removeHook=function(e){if(ge[e])return C(ge[e])},n.removeHooks=function(e){ge[e]&&(ge[e]=[])},n.removeAllHooks=function(){ge={}},n}return ie()}()},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";e.exports=n(294)},function(e,t,n){var r=n(295);e.exports=function(e,t){var n,a=null;if(!e||"string"!==typeof e)return a;for(var o,i,s=r(e),c="function"===typeof t,l=0,u=s.length;l<u;l++)o=(n=s[l]).property,i=n.value,c?t(o,i,n):i&&(a||(a={}),a[o]=i);return a}},function(e,t,n){e.exports=n(315)},function(e,t){e.exports=IcbuIM.Next1.DatePicker},function(e,t){e.exports=IcbuIM.Next1.Checkbox},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],a=e[2],o=e[3];r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&a)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|a>>>15)+o|0)&o|~a&n)+t[3]-1044525330|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&a)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|a>>>15)+o|0)&o|~a&n)+t[7]-45705983|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&a)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|a>>>15)+o|0)&o|~a&n)+t[11]-1990404162|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&a)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|a>>>15)+o|0)&o|~a&n)+t[15]+1236535329|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&a|r&~a)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|a>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&a|r&~a)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|a>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&a|r&~a)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|a>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&a|r&~a)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|a>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^a)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|a>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^a)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|a>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^a)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|a>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^a)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|a>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~a))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[14]-1416354905|0)<<15|a>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~a))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[10]-1051523|0)<<15|a>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~a))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[6]-1560198380|0)<<15|a>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~a))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[2]+718787259|0)<<15|a>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+a|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=a+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,a,o,i,s,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,r(e.substring(t-64,t)));for(a=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<a;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return i=(i=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(i[2],16),c=parseInt(i[1],16)||0,o[14]=s,o[15]=c,n(u,o),u}function i(e){var t,r,o,i,s,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,a(e.subarray(t-64,t)));for(r=(e=t-64<l?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return i=(i=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(i[2],16),c=parseInt(i[1],16)||0,o[14]=s,o[15]=c,n(u,o),u}function s(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function c(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function l(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e,t){var n,r=e.length,a=new ArrayBuffer(r),o=new Uint8Array(a);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:a}function d(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function p(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function f(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function m(){this.reset()}return c(o("hello")),"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var a,o,i,s,c=this.byteLength,l=t(n,c),u=c;return r!==e&&(u=t(r,c)),l>u?new ArrayBuffer(0):(a=u-l,o=new ArrayBuffer(a),i=new Uint8Array(o),s=new Uint8Array(this,l,a),i.set(s),o)}}(),m.prototype.append=function(e){return this.appendBinary(l(e)),this},m.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,a=this._buff.length;for(t=64;t<=a;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},m.prototype.end=function(e){var t,n,r=this._buff,a=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,a),n=c(this._hash),e&&(n=f(n)),this.reset(),n},m.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(e,t){var r,a,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(n(this._hash,e),i=0;i<16;i+=1)e[i]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=a,e[15]=o,n(this._hash,e)},m.hash=function(e,t){return m.hashBinary(l(e),t)},m.hashBinary=function(e,t){var n=c(o(e));return t?f(n):n},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(e){var t,r=p(this._buff.buffer,e,!0),o=r.length;for(this._length+=e.byteLength,t=64;t<=o;t+=64)n(this._hash,a(r.subarray(t-64,t)));return this._buff=t-64<o?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,a=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,a),n=c(this._hash),e&&(n=f(n)),this.reset(),n},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var e=m.prototype.getState.call(this);return e.buff=d(e.buff),e},m.ArrayBuffer.prototype.setState=function(e){return e.buff=u(e.buff,!0),m.prototype.setState.call(this,e)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(e,t){var n=c(i(new Uint8Array(e)));return t?f(n):n},m}()},function(e,t,n){var r,a,o,i,s;r=n(437),a=n(168).utf8,o=n(438),i=n(168).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?i.stringToBytes(e):a.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,l=1732584193,u=-271733879,d=-1732584194,p=271733878,f=0;f<n.length;f++)n[f]=16711935&(n[f]<<8|n[f]>>>24)|4278255360&(n[f]<<24|n[f]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var m=s._ff,h=s._gg,g=s._hh,v=s._ii;for(f=0;f<n.length;f+=16){var y=l,b=u,w=d,x=p;l=m(l,u,d,p,n[f+0],7,-680876936),p=m(p,l,u,d,n[f+1],12,-389564586),d=m(d,p,l,u,n[f+2],17,606105819),u=m(u,d,p,l,n[f+3],22,-1044525330),l=m(l,u,d,p,n[f+4],7,-176418897),p=m(p,l,u,d,n[f+5],12,1200080426),d=m(d,p,l,u,n[f+6],17,-1473231341),u=m(u,d,p,l,n[f+7],22,-45705983),l=m(l,u,d,p,n[f+8],7,1770035416),p=m(p,l,u,d,n[f+9],12,-1958414417),d=m(d,p,l,u,n[f+10],17,-42063),u=m(u,d,p,l,n[f+11],22,-1990404162),l=m(l,u,d,p,n[f+12],7,1804603682),p=m(p,l,u,d,n[f+13],12,-40341101),d=m(d,p,l,u,n[f+14],17,-1502002290),l=h(l,u=m(u,d,p,l,n[f+15],22,1236535329),d,p,n[f+1],5,-165796510),p=h(p,l,u,d,n[f+6],9,-1069501632),d=h(d,p,l,u,n[f+11],14,643717713),u=h(u,d,p,l,n[f+0],20,-373897302),l=h(l,u,d,p,n[f+5],5,-701558691),p=h(p,l,u,d,n[f+10],9,38016083),d=h(d,p,l,u,n[f+15],14,-660478335),u=h(u,d,p,l,n[f+4],20,-405537848),l=h(l,u,d,p,n[f+9],5,568446438),p=h(p,l,u,d,n[f+14],9,-1019803690),d=h(d,p,l,u,n[f+3],14,-187363961),u=h(u,d,p,l,n[f+8],20,1163531501),l=h(l,u,d,p,n[f+13],5,-1444681467),p=h(p,l,u,d,n[f+2],9,-51403784),d=h(d,p,l,u,n[f+7],14,1735328473),l=g(l,u=h(u,d,p,l,n[f+12],20,-1926607734),d,p,n[f+5],4,-378558),p=g(p,l,u,d,n[f+8],11,-2022574463),d=g(d,p,l,u,n[f+11],16,1839030562),u=g(u,d,p,l,n[f+14],23,-35309556),l=g(l,u,d,p,n[f+1],4,-1530992060),p=g(p,l,u,d,n[f+4],11,1272893353),d=g(d,p,l,u,n[f+7],16,-155497632),u=g(u,d,p,l,n[f+10],23,-1094730640),l=g(l,u,d,p,n[f+13],4,681279174),p=g(p,l,u,d,n[f+0],11,-358537222),d=g(d,p,l,u,n[f+3],16,-722521979),u=g(u,d,p,l,n[f+6],23,76029189),l=g(l,u,d,p,n[f+9],4,-640364487),p=g(p,l,u,d,n[f+12],11,-421815835),d=g(d,p,l,u,n[f+15],16,530742520),l=v(l,u=g(u,d,p,l,n[f+2],23,-995338651),d,p,n[f+0],6,-198630844),p=v(p,l,u,d,n[f+7],10,1126891415),d=v(d,p,l,u,n[f+14],15,-1416354905),u=v(u,d,p,l,n[f+5],21,-57434055),l=v(l,u,d,p,n[f+12],6,1700485571),p=v(p,l,u,d,n[f+3],10,-1894986606),d=v(d,p,l,u,n[f+10],15,-1051523),u=v(u,d,p,l,n[f+1],21,-2054922799),l=v(l,u,d,p,n[f+8],6,1873313359),p=v(p,l,u,d,n[f+15],10,-30611744),d=v(d,p,l,u,n[f+6],15,-1560198380),u=v(u,d,p,l,n[f+13],21,1309151649),l=v(l,u,d,p,n[f+4],6,-145523070),p=v(p,l,u,d,n[f+11],10,-1120210379),d=v(d,p,l,u,n[f+2],15,718787259),u=v(u,d,p,l,n[f+9],21,-343485551),l=l+y>>>0,u=u+b>>>0,d=d+w>>>0,p=p+x>>>0}return r.endian([l,u,d,p])})._ff=function(e,t,n,r,a,o,i){var s=e+(t&n|~t&r)+(a>>>0)+i;return(s<<o|s>>>32-o)+t},s._gg=function(e,t,n,r,a,o,i){var s=e+(t&r|n&~r)+(a>>>0)+i;return(s<<o|s>>>32-o)+t},s._hh=function(e,t,n,r,a,o,i){var s=e+(t^n^r)+(a>>>0)+i;return(s<<o|s>>>32-o)+t},s._ii=function(e,t,n,r,a,o,i){var s=e+(n^(t|~r))+(a>>>0)+i;return(s<<o|s>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?i.bytesToString(n):r.bytesToHex(n)}},function(e,t,n){var r=n(439),a=n(440);e.exports=r,e.exports.murmur3=r,e.exports.murmur2=a},function(e,t,n){n(441),e.exports=self.fetch.bind(self)},function(e,t,n){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},a=t||{},o=e.split(";"),s=a.decode||r,c=0;c<o.length;c++){var l=o[c],u=l.indexOf("=");if(!(u<0)){var d=l.substring(0,u).trim();if(void 0==n[d]){var p=l.substring(u+1,l.length).trim();'"'===p[0]&&(p=p.slice(1,-1)),n[d]=i(p,s)}}}return n},t.serialize=function(e,t,n){var r=n||{},i=r.encode||a;if("function"!==typeof i)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!o.test(s))throw new TypeError("argument val is invalid");var c=e+"="+s;if(null!=r.maxAge){var l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(r.domain){if(!o.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!o.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(c+="; HttpOnly");r.secure&&(c+="; Secure");if(r.sameSite){switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var r=decodeURIComponent,a=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e,t){try{return t(e)}catch(t){return e}}},function(e,t){"undefined"===typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function n(){var e={},t=new p((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}function r(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function a(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}function o(){if(window.etSign)window.__etReady=!0;else{window.etReady=function(){window.__etReady=!0};var e=document.createElement("script");e.id="aplus-sufei",e.src="//g.alicdn.com/secdev/entry/index.js",a(e)}}function i(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function s(e){return"[object Object]"=={}.toString.call(e)}function c(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function l(e,t,n){var r=new Date;r.setTime(r.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+r.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+r.toGMTString()}function u(e,t){for(var n=e.split("."),r=t.split("."),a=0;3>a;a++){var o=Number(n[a]),i=Number(r[a]);if(o>i)return 1;if(i>o)return-1;if(!isNaN(o)&&isNaN(i))return 1;if(isNaN(o)&&!isNaN(i))return-1}return 0}function d(e){this.id=""+(new Date).getTime()+ ++b,this.params=r(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=h.slice(0)}var p=e.Promise,f=(p||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var m={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},h=[],g={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var r=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),a=t.match(r)||[],o=a[2]||"taobao.com",i=a[1]||"m";"taobao.net"!==o||"x"!==i&&"waptest"!==i&&"daily"!==i?"taobao.net"===o&&"demo"===i?i="demo":"alibaba-inc.com"===o&&"zebra"===i?i="zebra":"waptest"!==i&&"wapa"!==i&&"m"!==i&&(i="m"):i="waptest";var s="h5api";"taobao.net"===o&&"waptest"===i&&(s="acs"),m.mainDomain=o,m.subDomain=i,m.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(m.WindVaneVersion=n[1]);var r=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);r&&(m.AliAppName=r[1],m.AliAppVersion=r[2]);var a=t.match(/AMapClient\/([\d\.\_]+)/i);a&&(m.AliAppName="AMAP",m.AliAppVersion=a[1])}();var v=/[Android|Adr]/.test(e.navigator.userAgent),y="AP"===m.AliAppName&&u(m.AliAppVersion,"10.1.2")>=0||"KB"===m.AliAppName&&u(m.AliAppVersion,"7.1.62")>=0||v&&"AMAP"===m.AliAppName&&u(m.AliAppVersion,"1.0.1")>=0,b=0;d.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},d.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},d.prototype.__processRequestType=function(n){var r=this,a=this.params,o=this.options;if(!0===m.H5Request&&(o.H5Request=!0),!0===m.WindVaneRequest&&(o.WindVaneRequest=!0),!1===o.H5Request&&!0===o.WindVaneRequest){if(!y&&(!t.windvane||parseFloat(o.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(y&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===o.H5Request)o.WindVaneRequest=!1;else if("undefined"==typeof o.WindVaneRequest&&"undefined"==typeof o.H5Request){if(t.windvane&&parseFloat(o.WindVaneVersion)>=5.4?o.WindVaneRequest=!0:o.H5Request=!0,y){if(o.WindVaneRequest=o.H5Request=void 0,e.AlipayJSBridge)if(s(a.data))o.WindVaneRequest=!0;else try{s(JSON.parse(a.data))?o.WindVaneRequest=!0:o.H5Request=!0}catch(e){o.H5Request=!0}else o.H5Request=!0;"AMAP"!==m.AliAppName||a.useNebulaJSbridgeWithAMAP||(o.WindVaneRequest=o.H5Request=void 0,o.H5Request=!0)}window.self!==window.top&&(o.H5Request=!0)}var i=e.navigator.userAgent.toLowerCase();return i.indexOf("youku")>-1&&o.mainDomain.indexOf("youku.com")<0&&(o.WindVaneRequest=!1,o.H5Request=!0),o.mainDomain.indexOf("youku.com")>-1&&i.indexOf("youku")<0&&(o.WindVaneRequest=!1,o.H5Request=!0),n?n().then((function(){var e=o.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===o.WindVaneRequest&&y&&o.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!y||!isNaN(o.retJson.error)||-1!==o.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return y&&s(a.data)&&(a.data=JSON.stringify(a.data)),m.H5Request=!0,r.__sequence([r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest]);"undefined"==typeof o.retJson.api&&"undefined"==typeof o.retJson.v&&(o.retJson.api=a.api,o.retJson.v=a.v,o.retJson.ret=[o.retJson.error+"::"+o.retJson.errorMessage],o.retJson.data={})}})):void 0};var w="_m_h5_c",x="_m_h5_tk";d.prototype.__getTokenFromAlipay=function(){var t=n(),r=this.options,a=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===r.useAlipayJSBridge&&!a&&y&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(r.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},d.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&c(w)?e.token=c(w).split(";")[0]:e.token=e.token||c(x),e.token&&(e.token=e.token.split("_")[0]),p.resolve()},d.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},d.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?f.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){var e=n.retJson,r=e.ret;if(r instanceof Array&&(r=r.join(",")),r.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&r.indexOf("ILLEGAL_ACCESS")>-1||r.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var a=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){a=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(a)}n.maxRetryTimes>0&&(l(w,n.pageDomain,"*"),l(x,n.mainDomain,n.subDomain),l("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=g.TOKEN_EXPIRED}})):void e()},d.prototype.__processRequestUrl=function(t){var n=this.params,r=this.options;if(r.hostSetting&&r.hostSetting[e.location.hostname]){var a=r.hostSetting[e.location.hostname];a.prefix&&(r.prefix=a.prefix),a.subDomain&&(r.subDomain=a.subDomain),a.mainDomain&&(r.mainDomain=a.mainDomain)}if(!0===r.H5Request){var i="//"+(r.prefix?r.prefix+".":"")+(r.subDomain?r.subDomain+".":"")+r.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===r.subDomain?"4272":"12574478"),c=(new Date).getTime(),l=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,a,o,i;return a=2147483648&e,o=2147483648&t,i=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^i^a^o:n|r?1073741824&i?3221225472^i^a^o:1073741824^i^a^o:i^a^o}function r(e,r,a,o,i,s,c){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,a,o),i),c)),n(t(e,s),r)}function a(e,r,a,o,i,s,c){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,a,o),i),c)),n(t(e,s),r)}function o(e,r,a,o,i,s,c){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,a,o),i),c)),n(t(e,s),r)}function i(e,r,a,o,i,s,c){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,a,o),i),c)),n(t(e,s),r)}function s(e){var t,n="",r="";for(t=0;3>=t;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,l,u,d,p,f,m,h,g,v;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e),v=function(e){for(var t,n=e.length,r=n+8,a=16*((r-r%64)/64+1),o=new Array(a-1),i=0,s=0;n>s;)i=s%4*8,o[t=(s-s%4)/4]=o[t]|e.charCodeAt(s)<<i,s++;return i=s%4*8,o[t=(s-s%4)/4]=o[t]|128<<i,o[a-2]=n<<3,o[a-1]=n>>>29,o}(e),f=1732584193,m=4023233417,h=2562383102,g=271733878,c=0;c<v.length;c+=16)l=f,u=m,d=h,p=g,f=r(f,m,h,g,v[c+0],7,3614090360),g=r(g,f,m,h,v[c+1],12,3905402710),h=r(h,g,f,m,v[c+2],17,606105819),m=r(m,h,g,f,v[c+3],22,3250441966),f=r(f,m,h,g,v[c+4],7,4118548399),g=r(g,f,m,h,v[c+5],12,1200080426),h=r(h,g,f,m,v[c+6],17,2821735955),m=r(m,h,g,f,v[c+7],22,4249261313),f=r(f,m,h,g,v[c+8],7,1770035416),g=r(g,f,m,h,v[c+9],12,2336552879),h=r(h,g,f,m,v[c+10],17,4294925233),m=r(m,h,g,f,v[c+11],22,2304563134),f=r(f,m,h,g,v[c+12],7,1804603682),g=r(g,f,m,h,v[c+13],12,4254626195),h=r(h,g,f,m,v[c+14],17,2792965006),f=a(f,m=r(m,h,g,f,v[c+15],22,1236535329),h,g,v[c+1],5,4129170786),g=a(g,f,m,h,v[c+6],9,3225465664),h=a(h,g,f,m,v[c+11],14,643717713),m=a(m,h,g,f,v[c+0],20,3921069994),f=a(f,m,h,g,v[c+5],5,3593408605),g=a(g,f,m,h,v[c+10],9,38016083),h=a(h,g,f,m,v[c+15],14,3634488961),m=a(m,h,g,f,v[c+4],20,3889429448),f=a(f,m,h,g,v[c+9],5,568446438),g=a(g,f,m,h,v[c+14],9,3275163606),h=a(h,g,f,m,v[c+3],14,4107603335),m=a(m,h,g,f,v[c+8],20,1163531501),f=a(f,m,h,g,v[c+13],5,2850285829),g=a(g,f,m,h,v[c+2],9,4243563512),h=a(h,g,f,m,v[c+7],14,1735328473),f=o(f,m=a(m,h,g,f,v[c+12],20,2368359562),h,g,v[c+5],4,4294588738),g=o(g,f,m,h,v[c+8],11,2272392833),h=o(h,g,f,m,v[c+11],16,1839030562),m=o(m,h,g,f,v[c+14],23,4259657740),f=o(f,m,h,g,v[c+1],4,2763975236),g=o(g,f,m,h,v[c+4],11,1272893353),h=o(h,g,f,m,v[c+7],16,4139469664),m=o(m,h,g,f,v[c+10],23,3200236656),f=o(f,m,h,g,v[c+13],4,681279174),g=o(g,f,m,h,v[c+0],11,3936430074),h=o(h,g,f,m,v[c+3],16,3572445317),m=o(m,h,g,f,v[c+6],23,76029189),f=o(f,m,h,g,v[c+9],4,3654602809),g=o(g,f,m,h,v[c+12],11,3873151461),h=o(h,g,f,m,v[c+15],16,530742520),f=i(f,m=o(m,h,g,f,v[c+2],23,3299628645),h,g,v[c+0],6,4096336452),g=i(g,f,m,h,v[c+7],10,1126891415),h=i(h,g,f,m,v[c+14],15,2878612391),m=i(m,h,g,f,v[c+5],21,4237533241),f=i(f,m,h,g,v[c+12],6,1700485571),g=i(g,f,m,h,v[c+3],10,2399980690),h=i(h,g,f,m,v[c+10],15,4293915773),m=i(m,h,g,f,v[c+1],21,2240044497),f=i(f,m,h,g,v[c+8],6,1873313359),g=i(g,f,m,h,v[c+15],10,4264355552),h=i(h,g,f,m,v[c+6],15,2734768916),m=i(m,h,g,f,v[c+13],21,1309151649),f=i(f,m,h,g,v[c+4],6,4149444226),g=i(g,f,m,h,v[c+11],10,3174756917),h=i(h,g,f,m,v[c+2],15,718787259),m=i(m,h,g,f,v[c+9],21,3951481745),f=n(f,l),m=n(m,u),h=n(h,d),g=n(g,p);return(s(f)+s(m)+s(h)+s(g)).toLowerCase()}(r.token+"&"+c+"&"+s+"&"+n.data),u={jsv:"2.7.2",appKey:s,t:c,sign:l},d={data:n.data,ua:n.ua};Object.keys(n).forEach((function(e){"undefined"==typeof u[e]&&"undefined"==typeof d[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(u[e]=n[e])})),n.ext_querys&&Object.keys(n.ext_querys).forEach((function(e){u[e]=n.ext_querys[e]})),r.getJSONP?u.type="jsonp":r.getOriginalJSONP?u.type="originaljsonp":(r.getJSON||r.postJSON)&&(u.type="originaljson"),"undefined"!=typeof n.valueType&&("original"===n.valueType?r.getJSONP||r.getOriginalJSONP?u.type="originaljsonp":(r.getJSON||r.postJSON)&&(u.type="originaljson"):"string"===n.valueType&&(r.getJSONP||r.getOriginalJSONP?u.type="jsonp":(r.getJSON||r.postJSON)&&(u.type="json"))),!0===r.useJsonpResultType&&"originaljson"===u.type&&delete u.type,r.dangerouslySetProtocol&&(i=r.dangerouslySetProtocol+":"+i),"5.0"===n.SV&&(i+="5.0/",o()),r.querystring=u,r.postdata=d,r.path=i}t()},d.prototype.__processUnitPrefix=function(e){e()};var C=0;d.prototype.__requestJSONP=function(e){function t(e){if(u&&clearTimeout(u),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===e)window[l]=function(){window[l]=void 0;try{delete window[l]}catch(e){}};else{window[l]=void 0;try{delete window[l]}catch(e){}}}var r=n(),o=this.params,s=this.options,c=o.timeout||2e4,l="mtopjsonp"+(o.jsonpIncPrefix||"")+ ++C,u=setTimeout((function(){e(s.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")}),c);s.querystring.callback=l;var d=document.createElement("script"),p=s.path+"?"+i(s.querystring)+"&"+i(s.postdata);return"5.0"===o.SV&&window.etSign&&(p+="&bx_et="+window.etSign(p)),d.src=p,d.async=!0,d.onerror=function(){t("ABORT"),e(s.abortErrMsg||"ABORT::接口异常退出")},window[l]=function(){s.results=Array.prototype.slice.call(arguments),t(),r.resolve()},a(d),r.promise},d.prototype.__requestJSON=function(t){function r(e){d&&clearTimeout(d),"TIMEOUT"===e&&l.abort()}var a=n(),o=this.params,s=this.options,l=new e.XMLHttpRequest,u=o.timeout||2e4,d=setTimeout((function(){t(s.timeoutErrMsg||"TIMEOUT::接口超时"),r("TIMEOUT")}),u);s.CDR&&c(w)&&(s.querystring.c=decodeURIComponent(c(w))),l.onreadystatechange=function(){if(4==l.readyState){var e,n,o=l.status;if(o>=200&&300>o||304==o){r(),e=l.responseText,n=l.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,s.results=[e],a.resolve()}catch(e){t("PARSE_JSON_ERROR::解析JSON失败")}}else r("ABORT"),t(s.abortErrMsg||"ABORT::接口异常退出")}};var p,f,m=s.path+"?"+i(s.querystring);s.getJSON?(p="GET",m+="&"+i(s.postdata)):s.postJSON&&(p="POST",f=i(s.postdata)),"5.0"===o.SV&&window.etSign&&(m+="&bx_et="+window.etSign(m)),l.open(p,m,!0),l.withCredentials=!0,l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Content-type","application/x-www-form-urlencoded");var h=o.ext_headers||o.headers;if(h)for(var g in h)l.setRequestHeader(g,h[g]);return l.send(f),a.promise},d.prototype.__requestWindVane=function(e){function r(e){if(i.results=[e],e&&e.stat&&e.stat.falcoId){var n=function(){},r={mtopStart:w,mtopEnd:Date.now(),falcoId:e.stat.falcoId};t.windvane.call(C,"falcoExtend",r,n,n)}a.resolve()}var a=n(),o=this.params,i=this.options,s=o.data,c=o.api,l=o.v,u=i.postJSON?1:0,d=i.getJSON||i.postJSON||i.getOriginalJSONP?"originaljson":"";"undefined"!=typeof o.valueType&&("original"===o.valueType?d="originaljson":"string"===o.valueType&&(d="")),!0===i.useJsonpResultType&&(d="");var p,f,m="https"===location.protocol?1:0,h=o.isSec||0,g=o.sessionOption||"AutoLoginOnly",v=o.ecode||0,y=o.ext_headers||{},b=o.ext_querys||{};p=2*(f="undefined"!=typeof o.timer?parseInt(o.timer):"undefined"!=typeof o.timeout?parseInt(o.timeout):2e4);var w=Date.now();!0===o.needLogin&&"undefined"==typeof o.sessionOption&&(g="AutoLoginAndManualLogin"),"undefined"!=typeof o.secType&&"undefined"==typeof o.isSec&&(h=o.secType);var x={api:c,v:l,post:String(u),type:d,isHttps:String(m),ecode:String(v),isSec:String(h),param:JSON.parse(s),timer:f,needLogin:!!o.needLogin,sessionOption:g,ext_headers:y,ext_querys:b};o.ttid&&!0===i.dangerouslySetWVTtid&&(x.ttid=o.ttid),Object.assign&&o.dangerouslySetWindvaneParams&&Object.assign(x,o.dangerouslySetWindvaneParams);var C="MtopWVPlugin";return"string"==typeof o.customWindVaneClassName&&(C=o.customWindVaneClassName),t.windvane.call(C,"send",x,r,r,p),a.promise},d.prototype.__requestAlipay=function(t){var r=n(),a=this.params,o=this.options,i={apiName:a.api,apiVersion:a.v,needEcodeSign:"1"===String(a.ecode),headers:a.ext_headers||{},usePost:!!o.postJSON};s(a.data)||(a.data=JSON.parse(a.data)),i.data=a.data,a.ttid&&!0===o.dangerouslySetWVTtid&&(i.ttid=a.ttid),(o.getJSON||o.postJSON||o.getOriginalJSONP)&&(i.type="originaljson"),"undefined"!=typeof a.valueType&&("original"===a.valueType?i.type="originaljson":"string"===a.valueType&&delete i.type),!0===o.useJsonpResultType&&delete i.type,Object.assign&&a.dangerouslySetAlipayParams&&Object.assign(i,a.dangerouslySetAlipayParams);var c="mtop";return"string"==typeof a.customAlipayJSBridgeApi&&(c=a.customAlipayJSBridgeApi),e.AlipayJSBridge.call(c,i,(function(e){o.results=[e],r.resolve()})),r.promise},d.prototype.__processRequest=function(e,t){var n=this;return f.then((function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return y?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")})).then(e).then((function(){var e=n.options,t=(n.params,e.results[0]),r=t&&t.ret||[];t.ret=r,r instanceof Array&&(r=r.join(","));var a=t.c;e.CDR&&a&&function(e,t,n){var r=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(r.domain?";domain="+r.domain:"")+(r.path?";path="+r.path:"")+(r.secure?";secure":"")+(r.httponly?";HttpOnly":"")+(r.sameSite?";Samesite="+r.sameSite:"")}(w,a,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),r.indexOf("SUCCESS")>-1?t.retType=g.SUCCESS:t.retType=g.ERROR,e.retJson=t}))},d.prototype.__sequence=function(e){var t=this,r=[],a=[];e.forEach((function e(o){if(o instanceof Array)o.forEach(e);else{var i,s=n(),c=n();r.push((function(){return s=n(),(i=o.call(t,(function(e){return s.resolve(e),c.promise}),(function(e){return s.reject(e),c.promise})))&&(i=i.catch((function(e){s.reject(e)}))),s.promise})),a.push((function(e){return c.resolve(e),i}))}}));for(var o,i=f;o=r.shift();)i=i.then(o);for(;o=a.pop();)i=i.then(o);return i};var E=function(e){if(m.EtRequest&&!window.__etReady){o();var t,n,r=Number(m.EtLoadTimeout)||5e3,a=!1;window.etReady=function(){window.__etReady=!0,a||(a=!0,e())};var i=function(){t&&clearInterval(t),n&&clearTimeout(n),a||(a=!0,e())};t=setInterval((function(){try{window.etSign&&(window.__etReady=!0,i()),window.etReady&&!window.__etReady&&(window.etReady=function(){window.__etReady=!0,i()})}catch(e){i()}}),100),n=setTimeout((function(){i()}),r)}else e()},S=function(e){e()};d.prototype.request=function(n){var a=this;if(this.options=r(n||{},m),!p){var o="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:o},new Error(o)}var i=p.resolve([E,S]).then((function(e){var t=e[0],n=e[1];return a.__sequence([t,a.__processRequestMethod,a.__processRequestType,a.__processToken,a.__processRequestUrl,a.middlewares,a.__processRequest,n])})).then((function(){var e=a.options.retJson;return e.retType!==g.SUCCESS?p.reject(e):a.options.successCallback?void a.options.successCallback(e):p.resolve(e)})).catch((function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:g.ERROR}):n="string"==typeof e?{ret:[e],retJson:g.ERROR}:void 0!==e?e:a.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:a.params.api,data:a.params.data,v:a.params.v,retJson:n}),a.options.failureCallback?void a.options.failureCallback(n):p.reject(n)}));return this.__processRequestType(),a.options.H5Request&&(a.constructor.__firstProcessor||(a.constructor.__firstProcessor=i),E=function(e){a.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=i,i},t.mtop=function(e){return new d(e)},t.mtop.request=function(e,t,n){var r={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new d(e).request(r)},t.mtop.H5Request=function(e,t,n){var r={H5Request:!0,successCallback:t,failureCallback:n||t};return new d(e).request(r)},t.mtop.middlewares=h,t.mtop.config=m,t.mtop.RESPONSE_TYPE=g,t.mtop.CLASS=d}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function r(t,r){var a=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),o=a&&r.h5url?r.h5url:r.url,i=r.dialogSize,s=this,c=e.dpr||1,l=document.createElement("div"),u=document.documentElement.getBoundingClientRect(),d=Math.max(u.width,window.innerWidth)/c,p=window.innerHeight/c;l.style.cssText=["-webkit-transform:scale("+c+") translateZ(0)","-ms-transform:scale("+c+") translateZ(0)","transform:scale("+c+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+d+"px","height:"+p+"px","z-index:2147483647","position: fixed","left:0","top:0px","background:"+(d>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var f=document.createElement("div");f.style.cssText=["width:100%","height:52px","background:transparent","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),f.innerText=t;var m=document.createElement("img");m.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),m.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var h=document.createElement("iframe");if(h.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),a)f.appendChild(m),l.appendChild(f);else{var g=i&&i.width||"420px",v=i&&i.height||"320px",y=50,b=50,w=24,x=-39;v.indexOf("px")>-1?w-=Number(v.replace("px",""))/2:v.indexOf("%")>-1&&(y-=Number(v.replace("%",""))/2),g.indexOf("px")>-1?x+=Number(g.replace("px",""))/2:g.indexOf("%")>-1&&(b+=Number(g.replace("%",""))/2),m.style.cssText=["position:absolute","width:15px","height:15px","top:"+y+"%","left:"+b+"%","cursor: pointer","border:0","z-index:1","overflow:hidden","margin-top:"+w+"px","margin-left:"+x+"px"].join(";"),l.appendChild(m),h.style.cssText=["position:absolute","top:0px","left:0px","bottom:0px","right:0px","margin:auto","width:"+g,"height:"+v,"border:0","background:#FFF","overflow:hidden","border-radius:18px"].join(";")}l.appendChild(h),l.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(l),h.src=o,m.addEventListener("click",(function(){s.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),l.dispatchEvent(e)}),!1),this.addEventListener=function(){l.addEventListener.apply(l,arguments)},this.removeEventListener=function(){l.removeEventListener.apply(l,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),l.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-u.top),l.parentNode&&l.parentNode.removeChild(l)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var a=e.Promise,o=t.mtop.CLASS,i=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push((function(e){var n=this,r=this.options,a=this.params;return e().then((function(){var e=r.retJson,o=e.ret,c=navigator.userAgent.toLowerCase(),l=c.indexOf("safari")>-1&&c.indexOf("chrome")<0&&c.indexOf("qqbrowser")<0;if(o instanceof Array&&(o=o.join(",")),(o.indexOf("SESSION_EXPIRED")>-1||o.indexOf("SID_INVALID")>-1||o.indexOf("AUTH_REJECT")>-1||o.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!r.WindVaneRequest&&(!0===i.LoginRequest||!0===r.LoginRequest||!0===a.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(!0!==r.safariGoLogin||!l||"taobao.com"===r.pageDomain)return t.login.goLoginAsync().then((function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})).catch((function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")}));t.login.goLogin()}}))})),t.mtop.loginRequest=function(e,t,n){var r={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new o(e).request(r)},t.mtop.antiFloodRequest=function(e,t,n){var r={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new o(e).request(r)},t.mtop.middlewares.push((function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==i.AntiFlood&&!0!==t.AntiFlood?void e():e().then((function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)}))})),t.mtop.antiCreepRequest=function(e,t,n){var r={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new o(e).request(r)},t.mtop.middlewares.push((function(t){var n=this,o=this.options,s=this.params;return!1!==o.AntiCreep&&(o.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==o.H5Request||!0!==i.AntiCreep&&!0!==o.AntiCreep?void t():t().then((function(){var t=o.retJson,i=t.ret;if(i instanceof Array&&(i=i.join(",")),i.indexOf("CHECKJS_FLAG")>-1&&t.uuid&&t.serid){try{var c=!!window.document._sufei_data2,l=new Image,u="https://fourier.taobao.com/ts?ext=200&uuid="+t.uuid+"&serid="+t.serid+"&sufei="+c;window.location&&location.href&&(u+="&href=="+location.href.substr(0,128)),window.__fyModule&&(u+="&fyModuleLoad="+window.__fyModule.load+"&fyModuleInit="+window.__fyModule.init),window.__umModule&&(u+="&umModuleLoad="+window.__umModule.load+"&umModuleInit="+window.__umModule.init),window.__uabModule&&(u+="&uabModuleLoad="+window.__uabModule.load+"&uabModuleInit="+window.__uabModule.init),window.__ncModule&&(u+="&ncModuleLoad="+window.__ncModule.load+"&ncModuleInit="+window.__ncModule.init),window.__nsModule&&(u+="&nsModuleLoad="+window.__nsModule.load+"&nsModuleInit="+window.__nsModule.init),window.__etModule&&(u+="&etModuleLoad="+window.__etModule.load+"&etModuleInit="+window.__etModule.init),l.src=u,document.body.appendChild(l)}catch(e){console.log(e,"上报异常")}return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}if((i.indexOf("RGV587_ERROR::SM")>-1||i.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var d="_m_h5_smt",p=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(d),f=!1;if(!0===o.saveAntiCreepToken&&p)for(var m in p=JSON.parse(p))s[m]&&(f=!0);if(!0===o.saveAntiCreepToken&&p&&!f){for(var m in p)s[m]=p[m];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new a((function(a,i){function c(){u.removeEventListener("close",c),e.removeEventListener("message",l),i("USER_INPUT_CANCEL::用户取消输入")}function l(t){var r;try{r=JSON.parse(t.data)||{}}catch(e){}if(r&&"child"===r.type){var p;u.removeEventListener("close",c),e.removeEventListener("message",l),u.hide();try{for(var f in"string"==typeof(p=JSON.parse(decodeURIComponent(r.content)))&&(p=JSON.parse(p)),p)s[f]=p[f];!0===o.saveAntiCreepToken?(document.cookie=d+"="+JSON.stringify(p)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(a)}catch(e){i("USER_INPUT_FAILURE::用户输入失败")}}}var u=new r("",t.data);u.addEventListener("close",c,!1),e.addEventListener("message",l,!1),u.show()}))}}))}))}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports={sdk:{BID:"wpkreporter",CID:"jssdk",WID_KEY:"__wpkreporterwid_"},env:{BROWSER:"browser",NODEJS:"nodejs",WEEX:"weex"},px:{signKey:"Uvn#08uefVdwe&c4",addr:{cn:"http://px.effirst.com/api/v1/jssdk/upload",cn_https:"https://px.effirst.com/api/v1/jssdk/upload",quark:"http://px.wpk.quark.cn/api/v1/jssdk/upload",quark_https:"https://px.wpk.quark.cn/api/v1/jssdk/upload",intl:"http://px-intl.ucweb.com/api/v1/jssdk/upload",intl_https:"https://px-intl.ucweb.com/api/v1/jssdk/upload",qg:"http://px-itrace.xuexi.cn/api/v1/jssdk/upload",qg_https:"https://px-itrace.xuexi.cn/api/v1/jssdk/upload"},confAddr:{cn:"http://px.effirst.com/api/v1/jconfig",cn_https:"https://px.effirst.com/api/v1/jconfig",intl:"http://px-intl.ucweb.com/api/v1/jconfig",intl_https:"https://px-intl.ucweb.com/api/v1/jconfig",qg:"http://px-itrace.xuexi.cn/api/v1/jconfig",qg_https:"https://px-itrace.xuexi.cn/api/v1/jconfig",quark:"http://px.wpk.quark.cn/api/v1/jconfig",quark_https:"https://px.wpk.quark.cn/api/v1/jconfig"}},http:{methods:{GET:"GET",PUT:"PUT",POST:"POST",HEAD:"HEAD",DELETE:"DELETE",OPTIONS:"OPTIONS",CONNECT:"OPTIONS",TRACE:"OPTIONS",PATCH:"OPTIONS"},protocols:{HTTP:"http:",HTTPS:"https:"}},category:{JSERR:1,API:2,JSFSPERF:3,RESLOADFAIL:4,FLOW:5,BKPG:6,HARLOG:7,PERFNEXT:1e3,MAINDOC:1e5,RESTIMING:100001},navConn:{types:{BLUETOOTH:"bluetooth",CELLULAR:"cellular",ETHERNET:"ethernet",MIXED:"mixed",NONE:"none",OTHER:"other",UNKNOWN:"unknown",WIFI:"wifi",WIMAX:"wimax"},effectiveTypes:{"2G":"2g","3G":"3g","4G":"4g",SLOW2G:"slow-2g"}}}},function(e,t,n){var r=n(6),a=n(0),o=a.px,i=a.category;function s(e){if(!(this instanceof s))return new s(e);e=e||{},this._init=!1,this.toolKit=r(e),this.logger=this.toolKit.logger,this.debug=e.debug||!1,!0===e.debug&&this.logger.warn("[wpk] now in debug mode, you can see log details"),this._plugins=e.plugins||[],this.bid=e.bid,this.utdid=e.utdid,this.cid=e.cid,this.uid=e.uid,this.rel=e.rel,this.spa=e.spa||!1,this.delay=!1!==e.delay,this.sampleRate=e.sampleRate,this.ignoreScriptError=!1!==e.ignoreScriptError,this.onlyCustom=e.onlyCustomInUCCore||e.onlyCustom||!1,this.ignoreU4HA=!0===e.ignoreU4HA,this.beforeSend=e.beforeSend||null,this.checkHidden=!1!==e.checkHidden,this.enableMtop=e.enableMtop||!1,this.prerender=!0===e.prerender,this.supportBeaconBody=!1!==e.supportBeaconBody,this.blockAlipayMiniAppWebview=e.blockAlipayMiniAppWebview||!1,this.maxSessDuration=e.maxSessDuration||288e5,this._waitingQueue=[],this.useNativeCH=!1!==e.useNativeCH,!e.cluster&&this.toolKit.isQuark()?this.cluster="quark":this.cluster=e.cluster||"cn"}function c(e){if(e.toolKit.inAlipayMiniAppWebview()&&!0===e.blockAlipayMiniAppWebview)e.logger.warn("current runtime is alipay miniapp webview, this request will be blocked.");else{var t=o.confAddr[e.cluster+(e.isHttps?"_https":"")],n=o.signKey;e._startTime=Date.now(),e._dying=!0,e.toolKit.dynamicConf(e.bid,e.VERSION,t,n,(function(t){e._dying=!1,e._dyConf=t,e.logger.warn("jconfig come back")}))}}s.prototype={VERSION:"1.2.8",initialize:function(e){this.env=e.env,e.root.location&&-1!==e.root.location.search.indexOf("wpkReporterDebug=true")&&(this.debug=!0),this.send=e.send,this.getWid=e.getWid,this.isHttps=e.isHttps,e.bindUnloadEvent(this)},ready:function(){return this._init},setConfig:function(e){return this.toolKit.isObject(e)&&this.toolKit.extend(this,e),this},report:function(e){"string"==typeof e&&(e={category:i.JSERR,msg:e});var t=e.sampleRate||this.sampleRate;if(t||0===t||(t=1),this.toolKit.canReport(t)){if(this._cleanData(e),this.ready()){var n;if("function"==typeof this.beforeSend){try{n=this.beforeSend(e)}catch(e){this.logger.error("exec beforeSend failed for:",e)}if(!1===n)return void this.logger.warn("beforeSend func return false");"object"==typeof n&&(e=n)}var r=this.toolKit.getMetas(),a=e.bid||this.bid||r.wpkBid,s=e.cid||this.cid||r.wpkCid,l=e.rel||this.rel||r.wpkRel;this.toolKit.isFunction(l)&&(l=l());var u=e.uid||this.uid;if(this.toolKit.isFunction(u)&&(u=u()),u||(u=this.getWid()),Date.now()-this._begin>=this.maxSessDuration&&(this._begin=Date.now(),this._sid=this.toolKit.getSessionId()),this.toolKit.extend(e,{w_bid:a,w_cid:s,w_rel:l,w_spa:this.spa,w_tm:this.toolKit.timestamp(),w_cnt:1,uid:u,utdid:this.utdid,type:this.toolKit.categoryToType(e.category),sdk_ver:this.VERSION,log_src:"jssdk",uc_param:this.uc_param||"",wid:this.wid}),this._dyConf&&Date.now()<this._dyConf.expireAt){var d=void 0!==this._dyConf[e.type+"@"+e.category]?this._dyConf[e.type+"@"+e.category]:this._dyConf[e.type];if(void 0!==(d=void 0!==d?d:this._dyConf.all)&&!this.toolKit.canReport(d))return void this.logger.warn("由于「动态配置」采样率控制，本条日志最终未上报，类型: ",e.type,e.category," 采样率: ",d)}else!this._dying&&Date.now()-this._startTime>=18e5&&(this.logger.warn("syncing dynamic config"),c(this));var p={app:a,cp:"none",de:4,seq:this.toolKit.generateSeq(),tm:this.toolKit.timestamp(!0),ud:encodeURIComponent(e.uid),ver:e.w_rel,type:e.type,sver:e.sdk_ver,sign:"9bf8a190ef82c5049df7b199c599c45b"},f=o.addr[this.cluster+(this.isHttps?"_https":"")],m=this.toolKit.objToQueryString(p);this.toolKit.cutStr(e,["c1","c2","c3","c4","c5"],128),this.send(f,m,e)}else this._waitingQueue.push(e),this.logger.warn("sdk未完成初始化，数据已缓存");return this}this.logger.warn("由于采样率控制，本条日志最终未上报，采样率: ",t)},_cleanData:function(e){for(var t,n=1;n<=10;n++)t="bl"+n,e.hasOwnProperty(t)&&(e["w_"+t]=e[t],delete e[t]);t=null},reportFlow:function(e){return e=e||{},this.report(this.toolKit.extend(e||{},{category:i.FLOW,sampleRate:1})),this},reportError:function(e,t){return this.toolKit.isError(e)?((t=t||{}).category=i.JSERR,t.w_msg=e.toString(),t.stack=this.toolKit.parseErrorStack(e),t.w_file=e.filename||"",t.w_line=e.lineno||"",t.w_col=e.colno||"",this.report(t),this):this.report(e,t)},reportApi:function(e,t){this.reportApiError(e,t)},reportApiError:function(e,t){return e&&(this.toolKit.isObject(e.queryString)&&(e.queryString=this.toolKit.objToQueryString(e.queryString)),this.report(this.toolKit.extend(t||{},{msg:e.msg||"",w_res:e.url,w_method:e.method,w_param:e.queryString,w_body:JSON.stringify(e.body),w_resp:e.response,w_rc:e.status,w_rt:e.spent||0,c1:e.c1,c2:e.c2,c3:e.c3,c4:e.c4,c5:e.c5},{category:i.API,w_type:16}))),this},reportBlankPage:function(e){return(e=e||{}).hasOwnProperty("w_fp")||this.toolKit.extend(e,{w_fp:999}),this.report(this.toolKit.extend(e||{},{category:i.BKPG})),this},diagnose:function(){this.ready()?this.bid?(this.sampleRate||this.logger.warn("没有设置采样率参数sampleRate，将使用默认采样率"),this.report({_diagnose:!0})):this.logger.warn("缺少bid参数,请确认是否已正确设置"):this.logger.warn("wpkReporter尚未初始化，请确保已调用 install 方法")},addPlugin:function(e,t){return this._plugins.push([e,t]),"function"==typeof e&&this._init&&e.apply(this,[this,t]),this},install:function(){var e;c(this),this.toolKit.isCompassPrerender()&&((e=this).toolKit.onListen(document,"prerendercommit",(function(){e.prerenderCommit()}),!0),e.toolKit.onListen(document,"touchstart",(function(){e.prerenderCommit()}),!0),this.prerender=!0);for(var t=n(2),r=this._plugins.length,a=!1,o=0;o<r;o++){var i=this._plugins[o],s=i[0],l=i[1];s.prototype.pluginId===t.prototype.pluginId&&(a=!0),s.apply(this,[this,l])}return this.wid=this.getWid(),this._begin=Date.now(),this._sid=this.toolKit.getSessionId(),this._init=!0,0!==r&&a||(this.toolKit.logger.info("没有设置Flow，内置开启"),this.addPlugin(t)),this.prerender&&this.toolKit.logger.warn("预渲染环境, 白屏、性能将在上屏后开始检测"),this},installAll:function(){var e=[[n(8),{resErr:!0}],[n(9)],[n(10)],[n(2)],[n(11),{params:"prveosfrnwutsv"}]],t=this._plugins.length;if(0===t)this._plugins=e;else{for(var r=[],a=e.length,o=0;o<a;o++){for(var i=e[o],s=0;s<t;s++)if(i[0].prototype.pluginId===this._plugins[s][0].prototype.pluginId){i=this._plugins[s];break}r.push(i)}this._plugins=r}return this.install()},uninstall:function(){return this._plugins=[],this._init=!1,this},prerenderCommit:function(){if(this.__isPrerenderCommited)this.logger.warn("prerenderCommit can only call once.");else{this.__isPrerenderCommited=!0,this.logger.info("prerender commit event");var e=new Event("wpkpageforeground");window.dispatchEvent(e)}}},e.exports=s},function(e,t,n){var r=n(0).env,a=function(e){var t;return(e&&(t=e.replace(/^#\/?/,""))&&"string"==typeof t?t.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):"")||"[index]"},o=function(e,t){if(t=t||{},e.env===r.BROWSER&&window)if(e.toolKit.extend({enable:!0},t).enable){e.logger.info("wpkflowPlugin已开启");var o,i,s=function(){e.reportFlow()};e.toolKit.isPageReady(e.prerender)?setTimeout(s,0):e.toolKit.onPageReady(s,!0,e.prerender),e.spa&&(n(7)(),o=function(t){a(location.hash)&&(e._begin=Date.now(),e._sid=e.toolKit.getSessionId(),e.reportFlow())},i=function(t){a(t.detail)&&(e._begin=Date.now(),e._sid=e.toolKit.getSessionId(),e.reportFlow())},e.toolKit.onListen(window,"hashchange",o),e.toolKit.onListen(window,"historystatechange",i)),e.toolKit.onListen(window,"beforeunload",(function(){e.toolKit.offListen(window,"load"),e.toolKit.offListen(window,"hashchange"),e.toolKit.offListen(window,"historystatechange"),s=o=i=null}))}else e.logger.info("wpkflowPlugin已关闭")};o.prototype.pluginId="flow",e.exports=o},function(e,t,n){(function(t){var r="object"==typeof t&&t+""=="[object process]",a="function"==typeof callNative||"function"==typeof nativeLog;e.exports=n(a?5:r?13:16)}).call(this,n(4))},function(e,t){var n,r,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||u||s(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){var r=n(1),a=n(12);e.exports=function(e){var t=new r(e);return t.initialize(a),t}},function(e,t){var n=function(e){return e||""},r=function(e){var t=Date.now();"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now&&(t+=performance.now());var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:11&n).toString(16)}));return!1===e?n.replace(/-/g,""):n},a=function(e){return"object"==typeof e},o=function(e){var t={}.toString.call(e);return a(e)&&("[object Error]"===t||"[object Exception]"===t||t instanceof Error)},i=function(e){return"[object Array]"==={}.toString.call(e)},s=function(e){return"function"==typeof e},c=function(e){return"string"==typeof e},l=function(e){var t=+new Date;return!0===e&&(t=Math.floor(t/1e3)),t},u=function(e){if(e.stack){var t=e.stack.split("\n");return t.shift(),t.join("\n")}return""},d=function(e){var t;switch(e){case 1:t="jserr";break;case 2:t="api";break;case 3:t="jsfsperf";break;case 4:t="resloadfail";break;case 5:t="flow";break;case 6:t="bkpg";break;case 7:t="harlog";break;default:t="jssdkidx"}return t},p=function(){return Math.floor(+new Date/1e3)+""+Math.floor(1e4*Math.random())},f=function(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&")},m=function(e){return JSON?JSON.stringify(e):e.toString()},h=function(){if("undefined"!=typeof document&&document.getElementsByTagName)for(var e,t,n,r,a=document.getElementsByTagName("meta"),o=a.length,i=0;i<o;i++)"wpk-bid"===(r=a[i]).name?e=r.content:"wpk-cid"===r.name?t=r.content:"wpk-rel"===r.name&&(n=r.content);return{wpkBid:e||null,wpkCid:t||null,wpkRel:n||null}},g=function(e){return e&&j()?a(window)&&window.prerenderCommitEvent&&a(window.prerenderCommitEvent)&&"prerendercommit"===window.prerenderCommitEvent.type:"complete"===document.readyState},v=function(e,t,n){y(window,n?"wpkpageforeground":"load",(function(r){n&&"complete"!==document.readyState?y(window,"load",e,t):e.call(this,r)}),t)},y=function(e,t,n,r){return e.addEventListener?e.addEventListener(t,(function a(o){r&&e.removeEventListener(t,a,!1),n.call(this,o)}),!1):e.attachEvent&&e.attachEvent("on"+t,(function a(o){r&&e.detachEvent("on"+t,a),n.call(this,o)})),this},b=function(e,t,n){return n?(e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent(t,n),this):this},w=function(e){return!!e&&0!==e&&(e>=1||"100%"===e||(/^\d+(\.\d+)?%$/.test(e)?Math.random()<parseFloat(e)/100:e>0&&e<1&&Math.random()<e))},x="wpk-reporter",C=function(e,t){var n=[].slice.call(t);e.apply(this,[x].concat(n))},E=function(e){var t="";switch(e.category){case 1:t=[e.category,e.uid,e.w_url,e.w_ref,e.w_msg||"",e.w_line||"",e.w_col||""].join("");break;case 2:t=[e.category,e.uid,e.w_res,e.w_method,e.w_rc].join("");break;case 4:t=[e.category,e.uid,e.w_url,e.w_ref,e.w_res,e.w_type].join("")}return t},S=function(e,t){e=e||!1;try{if("undefined"!=typeof window&&window.ucweb&&window.ucweb.window||t){for(var n=(t||navigator.userAgent).split(" "),r=n.length,a=!1,o=!1,i=0;i<r;i++)if(-1!==n[i].indexOf("UWS/")){var s=n[i].split("/");o=k(s[1],"2.13.2.37")}else-1!==n[i].indexOf("AliApp(DingTalk/")&&(a=!0);return a?o:e}}catch(e){}return!1},k=function(e,t){try{for(var n,r,a=e.split("."),o=t.split("."),i=a.length,s=0;s<i;s++)if((n=parseInt(a[s]))!==(r=parseInt(o[s])))return n>r;return!0}catch(e){}return!1},T=function(e){try{const t="__wpktestingls__";return e().setItem(t,t),e().removeItem(t),!0}catch(e){return!1}};function _(){return localStorage}var I={get:function(e){if(T(_)){var t=_().getItem(e);if(t){if(t=JSON.parse(t),Date.now()<t.expireAt)return t;this.rm(e)}}return null},set:function(e,t){T(_)&&e&&t&&(t.expireAt=Date.now()+18e5,_().setItem(e,JSON.stringify(t)))},rm:function(e){T(_)&&_().removeItem(e)}};function O(){return sessionStorage}var A=function(){var e=r();return T(O)&&O().setItem("wpkreporter:frmid",e),e},D=function(e,t){if(t){if(1===t.length)return e===t[0];if(2===t.length){var n=t[0],r=t[1];return n&&!r?a(e,n):n&&r?a(e,n)&&a(r,e):a(r,e)}return!1}return!0;function a(e,t){var n=e.split("."),r=t.split(".");return!(parseInt(n[0])<parseInt(r[0]))&&(parseInt(n[0])>parseInt(r[0])||!(parseInt(n[1])<parseInt(r[1]))&&(parseInt(n[1])>parseInt(r[1])||parseInt(n[2])>=parseInt(r[2])))}},M=function(e,t,n,a,o){var i="wpkreporter:dynamicConf:"+e,c=I.get(i);if(c)s(o)&&o(c);else{var u={app:e,tm:l(!0),ud:r(),sver:t,sign:"c41e43c828c16c16a6eb1c9c1e68e8ce"},d=f(u);!function(e,t){if("undefined"==typeof XMLHttpRequest)t();else{var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){var e;if(200===n.status&&n.response)try{var r=JSON.parse(n.response);0===r.code&&(e=r.config||[])}catch(e){}t(e)}};try{n.open("GET",e,!0),n.timeout=3e3,n.send()}catch(e){}}}(n+"?wpk-header="+encodeURIComponent(d),(function(e){if(c={},void 0!==e){for(var n=e.length,r=0;r<n;r++){var a=e[r],l=a.sdkver;if(D(t,l)){if(a.common&&void 0!==a.common.sampleRate&&(c.all=a.common.sampleRate),a.config)for(var u,d=a.config.length,p=0;p<d;p++)if((u=a.config[p]).type){if(u.category_rate)for(var f in u.category_rate)c[u.type+"@"+f]=u.category_rate[f];u.sampleRate&&(c[u.type]=u.sampleRate)}break}}I.set(i,c)}s(o)&&o(c)}))}},N=function(e,t,n){for(var r,a=t.length,o=0;o<a;o++)"string"==typeof(r=e[t[o]])?e[t[o]]=r.substring(0,n):"object"==typeof r&&(e[t[o]]=String(r))},P="undefined"!=typeof navigator?(navigator.userAgent||"").toLowerCase():"",L=function(){return P.indexOf("ucbrowser/")>-1},R=function(){return P.indexOf("quark/")>-1},F=function(){var e=!1;try{if("undefined"!=typeof navigator){var t=-1!==navigator.userAgent.indexOf("Alipay"),n=-1!==navigator.userAgent.indexOf("MiniProgram"),r=-1!==navigator.userAgent.indexOf("APXWebView");e=t&&(n||r)}}catch(e){}return e},j=function(){if("undefined"!=typeof window&&null!==window){if(window.ucweb&&window.ucweb.window&&window.ucweb.window.performance&&3===window.ucweb.window.performance.pt)return!0;if(window.compass&&window.compass.env&&a(window.compass.env))return window.compass.env.isPrerender}return!1},B=function(e){if(!e)return 0;try{return"function"==typeof TextEncoder?(new TextEncoder).encode(e).length:function(e){for(var t=0,n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);t+=r<128?1:r<2048?2:r<55296?3:r<56320?4:3}return t}(e)}catch(t){return e.length}};e.exports=function(e){return{noop:n,uuid:r,isError:o,isArray:i,isObject:a,isFunction:s,isString:c,getSessionId:A,logger:"undefined"!=typeof console&&a(console)&&e.debug?{trace:function(){C(console.trace,arguments)},debug:function(){C(console.debug,arguments)},log:function(){C(console.log,arguments)},info:function(){C(console.info,arguments)},warn:function(){C(console.warn,arguments)},error:function(){C(console.error,arguments)}}:{trace:n,debug:n,log:n,info:n,warn:n,error:n},extend:function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},some:function(e,t){if(!this.isArray(e)||!this.isFunction(t))return!1;for(var n,r=e.length,a=0;a<r;a++)if(n=e[a],t.call(this,n))return!0;return!1},filter:function(e,t){var n=[];try{for(var r=0,a=e.length;r<a;r++)t.call(this,e[r],r,e)&&n.push(e[r]);return n}catch(e){}return e},forEach:function(e,t){if(this.isArray(e)&&this.isFunction(t))for(var n,r=e.length,a=0;a<r;a++)n=e[a],t.call(this,n,a,e)},trim:function(e){if(this.isString(e))return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},canReport:w,onListen:y,offListen:b,getMetas:h,timestamp:l,generateSeq:p,categoryToType:d,parseErrorStack:u,objToJsonString:m,objToQueryString:f,genContentHash:E,isU4HA:S,isUC:L,isQuark:R,cutStr:N,dynamicConf:M,inAlipayMiniAppWebview:F,isCompassPrerender:j,isPageReady:g,onPageReady:v,byteLength:B}}},function(e,t){var n=window.history||{},r=window.document,a=function(e,t){var n;window.CustomEvent?n=new CustomEvent(e,{detail:t}):((n=r.createEvent("HTMLEvents")).initEvent(e,!1,!0),n.detail=t),window.dispatchEvent(n)},o=function(e){return e&&"string"==typeof e?e.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):""},i=function(e){var t=n[e];"function"==typeof t&&(n[e]=function(e,r,i){var s=location.href,c=t.call(n,e,r,i);if(!i||"string"!=typeof i)return c;if(i===s)return c;try{var l=s.split("#"),u=i.split("#"),d=o(l[0]),p=o(u[0]),f=l[1]&&l[1].replace(/^\/?(.*)/,"$1"),m=u[1]&&u[1].replace(/^\/?(.*)/,"$1");d!==p?a("historystatechange",p):f!==m&&a("historystatechange",m)}catch(e){}return c},n[e].toString=e+"() { [native code] }")};e.exports=function(){i("pushState"),i("replaceState")}},function(e,t,n){var r,a,o=n(0),i=o.env,s=o.category,c=function(e){return"function"==typeof e},l={},u=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):(l["on"+t]=function(){return n.call(e,window.event)},e.attachEvent("on"+t,l["on"+t]))},d=function(e,t){var n=e.id?"#"+e.id:"",r="";e.className&&"string"==typeof e.className&&(r="."+e.className.split(" ").join("."));var a=e.tagName.toLowerCase();return e.parentNode&&e.parentNode.tagName&&t-1!=0?d(e.parentNode,t-1)+" > "+a.toLowerCase()+n+r:a+n+r},p=function(e,t,n,o,i,l){if(r)try{r.call(this,t,n,o,i,l)}catch(l){}if("script error."===(t||"").toLowerCase()){if(e.ignoreScriptError||a.ignoreScriptError)return void e.logger.warn("配置了ignoreScriptError，本次异常将不上报");t="Script error",l=l||{}}if(!c(a.jsErrFilter)||a.jsErrFilter.call(this,event)){if(null!=l){var u=(l.stack||"").split("\n");u.shift();var d={w_msg:t,w_file:n||"",w_line:o||"",w_col:i||"",stack:u.join("\n"),category:s.JSERR,sampleRate:a.jsErrSampleRate};e.report(d)}}else e.logger.warn("jserrFilter 返回false，本次日志将不上报, event: ",event)},f=function(e,t){var n=window;n&&e.env===i.BROWSER?(e.logger.info("wpkglobalerrorPlugin已开启"),!1!==(a=e.toolKit.extend({jsErrSampleRate:1,resErrSampleRate:1},t)).jsErr?(r=n.onerror,n.onerror=function(t,n,r,a,o){p(e,t,n,r,a,o)},u(n,"unhandledrejection",(function(t){var n=t.type;"string"==typeof t.reason?n=t.reason:t.reason&&"object"==typeof t.reason&&t.reason.message&&(n=t.reason.message),p(e,n,null,null,null,t.reason||t.type)}))):e.logger.warn("js异常监控已关闭"),a.resErr?u(n,"error",(function(t){!function(e,t){if(!t.target.tagName||t.message||t.filename||t.lineno||t.colno)e.logger.warn("非资源获取问题，跳出处理, event: ",t);else if(!c(a.resErrFilter)||a.resErrFilter.call(this,t)){var n=t.target.src||t.target.href;n===window.location.href&&(n="EMPTY_SRC");var r,o=function(e){var t=-1;switch(e.tagName.toLowerCase()){case"img":t=1;break;case"link":e.rel&&"stylesheet"===e.rel.toLowerCase()&&(t=2);break;case"script":t=3;break;case"video":t=11}return t}(t.target);11===o&&t.target.error&&(r=t.target.error.code),e.report({category:s.RESLOADFAIL,sampleRate:a.resErrSampleRate,msg:n+" 加载失败",w_res:n,w_type:o,w_err:r,w_xpath:d(t.target,5)})}else e.logger.warn("reserrFilter 返回false，本次日志将不上报, event: ",t)}(e,t)}),!0):e.logger.warn("资源加载异常监控已关闭")):e.logger.warn("全局错误监控插件不支持非浏览器环境")};f.prototype.pluginId="gerror",e.exports=f},function(e,t,n){var r=n(0),a=r.sdk,o=r.http.methods,i=r.category,s=function(e){return e>=200&&e<=299},c=function(e){return-1===e.indexOf("//arms-retcode")&&-1===e.indexOf("//retcode.taobao.com")&&-1===e.indexOf("aliyuncs.com/r.png")&&-1===e.indexOf("//mdap.alipay.com/loggw")&&-1===e.indexOf("//wpk-gateway")&&-1===e.indexOf("//px.wpk.quark.cn")&&-1===e.indexOf("//px.ucweb.com")&&-1===e.indexOf("//px.effirst.com")&&-1===e.indexOf("//px-intl.ucweb.com")&&-1===e.indexOf("//gm.mmstat.com/arms.1.1")&&-1===e.indexOf("//gm.mmstat.com/arms.1.2")&&-1===e.indexOf("//g.alicdn.com/alilog")&&-1===e.indexOf("//log.m.sm.cn/0.gif")},l=function(e,t){if(e.hasOwnProperty(t))return e[t]},u=function(e,t,n){e.toolKit.isObject(n)&&e.toolKit.extend(t,{c1:l(n,"c1"),c2:l(n,"c2"),c3:l(n,"c3"),c4:l(n,"c4"),c5:l(n,"c5"),bl1:l(n,"bl1"),bl2:l(n,"bl2"),bl3:l(n,"bl3"),bl4:l(n,"bl4"),bl5:l(n,"bl5")}),e.report(t)},d=location.origin,p=function(e){return!e||0===e.indexOf(d)||!/^(\/\/|http:|https:).*/.test(e)};function f(e,t){var n=null;try{var r,a,o,i=e.toolKit.trim(t||"").split(/[\r\n]+/);i.length>0&&(n={},e.toolKit.forEach(i,(function(e){r=e.split(": "),a=r.shift(),o=r.join(": "),n[a]=o})))}catch(e){}return n}function m(e){try{if(!e)return{};var t={};return e.forEach((function(e,n){t[n]=e})),t}catch(e){return{}}}var h=function(e,t){if(e.env===r.env.BROWSER&&window){var n={enable:!0,sampleRate:1,enableTrace:!1,enableCorsTrace:function(e){return!1},requestHeaders:{"x-wpk-reqid":function(){return e.toolKit.uuid(!1)},"x-wpk-bid":function(){return e.bid}},responseHeaders:["x-eagleeye-id","x-wpk-serverid"]},l=e.toolKit.extend(n,t);l.enable?(e.logger.info("wpkinterfacePlugin已开启"),"XMLHttpRequest"in window&&function(e,t){var n=window.XMLHttpRequest.prototype,r=n.open;n.open=function(n,a){this.__reqCtx__={method:n,url:a||"",start:Date.now()};var o=[].slice.call(arguments);r.apply(this,o);var i=this;t.enableTrace&&(p(a)||t.enableCorsTrace(a))&&e.toolKit.forEach(Object.getOwnPropertyNames(t.requestHeaders),(function(e){var n=t.requestHeaders[e]();i.setRequestHeader(e,n)}))};var l=n.setRequestHeader;n.setRequestHeader=function(e,t){var n=[].slice.call(arguments);l.apply(this,n),this.__reqCtx__&&(this.__reqCtx__.headers||(this.__reqCtx__.headers={}),this.__reqCtx__.headers[e]=t)};var d=n.send;n.send=function(n){var r=this;function l(){if(r.__reqCtx__&&4===r.readyState)try{var l=Date.now(),d=(r.responseURL||r.__reqCtx__.url).split("?"),p=d[0],m=d[1]||"",h="",g=r.__reqCtx__.headers||{};r.__reqCtx__.method.toUpperCase()!==o.GET&&n&&(h=JSON.stringify(n));var v=f(e,r.getAllResponseHeaders()),y=String(r.response),b=!0,w={};"function"==typeof t.errorFilter&&(b=!!(w=t.errorFilter.call(this,{url:p,status:r.status,response:y,body:h,queryString:m,reqHeaders:g,resHeaders:v})),e.logger.warn("api errorFilter执行结果：",w)),y.length>2048&&(y="[response content too large]");var x=l-r.__reqCtx__.start;if(b&&x<121e3&&c(p)){var C=w.bizCode||r.status,E=w.reqHeaders||g,S=w.resHeaders||v,k={category:i.API,sampleRate:t.sampleRate,w_res:p,w_param:m,w_body:s(C)||!t.withBody?"":h,w_method:r.__reqCtx__.method,w_rc:C,w_rt:x,w_resp:s(C)||!t.withResp?"":w.resp||y,w_hd:JSON.stringify(E),w_trace_reqid:E&&E["x-wpk-reqid"]||void 0,w_rshd:JSON.stringify(S),w_trace_serverid:S&&S["x-wpk-serverid"]||void 0,msg:w.msg||"",w_type:16};u(e,k,w)}}catch(t){e.reportError(t,{bid:a.BID,cid:a.CID,category:i.JSERR,sampleRate:1})}}if("onreadystatechange"in r&&"function"==typeof r.onreadystatechange){var p=r.onreadystatechange;r.onreadystatechange=function(){var e=[].slice.call(arguments);l.apply(this,e),p.apply(this,e)}}else r.onreadystatechange=l;var m=[].slice.call(arguments);return d.apply(this,m)}}(e,l),"fetch"in window&&function(e,t){var n=function(e){var t=(e||"").split("?");return{apiAddr:t[0],queryString:t.length>1&&t[1]||""}},r=function(n,r,a,o,c,l,u,d,p,f,m){var h=e.toolKit.isObject(d)?d:{},g=h.reqHeaders||l,v=h.resHeaders||u;return{w_res:n,w_param:r,w_method:a,w_rc:c,w_rt:o,w_hd:JSON.stringify(g),w_trace_reqid:g&&g["x-wpk-reqid"]||void 0,w_rshd:JSON.stringify(v),w_trace_serverid:v&&v["x-wpk-serverid"]||void 0,msg:h.msg||p||"",w_body:s(c)||!t.withBody?"":f,w_resp:s(c)||!t.withResp?"":h.resp||m||"",category:i.API,sampleRate:t.sampleRate,w_type:17}},l=function(n,r,a,o,i,s,c){var l={};return"function"==typeof t.errorFilter&&(l=t.errorFilter.call(this,{url:n,queryString:r,status:a,body:o,response:i,reqHeaders:s,resHeaders:c}),e.logger.warn("api errorFilter执行结果：",l)),l},d=window.fetch;window.fetch=function(){var s=[].slice.call(arguments),f=o.GET;s[1]&&s[1].method&&(f=s[1].method.toUpperCase());var h,g=s[0];h="string"==typeof g?g:g instanceof URL?g.toString():g.url||"",t.enableTrace&&(p(h)||t.enableCorsTrace(h))&&(s[1]?void 0===s[1].headers&&(s[1].headers={}):s[1]={headers:{}},e.toolKit.forEach(Object.getOwnPropertyNames(t.requestHeaders),(function(e){s[1].headers[e]=t.requestHeaders[e]()})));var v=Date.now(),y="",b=null;return s[1]&&(b=s[1].headers),f!==o.GET&&s[1]&&s[1].body&&(y=JSON.stringify(s[1].body)),d.apply(this,s).then((function(t){try{var o=Date.now(),d=n(t.url||s[0]),p=d.apiAddr,h=d.queryString,g=t.clone(),w=m(g.headers);g.text().then((function(n){n=n||"";var a=l.call(this,p,h,t.status,y,n,b,w),i=!!a;n=n.length>2048?"[response content too large]":n;var s=o-v;if(i&&s<121e3&&c(p)){var d=a.bizCode||t.status,m=r(p,h,f,s,d,b,w,a,void 0,y,n);u(e,m,a)}}))}catch(t){e.reportError(t,{bid:a.BID,cid:a.CID,category:i.JSERR,sampleRate:1})}return t})).catch((function(t){var a=n(s[0]),o=a.apiAddr,i=a.queryString,d=l.call(this,o,i,-1,y,"",b,{}),p=!!d,m=Date.now()-v;if(p&&m<121e3&&c(o)){var h=d.bizCode||-1,g=r(o,i,f,m,h,b,{},d,t.message,y,void 0);u(e,g,d)}throw t}))}}(e,l),(e.enableMtop||l.enableMtop)&&(e.logger.info("use mtop"),function(e,t){window&&window.lib.mtop&&window.lib.mtop.middlewares&&window.lib.mtop.middlewares.push((function(n){var r=this.params,o=this.options,l=Date.now();return n().then((function(){try{if(o.H5Request&&(o.getJSON||o.postJSON))return void e.logger.debug("识别到请求为xhr, api监控交由xhr的方式处理");var n,d=o.retJson||{},p=Date.now()-l,f=d.code||200,m=r.type,h=r.api,g=e.toolKit.objToQueryString(o.querystring),v=o.postdata&&o.postdata.data?e.toolKit.objToJsonString(o.postdata.data):null,y=e.toolKit.objToJsonString(d.data||{}),b=d.ret;b instanceof Array&&(b=b.join(",")),-1===b.indexOf("SUCCESS")&&(n=b);var w=!0,x={};if("function"==typeof t.errorFilter&&(w=!!(x=t.errorFilter.call(this,{url:h,status:f,response:y,body:v,queryString:g,msg:n})),e.logger.warn("api errorFilter执行结果：",x)),w&&p<121e3&&c(h)){var C=x.bizCode||f,E={category:i.API,sampleRate:t.sampleRate,w_res:h,w_param:g,w_body:s(C)||!t.withBody?"":v,w_method:m,w_rc:C,w_rt:p,w_resp:s(C)||!t.withResp?"":x.resp||y,msg:x.msg||n||"",w_type:100};u(e,E,x)}}catch(t){e.reportError(t,{bid:a.BID,cid:a.CID,category:i.JSERR,sampleRate:1})}}))}))}(e,l))):e.logger.info("wpkinterfacePlugin已关闭")}};h.prototype.pluginId="api",e.exports=h},function(e,t,n){var r,a=n(0).env,o=n(0).category,i=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","msFirstPaint"],s=["navigate","reload","back_forward"],c=function(e){var t,n;if(r&&r.getEntriesByType)try{for(var a=r.getEntriesByType("paint"),o=0;o<a.length;o++){var s=a[o];"first-paint"===s.name?t=parseFloat(s.startTime.toFixed(2)):"first-contentful-paint"===s.name&&(n=parseFloat(s.startTime.toFixed(2)))}}catch(e){console.error(e)}var c=e[i[13]]-e[i[5]];return{w_n_rve:c?parseFloat(c.toFixed(2)):c,fpt:t,fcp:n}},l=function(e,t){var n,r,a,o={},s=e._ver||1;for(var c in t)a=0,n=e[i[t[c][0]]],r=e[i[t[c][1]]],(2===s?n>=0:n>0)&&r>0&&(a=parseFloat((r-n).toFixed(2))),o[c]=a;return o},u=function(e,t){var n=window;if(r=n.performance||n.webkitPerformance||n.msPerformance||n.mozPerformance,e.env===a.BROWSER&&r&&r.timing){t=t||{};var i=e.toolKit.extend({enable:!0,sampleRate:1,collectResTiming:!1,minLoadTiming:3e3,maxLoadTiming:8e3,minLoadSpr:.05,maxLoadSpr:1},t);if(i.enable){e.logger.info("wpkperformancePlugin已开启");var u=r.timing||{},d=1;if("function"==typeof n.PerformanceNavigationTiming)try{var p=r.getEntriesByType("navigation")[0];p&&(u=p,d=2)}catch(e){}u._ver=d;var f=function(){/loaded|complete/.test(document.readyState)&&setTimeout((function(){var t=e.toolKit.extend(function(e){return l(e,{w_unload:[1,2],w_redirect:[3,4],w_appcache:[5,6],w_dns:[6,7],w_tcp:[8,10],w_ssl:[9,10],w_ttfb:[11,12],w_contentdownload:[12,13],w_domparsing:[13,15],w_res:[17,19]})}(u),function(e){var t=l(e,{w_firstbyte:[5,12],w_tti:[5,15],w_domready:[5,17],w_load:[5,19],w_total:[5,20]}),n=c(e);return t.w_n_rve=n.w_n_rve,t.wl_fcp=n.fcp,t.wl_fp=n.fpt,t}(u));for(var n in t)if(t[n]<0||t[n]>6e4)return void e.logger.warn("性能数据异常：",n,t[n]);var a=e.toolKit.extend(t,function(e){var t,n=r.navigation||{},a=-1,o=-1,i=-1;return 1===e._ver?t=s[n.type]||"other":2===e._ver&&(a=e.encodedBodySize,o=e.decodedBodySize,i=e.transferSize,t=e.type),{w_enbdsize:a,w_debdsize:o,w_transize:i,w_navtype:t}}(u),i,{category:o.JSFSPERF});if(e.report(a),(i.collectResTiming||e.toolKit.isQuark()||e.toolKit.isUC())&&!e._hasCollectResTiming){e.logger.info("已开启慢性能resource采集能力");var d=0;t.w_load>=i.minLoadTiming&&t.w_load<=i.maxLoadTiming?d=i.minLoadSpr:t.w_load>i.maxLoadTiming&&(d=i.maxLoadSpr),d&&r&&"function"==typeof r.getEntriesByType&&(e.report({category:o.RESTIMING,sampleRate:d,bl1:JSON.stringify(r.getEntriesByType("resource")),bl2:r.timeOrigin||r.timing.fetchStart,_forcePost:!0}),e._hasCollectResTiming=!0)}}))};e.toolKit.isPageReady(e.prerender)?f():e.toolKit.onPageReady(f,!0,e.prerender)}else e.logger.info("wpkperformancePlugin已关闭")}else e.logger.warn("基础性能插件仅支持浏览器环境")};u.prototype.pluginId="perf",e.exports=u},function(e,t,n){var r=n(0).env,a=function(e,t){if(t=t||{},-1!==[r.BROWSER,r.WEEX].indexOf(e.env)&&t.params&&"string"==typeof t.params){e.logger.info("wpkucparamPlugin已开启");for(var n=t.params,a=["pr","ve","os","fr","nw","ut","sv"],o=0;o<5;o++){var i=a[o];-1===n.indexOf(i)&&(n+=i)}try{"undefined"!=typeof ucapi&&"function"==typeof ucapi.invoke&&(e.uc_param_str=n,ucapi.invoke("biz.ucparams",{params:n,success:function(t){e.uc_param=t||"",e.uc_param_str=""},fail:function(t){e.logger.error("get uc_param_str error: ",t)}}))}catch(t){e.logger.error("get uc_param_str error: ",t),e.uc_param_str=n}}};a.prototype.pluginId="ucparam",e.exports=a},function(e,t,n){var r=n(0),a="undefined"!=typeof weex?weex:{},o=function(){var e={wx_pf:WXEnvironment.platform,wx_ver:WXEnvironment.weexVersion,wx_app:WXEnvironment.appName,wx_app_ver:WXEnvironment.appVersion,wx_os:WXEnvironment.osName,wx_os_ver:WXEnvironment.osVersion,wx_dev_md:WXEnvironment.deviceModel,dsp_w:WXEnvironment.deviceWidth,dsp_h:WXEnvironment.deviceHeight};if(void 0!==weex.config.uc)try{var t=JSON.parse(weex.config.uc.ucParams);e.net=t.nw,e.wx_app=t.pr,e.wx_app_ver=t.ve}catch(e){}return"undefined"!=typeof weex&&weex.config&&weex.config.bundleType&&"Vue"!==weex.config.bundleType&&"vue"!==weex.config.bundleType?("undefined"!=typeof location?e.wx_bdl_url=location.href:e.wx_bdl_url="undefined"!=typeof weex&&weex.config?weex.config.bundleUrl:"unknow",e.wx_bdl_type="Rax"):(e.wx_bdl_url=weex.config.bundleUrl,e.wx_bdl_type="Vue"),e.wx_bdl_name=function(e){try{var t=e.substring(e.lastIndexOf("/")+1);return-1===t.lastIndexOf(".")?t:t.substring(0,t.lastIndexOf("."))}catch(e){return""}}(e.wx_bdl_url),e};e.exports={env:r.env.WEEX,root:a,isHttps:!1,send:function(e,t,n){var r=this.toolKit.extend(o(),n,{w_frmid:this._sid});r.fr=r.wx_os,r.rom=r.wx_os_ver,r.brand=r.wx_dev_md,r.model=r.wx_dev_md,r.browser=r.wx_app,r.bver=r.wx_app_ver,r.w_url=r.wx_bdl_name,r.w_send_mode="weexfetch";var a=encodeURIComponent(t),i=encodeURIComponent(this.toolKit.objToJsonString(r));weex.requireModule("stream").fetch({url:e,method:"POST",headers:{"wpk-header":a},body:i},(function(e,t){}))},getWid:function(){return this.toolKit.uuid()},bindUnloadEvent:function(){}}},function(e,t,n){var r=n(1),a=n(14);e.exports=function(e){var t=new r(e);return t.initialize(a),t}},function(e,t,n){(function(t){var r=n(0),a=t;e.exports={env:r.env.NODEJS,root:a,send:function(e,t,n){}}}).call(this,n(15))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(1),a=n(17);e.exports=function(e){var t=new r(e);return t.initialize(a),t}},function(e,t,n){var r=n(0),a="undefined"!=typeof window?window:"undefined"!=typeof self?self:{},o=a.document,i=a.navigator,s=a.location,c=void 0!==a.devicePixelRatio?a.devicePixelRatio:1,l={},u=null,d=null,p=function(e,t,n,r,a){if(void 0===t){var i,s;if(!l[e]){i=new RegExp(e+"=([^;]+)");try{s=i.exec(o.cookie)}catch(e){return null}s&&(l[e]=s[1])}return l[e]}var c=e+"="+t;r&&(c+="; domain="+r),a&&(c+="; path="+a),n&&(c+="; max-age="+n);try{return o.cookie=c,!!o.cookie}catch(e){return!1}},f=function(e,t){!function(e,t,n,r){void 0!==window.ucapi&&"function"==typeof window.ucapi.invoke?(t&&(t.success=n,t.fail=r),window.ucapi.invoke(e,t)):r&&r("ucapi is not exist")}("webMonitor.reportWpkLog",e,(function(e){t.logger.warn("log reported success by jsapi",e)}),(function(e){t.logger.warn("log report failed by jsapi",e)}))},m=function(e){var t=window,n="wpkimgreporter_"+ +new Date+".r"+Math.floor(1e3*Math.random()),r=t[n]=new Image;r.onload=r.onerror=function(){t[n]=null},r.src=e},h=function(e,t,n){if("function"==typeof XMLHttpRequest){var r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-Type","text/plain"),r.timeout=5e3,r.send(t)}else n.logger.info("xhr is not supported")},g=function(e,t,n){i.sendBeacon(e,t)||(n.logger.info("beacon send fail, retry by xhr"),h(e,t,n))},v=function(e){var t,n=e._waitingQueue;if(e.checkHidden&&o&&o.hidden)return e.logger.warn("当前页面不可见，日志数据将丢弃: ",n),void(e._waitingQueue=[]);null===u&&(t=(navigator?navigator.userAgent:"").toLowerCase(),u=t.indexOf("windvane")>-1&&/(iphone|ipad|ipod|ios)/i.test(t)),null===d&&(d=e.useNativeCH&&function(e){try{return"undefined"!=typeof window&&void 0!==window.nativeWpkReport&&1===(window.nativeWpkReport||{})[e]}catch(e){return!1}}("enablePerformanceReport"));var r=i&&i.sendBeacon&&a.Blob,s=e.supportBeaconBody&&!u;if(d){for(var c=0;c<n.length;c++)try{var l=n[c];l.w_send_mode="jsapi",l._servAddr=void 0,l._hash=void 0,f({type:l.type,immediate:"jsfsperf"===l.type?0:1,args:l},e)}catch(e){}e._waitingQueue=[]}else if(r&&s){var p,v,y=function(e){for(var t,n,r=[],a=[],o=e.length,i=0;i<o;i++)n=e[i].category,-1===a.indexOf(n)&&a.push(n);t=a.length;for(var s=0;s<t;s++){n=a[s];for(var c=[],l=0;l<o;l++){var u=e[l];u.category===n&&c.push(u)}r[s]=c}return r}(n),b=y.length;try{for(var w,x=0;x<b;x++){v=(p=y[x]).length;for(var C=0,E=[],S=0;S<v;S++){w=p[S]._servAddr,p[S].w_send_mode="sendbeacon",p[S]._servAddr=void 0,p[S]._hash=void 0,p[S]=e.toolKit.objToJsonString(p[S]);var k=encodeURIComponent(p[S]),T=e.toolKit.byteLength(k);T>6e4?(e.logger.info("single log oversize 60k, send by xhr"),h(w,k,e)):((C+=T)>6e4&&(e.logger.info("group log length is "+C+" oversize 60k, send now"),g(w,encodeURIComponent(E.join("\n")),e),E.splice(0,E.length),C=T),E.push(p[S]))}E.length>0&&g(w,encodeURIComponent(E.join("\n")),e)}e._waitingQueue=[]}catch(e){}}else{for(var _,I,O,A=0;A<n.length;A++){I=(_=n[A])._servAddr,O=_._forcePost,_.w_send_mode=O?"fetch":r?"sendbeacon":"imgsrc",_._servAddr=void 0,_._hash=void 0,_._forcePost=void 0,_=encodeURIComponent(e.toolKit.objToJsonString(_));var D=e.toolKit.byteLength(_);D>7500&&(O=!0,e.logger.info("log len "+D+" oversize 7.5k, force post"));try{!0===O?(e.logger.info("force post, send by xhr"),h(I,_,e)):r?i.sendBeacon(I+"&data="+_):m(I+"&data="+_)}catch(e){}}e._waitingQueue=[]}},y=null,b=function(e){clearTimeout(y),y=null,v(e)},w=function(e){b(e)};e.exports={env:r.env.BROWSER,root:a,isHttps:s.protocol===r.http.protocols.HTTPS,send:function(e,t,n){var l=this;if(!l.ignoreU4HA&&l.toolKit.isU4HA(l.onlyCustom)&&n.category<100&&(2!==n.category||100!==n.w_type))l.logger.warn("在u4内核环境，屏蔽非自定义的所有自动打点");else if(l.toolKit.inAlipayMiniAppWebview()&&!0===l.blockAlipayMiniAppWebview)l.logger.warn("current runtime is alipay miniapp webview, this request will be blocked.");else{var u=l.toolKit.extend(function(){if(!o)return{};var e,t=o.referrer;return t&&-1!==t.indexOf('"')&&(t=encodeURIComponent(o.referrer)),{w_url:s.origin+s.pathname,w_query:s.search,w_ref:s.hash.substring(1),w_title:o.title,ua:i.userAgent,referrer:t,dsp_dpi:c||1,dsp_w:a.screen.width,dsp_h:a.screen.height,net:(e=i.connection,e&&e.type?e.type===r.navConn.types.NONE?"disconnected":e.type===r.navConn.types.CELLULAR?e.effectiveType===r.navConn.effectiveTypes.SLOW2G?"2g":e.effectiveType:e.type:"")}}(l.spa),n,{w_frmid:l._sid});if(l.logger.warn("logData to send: ",e,u),e+="?wpk-header="+encodeURIComponent(t),l.uc_param_str&&(e+="&uc_param_str="+l.uc_param_str),!0===n._diagnose)return u=encodeURIComponent(l.toolKit.objToJsonString(u)),void window.open(e+"&data="+u);u._servAddr=e,u._hash=l.toolKit.genContentHash(u);var d,p,f=l.delay&&-1!==[1,2,4].indexOf(u.category);!function(e,t){var n=e._waitingQueue,r=n.length,a=t.reduplication||e.reduplication||!0,o=!0;if(1===t.category&&a&&0!==r){for(var i,s=0;s<r;s++)if((i=n[s])._hash===t._hash){i.w_cnt++,o=!1;break}o&&n.push(t)}else n.push(t);return o}(l,u)&&f?l.logger.warn("logData被合并: ",u):(d=function(){b(l)},y=-1===(p=f?3e3:-1)?(d(),null):setTimeout(d,p||0))}},getWid:function(){var e=p(r.sdk.WID_KEY);return e||(e=this.toolKit.uuid(),p(r.sdk.WID_KEY,e,15552e3)),e},bindUnloadEvent:function(e){window&&(window.addEventListener?window.addEventListener("beforeunload",(function(t){w(e)}),!1):window.attachEvent&&window.attachEvent("onbeforeunload",(function(t){w(e)})))}}}])},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(3),s=n(2),c=n(65),l=n(132),u=n(8),d=n(15),p=n(9),f=n(72);n(455);var m=i.Balloon.Tooltip,h=window.IcbuIM.IMSDKHelper.isAlisupplier,g=null,v="POLISH_FIRST_TIP_FLAG",y=localStorage.getItem(v),b=!1,w=!1,x=function(e){function t(t){var n=e.call(this,t)||this;return n.handleAssistantTipShow=function(e){void 0===e&&(e=5e3);var t="REPLY_FIRST_TIP_FLAG",r=t&&!localStorage.getItem(t);if(r){n.hideAssistantTipLater(!0);var a=null;r&&localStorage.setItem(t,!0),e&&(a=setTimeout((function(){n.hideAssistantTipLater(!1)}),e)),a&&(a=null)}else n.hideAssistantTipLater(!1)},n.state={polishTipTextShow:!1,assistantTipTextShow:!1,polishTipText:""},n.assistantShowTimer=null,n}return a(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props,n=t.canReply,r=t.commandEnable;p.isSellerPWA&&r&&!n&&e.canReply&&!y&&(b=!0,y="true",localStorage.setItem(v,"true"))},t.prototype.componentDidMount=function(){var e=this;this.assistantShowTimer=setTimeout((function(){e.handleAssistantTipShow()}),2e3)},t.prototype.componentWillUnmount=function(){clearTimeout(this.assistantShowTimer)},t.prototype.handleGetInputContent=function(e){return e&&e.replace(/<[^>]*>/g,"")||""},t.prototype.hidePolishTipLater=function(e,t){var n=this;if(void 0===e&&(e=5e3),void 0===t&&(t=!1),!g){g=setTimeout((function(){t&&(w=!0),n.setState({polishTipTextShow:!1}),setTimeout((function(){n.setState({polishTipText:""})}),200),g=null,null}),e)}},t.prototype.hideAssistantTipLater=function(e){this.setState({assistantTipTextShow:e})},t.prototype.handleTooltipEnter=function(e){var t,n,r=this.handleGetInputContent(null===(n=(t=this.props).getContent)||void 0===n?void 0:n.call(t,{format:"text"}));if("merchant_assistant"===e)if(!r)return void this.setState({polishTipText:c.default.polishEntryEmpty,polishTipTextShow:!0})},t.prototype.handleTooltipLeave=function(e){var t,n,r=this.handleGetInputContent(null===(n=(t=this.props).getContent)||void 0===n?void 0:n.call(t,{format:"text"}));if("merchant_assistant"===e)if(!r)return void this.setState({polishTipTextShow:!1})},t.prototype.onToolbarItemClick=function(e){var t,n,r,a;s.default({ext:"toolbarClick",bizData:{type:e}});var o=this.handleGetInputContent(null===(n=(t=this.props).getContent)||void 0===n?void 0:n.call(t,{format:"text"}));if("merchant_assistant"===e)if(!o)return this.setState({polishTipText:c.default.polishEntryEmpty,polishTipTextShow:!0}),void this.hidePolishTipLater();this.props.EventBus.publish(l.default.startCommand,{commandName:e,content:o,isSimpleEditor:null===(a=(r=this.props).isSimpleEditor)||void 0===a?void 0:a.call(r),from:"toolbar",time:u.getHighPrecisionTimestamp()})},t.prototype.render=function(){var e,t,n=this,r=null!==(e=this.props)&&void 0!==e?e:{},a=r.showCommandsEntry,i=r.canReply,s=r.contact,l=r.hasRichTextDraft,u=r.showRichText,p=r.onMaximize,g=null!==(t=this.state)&&void 0!==t?t:{},v=g.polishTipTextShow,y=g.assistantTipTextShow,x=this.state.polishTipText;return b&&!w&&(x=c.default.polishFirstTip,this.hidePolishTipLater(5e3,!0)),o.createElement("div",{className:"assistant-toolbar-wrapper "+(a?"commond-entry-toolbar-wrapper":"")+" "+(u?"rich-assistant-toolbar-wrapper":"")},a?o.createElement("div",{className:"assistant-entry-wrapper"},o.createElement("div",{onMouseEnter:function(){return n.handleTooltipEnter("merchant_assistant")},onMouseLeave:function(){return n.handleTooltipLeave("merchant_assistant")}},o.createElement(m,{trigger:o.createElement("div",{className:"item-wrapper "+(i?"":"disable-item-wrapper"),onClick:this.onToolbarItemClick.bind(this,"merchant_assistant")},o.createElement("div",{id:"assistant-entry-icon",className:"send-tool-icon"},o.createElement("div",{className:"icon-wrapper"},i?d.default.polishLight:d.default.polish)),o.createElement("span",{className:"item-text"},c.default.polishEntryTip)),popupProps:{visible:!this.props.isAssistantAccount&&v}},x)),o.createElement(m,{trigger:o.createElement("div",{className:"item-wrapper",onClick:this.onToolbarItemClick.bind(this,"merchant_assistant_reception")},o.createElement("div",{id:"assistant-entry-icon",className:"send-tool-icon"},o.createElement("div",{className:"icon-wrapper"},d.default.reply)),o.createElement("span",{className:"item-text"},c.default.replyEntryTip)),popupProps:{visible:!this.props.isAssistantAccount&&y}},c.default.replyFirstTip)):null,!h&&2!==s.conversationType&&o.createElement(f.default,{onMaximize:p,hasRichTextDraft:l,style:{position:"static"}}))},t}(o.Component);t.default=x},function(e,t,n){e.exports=n(456)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.isBuyerPWA=location.pathname.indexOf("messengerAlone.htm")>=0,a=t.isSellerPWA=location.pathname.indexOf("weblitePWA.htm")>=0,o=t.isPureMessenger=location.pathname.indexOf("messenger.htm")>=0||location.pathname.indexOf("messengerShadow.htm")>=0,i=t.isPureWeblite=location.pathname.indexOf("weblite.htm")>=0,s=t.isWebATM=location.pathname.indexOf("webATM.htm")>=0;t.isWeblite=i||s,t.isMessenger=r||a||o,t.isSeller=a||location.pathname.indexOf("maDetail")>=0},function(e,t){e.exports=IcbuIM.Next1.Input},function(e,t){e.exports=IcbuIM.Next1.Rating},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.isBuyerPWA=location.pathname.indexOf("messengerAlone.htm")>=0,a=t.isSellerPWA=location.pathname.indexOf("weblitePWA.htm")>=0,o=t.isPureMessenger=location.pathname.indexOf("messenger.htm")>=0||location.pathname.indexOf("messengerShadow.htm")>=0,i=t.isPureWeblite=location.pathname.indexOf("weblite.htm")>=0,s=t.isWebATM=location.pathname.indexOf("webATM.htm")>=0;t.isWeblite=i||s,t.isMessenger=r||a||o,t.isSeller=a||location.pathname.indexOf("maDetail")>=0},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(515);t.default={namespace:"chatExtend",state:{chatExtend:{}},subscriptions:{initEvent:function(e){var t=e.dispatch;window.EventBus.on("im-weblite-chat:contactChanged",(function(e){!function(e){t({type:"initAiReceptionLang",payload:e})}(e)}))}},reducers:{setChatExtend:function(e,t){var n=t.payload,a=void 0===n?{}:n,o=e.chatExtend,i=a.aliId,s=a.dataMap,c=o[i];e.chatExtend[i]=r(r({},c),s)}},effects:{initAiReceptionLang:function(e,t){var n,r,i=e.payload,s=t.call,c=t.put;return a(this,(function(e){switch(e.label){case 0:return n=i.aliId,[4,s(o.getAiReceptionLang,{contactAliId:n})];case 1:return r=e.sent(),[4,c({type:"setChatExtend",payload:{aliId:n,dataMap:{aiReceptionLang:r}}})];case 2:return e.sent(),[2]}}))},setAiReceptionLang:function(e,t){var n,r,i=e.payload,s=t.call,c=t.put;return a(this,(function(e){switch(e.label){case 0:return n=i.lang,r=i.contactAliId,[4,c({type:"setChatExtend",payload:{aliId:r,dataMap:{aiReceptionLang:n}}})];case 1:return e.sent(),[4,s(o.setAiReceptionLang,i)];case 2:return e.sent(),[2]}}))}}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports={default:n(237),__esModule:!0}},function(e,t,n){var r=n(111),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t,n){var r=n(61),a=n(44),o=n(69);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",i)}},function(e,t,n){"use strict";var r=n(250)(!0);n(153)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){},,,,,,function(e,t){try{window.IcbuIM||(window=win)}catch(e){console.log("==== windowTransform error:",e)}},function(e,t){e.exports=function(e){throw new TypeError('"'+e+'" is read-only')},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(71).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r;window,r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=12)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&r.test(e)};var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,n){e.exports=t},function(e,t,n){e.exports=function(){"use strict";function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var a=window.document,o=a.documentElement,i=function(e){return Array.prototype.slice.call(e)},s={},c=null,l=500,u=300,d=10,p="ontouchstart"in o,f={tap:"click"},m="dx_",h=function(e,t){return Math.abs(e)>Math.abs(t)?e<0?"left":"right":t<0?"up":"down"};function g(){o.addEventListener("touchstart",w,!1)}function v(e,t){for(var n=e;n;){if(n.contains(t)||n===t)return n;n=n.parentNode}return null}function y(t,n,r){if(t){var o=a.createEvent("HTMLEvents");if(o.initEvent(n,!0,!0),"object"===e(r))for(var i in r)o[i]=r[i];t.dispatchEvent(o)}}function b(e,t,n,r,a,o,i,s){var c=Math.atan2(s-o,i-a)-Math.atan2(r-t,n-e),l=Math.sqrt((Math.pow(s-o,2)+Math.pow(i-a,2))/(Math.pow(r-t,2)+Math.pow(n-e,2))),u=[a-l*e*Math.cos(c)+l*t*Math.sin(c),o-l*t*Math.cos(c)-l*e*Math.sin(c)];return{rotate:c,scale:l,translate:u,matrix:[[l*Math.cos(c),-l*Math.sin(c),u[0]],[l*Math.sin(c),l*Math.cos(c),u[1]],[0,0,1]]}}function w(e){var t,n,r,a;function c(n,r){return function(){"tapping"===t.status&&(t.status="longTapping",y(n,m+"longtap",{touch:r,touches:e.touches,changedTouches:e.changedTouches,touchEvent:e})),clearTimeout(t.longTapHandler),t.longTapHandler=null}}0===Object.keys(s).length&&(o.addEventListener("touchmove",x,!1),o.addEventListener("touchend",C,!1),o.addEventListener("touchcancel",E,!1));for(var u=0;u<e.changedTouches.length;u++){for(var d in r={},n=e.changedTouches[u])r[d]=n[d];t={startTouch:r,startTime:Date.now(),status:"tapping",element:e.srcElement||e.target,longTapHandler:setTimeout(c(e.srcElement||e.target,e.changedTouches[u]),l)},s[n.identifier]=t}if(2===Object.keys(s).length){for(var p in a=[],s)a.push(s[p].element);y(v(a[0],a[1]),m+"dualtouchstart",{touches:i(e.touches),touchEvent:e})}}function x(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],r=s[n.identifier];if(!r)return;r.lastTouch||(r.lastTouch=r.startTouch),r.lastTime||(r.lastTime=r.startTime),r.velocityX||(r.velocityX=0),r.velocityY||(r.velocityY=0),r.duration||(r.duration=0);var a=Date.now()-r.lastTime,o=(n.clientX-r.lastTouch.clientX)/a,i=(n.clientY-r.lastTouch.clientY)/a,c=70;for(var l in a>c&&(a=c),r.duration+a>c&&(r.duration=c-a),r.velocityX=(r.velocityX*r.duration+o*a)/(r.duration+a),r.velocityY=(r.velocityY*r.duration+i*a)/(r.duration+a),r.duration+=a,r.lastTouch={},n)r.lastTouch[l]=n[l];r.lastTime=Date.now();var u=n.clientX-r.startTouch.clientX,p=n.clientY-r.startTouch.clientY,f=h(u,p),g=Math.sqrt(Math.pow(u,2)+Math.pow(p,2));("tapping"===r.status||"longTapping"===r.status)&&g>d&&(r.status="panning",y(r.element,m+"panbegin",{touch:n,touches:e.touches,changedTouches:e.changedTouches,touchEvent:e,direction:f})),"panning"===r.status&&(r.panTime=Date.now(),y(r.element,m+"panmove",{displacementX:u,displacementY:p,touch:n,direction:f,touches:e.touches,changedTouches:e.changedTouches,touchEvent:e}))}if(2===Object.keys(s).length){for(var w,x=[],C=[],E=[],S=0;S<e.touches.length;S++){var k=e.touches[S],T=s[k.identifier];T&&T.startTouch&&x.push([T.startTouch.clientX,T.startTouch.clientY]),C.push([k.clientX,k.clientY])}for(var _ in s)E.push(s[_].element);try{w=b(x[0][0],x[0][1],x[1][0],x[1][1],C[0][0],C[0][1],C[1][0],C[1][1]),y(v(E[0],E[1]),m+"dualtouch",{transform:w,touches:e.touches,touchEvent:e})}catch(e){}}}function C(e){if(2===Object.keys(s).length){var t=[];for(var n in s)t.push(s[n].element);y(v(t[0],t[1]),m+"dualtouchend",{touches:i(e.touches),touchEvent:e})}for(var r=0;r<e.changedTouches.length;r++){var a=e.changedTouches[r],l=a.identifier,d=s[l];if(d){if(d.longTapHandler&&(clearTimeout(d.longTapHandler),d.longTapHandler=null),"tapping"===d.status&&(d.timestamp=Date.now(),y(d.element,m+"tap",{touch:a,touchEvent:e}),c&&d.timestamp-c.timestamp<u&&y(d.element,m+"doubletap",{touch:a,touchEvent:e}),c=d),"panning"===d.status){var p=Date.now(),f=p-d.startTime,g=a.clientX-d.startTouch.clientX,b=a.clientY-d.startTouch.clientY,w=h(g,b),S=Math.sqrt(d.velocityY*d.velocityY+d.velocityX*d.velocityX)>.5&&p-d.lastTime<100,k={duration:f,isflick:S,velocityX:d.velocityX,velocityY:d.velocityY,displacementX:g,displacementY:b,touch:a,direction:w,touches:e.touches,changedTouches:e.changedTouches,touchEvent:e};y(d.element,m+"panend",k),S&&y(d.element,m+"swipe",k)}delete s[l]}}0===Object.keys(s).length&&(o.removeEventListener("touchmove",x,!1),o.removeEventListener("touchend",C,!1),o.removeEventListener("touchcancel",E,!1))}function E(e){if(2===Object.keys(s).length){var t=[];for(var n in s)t.push(s[n].element);y(v(t[0],t[1]),m+"dualtouchend",{touches:i(e.touches),touchEvent:e})}for(var r=0;r<e.changedTouches.length;r++){var a=e.changedTouches[r],c=a.identifier,l=s[c];l&&(l.longTapHandler&&(clearTimeout(l.longTapHandler),l.longTapHandler=null),"panning"===l.status&&y(l.element,m+"panend",{touch:a,touches:e.touches,changedTouches:e.changedTouches,touchEvent:e}),delete s[c])}0===Object.keys(s).length&&(o.removeEventListener("touchmove",x,!1),o.removeEventListener("touchend",C,!1),o.removeEventListener("touchcancel",E,!1))}var S=function(){function e(n,r,a,o){var i=this;t(this,e),this._pc_mode=a,this.enable_tap_delay=o,this._pc_mode||g(),this.el=n;var s=function(e){var t=i.processEventType(e);i.el&&i.el.addEventListener(t,(function(t){t.stopPropagation(),r[e](t)}))};for(var c in r)s(c)}return r(e,[{key:"on",value:function(e,t){var n=this,r=this.processEventType(e);this.el.addEventListener(r,(function(r){if(r.stopPropagation(),n.enable_tap_delay&&"tap"===e){var a=n._pc_mode?0:80;setTimeout((function(){t(r)}),a)}else t(r)}))}},{key:"processEventType",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),t=m;return p&&!this._pc_mode||!f[e]||(e=f[e],t=""),e=t+e}}]),e}();return S}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e)};var r,a=n(11),o=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&"text"===t)return["-webkit-text","text"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]};var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),a.hasOwnProperty(e)&&(n[a[e]]=r[t]||t)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},a={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&s.test(t))return i.map((function(e){return t.replace(s,(function(t){return e+t}))}))};var r,a=n(1),o=(r=a)&&r.__esModule?r:{default:r},i=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(Object.prototype.hasOwnProperty.call(r,e))for(var a=r[e],o=0,i=a.length;o<i;++o)n[a[o]]=t};var r={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,a=/^ms-/,o={};function i(e){return"-"+e.toLowerCase()}t.default=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(r,i);return o[e]=a.test(t)?"-"+t:t}},function(e,t,n){"use strict";n.r(t);var r=document.createElement("div");r.style.display="-webkit-box",r.style.display="-moz-box",r.style.display="-webkit-flex",r.style.display="flex";var a=r.style.display;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t[t.length-1]||"";return"display"===e&&t.indexOf(a)>-1&&(n=a),n}var i=n(0),s=n(3),c=n.n(s),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u="object"===("undefined"===typeof performance?"undefined":l(performance))&&performance.now;i.utils.deepGet;var d=i.utils.isString,p=function(e){return"object"===("undefined"===typeof e?"undefined":l(e))},f=i.utils.isEqual,m=i.utils.numTrunc,h=function(e){return!("false"===e||!1===e||"0"===e||!e)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(i.getGlobalConfig)("forcePcMode"),r=Object(i.getGlobalConfig)("enableTapDelay");return new c.a(e,t,n,r)},v=function(e){return null===e.offsetParent&&0===e.offsetHeight},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"leftTop",t=e.search(/[A-Z]/),n=void 0,r=void 0;return-1!==t?(n=e.slice(0,t),r=e.slice(t).toLowerCase()):n=r=e,{x:n,y:r}},b=function(e){return!0===e||"true"===e||"True"===e||"1"===e||1===e},w=function(e){return!1===e||"false"===e||"False"===e||"0"===e||0===e},x=function(e){return e&&e.getBoundingClientRect?e.getBoundingClientRect():null},C=/android/i.test(navigator.userAgent);function E(e){return e.charAt(0).toUpperCase()+e.slice(1)}function S(e,t,n){if(e.hasOwnProperty(t)){for(var r={},a=e[t],o=E(t),i=Object.keys(n),s=0;s<i.length;s++){var c=i[s];if(c===t)for(var l=0;l<a.length;l++)r[a[l]+o]=n[t];r[c]=n[c]}return r}return n}function k(e,t,n,r,a){for(var o=0,i=e.length;o<i;++o){var s=e[o](t,n,r,a);if(s)return s}}function T(e,t){-1===e.indexOf(t)&&e.push(t)}function _(e,t){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)T(e,t[n]);else T(e,t)}function I(e){return e instanceof Object&&!Array.isArray(e)}function O(e){var t=e.prefixMap,n=e.plugins;return function e(r){for(var a in r){var o=r[a];if(I(o))r[a]=e(o);else if(Array.isArray(o)){for(var i=[],s=0,c=o.length;s<c;++s)_(i,k(n,a,o[s],r,t)||o[s]);i.length>0&&(r[a]=i)}else{var l=k(n,a,o,r,t);l&&(r[a]=l),r=S(t,a,r)}}return r}}var A=["Webkit"],D=["ms"],M=["Webkit","ms"],N={plugins:[],prefixMap:{appearance:["Webkit","Moz"],textEmphasisPosition:A,textEmphasis:A,textEmphasisStyle:A,textEmphasisColor:A,boxDecorationBreak:A,maskImage:A,maskMode:A,maskRepeat:A,maskPosition:A,maskClip:A,maskOrigin:A,maskSize:A,maskComposite:A,mask:A,maskBorderSource:A,maskBorderMode:A,maskBorderSlice:A,maskBorderWidth:A,maskBorderOutset:A,maskBorderRepeat:A,maskBorder:A,maskType:A,textDecorationStyle:A,textDecorationSkip:A,textDecorationLine:A,textDecorationColor:A,userSelect:["Webkit","Moz","ms"],backdropFilter:A,fontKerning:A,scrollSnapType:M,scrollSnapPointsX:M,scrollSnapPointsY:M,scrollSnapDestination:M,scrollSnapCoordinate:M,clipPath:A,shapeImageThreshold:A,shapeImageMargin:A,shapeImageOutside:A,filter:A,hyphens:M,flowInto:M,flowFrom:M,breakBefore:M,breakAfter:M,breakInside:M,regionFragment:M,writingMode:M,textOrientation:A,tabSize:["Moz"],fontFeatureSettings:A,columnCount:A,columnFill:A,columnGap:A,columnRule:A,columnRuleColor:A,columnRuleStyle:A,columnRuleWidth:A,columns:A,columnSpan:A,columnWidth:A,wrapFlow:D,wrapThrough:D,wrapMargin:D,textSizeAdjust:M}},P=["-webkit-","-moz-",""],L={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0},R=n(1),F=n.n(R),j=["-webkit-",""],B=["-webkit-",""],z={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]},q={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},V={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"},U=["-webkit-","-moz-",""],H=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi,W=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function G(e){return"number"===typeof e&&!isNaN(e)}function K(e){return"string"===typeof e&&e.includes("/")}var J=["center","end","start","stretch"],Z={"inline-grid":["-ms-inline-grid","inline-grid"],grid:["-ms-grid","grid"]},X={alignSelf:function(e,t){J.indexOf(e)>-1&&(t.msGridRowAlign=e)},gridColumn:function(e,t){if(G(e))t.msGridColumn=e;else if(K(e)){var n=e.split("/"),r=W(n,2),a=r[0],o=r[1];X.gridColumnStart(+a,t);var i=o.split(/ ?span /),s=W(i,2),c=s[0],l=s[1];""===c?X.gridColumnEnd(+a+ +l,t):X.gridColumnEnd(+o,t)}else X.gridColumnStart(e,t)},gridColumnEnd:function(e,t){var n=t.msGridColumn;G(e)&&G(n)&&(t.msGridColumnSpan=e-n)},gridColumnStart:function(e,t){G(e)&&(t.msGridColumn=e)},gridRow:function(e,t){if(G(e))t.msGridRow=e;else if(K(e)){var n=e.split("/"),r=W(n,2),a=r[0],o=r[1];X.gridRowStart(+a,t);var i=o.split(/ ?span /),s=W(i,2),c=s[0],l=s[1];""===c?X.gridRowEnd(+a+ +l,t):X.gridRowEnd(+o,t)}else X.gridRowStart(e,t)},gridRowEnd:function(e,t){var n=t.msGridRow;G(e)&&G(n)&&(t.msGridRowSpan=e-n)},gridRowStart:function(e,t){G(e)&&(t.msGridRow=e)},gridTemplateColumns:function(e,t){t.msGridColumns=e},gridTemplateRows:function(e,t){t.msGridRows=e},justifySelf:function(e,t){J.indexOf(e)>-1&&(t.msGridColumnAlign=e)}},Y=["-webkit-",""],Q={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]},$=["-webkit-","-moz-",""],ee={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},te={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0},ne=n(4),re=n.n(ne),ae={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},oe={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};O({prefixMap:N.prefixMap,plugins:[function(e,t){if("string"===typeof t&&"text"===t)return["-webkit-text","text"]},function(e,t){if("string"===typeof t&&!F()(t)&&t.indexOf("cross-fade(")>-1)return j.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))},function(e,t){if("cursor"===e&&L.hasOwnProperty(t))return P.map((function(e){return e+t}))},function(e,t){if("string"===typeof t&&!F()(t)&&t.indexOf("filter(")>-1)return B.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))},function(e,t,n){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),V.hasOwnProperty(e)&&(n[V[e]]=q[t]||t)},function(e,t){if("string"===typeof t&&!F()(t)&&H.test(t))return U.map((function(e){return t.replace(H,(function(t){return e+t}))}))},function(e,t,n){if("display"===e&&t in Z)return Z[t];e in X&&(0,X[e])(t,n)},function(e,t){if("string"===typeof t&&!F()(t)&&t.indexOf("image-set(")>-1)return Y.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))},function(e,t,n){if(Object.prototype.hasOwnProperty.call(Q,e))for(var r=Q[e],a=0,o=r.length;a<o;++a)n[r[a]]=t},function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},function(e,t){if(ee.hasOwnProperty(e)&&te.hasOwnProperty(t))return $.map((function(e){return e+t}))},function(e,t,n,r){if("string"===typeof t&&ae.hasOwnProperty(e)){var a=function(e,t){if(F()(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,a=n.length;r<a;++r){var o=n[r],i=[o];for(var s in t){var c=re()(s);if(o.indexOf(c)>-1&&"order"!==c)for(var l=t[s],u=0,d=l.length;u<d;++u)i.unshift(o.replace(c,oe[l[u]]+c))}n[r]=i.join(",")}return n.join(",")}(t,r),o=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return o;var i=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?i:(n["Webkit"+E(e)]=o,n["Moz"+E(e)]=i,a)}},function(e,t){if("display"===e&&z.hasOwnProperty(t))return z[t]}]});var ie=n(5),se=n.n(ie),ce=n(6),le=n.n(ce),ue=n(7),de=n.n(ue),pe=n(8),fe=n.n(pe),me=n(9),he=n.n(me),ge=n(10),ve=n.n(ge),ye=["Webkit"],be=O({plugins:[se.a,le.a,de.a,fe.a,he.a,ve.a],prefixMap:{appearance:ye,userSelect:ye,textEmphasisPosition:ye,textEmphasis:ye,textEmphasisStyle:ye,textEmphasisColor:ye,boxDecorationBreak:ye,clipPath:ye,maskImage:ye,maskMode:ye,maskRepeat:ye,maskPosition:ye,maskClip:ye,maskOrigin:ye,maskSize:ye,maskComposite:ye,mask:ye,maskBorderSource:ye,maskBorderMode:ye,maskBorderSlice:ye,maskBorderWidth:ye,maskBorderOutset:ye,maskBorderRepeat:ye,maskBorder:ye,maskType:ye,textDecorationStyle:ye,textDecorationSkip:ye,textDecorationLine:ye,textDecorationColor:ye,filter:ye,fontFeatureSettings:ye,breakAfter:ye,breakBefore:ye,breakInside:ye,columnCount:ye,columnFill:ye,columnGap:ye,columnRule:ye,columnRuleColor:ye,columnRuleStyle:ye,columnRuleWidth:ye,columns:ye,columnSpan:ye,columnWidth:ye,writingMode:ye,flex:ye,flexBasis:ye,flexDirection:ye,flexGrow:ye,flexFlow:ye,flexShrink:ye,flexWrap:ye,alignContent:ye,alignItems:ye,alignSelf:ye,justifyContent:ye,order:ye,transform:ye,transformOrigin:ye,transformOriginX:ye,transformOriginY:ye,backfaceVisibility:ye,perspective:ye,perspectiveOrigin:ye,transformStyle:ye,transformOriginZ:ye,animation:ye,animationDelay:ye,animationDirection:ye,animationFillMode:ye,animationDuration:ye,animationIterationCount:ye,animationName:ye,animationPlayState:ye,animationTimingFunction:ye,backdropFilter:ye,fontKerning:ye,scrollSnapType:ye,scrollSnapPointsX:ye,scrollSnapPointsY:ye,scrollSnapDestination:ye,scrollSnapCoordinate:ye,textSizeAdjust:ye,shapeImageThreshold:ye,shapeImageMargin:ye,shapeImageOutside:ye,hyphens:ye,flowInto:ye,flowFrom:ye,regionFragment:ye,borderImage:ye,borderImageOutset:ye,borderImageRepeat:ye,borderImageSlice:ye,borderImageSource:ye,borderImageWidth:ye,transitionDelay:ye,transitionDuration:ye,transitionProperty:ye,transitionTimingFunction:ye}}),we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ce=function(){},Ee=function(e){return e&&"_"===e[0]},Se=function(e){return"children"!==e&&"dinamic"!==e},ke=function(){try{var e=navigator.userAgent.toLowerCase(),t=0;return e.indexOf("android")>0&&(t=(e.match(/android [\d._]+/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),t=parseInt(t.split(".")[0])),t}catch(e){}return 0}(),Te=function(){try{var e=navigator.userAgent;if(/iphone/i.test(e)||/ipad/i.test(e)){var t=e.match(/ os (\d+)_+/i);if(t)return parseInt(t[1])}}catch(e){console.log(e)}return null}(),_e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(r.getStyles=(n=Ie.call(r,"styles"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.styleParser(n(e))}),r.setStyles=Oe.call(r,"styles"),r.getAttrs=Ie.call(r,"attrs"),r.setAttrs=Oe.call(r,"attrs"),r.getEvents=Ie.call(r,"events"),r.setEvents=Oe.call(r,"events"),r._enableLayoutNG=i.getGlobalConfig("enableLayoutNG"),r.isRTL="rtl"===document.dir,r.setStyles({position:"relative",display:"flex"}),r.layoutProps=Me.call(r),r.layoutProps){var a=r.layoutProps,o=a._viewName,s=a.childrenLen;if("FrameLayout"===o){var c=!0;i.getGlobalConfig("enableExperimentalRender")&&1===s&&(c=!1);var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._idIndex,n=e._tplContext;if(!t||!n||!n.componentIndexSet)return!1;var r=n.componentIndexSet[t],a=n.componentIndexSet[t-1];return!(!r||!a||r.pid!==a.id)}(e),u=!e.gravity||/leftTop/.test(e.gravity);l&&u&&(c=!1),i.utils&&i.utils.env&&!i.utils.env.isIOS&&ke<=6&&(c=!0),c?(r.setStyles({position:"absolute"}),!e.gravity&&Te&&Te<=10&&r.setStyles({left:0})):r.setStyles({alignSelf:"flex-start"})}else"LinearLayout"===o?r._enableLayoutNG?r.props.width&&"match_parent"!==r.props.width&&parseFloat(r.props.width)>0&&r.setStyles({flexShrink:0}):r.setStyles({flexShrink:0,flexGrow:0}):"FrameLayoutNG"===o&&r.setStyles({gridArea:"1 / 1 / 2 / 2",alignSelf:"start"})}return Le.call(r),Pe.call(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xe(t,[{key:"render",value:function(){var e=this.props;return Ae.call(this),i.h("div",we({key:e._id,"view-name":this.getViewName(),style:this.getStyles()},this.getAttrs()),"gone"!==e.visibility&&this.renderView&&this.renderView(e))}},{key:"getChildren",value:function(){var e=this.props.children;return Array.isArray(e)?e:p(e)?[e]:[]}},{key:"getTemplateId",value:function(){return this.props._tplId}},{key:"getViewName",value:function(){return this.props._viewName}},{key:"styleParser",value:function(e){var t=function(e){return be(e)}(e);for(var n in t){var r=t[n];Array.isArray(r)&&(t[n]=o(n,r))}return t}},{key:"propParser",value:function(e){var t=this,n=[],r=e||this.props;for(var a in r){var o=r[a];if(!Ee(a)&&Se(a)){var i=this[a];if(!i)continue;if(Array.isArray(i)&&i.length>1)i.slice(0,-1).forEach((function(e){var a=t[e];if(-1===n.indexOf(e)&&(o=a)&&"function"===typeof o){var o,i=r[e];a.call(t,i),n.push(e)}})),i.slice(-1)[0].call(this,o);else{if(-1!==n.indexOf(a))continue;i.call(this,o,r),n.push(a)}}}}}]),t}(i.Component);function Ie(e){var t=this;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return Object.assign({},t[e][n])||{}}}function Oe(e){var t=this;return this[e]=this[e]||{},function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";t[e][r]=Object.assign(t[e][r]||{},n)}}function Ae(){for(var e=this.props,t=e._id,n=e._tplContext.componentIndexSet,r=n.length-1;r>=0;r--)if(n[r].id===t)return void(n[r].context=this)}function De(){var e=this,t=this.props._tplContext.lifeCycles.componentWillBindEvent,n=i.driver.findDOMNode(this);if(!n)return!1;var r=this.getEvents();if(Object.keys(r).length>0){var a=g(n),o=function(o){var i=r[o];t.call(e,i,n),i&&a.on(o,(function(t){if(!e._disable_event){var n=e.getEvents();(i=n[o]).handler(t)}}))};for(var s in r)o(s)}}function Me(){for(var e=this.props,t=e._tplContext,n=e._id,r=t.componentIndexSet,a=r.length-1;a>=0;a--){var o=r[a],i=o.id,s=o.pid;if(i===n){if(!s)break;for(var c=a-1;c>=0;c--){var l=r[c],u=l.id,d=l.props;if(s===u)return d}}}return null}var Ne={};function Pe(){var e=this;if(i.getGlobalConfig("enableLayoutNG"))this.calcLayoutSize=Ce;else{var t=i.getGlobalConfig("shouldSplitLayoutTask");this.calcLayoutSize=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,r=e.props._tplContext,a=r.componentIndexSet,o=(r.lifeCycles,e.getTemplateId()),i=Ne[o];i&&window.clearTimeout(i),Ne[o]=setTimeout((function(){for(var e=function(e){var r=a[e].context;if(r&&r.dynamicCalcSize)if(t){var o=function(e){var t=[],n=void 0;return function(r){t.push(r),n&&window.clearTimeout(n),n=setTimeout((function(){!function n(){requestAnimationFrame((function(r){for(;t.length>0&&(t.shift()(),!((u?performance.now():r)-r>=15)););t.length>0?n():e()}))}()}),0)}}(n);o((function(){return r.dynamicCalcSize()}))}else r.dynamicCalcSize()},r=a.length-1;r>=0;r--)e(r);t||n()}),0)}}}function Le(){var e=this,t={shouldComponentUpdate:function(t,n){return!(!n&&!t.children&&f(t,e.props))&&(e.propParser(t),!0)},componentWillMount:function(){e.propParser()},componentDidMount:function(){var t=e.props._tplContext,n=t.lifeCycles,r=t.shadow;n.componentFinishFirstPaint.call(e,e.dxCompId,i.driver.findDOMNode(e),r,{bindData:e._bindData}),i.getGlobalConfig("disableEventBinding")||De.call(e)},componentWillUnmount:Ce,componentWillReceiveProps:Ce,componentWillUpdate:Ce,componentDidUpdate:function(t,n){e.layoutProps&&e.layoutProps.listData&&e.props._id!==t._id&&De.call(e)}},n=function(n){var r=t[n],a=e[n]||function(){};e[n]=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=r.apply(e,n);return a.apply(e,n)||i}};for(var r in t)n(r)}_e.defaultProps={};var Re=_e,Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ze=i.utils.env.isIOS,qe=["LinearLayout","FlexLayout","HFlexLayout"];function Ve(){return"FlexLayout"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})._viewName}var Ue=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=Be(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.width=["marginLeft","marginRight","paddingLeft","paddingRight",function(e){var t=this.getStyles(),n=t.marginLeft,r=t.marginRight,a=t.paddingLeft,o=t.paddingRight,s=t.position,c=this.layoutProps||{},l=c.paddingLeft,u=c.paddingRight,d=c._viewName,p=c.orientation,f=c.childrenLen,m={};switch(e){case"match_parent":if(this._enableLayoutNG&&"LinearLayout"===d&&"horizontal"===p){m.flexGrow=1;break}if(m.width="100%",n||r||l||u){var h=n||"0px",g=r||"0px",v=i.unitParser(l)||"0px",y=i.unitParser(u)||"0px";m.maxWidth="absolute"===s?"calc(100% - "+h+" - "+g+" - "+v+" - "+y+")":"calc(100% - "+h+" - "+g+")"}break;case"match_content":if(this._enableLayoutNG){if("LinearLayout"===d&&"horizontal"===p&&f>1){var b=void 0!==this.props.weight,w=this.props.maxWidth&&parseFloat(this.props.maxWidth)>=0;b||w||(m.minWidth="fit-content")}"LinearLayout"===d&&"vertical"===p&&(m.maxWidth="-webkit-fill-available"),m.width="fit-content";break}ze&&"LinearLayout"===this.props._viewName&&(a||o)||(m.width="fit-content");break;default:var x=i.unitParser(e);"0px"===x&&"undefined"!==this.props.weight||(m.width=x)}this.setStyles(m)}],r.height=["marginTop","marginBottom",function(e){var t=this.getStyles(),n=t.marginTop,r=t.marginBottom,a={};switch(e){case"match_parent":var o=this.layoutProps||{},s=o._viewName,c=o.height,l=o.childGravity;if(C&&"LinearLayout"===s&&"match_content"===c){l&&(a.alignSelf="stretch");break}a.height="100%",(n||r)&&(a.maxHeight="calc(100% - "+(n||"0px")+" - "+(r||"0px")+")");break;case"match_content":a.height="auto";break;default:a.height=i.unitParser(e)}this.setStyles(a)}],r.onTap=["enabled",function(e){this.setEvents({tap:e}),this.setAttrs({className:"dx-event-node"+(this._disable_event?"-disabled":"")})}],Be(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fe(t,[{key:"dx-compid",value:function(e){this.setAttrs({"dx-compid":e})}},{key:"userId",value:function(e){this.dxCompId=e,this.setAttrs({"data-comp-id":e})}},{key:"minWidth",value:function(e){this.setStyles({minWidth:i.unitParser(e)})}},{key:"minHeight",value:function(e){this.setStyles({minHeight:i.unitParser(e)})}},{key:"marginLeft",value:function(e){this.setStyles(je({},this.isRTL?"marginRight":"marginLeft",i.unitParser(e)))}},{key:"marginRight",value:function(e){this.setStyles(je({},this.isRTL?"marginLeft":"marginRight",i.unitParser(e)))}},{key:"marginTop",value:function(e){this.setStyles({marginTop:i.unitParser(e)})}},{key:"marginBottom",value:function(e){this.setStyles({marginBottom:i.unitParser(e)})}},{key:"gravity",value:function(e){if(this.layoutProps){var t={},n=this.layoutProps,r=n._viewName,a=n.orientation,o=n.childrenLen,s=n.paddingTop,c=n.paddingLeft,l=n.paddingRight,u=n.paddingBottom,d=y(e),p=d.x,f=d.y;if("FrameLayout"===r){if(!i.getGlobalConfig("enableExperimentalRender")||"undefined"===o||o>1){var m,h={center:"0px"};je(m={},"center"===p?"left":p,h[p]||0),je(m,"center"===f?"top":f,h[f]||0),t=m,"absolute"===(this.getStyles()||{}).position&&(0==t.top&&s&&(t.top=i.unitParser(s)),0==t.bottom&&u&&(t.bottom=i.unitParser(u)),0==t.left&&c&&(t.left=i.unitParser(c)),0==t.right&&l&&(t.right=i.unitParser(l)))}}else if("LinearLayout"===r){var g={left:"flex-start",top:"flex-start",right:"flex-end",bottom:"flex-end",center:"center"},v=[g[p],g[f]];a&&"horizontal"!==a||(v=v.reverse()),t={alignSelf:v[0],justifySelf:v[1]}}else if("FrameLayoutNG"===r){var b={left:"start",top:"start",right:"end",bottom:"end",center:"center"};t={alignSelf:b[f],justifySelf:b[p]}}this.setStyles(t)}}},{key:"backgroundColor",value:function(e){this.setStyles({backgroundColor:i.colorParser(e)})}},{key:"backgroundGradient",value:function(e){e&&this.setStyles({backgroundImage:e})}},{key:"alpha",value:function(e){this.setStyles({opacity:e})}},{key:"visibility",value:function(e){var t={display:this._default_display||"flex"};switch(e){case"gone":t.display="none";break;case"invisible":t.visibility="hidden";break;case"visible":t.visibility="visible"}this.setStyles(t)}},{key:"cornerRadius",value:function(e){this.setStyles({borderRadius:i.unitParser(e)})}},{key:"cornerRadiusLeftTop",value:function(e){this.setStyles({borderTopLeftRadius:i.unitParser(e)})}},{key:"cornerRadiusRightTop",value:function(e){this.setStyles({borderTopRightRadius:i.unitParser(e)})}},{key:"cornerRadiusLeftBottom",value:function(e){this.setStyles({borderBottomLeftRadius:i.unitParser(e)})}},{key:"cornerRadiusRightBottom",value:function(e){this.setStyles({borderBottomRightRadius:i.unitParser(e)})}},{key:"borderWidth",value:function(e,t){var n=(t||this.props).borderColor,r=i.colorParser(n),a=i.unitParser(e);parseFloat(a)<1&&(a="1px"),this.setStyles({boxShadow:"inset 0 0 0 "+a+" "+r})}},{key:"accessibilityText",value:function(e){try{if(/&#\d+;/.test(e)){var t=e&&e.replace(/&#(\d+);/g,(function(e,t){return"%u"+Number(t).toString(16)}));e=unescape(t)}}catch(e){console.error(e)}this.setAttrs({"aria-label":e})}},{key:"focusable",value:function(e){}},{key:"weight",value:function(e){if(this.layoutProps){var t=this.layoutProps._viewName;-1!==qe.indexOf(t)&&this.setStyles({flex:e})}}},{key:"clipTopLeftRadius",value:function(e){this.setStyles({overflow:"hidden",borderTopLeftRadius:i.unitParser(e)})}},{key:"clipTopRightRadius",value:function(e){this.setStyles({overflow:"hidden",borderTopRightRadius:i.unitParser(e)})}},{key:"clipBottomLeftRadius",value:function(e){this.setStyles({overflow:"hidden",borderBottomLeftRadius:i.unitParser(e)})}},{key:"clipBottomRightRadius",value:function(e){this.setStyles({overflow:"hidden",borderBottomRightRadius:i.unitParser(e)})}},{key:"order",value:function(e){Ve(this.layoutProps)&&this.setStyles({order:e})}},{key:"flexGrow",value:function(e){Ve(this.layoutProps)&&this.setStyles({flexGrow:e})}},{key:"flexShrink",value:function(e){Ve(this.layoutProps)&&this.setStyles({flexShrink:e})}},{key:"flexBasis",value:function(e){Ve(this.layoutProps)&&this.setStyles({flexBasis:e})}},{key:"flex",value:function(e){Ve(this.layoutProps)&&this.setStyles({flex:e})}},{key:"alignSelf",value:function(e){Ve(this.layoutProps)&&this.setStyles({alignSelf:e})}},{key:"webEventDatasource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="";try{t=JSON.stringify(e)}catch(e){i.utils.log.warn(e)}this.setAttrs({"data-dx-event-datasource":t,className:"dx-event-node"})}},{key:"webEventDataSource",value:function(e){this.webEventDatasource(e)}},{key:"onBindData",value:function(e){this._bindData=e.handler()}},{key:"onLongTap",value:function(e){this.setEvents({longTap:e})}},{key:"onPanBegin",value:function(e){this.setEvents({panBegin:e})}},{key:"onPanMove",value:function(e){this.setEvents({panMove:e})}},{key:"onPanEnd",value:function(e){this.setEvents({panEnd:e})}},{key:"enabled",value:function(e){this._disable_event=w(e)}}]),t}(Re);i.registerView("View",Ue),i.registerView("DView",Ue);var He=Ue,We=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setStyles({overflow:"hidden",boxSizing:"border-box"}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),We(t,[{key:"paddingLeft",value:function(e){this.setStyles(Ge({},this.isRTL?"paddingRight":"paddingLeft",i.unitParser(e)))}},{key:"paddingTop",value:function(e){this.setStyles({paddingTop:i.unitParser(e)})}},{key:"paddingRight",value:function(e){this.setStyles(Ge({},this.isRTL?"paddingLeft":"paddingRight",i.unitParser(e)))}},{key:"paddingBottom",value:function(e){this.setStyles({paddingBottom:i.unitParser(e)})}}]),t}(He),Je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ze=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Je(t,[{key:"componentDidMount",value:function(){var e=this;i.getGlobalConfig("enableLayoutNG")||null===this.layoutProps&&this.calcLayoutSize((function(){return e.calcLayoutSize((function(){e.calcLayoutSize();var t=e.props._tplContext&&e.props._tplContext.perfTrackerPerfix;i.perfTracker&&i.perfTracker.mark(t,i.perfTracker.TPL_LAYOUT)}))}))}},{key:"componentDidUpdate",value:function(){var e=this;i.getGlobalConfig("enableLayoutNG")||null===this.layoutProps&&this.calcLayoutSize((function(){return e.calcLayoutSize((function(){return e.calcLayoutSize()}))}))}}]),t}(Ke),Xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ye(e){var t="match_content"===this.props.width,n="match_content"===this.props.height;if(!t&&!n)return null;t&&(e.style.width="auto"),n&&(e.style.height="auto");for(var r=-1,a=-1,o=e.childNodes||[],s=o.length,c=this.getChildren(),l=0;l<s;l++){var u=o[l];if((u.nodeType===Node.ELEMENT_NODE||u.nodeType===Node.TEXT_NODE)&&!v(u)){var d=c[l].props||{},p=!1;t&&"match_parent"===d.width&&(p=!0);var f=!1;if(n&&"match_parent"===d.height&&(f=!0),!f||!p){var h=x(u);if(h){var g=h.width,y=void 0===g?u.offsetWidth:g,b=h.height,w=void 0===b?u.offsetHeight:b;u.style&&"none"!==u.style.display&&(u.style.marginLeft&&(y+=parseFloat(u.style.marginLeft)||0),u.style.marginRight&&(y+=parseFloat(u.style.marginRight)||0),u.style.marginTop&&(w+=parseFloat(u.style.marginTop)||0),u.style.marginBottom&&(w+=parseFloat(u.style.marginBottom)||0)),p||(r=Math.max(y,r)),f||(a=Math.max(w,a))}}}}var C=x(e)||{width:0,height:0},E=this.props,S=E.paddingTop,k=E.paddingBottom,T=E.paddingLeft,_=E.paddingRight;return S&&(a+=parseFloat(i.unitParser(S))),k&&(a+=parseFloat(i.unitParser(k))),T&&(r+=parseFloat(i.unitParser(T))),_&&(r+=parseFloat(i.unitParser(_))),{width:m(t?r:C.width),height:m(n?a:C.height)}}function Qe(e,t){for(var n=t||x(e)||{width:0,height:0},r=n.width,a=n.height,o=e.childNodes||[],i=this.getChildren(),s=0;s<o.length;s++){var c=o[s],l=i[s],u=x(c);if(l&&l.props&&u){var d=l.props.gravity,p=parseFloat(c.style.marginLeft)||0,f=parseFloat(c.style.marginRight)||0,m=parseFloat(c.style.marginTop)||0,h=parseFloat(c.style.marginBottom)||0,g=u.width+p+f,v=u.height+m+h;"center"!==d&&"leftCenter"!==d&&"rightCenter"!==d||(c.style.top=(a-v)/2+"px"),"center"!==d&&"centerTop"!==d&&"centerBottom"!==d||(c.style.left=(r-g)/2+"px")}}}var $e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=i.getGlobalConfig("enableExperimentalRender");return n.shouldConvert2Flex=r&&e.childrenLen<=1,n.updateFlexStyle(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xe(t,[{key:"updateFlexStyle",value:function(){var e=this.shouldConvert2Flex,t=this.props;if(e&&t.children&&t.children.props&&t.children.props.gravity){var n=t.children.props.gravity,r=y(n),a=r.x,o=r.y,i={left:"flex-start",top:"flex-start",right:"flex-end",bottom:"flex-end",center:"center"};this.setStyles({justifyContent:i[a],alignItems:i[o]})}}},{key:"dynamicCalcSize",value:function(){if(!this.shouldConvert2Flex){var e=void 0;try{e=i.driver.findDOMNode(this)}catch(e){return}var t=Ye.call(this,e);if(Qe.call(this,e,t),t){var n=t.width,r=t.height;"match_content"===this.props.width&&(e.style.width=n+"px"),"match_content"===this.props.height&&(e.style.height=r+"px")}}}},{key:"renderView",value:function(){return this.props.children}}]),t}(Ze);i.registerView("FrameLayout",$e),i.registerView("DFrameLayout",$e);var et=$e,tt=(n(2),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),nt=/^[d][A-Z]/,rt=function(e){if(nt.test(e)){var t=e.slice(1);e=t[0].toLowerCase()+t.slice(1)}return e};function at(e,t,n,r){var a=this;if(e){var o=this.props._tplId,s=(this.props._tplName,this.props._tplContext),c=e.props,l=tt({key:c._id+"-"+n},c,{_parent_subdata:t}),u=l._id="cc"+ ++s.componentIdSeq,d=String(n).match(/(\d+)[\.]?/),f=d&&d[1],m=c._originProps;for(var h in m){var g=m[h],v=rt(h),y={data:t,subdataIndex:f,parentSubdata:this.props._parent_subdata,_tplId:o,_tplName:c._tplName,_tplContext:c._tplContext,_viewName:c._viewName,_originProps:c._originProps};"on"===v.slice(0,2)?l[v]=i.eventHandlerParser(g,y):l[v]=i.dataParser(g,y)}s.componentIndexSet.push({id:u,props:l,pid:r});var b=c.children;return b&&(Array.isArray(b)?b=b.map((function(e){return at.call(a,e,t,n,u)})):p(b)&&(b=at.call(this,b,t,n,u))),i.driver.cloneElement(e,l,b)}}var ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function st(e){for(var t=e.childNodes||[],n=t.length,r=e.getBoundingClientRect().width,a=this.props.orientation,o=0,i=0;i<n;i++){var s=t[i];if(s.nodeType===Node.ELEMENT_NODE||s.nodeType===Node.TEXT_NODE){var c=s.getBoundingClientRect(),l=parseFloat(s.style.marginLeft)||0,u=parseFloat(s.style.marginRight)||0;o+=c.width+l+u,0===c.width&&s.style.flex&&!v(s)&&(s.style.display="none"),o>r&&("horizontal"===a?s.style.flexShrink="1":s.style.maxWidth=m(r-l-u)+"px")}}}var ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),it(t,[{key:"dynamicCalcSize",value:function(){if(i.getGlobalConfig("shouldExecLinearLayoutHack"))try{var e=i.driver.findDOMNode(this);st.call(this,e)}catch(e){i.utils.log.warn(e)}}},{key:"childGravity",value:function(e){var t=this.props.orientation,n=e.search(/[A-Z]/),r=void 0,a=void 0;-1!==n?(r=e.slice(0,n),a=e.slice(n).toLowerCase()):r=a=e;var o={left:"flex-start",top:"flex-start",right:"flex-end",bottom:"flex-end",center:"center"},i=[o[r],o[a]];t&&"horizontal"!==t||(i=i.reverse()),this.setStyles({alignItems:i[0],justifyContent:i[1]})}},{key:"orientation",value:function(e){var t=void 0;t="horizontal"===e?"row":"column",this.setStyles({flexDirection:t})}},{key:"listData",value:function(e){this._listData=e}},{key:"renderLoopChildren",value:function(){var e=this,t=[],n=this.getChildren(),r=this.props,a={display:"flex",flexShrink:0,flexGrow:0,height:"fit-content"};return this._enableLayoutNG&&"vertical"===this.props.orientation&&(a.width="100%"),this._listData&&this._listData.forEach((function(o,s){n.forEach((function(n,c){if(n){var l=s+"."+c,u=n.props._originProps.filter,d=u&&i.dataParser(u,{data:o}),p={_tplId:r._tplId,data:o,parentSubdata:e.props._parent_subdata},f=n.props._originProps.visibility,m=f&&i.dataParser(f,p),h=a,g=n.props._originProps.weight;if(void 0!==g){var v=i.dataParser(g,p);h=ot({},a,{flex:v})}"gone"===m||void 0!==d&&!0!==d&&"true"!==d||t.push(i.h("div",{key:l,className:"list-item",style:h},at.call(e,n,o,l,r._id)))}}))})),t}},{key:"renderView",value:function(){return Array.isArray(this._listData)&&this._listData.length?this.renderLoopChildren():this.props.children}}]),t}(Ze);ct.defaultProps={orientation:"horizontal"},i.registerView("LinearLayout",ct),i.registerView("DLinearLayout",ct);var lt=ct,ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._elmCallback=function(e){n.state.maxLength||"vertical"===n.props.orientation||setTimeout((function(){try{for(var t=x(e.parentElement),r=0,a=0;a<e.children.length;a++){var o=e.children[a];if((r+=x(o).width)>t.width){n.setState({maxLength:a});break}}}catch(e){console.warn(e)}}),0)},n.state={maxLength:null},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),dt(t,[{key:"listData",value:function(e){this._listData=e}},{key:"renderLoopChildren",value:function(){var e=this,t=[],n=this.getChildren(),r=this.props,a={display:"flex",flexShrink:0,flexGrow:0,height:"fit-content"};return this._enableLayoutNG&&"vertical"===this.props.orientation&&(a.width="100%"),this._listData&&this._listData.forEach((function(o,s){e.state.maxLength&&s>=e.state.maxLength||n.forEach((function(n,c){if(n){var l=s+"."+c,u=n.props._originProps.filter,d=u&&i.dataParser(u,{data:o}),p={_tplId:r._tplId,data:o,parentSubdata:e.props._parent_subdata},f=n.props._originProps.visibility,m=f&&i.dataParser(f,p),h=a,g=n.props._originProps.weight;if(void 0!==g){var v=i.dataParser(g,p);h=ut({},a,{flex:v})}"gone"===m||void 0!==d&&!0!==d&&"true"!==d||t.push(i.h("div",{key:l,className:"list-item",style:h},at.call(e,n,o,l,r._id)))}}))})),t}},{key:"renderView",value:function(){var e={display:"flex",flexDirection:"vertical"===this.props.orientation?"column":"row",flexWrap:"nowrap"};return i.h("div",{style:e,ref:this._elmCallback},this._listData?this.renderLoopChildren():this.props.children)}}]),t}(lt);i.registerView("AdaptiveLinearLayout",pt);var ft=pt,mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ht(t,[{key:"listData",value:function(e){this._listData=e}},{key:"renderLoopChildren",value:function(){var e=this,t=[],n=this.getChildren(),r=this.props,a={flexShrink:0,flexGrow:0,height:"fit-content"};return this._enableLayoutNG&&"vertical"===this.props.orientation&&(a.width="100%"),Array.isArray(this._listData)&&this._listData.forEach((function(o,s){n.forEach((function(n){if(n){var c=n.props._id,l=n.props._originProps.filter,u=l&&i.dataParser(l,{data:o}),d={_tplId:r._tplId,data:o,parentSubdata:e.props._parent_subdata},p=n.props._originProps.visibility,f=p&&i.dataParser(p,d),m=a,h=n.props._originProps.weight;if(void 0!==h){var g=i.dataParser(h,d);m=mt({},a,{flex:g})}"gone"===f||void 0!==u&&!0!==u&&"true"!==u||t.push(i.h("div",{key:c+"-"+s,className:"list-item",style:m},at.call(e,n,o,s,r._id)))}}))})),t}},{key:"renderView",value:function(){return this.renderLoopChildren()}}]),t}(lt);gt.defaultProps={orientation:"horizontal"},i.registerView("ListLayout",gt),i.registerView("DLoopLinearLayout",gt);var vt=gt,yt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),yt(t,[{key:"flexDirection",value:function(e){this.setStyles({flexDirection:e})}},{key:"flexWrap",value:function(e){this.setStyles({flexWrap:e})}},{key:"justifyContent",value:function(e){this.setStyles({justifyContent:e})}},{key:"alignItems",value:function(e){this.setStyles({alignItems:e})}},{key:"alignContent",value:function(e){this.setStyles({alignContent:e})}},{key:"renderView",value:function(){return this.props.children}}]),t}(Ze);bt.defaultProps={},i.registerView("FlexLayout",bt),i.registerView("HFlexLayout",bt);var wt=bt,xt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ct=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Et.call(n);var r=e.columnCount,a=e.itemWidth,o=e.itemHeight;return r&&a&&o||(i.utils.log.warn("GridLayout 控件 columnCount/itemWidth/itemHeight 为必填属性"),n._error=!1),n.setStyles({flexDirection:"column"}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xt(t,[{key:"columnCount",value:function(e){this._columnCount=e}},{key:"itemWidth",value:function(e){this._itemWidth=i.unitParser(e)}},{key:"rowCount",value:function(e){}},{key:"rowSpacing",value:function(e){this._rowSpacing=i.unitParser(e)}},{key:"columnSpacing",value:function(e){this._columnSpacing=i.unitParser(e)}},{key:"lineColor",value:function(e){this._lineColor=e}},{key:"lineWidth",value:function(e){this._lineWidth=i.unitParser(e)}},{key:"renderLoopChildren",value:function(){var e=this,t=[],n=this.getChildren(),r=this.props;return this._listData.length,Array.isArray(this._listData)&&this._listData.map((function(a,o){var s={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",borderTop:o&&e._borderStyle?e._borderStyle:""},c=a.map((function(t,a){return n.map((function(n){var s=n.props._id,c=o*e._columnCount+a,l=s+"-"+o+"-"+a,u={overflow:"hidden",width:e._itemWidth,height:e._itemHeight,display:"flex",justifyContent:"center",alignItems:"center",marginLeft:a&&e._columnSpacing?e._columnSpacing:0,borderLeft:a&&e._borderStyle?e._borderStyle:"",marginTop:o&&e._rowSpacing?e._rowSpacing:0};return i.h("div",{key:l,className:"grid-item",style:u},at.call(e,n,t,c,r._id))}))}));t.push(i.h("div",{key:"gridrow"+o,className:"grid-row",style:s},c))})),t}},{key:"renderView",value:function(){return this._error?null:this.renderLoopChildren()}}]),t}(Ze),Et=function(){var e=this;this.itemHeight=function(t){e._itemHeight=i.unitParser(t)},this.needSeparator=["lineColor","lineWidth",function(t){e._needSeparator=e._lineColor&&e._lineWidth&&"true"===t,e._borderStyle=e._needSeparator?e._lineWidth+" solid "+e._lineColor:""}],this.listData=["columnCount",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Number(e._columnCount);e._listData=[];for(var r=0;r<t.length/e._columnCount;r++){var a=r*n,o=a+n;e._listData.push(t.slice(a,o))}}]};Ct.defaultProps={rowSpacing:0,needSeparator:!1,lineWidth:0},i.registerView("GridLayout",Ct);var St=Ct,kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Tt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setStyles({overflow:"auto"}),n.setAttrs({class:"dx-scrollerlayout"}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),kt(t,[{key:"listData",value:function(e){this._listData=e}},{key:"paddingRight",value:function(e){this._paddingRight=i.unitParser(e)}},{key:"orientation",value:function(e){var t=void 0;t="horizontal"===e?"row":"column",this.setStyles({flexDirection:t})}},{key:"renderLoopChildren",value:function(){var e=this,t=[],n=this.getChildren(),r=this.props,a={flexShrink:0,flexGrow:0};return Array.isArray(this._listData)&&this._listData.forEach((function(o,s){n.forEach((function(n){if(n){var c=n.props._id;t.push(i.h("div",{key:c+"-"+s,className:"scroller-item",style:a},at.call(e,n,o,s,r._id)))}}))})),this._paddingRight&&t.length&&t.push(i.h("div",{style:{paddingRight:this._paddingRight}})),t}},{key:"renderView",value:function(){return this.renderLoopChildren()}}]),t}(Ze);Tt.defaultProps={rowSpacing:0,needSeparator:!1,lineWidth:0,orientation:"horizontal"},i.registerView("ScrollerLayout",Tt);var _t=Tt,It=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ot=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._default_display="grid",n.setStyles({display:n._default_display}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),It(t,[{key:"renderView",value:function(){return this.props.children}}]),t}(Ke);i.registerView("FrameLayoutNG",Ot);var At=Ot,Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Nt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Pt=1.2,Lt=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=Nt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.textContent=null,r.maxLines=["textSize","lineSpacing","lineHeight",function(e){var t=~~e,n=parseFloat(this.fontSize),r={whiteSpace:"pre-wrap"},a=i.getGlobalConfig("__SSR__");if(t>1){var o=void 0;a?o="calc("+this.fontSize+" * "+Pt+" + "+this._lineSpacing+" * "+Pt+")":(o=m((n+parseFloat(this._lineSpacing))*Pt),this._lineHeight&&(o=m(parseFloat(this._lineHeight)+parseFloat(this._lineSpacing))),o+="px"),r=Dt({},r,{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:""+t,lineHeight:o,overflow:"hidden"})}else if(r.lineHeight=a?this._lineHeight||"calc("+this.fontSize+" * "+Pt+")":this._lineHeight||m(n*Pt)+"px",1===t){var s=i.getGlobalConfig("forceNowrap1Line");r.whiteSpace=s?"nowrap":"pre"}this.setStyles({overflow:"hidden"}),this.setStyles(r,"font")}],r.textAlignment=["textGravity",r.textGravity],r._elmCallback=function(e){var t=r.layoutProps&&"AdaptiveLinearLayout"===r.layoutProps._viewName;i.getGlobalConfig("disableCharBreak")||!e||"char"!==r.props.lineBreakMode||t||setTimeout((function(){r._sliceText(e)}),100)},r._sliceText=function(e){var t=e.offsetWidth;if(t&&r.props.text&&!/\d/.test(r.props.text))try{var n=window.getComputedStyle(e,null).getPropertyValue("font-size"),a=parseFloat(n)||12,o=Math.floor(t/a),i=r.props.text.slice(0,o);i!==r.textContent&&(r.textContent=i,r.forceUpdate())}catch(e){console.error(e)}},Nt(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Mt(t,[{key:"componentDidUpdate",value:function(){this.calcLayoutSize()}},{key:"lineHeight",value:function(e){this._lineHeight=-1==e?0:i.unitParser(e)}},{key:"text",value:function(e,t){var n=(t||this.props).visibility;"gone"!==n&&"invisible"!==n&&(e?(this.textContent=e,this.setStyles({display:"flex",visibility:"visible"})):this.setStyles({visibility:"hidden"}))}},{key:"textSize",value:function(e){if(e){var t=i.unitParser(e);this.setStyles({fontSize:t}),this.fontSize=t}}},{key:"lineSpacing",value:function(e){this._lineSpacing=i.unitParser(e)||"0px"}},{key:"textStyle",value:function(e){var t={};switch(e){case"bold":t.fontWeight="bold";break;case"italic":t.fontStyle="italic"}this.setStyles(t)}},{key:"textColor",value:function(e){this.setStyles({color:i.colorParser(e)})}},{key:"textGravity",value:function(e){var t={justifyContent:"center",alignItems:"center"};switch(e){case"left":t.justifyContent="flex-start";break;case"right":t.justifyContent="flex-end",t.textAlign="right";break;case"center":t.textAlign="center"}this.setStyles(t)}},{key:"lineBreakMode",value:function(e){var t={overflow:"hidden",overflowWrap:"break-word"};switch(e){case"none":this.setStyles({overflow:"hidden"}),t.textOverflow="clip";break;case"start":case"middle":break;case"end":t.textOverflow="ellipsis",this.layoutProps&&"match_content"===this.layoutProps.width&&(t.overflowWrap="anywhere")}this.setStyles(t,"font")}},{key:"maxWidth",value:function(e){this.setStyles({maxWidth:"-1"===e?"none":i.unitParser(e)})}},{key:"isBold",value:function(e){var t=b(e)?"bold":"normal";this.setStyles({fontWeight:t})}},{key:"isItalic",value:function(e){var t=b(e)?"italic":"normal";this.setStyles({fontStyle:t})}},{key:"isStrikeThrough",value:function(e){var t=b(e)?"line-through":"none";this.setStyles({textDecoration:t})}},{key:"strikeThroughStyle",value:function(e){var t=b(e)?"line-through":"none";this.setStyles({textDecoration:t})}},{key:"isUnderline",value:function(e){var t=b(e)?"underline":"none";this.setStyles({textDecoration:t})}},{key:"renderView",value:function(){return i.h("span",{style:this.getStyles("font"),ref:this._elmCallback},(e=this.textContent,t=/&#(\d{1,5});/g,d(e)&&-1!==e.search(t)?e.replace(t,(function(e,t){return String.fromCharCode(t)})):e));var e,t}}]),t}(He);Lt.defaultProps={textSize:"12np",textGravity:"left",lineBreakMode:"end",maxLines:"1",lineHeight:"-1"},i.registerView("TextView",Lt),i.registerView("DTextView",Lt);var Rt=Lt,Ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ft(t,[{key:"paddingLeft",value:function(e){this.setStyles({paddingLeft:i.unitParser(e)})}},{key:"paddingTop",value:function(e){this.setStyles({paddingTop:i.unitParser(e)})}},{key:"paddingRight",value:function(e){this.setStyles({paddingRight:i.unitParser(e)})}},{key:"paddingBottom",value:function(e){this.setStyles({paddingBottom:i.unitParser(e)})}}]),t}(Rt);i.registerView("FastTextView",jt);var Bt=jt,zt={getItem:function(){},setItem:function(){}};try{zt=window.localStorage}catch(e){}var qt=function(){if(void 0!==window.DXSUPPORTWEBP)return window.DXSUPPORTWEBP;var e="false";try{e=zt.getItem("dx-isSupportWebp")}catch(e){}if("true"===e)return window.DXSUPPORTWEBP="true"===e,window.DXSUPPORTWEBP;var t=0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp");try{zt.setItem("dx-isSupportWebp",t?"true":"false")}catch(e){console.warn(e)}return window.DXSUPPORTWEBP=t,t},Vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ut=/^(http)?(s)?(:)?\/\//,Ht=/\/\/(gw|img)\.alicdn\.com/,Wt=/(\.(gif|webp))$/,Gt=/_\d+x\d+\.(jpg|png|gif|jpeg)$/i,Kt=[16,20,24,30,32,36,40,48,50,60,64,70,72,80,88,90,100,110,120,125,128,145,180,190,200,200,210,220,230,240,250,270,300,310,315,320,336,360,468,490,540,560,580,600,640,720,728,760,970],Jt=qt();function Zt(e,t,n){if(!Ht.test(n)||Wt.test(n)||Gt.test(n))return"";var r=parseInt(e)||-1,a=parseInt(t)||-1,o="_620x10000",i=Jt?"_.webp":"";if(-1!==r&&-1!==a)for(var s=2*Math.max(r,a),c=0,l=Kt.length;c<l;c++)if(Kt[c]>s){var u=Kt[c];o="_"+u+"x"+u;break}return o+"q90"+i}var Xt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setStyles({width:"100%",height:"100%"},"img"),n.setStyles({overflow:"hidden"}),n.imageData={},n.forceOriginalImg=i.getGlobalConfig("forceOriginalImg")||b(e.forceOriginal),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Vt(t,[{key:"imageName",value:function(e){this.setStyles({backgroundImage:'url("'+i.getLocalImage(e)+'")'},"img")}},{key:"image",value:function(e){Ut.test(e)?this.setStyles({backgroundImage:'url("'+e+'")'},"img"):this.setStyles({background:e},"img")}},{key:"imageUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props,n=t.width,r=t.height,a=t.aspectRatio;if("match_content"===n&&void 0===a||"match_content"===r&&void 0===a)this.imageData={isAutoImg:!0,imgSrc:e,fallbackSrc:e};else{var o="",s="";if(e&&!this.forceOriginalImg&&(s=e.replace(Gt,""),o=Zt(n,r,e)),this.imageData={isAutoImg:!1,imgSrc:(s||e)+o,fallbackSrc:e},a){var c={},l=String(n),u=String(r),d=/match_/;if(d.test(l)&&r&&!d.test(u)){var p=parseFloat(i.unitParser(u));c.width=p*a+"px"}else if(d.test(u)&&l&&!d.test(l)){var f=parseFloat(i.unitParser(l));c.height=f/a+"px"}this.setStyles(c,"img")}}if(i.getGlobalConfig("__SSR__")){var m=(this.imageData||{}).imgSrc;this.setStyles({backgroundImage:"url("+m+")"},"img")}}},{key:"aspectRatio",value:function(e){this.aspectRatioValue=e}},{key:"scaleType",value:function(e){var t={backgroundRepeat:"no-repeat",backgroundPosition:"center"};switch(e){case"fitXY":t.backgroundSize="100% 100%";break;case"fitCenter":case"centerInside":t.backgroundSize="contain";break;case"centerCrop":t.backgroundSize="cover"}this.setStyles(t,"img")}},{key:"dynamicImageLoaded",value:function(){var e=this.imageData,t=e.imgSrc,n=e.isAutoImg,r=this.$wrap;if(n&&r){var a=this.$img||{},o=a.naturalHeight,i=void 0===o?null:o,s=a.naturalWidth,c=void 0===s?null:s,l=this.props,u=l.width,d=l.height,p=null;if(i&&c&&(p=this.aspectRatioValue||c/i),!p)return;if("match_content"===u&&"match_content"===d&&(r.style.height=i,r.style.width=c),"match_content"===d&&"match_content"!==u){var f=r.parentElement.offsetWidth;r.style.height=Math.ceil(parseFloat("match_parent"===u?f:u)*(1/p))+"px"}if("match_content"===u&&"match_content"!==d){var m=r.parentElement&&r.parentElement.offsetHeight;r.style.width=Math.ceil(p*parseFloat("match_parent"===d?m:d))+"px"}this.calcLayoutSize()}r&&(r.style.backgroundImage='url("'+t+'")')}},{key:"dynamicImageLoadError",value:function(){var e=this.imageData.fallbackSrc,t=this.props,n=t.width,r=t.height,a=e;if(this.$wrap&&!this.forceOriginalImg&&"match_parent"===n&&"match_parent"===r){var o=~~this.$wrap.offsetHeight;a+=Zt(~~this.$wrap.offsetWidth,o,e)}this.$wrap&&(this.$wrap.style.backgroundImage='url("'+a+'")')}},{key:"renderView",value:function(){var e=this,t=(this.imageData||{}).imgSrc,n=this.props,r=n.width,a=n.height;return t&&"undefined"!==t?i.h("div",{ref:function(t){return e.$wrap=t},style:this.getStyles("img")},i.h("img",{onLoad:function(){return e.dynamicImageLoaded()},onError:function(){return e.dynamicImageLoadError()},src:"match_parent"===r&&"match_parent"===a?"":t,ref:function(t){return e.$img=t},style:{maxHeight:"100%",maxWidth:"100%",opacity:0}})):i.h("div",{style:this.getStyles("img")})}}]),t}(He);Xt.defaultProps={scaleType:"fitCenter"},i.registerView("ImageView",Xt),i.registerView("DImageView",Xt);var Yt=Xt,Qt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$t=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Qt(t,[{key:"tImage",value:function(e){this.image(e)}},{key:"tImageUrl",value:function(e){this.imageUrl(e)}},{key:"tLocalImageName",value:function(e){this.imageName(e)}},{key:"tScaleType",value:function(e){this.scaleType(e)}}]),t}(Yt);$t.defaultProps={tScaleType:"fitCenter"},i.registerView("TImageView",$t);var en=$t,tn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),tn(t,[{key:"hImageUrl",value:function(e){this.imageUrl(e)}},{key:"hPlaceHolderImage",value:function(e){this.placeHolderImage(e)}},{key:"hAspectRatio",value:function(e){this.aspectRatio(e)}},{key:"hCornerRadius",value:function(e){this.cornerRadius(e)}},{key:"hBorderWidth",value:function(e){this.borderWidth(e)}},{key:"hBorderColor",value:function(e){this.borderColor(e)}},{key:"hScaleType",value:function(e){this.scaleType(e)}}]),t}(Yt);nn.defaultProps={hScaleType:"fitCenter"},i.registerView("HImageView",nn);var rn=nn,an=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),on=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),an(t,[{key:"hGifUrl",value:function(e){e&&this.setStyles({backgroundImage:"url("+e+")"},"img")}}]),t}(rn);i.registerView("HGifView",on);var sn=on,cn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ln=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),cn(t,[{key:"hCoverURL",value:function(e){var t=this.props,n=t.width,r=t.height;"match_content"!==n&&"match_content"!==r||(this.isAutoImg=!0,this.imgSrc=e),e&&this.setStyles({backgroundImage:"url("+e+")"})}},{key:"coverUrl",value:function(e){this.imageUrl(e)}}]),t}(rn);i.registerView("HVideoView",ln);var un=ln,dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function fn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var mn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=fn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._checked=!1,r._enabled=!0,r.switchOn=["onColor","offColor",function(e){var t=h(e);this.setStyles({backgroundColor:t?this._onColor:this._offColor}),this._checked=t}],r.enabled=["switchOn",function(e){var t=h(e);t||r.setStyles({backgroundColor:"#ccc"}),r._enabled=t}],r.toggleCheck=function(){var e=!r._checked;r.setStyles({backgroundColor:e?r._onColor:r._offColor});var t=r.getEvents("switch").onChange;t&&t.handler({value:e})},fn(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pn(t,[{key:"componentDidMount",value:function(){var e=this,t=this.$switch;this.$switch&&this.$switch.parentNode&&(t=this.$switch.parentNode),g(t,{tap:function(){e._enabled&&e.toggleCheck()}})}},{key:"componentWillMount",value:function(){this._preprocessingStyle()}},{key:"_preprocessingStyle",value:function(){var e=this.props.height,t=i.unitParser(e),n=t.replace(/(\d*)/,(function(e){return e-2}));this.setStyles({borderRadius:t}),this.setStyles(dn({},hn,{width:n,height:n}),"switch"),this.setStyles({left:"1px"},"switchNormal"),this.setStyles({right:"1px"},"switchActive"),this.setStyles({boxShadow:"inset 0 0 0 1px #ccc"})}},{key:"onColor",value:function(e){this._onColor=i.colorParser(e)}},{key:"offColor",value:function(e){this._offColor=i.colorParser(e)}},{key:"onChange",value:function(e){this.setEvents({onChange:e},"switch")}},{key:"renderView",value:function(){var e=this;return i.h("div",{style:dn({},this.getStyles("switch"),this.getStyles(this._checked?"switchActive":"switchNormal")),ref:function(t){return e.$switch=t}})}}]),t}(He),hn={position:"absolute",top:"1px",borderRadius:"50%",backgroundColor:"#FFFFFF",boxShadow:"0px 2px 5px 1px #ccc"};mn.defaultProps={width:"25np",height:"12.5np",onColor:"#ff5000",offColor:"#FFFFFF",switchOn:0},i.registerView("Switch",mn),i.registerView("DSwitch",mn);var gn=mn,vn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function yn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var bn=/^((http(s)?)|(data:image))/,wn="dinamicx_checked",xn="dinamicx_discheck",Cn="dinamicx_uncheck",En="dinamicx_disunchk",Sn=function(e,t){if(bn.test(e))return e;var n=i.getLocalImage(e);return n||i.getLocalImage(t)},kn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=yn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._enabled=!0,r._checked=!1,r._selfChecked=null,r.toggleCheck=function(){r._selfChecked=!r._checked,r.forceUpdate();var e=r.getEvents("checkbox").onChange;e&&e.handler({value:r._selfChecked})},yn(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vn(t,[{key:"componentDidMount",value:function(){var e=this;g(this.$checkbox,{tap:function(){e._enabled&&e.toggleCheck()}})}},{key:"_updateImages",value:function(){this.setStyles({borderRadius:"50%",width:"100%",height:"100%"},"checkbox");var e=this._checked,t=this["_"+(this._enabled?"":"dis")+(e?"checked":"unchecked")+"Img"];this.setStyles({background:"url("+t+") 0% 0% / 100% 100%"},"checkbox")}},{key:"enabled",value:function(e){this._enabled=h(e)}},{key:"checked",value:function(e){var t=this._selfChecked;null!==t?(this._checked=t,this._selfChecked=null):this._checked=h(e)}},{key:"checkImg",value:function(e){this._checkedImg=Sn(e,wn)}},{key:"disCheckImg",value:function(e){this._discheckedImg=Sn(e,xn)}},{key:"uncheckImg",value:function(e){this._uncheckedImg=Sn(e,Cn)}},{key:"disUncheckImg",value:function(e){this._disuncheckedImg=Sn(e,En)}},{key:"onChange",value:function(e){this.setEvents({onChange:e},"checkbox")}},{key:"renderView",value:function(){var e=this;return this._updateImages(),i.h("div",{style:this.getStyles("checkbox"),ref:function(t){return e.$checkbox=t}})}}]),t}(He);kn.defaultProps={enabled:1,checked:0,checkImg:wn,disCheckImg:xn,uncheckImg:Cn,disUncheckImg:En},i.setLocalImage({dinamicx_checked:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABEBAMAAADKPY6BAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAqUExURUdwTP9rAP9xAP9vAP9pAP9tAP9rAP9tAP9fAP90AP9XAP99AP9nAP9tACJieToAAAAIdFJOUwCH6CSqRmbMw7TcXwAAAy1JREFUSMd1lr+LE0EUxzdeFMuAdnfCgYIecqAiIlwTPQRBhHioaHd4ZRrxKrlOPBlCqhM8hmWLmJAsU1oIy1RayBax0EYC2f/F92tmZ5Lc1o/PfN+b73zfJkn43bv8bvvn9QcHyVnf+YdVVf2eTqfltc7qittbWQY1UDJVHy6tqniutRbKtK/Uo+WKu1Axm1XVfA4HlUqp3cWKRgoleA4d1AdM3oor1t4XGjFOL2Imt6KSvaKQijnJxc8chxUXbKGhJhNKSZRevh+UrBdIybSj9LFCmUGg1VqtQy0KKaZnasVdW1jXEVFEjBn7wVubotoMp+vnghTjLuKOhRqk6GguKjdmKCVH1lLPuvJzcZSJF+tr3Fy4Bj4WvIPn6FQa4rk4ipz0BCHUNY6OKFhDWsxI+oFPc0tLFOqpSVJsGkwu0GLaIiWYLs6FOuoxBcWse0oW+UWRFhJzs9aio5tminFquaPYL6wF9JJaOKbQtV8A8/HljV5P9J6zjElDvyi1n7xiLWZTGiqKWMunJLnIEGipa+WkyC9gyfs9poy5Z/BLEfrlF3T6WLQM6IbwoMgvAGkqOWiEZvEHOb8IhGsmMrki8ksLITJd81VKbOiXHwjx0zWJQEK/MCSX6UoJUE4O3vA9OkhNES32e7K2xfkiSpwW47V8hsdCfiFI6f0CHR0J5QskyDbKRUg/uOmJjM7qb5Ame0D5A5CN0C8jfwHpVfBORpCG+CWXC+i60Z0A5jVD6AnIcOEad8QvujgEDEMiylAsha47BcwzgQRaNsWYNN1DfuLukUhHbbE3hccplWzUWSf2duPFO3orEMo6d0fuqaUUQYi54nOXtQz8g6U3AphG8I5y92CbNWX278XTxdfYduHBposSU7R0XARxTZ0vfUcZ+SDjxJwF+0i0DH0cpgv54v3S8qFq43zxyTCpo5nlLufLMAz4aB+VTkunXhOcddE+Qr+Mg2XDWafjlAqXDdxTvI8oDk24smDxxfuI/RItvmTPxvuIao4XlnC8j9TyEk4a8T5CSmvVD0HU0e7K34p6H5Wrfivo58Tvo9U/J/KLQ1rO+sWRH6W/iz9K/wEP1oz20WaXfgAAAABJRU5ErkJggg==",dinamicx_discheck:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5BAMAAAB+Np62AAAAIVBMVEVHcEzNzc3Nzc3Nzc3Nzc3Nzc3T09PNzc3Pz8/Nzc3MzMz103I3AAAACnRSTlMAz1LsjLEVZyI/uIMIOwAAAVdJREFUOMuFlTFPw0AMha9RVdKtA2K4CSTE0KnA1EydOxXB1KmdKjF1YMpUqbB3ZiKkSMW/kgvNOXdnn89Lm3x6iWM/+5TCGNw+Pdb3L3eKi3cN57jcUXgDGNW1ACn+AC9+vIcPC5/C1KUlhLHtYJ9AOHZ0SSksBKkjLjlq3zxkIfye6Z6n9S6aE+aVRSB8N7QXo1VDxzEKTS90lI6UyqMQTpFCYbmYpKq3wqb1yr2vre2KSdlIPm3Scy7V9uaM1tFIL7CWmpGW+LeIS2FC6JXjhomykuf2d9VJ4ctqFwNNpN2Tt2pNpIZq+2n/Yk9qcl6iEdah1HzvHFudF43UrewMr4x4b6SZbw7s0UHlgdT0qOcNZRaUDb1RH0ILHl1fTUNvn1xPGvE47JZz52FD/SzPgjxH8gwm5leefXlvJHaOvK8Su07ek4kdK+/nxG5PnAuJM4U9j/4A+2ARe5cQ9TAAAAAASUVORK5CYII=",dinamicx_uncheck:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAMAAAAPzWOAAAAANlBMVEVHcEzMzMzNzc3V1dXOzs7Nzc3Nzc3Nzc3Nzc3Nzc3b29vMzMz////19fXu7u7a2trk5OTR0dG06x/LAAAAC3RSTlMAN84GVqG36X8jB0no5zwAAAGJSURBVFjDrVjZtoQgDFOEqUvZ/v9nRwGvy1UHMHmdMadNWmhpmlsMsleCaJqIhOrl0JRilGr++ghSciygaP8zrDxtLsVnesAnh2bYKKwzWvMMrY2zG80vdbo+/dO78Pke2vn0Y989hiFSDIYvYVI84iEYGfW0mm+hIw3JO46Yijf8CBOT6p84LP+EvWeJHI4z4O5YIofhLJhrFhnk0JwJHYQ5qTsEX7I5Zpbg0cHpThTksstIdGdBHBfBnWQZMr29cHpLaOk5z8VYxP389X6xIDtZ2l0glitgt1DaQndPPsdQVG0gMRQVzmSqU2RVhcZU8J4r4VPxq/I6O1bckg/VyrpKS6lauRqxamW9N6s/MvSeqydxoQtVvcGryaoRb3SNyop35qz20Ctzgj3UTO9JJgwJJB2IsBCLIcUGKXtIA0KOAsihhDkeIQc15MqAXF6YaxRyoWNGC8iQgxm3IIMfZgSFDMOYsRyzIGBWFczShFnfMIskZqXFLNeYNR/04AB6+gA9wpQ+B30B3RGo3Y8v7Z8AAAAASUVORK5CYII=",dinamicx_disunchk:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5BAMAAAB+Np62AAAAJFBMVEVHcEzNzc3Ozs7Ozs7Nzc3Nzc3Nzc3Ozs7MzMzx8fHa2trr6+ssMFmhAAAACHRSTlMA0kwgje2zY5e6RVIAAAFESURBVDjLhZW/TsMwEMZNygN0YMgIG2MGQIyMHQsSUkaQGDoiwZCR0j/6SF6gl7xACi+QtC+HjUudNufzrT995/P57rNS+xi8Pz8u7l/eFBdXMWycJX14gX1Mzzn4vW1pu6n7+AbIW7KxAZYHyaPUQaISeOjSrAv/1K8OngJdSNRg7ugEPweQqhpPTprTUZROnGF9TKn+PznqS43409JrRqrFi2RXU8vQxtYVoWAgVTb1CZtYp54aeskmNqnNW8Q5C3XVQz0R+OIpYWYatfbQem6Kaj200WXdwgNphURluY+WutUjgd6pSeGjle5lLNChSgU6VqmvGbodYwWBfgS08rlyzfJ95V7JfZbfSH5feTYGKHwlz0IzGZhneRfkPfLs4GrnDfL+yrsv+0bAc2S/Cnid7JMBj5X9OeDtgX8h8Kew/9Ev78HvEWic5SIAAAAASUVORK5CYII="}),i.registerView("CheckBox",kn),i.registerView("DCheckBox",kn);var Tn=kn,_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},In=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),On=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={_holderHelperName:"",_holderIndex:null},n.blur=function(){var e=n.getEvents("textInput").onFinish;e&&e.handler({value:n.$inputText.value})},n.input=function(){var e=n.getEvents("textInput").onChange;e&&e.handler({value:n.$inputText.value})},n.focus=function(){var e=n.getEvents("textInput").onBegin;e&&e.handler({value:n.$inputText.value})},n.setStyles(Dn,"textInput"),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),In(t,[{key:"componentDidMount",value:function(){g(this.$inputText,{tap:function(){}})}},{key:"text",value:function(e){this.setAttrs({value:e},"textInput")}},{key:"textSize",value:function(e){this.setStyles({fontSize:i.unitParser(e)},"textInput")}},{key:"placeholderColor",value:function(e){}},{key:"textColor",value:function(e){this.setStyles({color:i.colorParser(e)},"textInput")}},{key:"keyboard",value:function(e){this.setAttrs({type:An[e]},"textInput")}},{key:"maxLength",value:function(e){this.setAttrs({maxLength:e},"textInput")}},{key:"placeholder",value:function(e){this.setAttrs({placeholder:e},"textInput")}},{key:"textGravity",value:function(e){this.setStyles({textAlign:e},"textInput")}},{key:"onFinish",value:function(e){this.setEvents({onFinish:e},"textInput")}},{key:"onChange",value:function(e){this.setEvents({onChange:e},"textInput")}},{key:"onBegin",value:function(e){this.setEvents({onBegin:e},"textInput")}},{key:"renderView",value:function(){var e=this,t=this.getStyles("font"),n=this.getStyles("textInput"),r=_n({},t,n);return i.h("input",_n({ref:function(t){return e.$inputText=t},onFocus:function(t){return e.focus(t)},onInput:function(t){return e.input(t)},onBlur:function(t){return e.blur(t)},style:r},this.getAttrs("textInput"),{className:this.state._holderHelperName}))}}]),t}(Rt),An={0:"text",1:"number",2:"tel"},Dn={width:"100%",height:"100%",outline:"none",border:"none",padding:0,margin:0,userSelect:"auto"};On.defaultProps={maxLength:-1,textSize:"12np",textGravity:"left",keyboard:0},i.registerView("TextInput",On),i.registerView("DTextInput",On);var Mn=On,Nn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Nn(t,[{key:"render",value:function(){if(void 0!==this.props.if&&w(this.props.if))return null;var e=this.props,t=e.templateContent,n=e.sticky,r=e._tplContext,a=e._parent_subdata,o={};b(n)&&(o.position="sticky",o.position="-webkit-sticky",o.top=0);var s=a||r.props.data;return i.h("div",{style:o},t?i.h(i.Template,{tpl:t,data:s}):null,this.props.children)}}]),t}(i.Component);i.registerView("Template",Pn);var Ln=Pn;n.d(t,"FrameLayout",(function(){return et})),n.d(t,"LinearLayout",(function(){return lt})),n.d(t,"AdaptiveLinearLayout",(function(){return ft})),n.d(t,"ListLayout",(function(){return vt})),n.d(t,"FlexLayout",(function(){return wt})),n.d(t,"GridLayout",(function(){return St})),n.d(t,"ScrollerLayout",(function(){return _t})),n.d(t,"Layout",(function(){return Ze})),n.d(t,"FrameLayoutNG",(function(){return At})),n.d(t,"View",(function(){return He})),n.d(t,"TextView",(function(){return Rt})),n.d(t,"DTextView",(function(){return Rt})),n.d(t,"FastTextView",(function(){return Bt})),n.d(t,"ImageView",(function(){return Yt})),n.d(t,"TImageView",(function(){return en})),n.d(t,"HGifView",(function(){return sn})),n.d(t,"HVideoView",(function(){return un})),n.d(t,"Switch",(function(){return gn})),n.d(t,"CheckBox",(function(){return Tn})),n.d(t,"TextInput",(function(){return Mn})),n.d(t,"InnerTemplate",(function(){return Ln})),n.d(t,"bindGestureEvent",(function(){return g})),n.d(t,"loopMergeSubData",(function(){return at}))}])},e.exports=r(n(58),n(0))},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);n(219);var s=n(220),c=Math.max(window.innerHeight-350,200);t.default=function(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.keyDownHandler=function(e){38!==e.keyCode&&40!==e.keyCode||n.scrollFunction()},n.scrollTo=function(e){var t=n.props.loadDirection,r=0;"end"===e?r=n.loadMoreBox.scrollHeight-n.loadMoreBox.offsetHeight-("up"===t?0:15):"start"===e&&(r="up"===t?15:0),n.loadMoreBox.scrollTop=r,n.scrollTop=r,n.scrollHeight=n.loadMoreBox.scrollHeight},n.scrollFunction=function(e){var t=e||n.loadMoreBox.scrollTop;n.keepUpdateScrollData&&(n.scrollTop=t,n.scrollHeight=n.loadMoreBox.scrollHeight),"up"===n.props.loadDirection?t<c&&n.endScroll&&(n.endScroll=!1,n.keepUpdateScrollData=!1,n.loadMore()):n.loadMoreBox.scrollHeight-n.loadMoreBox.offsetHeight-t<c&&n.endScroll&&(n.endScroll=!1,n.loadMore())},n.adjustScroll=function(){var e=n.loadMoreBox.scrollTop;if((n.loadMoreBox.scrollHeight!==n.scrollHeight||e!==n.scrollTop||n.loadMoreBox.offsetHeight!==n.offsetHeight)&&n.loadMoreBox.scrollHeight-e-n.loadMoreBox.offsetHeight>1){var t=n.scrollHeight-n.scrollTop-n.offsetHeight;n.loadMoreBox.scrollTop=n.loadMoreBox.scrollHeight-t-n.loadMoreBox.offsetHeight}n.scrollTop=e,n.scrollHeight=n.loadMoreBox.scrollHeight},n.updateScrollbarThumbHeight=function(){var e=Math.max(n.loadMoreBox.offsetHeight*(n.loadMoreBox.offsetHeight/n.scrollBox.scrollHeight),16);e!==n.scrollbarThumbHeight&&(n.scrollbarThumbHeight=e,n.scrollbarThumb.style.height=e+"px")},n.updateScrollbarThumbTop=function(){var e=n.loadMoreBox.scrollTop/(n.scrollBox.scrollHeight-n.loadMoreBox.offsetHeight)*(n.loadMoreBox.offsetHeight-n.scrollbarThumbHeight);e!==n.scrollbarThumbTop&&(n.scrollbarThumbTop=e,n.scrollbarThumb.style.transform="translateY("+e+"px)")},n.startDragScrollbarThumb=function(e){n.isDraggingScrollbarThumb=!0,n.scrollbarThumbStartY=e.clientY,n.scrollbarThumbStartScrollTop=n.loadMoreBox.scrollTop,document.addEventListener("mousemove",n.draggingScrollbarThumb),document.addEventListener("mouseup",n.endDragScrollbarThumb)},n.draggingScrollbarThumb=function(e){if(n.isDraggingScrollbarThumb){var t=(e.clientY-n.scrollbarThumbStartY)/n.loadMoreBox.offsetHeight*n.scrollBox.scrollHeight,r=n.scrollbarThumbStartScrollTop+t;n.loadMoreBox.scrollTop=r,n.scrollFunction(r)}},n.endDragScrollbarThumb=function(){n.isDraggingScrollbarThumb=!1,document.removeEventListener("mousemove",n.draggingScrollbarThumb),document.removeEventListener("mouseup",n.endDragScrollbarThumb)},n.endScroll=!0,n.keepUpdateScrollData=!0,n.scrollTop=0,n.scrollHeight=0,n.offsetHeight=0,n.scrollbarThumbStartY=0,n.scrollbarThumbStartScrollTop=0,n.isDraggingScrollbarThumb=!1,n.scrollbarThumbHeight=0,n.scrollbarThumbTop=0,n.state={},n}return a(n,t),n.prototype.componentDidMount=function(){var e=this;this.props.initFetch&&this.loadMore(),this.loadMoreBox.addEventListener("wheel",(function(){return e.scrollFunction()}),!0),this.loadMoreBox.addEventListener("keydown",this.keyDownHandler),this.loadMoreBox.addEventListener("scroll",this.updateScrollbarThumbTop),this.scrollbarThumb.addEventListener("mousedown",this.startDragScrollbarThumb),"up"===this.props.loadDirection&&this.props.openAdjustScroll&&(this.loadMoreBoxIframe.contentWindow.addEventListener("resize",(function(){e.adjustScroll(),e.updateScrollbarThumbHeight(),e.offsetHeight=e.loadMoreBox.offsetHeight}),!0),this.scrollBoxIframe.contentWindow.addEventListener("resize",(function(){var t=e.scrollHeight-e.scrollTop-e.offsetHeight;e.loadMoreBox.scrollHeight-e.loadMoreBox.scrollTop-e.loadMoreBox.offsetHeight-t<=20||(e.adjustScroll(),e.updateScrollbarThumbHeight(),e.keepUpdateScrollData=!0)}),!0)),this.setScrollTo(),this.scrollTop=this.loadMoreBox.scrollTop,this.scrollHeight=this.loadMoreBox.scrollHeight,this.offsetHeight=this.loadMoreBox.offsetHeight,this.updateScrollbarThumbHeight()},n.prototype.componentDidUpdate=function(){this.setScrollTo()},n.prototype.componentWillUnmount=function(){var e=this;this.loadMoreBox.removeEventListener("wheel",(function(){return e.scrollFunction()}),!0),this.loadMoreBox.removeEventListener("keydown",this.keyDownHandler),this.loadMoreBox.removeEventListener("scroll",this.updateScrollbarThumbTop)},n.prototype.setScrollTo=function(){var e=this.props,t=e.scrollTo,n=e.list,r=e.onScrollTo;t&&this.scrollTo(t),r&&r(t||"",n)},n.prototype.loadMore=function(){var e=this,t=0;new Promise((function(n,r){e.props.loadFunc((function(t){t&&(e.loadMoreBox.removeEventListener("wheel",(function(){return e.scrollFunction()}),!0),e.loadMoreBox.removeEventListener("keydown",e.keyDownHandler,!0)),n()})),t=window.setTimeout((function(){throw e.endScroll=!0,"load more timeout!"}),1e4)})).then((function(){e.endScroll=!0,clearTimeout(t)})).catch((function(t){e.endScroll=!0}))},n.prototype.render=function(){var t=this,n=this.props,r=n.list,a=n.onChange,c=o(n,["list","onChange"]);return i.createElement("div",{className:"scrollbar-box"},i.createElement("div",{className:"scrollbar-thumb",ref:function(e){return e&&(t.scrollbarThumb=e)}}),i.createElement("div",{ref:function(e){return e&&(t.loadMoreBox=e)},className:"common-load-more",tabIndex:"0"},i.createElement("div",{className:"scroll-box",ref:function(e){return e&&(t.scrollBox=e)}},i.createElement(s.default,{list:r,onChange:a,ItemClass:e,otherProps:c}),i.createElement("iframe",{className:"iframe-box",ref:function(e){return e&&(t.scrollBoxIframe=e)}})),i.createElement("iframe",{className:"iframe-box",ref:function(e){return e&&(t.loadMoreBoxIframe=e)}})))},n}(i.Component)}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=function(e){var t=e.list,n=e.onChange,o=e.ItemClass,i=e.otherProps,s=a.useState(t),c=s[0],l=s[1],u=a.useTransition(),d=(u[0],u[1]),p="base"!==function(e){if(e&&"object"===typeof e&&void 0!==e.web_messenger_memory_opt_sf)return e.web_messenger_memory_opt_sf}(window.__APLUS_ABRATE__);return a.useEffect((function(){p?c!==t&&d((function(){return l(t)})):d((function(){return l(t)}))}),[t]),c.map((function(e,t){return a.createElement(o,r({key:e.__key||t,item:e},i,{onChange:n&&n(e)}))}))}},function(e,t,n){},function(e,t,n){var r=n(71).default;function a(){"use strict";e.exports=a=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,i=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof w?t:w,o=Object.create(a.prototype),i=new N(r||[]);return s(o,"_invoke",{value:O(e,n,i)}),o}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var h="suspendedStart",g="suspendedYield",v="executing",y="completed",b={};function w(){}function x(){}function C(){}var E={};p(E,l,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(P([])));k&&k!==o&&i.call(k,l)&&(E=k);var T=C.prototype=w.prototype=Object.create(E);function _(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(a,o,s,c){var l=m(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var a;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}})}function O(e,n,r){var a=h;return function(o,i){if(a===v)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===h)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var l=m(e,n,r);if("normal"===l.type){if(a=r.done?y:g,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=y,r.method="throw",r.arg=l.arg)}}}function A(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=m(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(i.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return x.prototype=C,s(T,"constructor",{value:C,configurable:!0}),s(C,"constructor",{value:x,configurable:!0}),x.displayName=p(C,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,p(e,d,"GeneratorFunction")),e.prototype=Object.create(T),e},n.awrap=function(e){return{__await:e}},_(I.prototype),p(I.prototype,u,(function(){return this})),n.AsyncIterator=I,n.async=function(e,t,r,a,o){void 0===o&&(o=Promise);var i=new I(f(e,t,r,a),o);return n.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(T),p(T,d,"Generator"),p(T,l,(function(){return this})),p(T,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=P,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;M(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(236)),a=f(n(45)),o=f(n(46)),i=f(n(52)),s=f(n(47)),c=f(n(48)),l=f(n(0)),u=p(n(24)),d=p(n(35));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}n(275);var m=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,i.default)(t,[{key:"renderView",value:function(){var e=this.props,t=e.singleChoice,n=e.checkable,a=e.checked,o=e.text,i=e._tplId,s="true"===t?"radio":"checkbox",c={};return a&&"true"===a&&(c.checked=!0),l.default.createElement("div",{className:"ali-checked-tag-container"},l.default.createElement("input",(0,r.default)({className:"input",type:s,name:i,value:o,disabled:!!n&&"true"!==n},c)),l.default.createElement("div",{className:"button"},o))}}]),t}(d.View);t.default=m,u.registerView("ALICheckedTag",m),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(204),o=(r=a)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){n(238),e.exports=n(44).Object.assign},function(e,t,n){var r=n(61);r(r.S+r.F,"Object",{assign:n(240)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(55),a=n(89),o=n(115),i=n(92),s=n(87),c=n(150),l=Object.assign;e.exports=!l||n(69)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,u=1,d=o.f,p=i.f;l>u;)for(var f,m=c(arguments[u++]),h=d?a(m).concat(d(m)):a(m),g=h.length,v=0;g>v;)f=h[v++],r&&!p.call(m,f)||(n[f]=m[f]);return n}:l},function(e,t,n){var r=n(70),a=n(205),o=n(242);e.exports=function(e){return function(t,n,i){var s,c=r(t),l=a(c.length),u=o(i,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(111),a=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?a(e+t,0):o(e,t)}},function(e,t,n){n(244),e.exports=n(44).Object.getPrototypeOf},function(e,t,n){var r=n(87),a=n(151);n(206)("getPrototypeOf",(function(){return function(e){return a(r(e))}}))},function(e,t,n){e.exports={default:n(246),__esModule:!0}},function(e,t,n){n(247);var r=n(44).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(61);r(r.S+r.F*!n(55),"Object",{defineProperty:n(62).f})},function(e,t,n){e.exports={default:n(249),__esModule:!0}},function(e,t,n){n(207),n(254),e.exports=n(118).f("iterator")},function(e,t,n){var r=n(111),a=n(110);e.exports=function(e){return function(t,n){var o,i,s=String(a(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(i=s.charCodeAt(c+1))<56320||i>57343?e?s.charAt(c):o:e?s.slice(c,c+2):i-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(116),a=n(88),o=n(117),i={};n(67)(i,n(66)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(i,{next:a(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(62),a=n(78),o=n(89);e.exports=n(55)?Object.defineProperties:function(e,t){a(e);for(var n,i=o(t),s=i.length,c=0;s>c;)r.f(e,n=i[c++],t[n]);return e}},function(e,t,n){var r=n(54).document;e.exports=r&&r.documentElement},function(e,t,n){n(255);for(var r=n(54),a=n(67),o=n(107),i=n(66)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=r[l],d=u&&u.prototype;d&&!d[i]&&a(d,i,l),o[l]=o.Array}},function(e,t,n){"use strict";var r=n(256),a=n(257),o=n(107),i=n(70);e.exports=n(153)(Array,"Array",(function(e,t){this._t=i(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(259),__esModule:!0}},function(e,t,n){n(260),n(265),n(266),n(267),e.exports=n(44).Symbol},function(e,t,n){"use strict";var r=n(54),a=n(63),o=n(55),i=n(61),s=n(154),c=n(261).KEY,l=n(69),u=n(113),d=n(117),p=n(91),f=n(66),m=n(118),h=n(119),g=n(262),v=n(263),y=n(78),b=n(68),w=n(87),x=n(70),C=n(109),E=n(88),S=n(116),k=n(264),T=n(156),_=n(115),I=n(62),O=n(89),A=T.f,D=I.f,M=k.f,N=r.Symbol,P=r.JSON,L=P&&P.stringify,R="prototype",F=f("_hidden"),j=f("toPrimitive"),B={}.propertyIsEnumerable,z=u("symbol-registry"),q=u("symbols"),V=u("op-symbols"),U=Object[R],H="function"==typeof N&&!!_.f,W=r.QObject,G=!W||!W[R]||!W[R].findChild,K=o&&l((function(){return 7!=S(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=A(U,t);r&&delete U[t],D(e,t,n),r&&e!==U&&D(U,t,r)}:D,J=function(e){var t=q[e]=S(N[R]);return t._k=e,t},Z=H&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},X=function(e,t,n){return e===U&&X(V,t,n),y(e),t=C(t,!0),y(n),a(q,t)?(n.enumerable?(a(e,F)&&e[F][t]&&(e[F][t]=!1),n=S(n,{enumerable:E(0,!1)})):(a(e,F)||D(e,F,E(1,{})),e[F][t]=!0),K(e,t,n)):D(e,t,n)},Y=function(e,t){y(e);for(var n,r=g(t=x(t)),a=0,o=r.length;o>a;)X(e,n=r[a++],t[n]);return e},Q=function(e){var t=B.call(this,e=C(e,!0));return!(this===U&&a(q,e)&&!a(V,e))&&(!(t||!a(this,e)||!a(q,e)||a(this,F)&&this[F][e])||t)},$=function(e,t){if(e=x(e),t=C(t,!0),e!==U||!a(q,t)||a(V,t)){var n=A(e,t);return!n||!a(q,t)||a(e,F)&&e[F][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=M(x(e)),r=[],o=0;n.length>o;)a(q,t=n[o++])||t==F||t==c||r.push(t);return r},te=function(e){for(var t,n=e===U,r=M(n?V:x(e)),o=[],i=0;r.length>i;)!a(q,t=r[i++])||n&&!a(U,t)||o.push(q[t]);return o};H||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(V,n),a(this,F)&&a(this[F],e)&&(this[F][e]=!1),K(this,e,E(1,n))};return o&&G&&K(U,e,{configurable:!0,set:t}),J(e)},s(N[R],"toString",(function(){return this._k})),T.f=$,I.f=X,n(155).f=k.f=ee,n(92).f=Q,_.f=te,o&&!n(90)&&s(U,"propertyIsEnumerable",Q,!0),m.f=function(e){return J(f(e))}),i(i.G+i.W+i.F*!H,{Symbol:N});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)f(ne[re++]);for(var ae=O(f.store),oe=0;ae.length>oe;)h(ae[oe++]);i(i.S+i.F*!H,"Symbol",{for:function(e){return a(z,e+="")?z[e]:z[e]=N(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),i(i.S+i.F*!H,"Object",{create:function(e,t){return void 0===t?S(e):Y(S(e),t)},defineProperty:X,defineProperties:Y,getOwnPropertyDescriptor:$,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ie=l((function(){_.f(1)}));i(i.S+i.F*ie,"Object",{getOwnPropertySymbols:function(e){return _.f(w(e))}}),P&&i(i.S+i.F*(!H||l((function(){var e=N();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],a=1;arguments.length>a;)r.push(arguments[a++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Z(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Z(t))return t}),r[1]=t,L.apply(P,r)}}),N[R][j]||n(67)(N[R],j,N[R].valueOf),d(N,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(91)("meta"),a=n(68),o=n(63),i=n(62).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(69)((function(){return c(Object.preventExtensions({}))})),u=function(e){i(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!o(e,r)&&u(e),e}}},function(e,t,n){var r=n(89),a=n(115),o=n(92);e.exports=function(e){var t=r(e),n=a.f;if(n)for(var i,s=n(e),c=o.f,l=0;s.length>l;)c.call(e,i=s[l++])&&t.push(i);return t}},function(e,t,n){var r=n(141);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(70),a=n(155).f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==o.call(e)?function(e){try{return a(e)}catch(e){return i.slice()}}(e):a(r(e))}},function(e,t){},function(e,t,n){n(119)("asyncIterator")},function(e,t,n){n(119)("observable")},function(e,t,n){e.exports={default:n(269),__esModule:!0}},function(e,t,n){n(270),e.exports=n(44).Object.setPrototypeOf},function(e,t,n){var r=n(61);r(r.S,"Object",{setPrototypeOf:n(271).set})},function(e,t,n){var r=n(68),a=n(78),o=function(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(140)(Function.call,n(156).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(273),__esModule:!0}},function(e,t,n){n(274);var r=n(44).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(61);r(r.S,"Object",{create:n(116)})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(45)),a=l(n(46)),o=l(n(47)),i=l(n(48)),s=(l(n(0)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(24))),c=n(35);function l(e){return e&&e.__esModule?e:{default:e}}n(277);var u=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,i.default)(t,e),t}(c.ListLayout);s.registerView("ALIFlowLayout",u),t.default=u,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(45)),a=p(n(46)),o=p(n(52)),i=p(n(47)),s=p(n(48)),c=p(n(0)),l=d(n(24)),u=d(n(35));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}n(279);var f=function(e){function t(){return(0,a.default)(this,t),(0,i.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"renderView",value:function(){var e=this.props,t=e.checkable,n=e.text;return c.default.createElement("button",{className:"ali-tag-button",disabled:"false"===t},n||"option")}}]),t}(u.View);t.default=f,l.registerView("ALITagButton",f),e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(45)),a=f(n(46)),o=f(n(52)),i=f(n(47)),s=f(n(48)),c=f(n(0)),l=p(n(24)),u=p(n(35)),d=f(n(281));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,a.default)(this,t),(0,i.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"renderView",value:function(){var e=this.props.source||[];return c.default.createElement("div",{className:"ali-chat-rich-text-container"},e.map((function(e){var t="",n=[],r={};for(var a in e)switch(a){case"text":t=e[a];break;case"bold":e[a]&&(r.fontWeight="bold");break;case"italic":e[a]&&(r.fontStyle="italic");break;case"underLine":e[a]&&n.push("underline");break;case"strikeThrough":e[a]&&n.push("line-through");break;case"textColor":r.color=e[a];break;case"emoji":break;default:r[a]=e[a]}return n.length&&(r.textDecoration=n.join(" ")),e.emoji&&d.default[t]&&(t='\n              <img\n                height="32px"\n                width="32px"\n                src=//atmgateway-client.alibaba.com/smily-big/smile_'+d.default[t].id+".png\n              />\n            "),c.default.createElement("span",{style:r,dangerouslySetInnerHTML:{__html:t}})})))}}]),t}(u.View);t.default=m,l.registerView("ALIChatRichTextView",m),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"/:^_^":{t:"Smile",id:"0"},"/:^$^":{t:"Shy",id:"1"},"/:Q":{t:"Tongue",id:"2"},"/:815":{t:"Snicker",id:"3"},"/:809":{t:"Admire",id:"4"},"/:^O^":{t:"Laugh",id:"5"},"/:081":{t:"Dance",id:"6"},"/:087":{t:"Blow Kisses",id:"7"},"/:086":{t:"Comfort",id:"8"},"/:H":{t:"Hug",id:"9"},"/:012":{t:"Come on",id:"10"},"/:806":{t:"Victory",id:"11"},"/:b":{t:"Excellent",id:"12"},"/:^x^":{t:"Kiss",id:"13"},"/:814":{t:"Infatuated",id:"14"},"/:^W^":{t:"Grin",id:"15"},"/:080":{t:"Search",id:"16"},"/:066":{t:"Call",id:"17"},"/:807":{t:"Account",id:"18"},"/:805":{t:"Moneygrubber",id:"19"},"/:071":{t:"Good Idea",id:"20"},"/:072":{t:"Grimace",id:"21"},"/:065":{t:"Angel",id:"22"},"/:804":{t:"Bye",id:"23"},"/:813":{t:"Slobber",id:"24"},"/:818":{t:"Enjoy",id:"25"},"/:015":{t:"Erotomania",id:"26"},"/:084":{t:"Bemused",id:"27"},"/:801":{t:"Think",id:"28"},"/:811":{t:"Confused",id:"29"},"/:?":{t:"Question",id:"30"},"/:077":{t:"No Money",id:"31"},"/:083":{t:"Bored",id:"32"},"/:817":{t:"Doubt",id:"33"},"/:!":{t:"Sh",id:"34"},"/:068":{t:"Childish",id:"35"},"/:079":{t:"Shake",id:"36"},"/:028":{t:"Got a Cold",id:"37"},"/:026":{t:"Embarrassed",id:"38"},"/:007":{t:"Giggle",id:"39"},"/:816":{t:"Not Really",id:"40"},'/:\'""':{t:"No Choice",id:"41"},"/:802":{t:"Perspire",id:"42"},"/:027":{t:"Miserable",id:"43"},"/:(Zz...)":{t:"Sleepy",id:"44"},"/:*&*":{t:"Dizzy",id:"45"},"/:810":{t:"Sad",id:"46"},"/:>_<":{t:"Grievance",id:"47"},"/:018":{t:"Weep",id:"48"},"/:>O<":{t:"Cry",id:"49"},"/:020":{t:"Howl",id:"50"},"/:044":{t:"Speechless",id:"51"},"/:819":{t:"Sorry",id:"52"},"/:085":{t:"Bye",id:"53"},"/:812":{t:"Frown",id:"54"},'/:"':{t:"Tired",id:"55"},"/:>M<":{t:"Ill",id:"56"},"/:>@<":{t:"Puke",id:"57"},"/:076":{t:"Bad Luck",id:"58"},"/:069":{t:"Surprise",id:"59"},"/:O":{t:"Shock",id:"60"},"/:067":{t:"Shut up",id:"61"},"/:043":{t:"Slap",id:"62"},"/:P":{t:"Disdain",id:"63"},"/:808":{t:"Fury",id:"64"},"/:>W<":{t:"Angry",id:"65"},"/:073":{t:"God of Wealth",id:"66"},"/:008":{t:"Be Helpful",id:"67"},"/:803":{t:"Good Luck",id:"68"},"/:074":{t:"Waiter",id:"69"},"/:O=O":{t:"Boss",id:"70"},"/:036":{t:"Evil",id:"71"},"/:039":{t:"Fight Alone",id:"72"},"/:045":{t:"CS",id:"73"},"/:046":{t:"Invisible Man",id:"74"},"/:048":{t:"Bomb",id:"75"},"/:047":{t:"Scream",id:"76"},"/:girl":{t:"Beauty",id:"77"},"/:man":{t:"Handsome Guy",id:"78"},"/:052":{t:"Fortune Cat",id:"79"},"/:(OK)":{t:"OK",id:"80"},"/:8*8":{t:"Applause",id:"81"},"/:)-(":{t:"Shake Hands",id:"82"},"/:lip":{t:"Lip",id:"83"},"/:-F":{t:"Rose",id:"84"},"/:-W":{t:"Languished Rose",id:"85"},"/:Y":{t:"Love",id:"86"},"/:qp":{t:"Heartbreak",id:"87"},"/:$":{t:"Money",id:"88"},"/:%":{t:"Shopping",id:"89"},"/:(&)":{t:"Gift",id:"90"},"/:@":{t:"Mail",id:"91"},"/:~B":{t:"Phone",id:"92"},"/:U*U":{t:"Cheers",id:"93"},"/:clock":{t:"Clock",id:"94"},"/:R":{t:"Wait",id:"95"},"/:C":{t:"Late",id:"96"},"/:plane":{t:"Plane",id:"97"},"/:075":{t:"Alipay",id:"98"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(283)),a=f(n(45)),o=f(n(46)),i=f(n(52)),s=f(n(47)),c=f(n(48)),l=f(n(0)),u=p(n(24)),d=p(n(35));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}n(285);var m=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,i.default)(t,[{key:"showPreviewImg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=e.toLowerCase(),/mp4|flv|wmv|asf|avi|mov/g.test(e)&&(e="video"),/jpg|jpeg|png|gif|bmp/g.test(e)&&(e="img");var t={img:"https://gw.alicdn.com/tfs/TB1gcExXUCF3KVjSZJnXXbnHFXa-108-108.png",video:"https://gw.alicdn.com/tfs/TB1_qrUXRGw3KVjSZFDXXXWEpXa-108-108.png",xls:"https://gw.alicdn.com/tfs/TB1eibPXRSD3KVjSZFqXXc4bpXa-108-108.png",doc:"https://gw.alicdn.com/tfs/TB1OCYNXUuF3KVjSZK9XXbVtXXa-108-108.png",zip:"https://gw.alicdn.com/tfs/TB1oDnNXUGF3KVjSZFmXXbqPXXa-108-108.png",pdf:"https://gw.alicdn.com/tfs/TB1JMLNXL5G3KVjSZPxXXbI3XXa-108-108.png",txt:"https://gw.alicdn.com/tfs/TB1MNYNXLWG3KVjSZFgXXbTspXa-108-108.png",ppt:"https://gw.alicdn.com/tfs/TB1h9YMXMmH3KVjSZKzXXb2OXXa-108-108.png",default:"https://gw.alicdn.com/tfs/TB1UMYPXSWD3KVjSZSgXXcCxVXa-108-108.png"};return t[e]?t[e]:t.default}},{key:"renderView",value:function(){var e=this,t=this.props.data||{},n=t.extraData||{},a=t.i18n||{},o=n.content||"";return l.default.createElement("div",{"data-exp":"card-super-text",className:"im-unify-service-card inquiry-card-item super-text-card-item","data-query":(0,r.default)(n),style:{overflow:"hidden",maxWidth:"500px"}},l.default.createElement("div",{className:"description-container",dangerouslySetInnerHTML:{__html:o}}),n.attachments&&n.attachments.length>0?l.default.createElement("div",{className:"attachment-container",style:{border:"none"}},l.default.createElement("p",{className:"attachment-title",style:{fontSize:"14px"}},a.attachment),l.default.createElement("div",null,n.attachments&&n.attachments.map&&n.attachments.map((function(n,r){return n.materialType=n.materialType.toLowerCase(),n.materialType="jpg"===n.materialType||"png"===n.materialType||"jpeg"===n.materialType?"img":n.materialType,l.default.createElement("div",{key:r,className:"attach-item"},t.fromMsite?l.default.createElement("div",{className:"attach-preview"},l.default.createElement("a",{className:"file-wrapper","data-need-attachment-scan":n.downloadUrl,href:n.downloadUrl,target:"_blank"},l.default.createElement("img",{src:e.showPreviewImg(n.materialType)}))):l.default.createElement("div",{className:"attach-preview attach-preview-default attach-preview-"+n.materialType},l.default.createElement("img",{src:"img"===n.materialType?n.thumbnailUrl:e.showPreviewImg(n.materialType)}),l.default.createElement("div",{className:"action-container"},l.default.createElement("a",{"data-need-attachment-scan":n.downloadUrl,href:n.downloadUrl,target:"_blank"},l.default.createElement("span",null,a.download)))),l.default.createElement("p",{className:"attach-name",title:n.fileName},n.fileName))})))):null)}}]),t}(d.View);t.default=m,u.registerView("ALISuperTextView",m),e.exports=t.default},function(e,t,n){e.exports={default:n(284),__esModule:!0}},function(e,t,n){var r=n(44),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(45)),a=p(n(46)),o=p(n(52)),i=p(n(47)),s=p(n(48)),c=p(n(0)),l=d(n(24)),u=d(n(35));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}n(287);var f=function(e){function t(){return(0,a.default)(this,t),(0,i.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"renderView",value:function(){var e=this.props.richTextContent||"",t=this.props.textSize||"14px",n=this.props.textColor||"#222222";return c.default.createElement("div",{"data-exp":"card-normal-rich-text",className:"normal-text-card-item",style:{overflow:"hidden",maxWidth:"500px"}},c.default.createElement("div",{className:"description-container",style:{fontSize:t,color:n},dangerouslySetInnerHTML:{__html:e}}))}}]),t}(u.View);t.default=f,l.registerView("ALINormalRichTextView",f),e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(45)),a=d(n(46)),o=d(n(52)),i=d(n(47)),s=d(n(48)),c=(d(n(0)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(24))),l=n(35),u=n(289);function d(e){return e&&e.__esModule?e:{default:e}}n(290);var p=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return"generating"===n.props.aiState&&n.setStyles({animation:"resize 1s forwards"}),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=void 0;try{t=c.driver.findDOMNode(this)}catch(e){return void c.utils.log.warn(e)}t.style.width=this.getWidth()+"px",this.setStyles({width:this.getWidth()+"px !important"}),this.calcLayoutSize((function(){return e.calcLayoutSize((function(){return e.calcLayoutSize()}))}))}},{key:"getWidth",value:function(){return u.isWeblite?388:500}},{key:"renderView",value:function(){return this.props.children}}]),t}(l.FrameLayout);c.registerView("AILayout",p),t.default=p,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.isBuyerPWA=location.pathname.indexOf("messengerAlone.htm")>=0,a=t.isSellerPWA=location.pathname.indexOf("weblitePWA.htm")>=0,o=t.isPureMessenger=location.pathname.indexOf("messenger.htm")>=0||location.pathname.indexOf("messengerShadow.htm")>=0,i=t.isPureWeblite=location.pathname.indexOf("weblite.htm")>=0,s=t.isWebATM=location.pathname.indexOf("webATM.htm")>=0;t.isWeblite=i||s,t.isMessenger=r||a||o,t.isSeller=a||location.pathname.indexOf("maDetail")>=0},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(45)),a=u(n(46)),o=u(n(52)),i=u(n(47)),s=u(n(48)),c=(u(n(0)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(24))),l=n(35);function u(e){return e&&e.__esModule?e:{default:e}}n(292);var d=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"chat"}),p=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={imgUrl:"https://img.alicdn.com/imgextra/i3/O1CN01lf1ySQ1wfTwbvaKio_!!6000000006335-1-tps-180-180.gif"},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"renderView",value:function(){return c.h("div",{className:"loading-wrapper"},""===this.state.imgUrl?null:c.h("img",{src:this.state.imgUrl,className:"loading-img"}),""===this.state.imgUrl?null:c.h("p",{className:"loading-text "+("generating"===this.props.aiState?"show-text":"hide-text")},d.get("ai.card.generating")||"Generating conversation summary"))}}]),t}(l.View);c.registerView("AILoading",p),t.default=p,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(45)),a=d(n(46)),o=d(n(52)),i=d(n(47)),s=d(n(48)),c=(d(n(0)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(24))),l=n(35),u=d(n(517));function d(e){return e&&e.__esModule?e:{default:e}}n(296);var p=function(e){function t(e){return(0,a.default)(this,t),(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"formatContent",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/(\n\s+)-/g,"$1●")}},{key:"renderView",value:function(){return c.h("pre",{className:"ai-text-wrapper"},c.h(u.default,null,this.formatContent(this.props.text)))}}]),t}(l.TextView);c.registerView("AIText",p),t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r=60103,a=60106,o=60107,i=60108,s=60114,c=60109,l=60110,u=60112,d=60113,p=60120,f=60115,m=60116,h=60121,g=60122,v=60117,y=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;r=w("react.element"),a=w("react.portal"),o=w("react.fragment"),i=w("react.strict_mode"),s=w("react.profiler"),c=w("react.provider"),l=w("react.context"),u=w("react.forward_ref"),d=w("react.suspense"),p=w("react.suspense_list"),f=w("react.memo"),m=w("react.lazy"),h=w("react.block"),g=w("react.server.block"),v=w("react.fundamental"),y=w("react.debug_trace_mode"),b=w("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case i:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case u:case m:case f:case c:return e;default:return t}}case a:return t}}}var C=c,E=r,S=u,k=o,T=m,_=f,I=a,O=s,A=i,D=d;t.ContextConsumer=l,t.ContextProvider=C,t.Element=E,t.ForwardRef=S,t.Fragment=k,t.Lazy=T,t.Memo=_,t.Portal=I,t.Profiler=O,t.StrictMode=A,t.Suspense=D,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===u},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===f},t.isPortal=function(e){return x(e)===a},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===i},t.isSuspense=function(e){return x(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===y||e===i||e===d||e===p||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===c||e.$$typeof===l||e.$$typeof===u||e.$$typeof===v||e.$$typeof===h||e[0]===g)},t.typeOf=x},function(e,t){var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,a=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,l=/^\s+|\s+$/g,u="";function d(e){return e?e.replace(l,u):u}e.exports=function(e,t){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var l=1,p=1;function f(e){var t=e.match(r);t&&(l+=t.length);var n=e.lastIndexOf("\n");p=~n?e.length-n:p+e.length}function m(){var e={line:l,column:p};return function(t){return t.position=new h(e),b(),t}}function h(e){this.start=e,this.end={line:l,column:p},this.source=t.source}h.prototype.content=e;var g=[];function v(n){var r=new Error(t.source+":"+l+":"+p+": "+n);if(r.reason=n,r.filename=t.source,r.line=l,r.column=p,r.source=e,!t.silent)throw r;g.push(r)}function y(t){var n=t.exec(e);if(n){var r=n[0];return f(r),e=e.slice(r.length),n}}function b(){y(a)}function w(e){var t;for(e=e||[];t=x();)!1!==t&&e.push(t);return e}function x(){var t=m();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;u!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,u===e.charAt(n-1))return v("End of comment missing");var r=e.slice(2,n-2);return p+=2,f(r),e=e.slice(n),p+=2,t({type:"comment",comment:r})}}function C(){var e=m(),t=y(o);if(t){if(x(),!y(i))return v("property missing ':'");var r=y(s),a=e({type:"declaration",property:d(t[0].replace(n,u)),value:r?d(r[0].replace(n,u)):u});return y(c),a}}return b(),function(){var e,t=[];for(w(t);e=C();)!1!==e&&(t.push(e),w(t));return t}()}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(159);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Certificate=t.FlagIcon=t.GsYear=void 0;var r=s(n(160)),a=s(n(337)),o=s(n(338)),i=s(n(339));function s(e){return e&&e.__esModule?e:{default:e}}t.GsYear=a.default,t.FlagIcon=o.default,t.Certificate=i.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("circle",{fill:"#4F74B3",cx:"32",cy:"32",r:"32"}),o.default.createElement("circle",{fill:"#FFF",cx:"32",cy:"32",r:"22.667"}),o.default.createElement("circle",{fill:"#4F74B3",cx:"32.107",cy:"32",r:"20"}),o.default.createElement("path",{fill:"#E36E5B",d:"M31.587 43.933a5.015 5.015 0 0 1-3.82-1.738l-6.84-7.81c-.506-.57-.778-1.304-.778-2.114a3.208 3.208 0 0 1 3.203-3.203c.507 0 1.01.123 1.494.365l5.27 2.87L43.22 14.495l.026-.03c.66-.793 1.57-1.23 2.56-1.23a3.208 3.208 0 0 1 3.203 3.204 3.06 3.06 0 0 1-.4 1.52L36.055 41.286a5.088 5.088 0 0 1-4.467 2.647z"}),o.default.createElement("path",{fill:"#FFF",d:"M45.808 14.57c1.01 0 1.87.823 1.87 1.87 0 .3-.074.6-.224.862L34.88 40.654a3.75 3.75 0 0 1-3.293 1.946 3.684 3.684 0 0 1-2.807-1.272l-6.848-7.822c-.3-.337-.45-.75-.45-1.235 0-1.01.824-1.87 1.872-1.87.3 0 .6.075.898.225l6.25 3.406 13.772-18.71c.374-.45.897-.75 1.534-.75m0-2.667c-1.392 0-2.665.606-3.583 1.708l-.052.063-.048.065-12.392 16.837-4.206-2.292-.042-.023-.042-.02a4.64 4.64 0 0 0-2.09-.507 4.543 4.543 0 0 0-4.538 4.538c0 1.142.388 2.182 1.123 3.008l6.835 7.806c1.182 1.38 2.943 2.182 4.813 2.182a6.418 6.418 0 0 0 5.63-3.33L49.79 18.59c.364-.652.556-1.393.556-2.15a4.543 4.543 0 0 0-4.538-4.537z"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("path",{fill:"#F2B211",d:"M57.854 35.437l-8.31 8.337-.01.008a5.28 5.28 0 0 1-2.277 1.352 5.38 5.38 0 0 1-5.353-1.36l-9.94-9.936-2.295 2.294c-.436.435-.927.79-1.458 1.038a5.2 5.2 0 0 1-.83.322 5.48 5.48 0 0 1-2.47.136 5.18 5.18 0 0 1-1.038-.282 5.203 5.203 0 0 1-.958-.5 6.078 6.078 0 0 1-.877-.715h-.01l-.675-.828 6.03-6.044 4.565-4.563.016-.016v-.01a3.24 3.24 0 0 1 4.58.002l2.294 2.294 5.266-5.28 13.748 13.75z"}),o.default.createElement("path",{fill:"#FACE32",d:"M49.535 43.782L38.827 54.486A9.63 9.63 0 0 1 32 57.318a9.648 9.648 0 0 1-6.72-2.722L6.15 35.436 19.9 21.685l5.19 5.286 2.296-2.294a3.216 3.216 0 0 1 4.572 0l-.008.01v.007l-4.565 4.563-6.03 6.044.676.83h.01c.273.273.57.506.876.715.306.2.628.37.958.5.338.128.684.224 1.038.28a5.48 5.48 0 0 0 2.47-.136c.283-.08.564-.192.83-.32a5.207 5.207 0 0 0 1.457-1.04l2.294-2.286 6.92 6.924 3.01 3.01a5.368 5.368 0 0 0 5.362 1.354 5.26 5.26 0 0 0 2.28-1.35z"}),o.default.createElement("path",{fill:"#4F74B3",d:"M19.9 21.68L6.153 35.435l-4.597-4.612A5.336 5.336 0 0 1 0 27.057V8.014C0 7.278.597 6.68 1.333 6.68h2.493c.708 0 1.385.28 1.885.78 5.182 5.195 14.19 14.22 14.19 14.22zM64 8.014v19.05c0 1.41-.56 2.764-1.556 3.764l-4.59 4.606L44.106 21.68s9.007-9.024 14.18-14.218c.5-.502 1.178-.78 1.887-.78h2.492c.737 0 1.334.596 1.334 1.332z"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("path",{fill:"#4F74B3",d:"M62.667 57.333H1.333A1.333 1.333 0 0 1 0 56V8c0-.736.597-1.333 1.333-1.333h61.333C63.403 6.667 64 7.264 64 8v48c0 .736-.597 1.333-1.333 1.333z"}),o.default.createElement("path",{fill:"#FFF",d:"M41.333 32l-16 9.24V22.76zM26.667 13.333h10.667v1.333H26.667zM13.333 13.333H24v1.333H13.333zM40 13.333h10.667v1.333H40zM53.333 13.333H64v1.333H53.333zM0 13.333h10.667v1.333H0zM26.667 49.333h10.667v1.333H26.667zM13.333 49.333H24v1.333H13.333zM40 49.333h10.667v1.333H40zM53.333 49.333H64v1.333H53.333zM0 49.333h10.667v1.333H0z"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("g",{transform:"translate(1 6)",fill:"none",fillRule:"evenodd"},o.default.createElement("path",{fill:"#FF6A00",d:"M61.228 14.762l-30.285 39.51-.07-.098 15.022-39.412z"}),o.default.createElement("path",{fill:"#FF8A3D",d:"M61.53 14.376l-.302.386H45.895L39.048.19h9.565zM21.872.19L15.257 14.76H.337L12.538.19z"}),o.default.createElement("path",{fill:"#FF6A00",d:"M30.873 54.174L.336 14.762h14.92z"}),o.default.createElement("path",{fill:"#FF8A3D",d:"M45.895 14.762L30.873 54.174 15.257 14.762z"}),o.default.createElement("path",{fill:"#FFAC74",d:"M45.895 14.762H15.257L21.872.19h17.176z"})))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M63.7388424,17.6647012 L53.6960572,0.92772814 C53.3556236,0.35973132 52.7314956,6.82121028e-13 52.069542,6.82121028e-13 L12.617093,6.82121028e-13 C11.9551392,6.82121028e-13 11.3310113,0.340798093 10.9905779,0.92772814 L0.947792456,17.6647012 C0.493881248,18.403097 0.626272016,19.3686916 1.23148696,19.9745549 L31.0004968,49.7754548 C31.7381026,50.5138508 32.9296194,50.5138508 33.6672252,49.7754548 L63.4362352,19.9745549 C64.0603628,19.3686916 64.1738408,18.403097 63.7388424,17.6647012 Z M48.8165116,24.064132 L33.6861381,39.2107139 C33.3078788,39.5704452 32.8350546,39.7597775 32.3433175,39.7597775 C31.8515804,39.7597775 31.3787562,39.5704452 31.0004968,39.2107139 L15.8701233,24.064132 C15.1325176,23.3257362 15.1325176,22.1329428 15.8701233,21.394547 C16.607729,20.6561511 17.799246,20.6561511 18.5368516,21.394547 L32.3433175,35.1968697 L46.1308704,21.394547 C46.868476,20.6561511 48.0599928,20.6561511 48.7975988,21.394547 C49.5352044,22.1329428 49.5541172,23.3257362 48.8165116,24.064132 Z",fill:"#FF6600"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M63.7388424,17.6647012 L53.6960572,0.92772814 C53.3556236,0.35973132 52.7314956,6.82121028e-13 52.069542,6.82121028e-13 L12.617093,6.82121028e-13 C11.9551392,6.82121028e-13 11.3310113,0.340798093 10.9905779,0.92772814 L0.947792456,17.6647012 C0.493881248,18.403097 0.626272016,19.3686916 1.23148696,19.9745549 L31.0004968,49.7754548 C31.7381026,50.5138508 32.9296194,50.5138508 33.6672252,49.7754548 L63.4362352,19.9745549 C64.0603628,19.3686916 64.1738408,18.403097 63.7388424,17.6647012 Z M48.8165116,24.064132 L33.6861381,39.2107139 C33.3078788,39.5704452 32.8350546,39.7597775 32.3433175,39.7597775 C31.8515804,39.7597775 31.3787562,39.5704452 31.0004968,39.2107139 L15.8701233,24.064132 C15.1325176,23.3257362 15.1325176,22.1329428 15.8701233,21.394547 C16.607729,20.6561511 17.799246,20.6561511 18.5368516,21.394547 L32.3433175,35.1968697 L46.1308704,21.394547 C46.868476,20.6561511 48.0599928,20.6561511 48.7975988,21.394547 C49.5352044,22.1329428 49.5541172,23.3257362 48.8165116,24.064132 Z",fill:"#CCC"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("path",{fill:"#55A344",d:"M30.682 60.443L4.318 45.218A2.636 2.636 0 0 1 3 42.935V4.522c0-.728.59-1.318 1.318-1.318h55.364c.728 0 1.318.59 1.318 1.318v38.412c0 .942-.502 1.812-1.318 2.283L33.318 60.443c-.815.47-1.82.47-2.636 0z"}),o.default.createElement("clipPath",{id:"ib"},o.default.createElement("path",{d:"M24.42 44.387L9.945 48.515 3 44.503V3.25h58v41.253L37.183 58.258z"})),o.default.createElement("g",{clipPath:"url(#ib)"},o.default.createElement("path",{fill:"#FFF",d:"M29.52 70.526v-5.698a21.777 21.777 0 0 1-3.412-.71 14.052 14.052 0 0 1-4.91-2.554c-1.464-1.182-2.65-2.73-3.526-4.596-.872-1.856-1.314-4.113-1.314-6.707v-1.976h5.555v1.977c0 1.805.3 3.3.89 4.442.598 1.154 1.364 2.08 2.278 2.755a9.154 9.154 0 0 0 3.237 1.51c1.286.326 2.565.49 3.802.49 1.426 0 2.7-.213 3.788-.635 1.08-.42 2-.978 2.73-1.662a6.896 6.896 0 0 0 1.64-2.307c.374-.86.564-1.758.564-2.666 0-1.05-.14-1.97-.416-2.738-.25-.692-.69-1.344-1.313-1.937-.708-.674-1.693-1.336-2.93-1.967-1.328-.68-3.02-1.388-5.028-2.108a57.09 57.09 0 0 1-5.198-2.015c-1.66-.748-3.105-1.65-4.292-2.68a11.15 11.15 0 0 1-2.912-3.922c-.664-1.493-1-3.29-1-5.337 0-1.832.32-3.54.947-5.077a11.526 11.526 0 0 1 2.772-4.056c1.178-1.107 2.602-1.995 4.23-2.637a15.163 15.163 0 0 1 3.492-.894v-5.706h5.585v5.74c1.28.202 2.477.537 3.564.996a12.04 12.04 0 0 1 4.266 2.996c1.155 1.272 2.05 2.82 2.66 4.602.592 1.732.89 3.717.89 5.902v1.977h-5.554V31.35c0-1.375-.2-2.656-.59-3.81-.376-1.1-.93-2.06-1.644-2.855-.702-.778-1.59-1.4-2.64-1.845-1.072-.456-2.357-.687-3.82-.687-1.56 0-2.9.218-3.985.647-1.07.423-1.953.975-2.628 1.642a6.335 6.335 0 0 0-1.485 2.26 7.624 7.624 0 0 0-.508 2.72c0 1.037.114 1.96.34 2.747.184.648.567 1.277 1.136 1.867.648.672 1.602 1.336 2.834 1.972 1.333.69 3.128 1.412 5.335 2.148a65.312 65.312 0 0 1 5.13 2.01c1.655.74 3.102 1.644 4.3 2.686a11.73 11.73 0 0 1 2.953 3.9c.704 1.505 1.06 3.312 1.06 5.373 0 1.858-.325 3.577-.968 5.107a11.616 11.616 0 0 1-2.767 4.01c-1.167 1.097-2.576 1.975-4.188 2.61a16.07 16.07 0 0 1-3.37.898v5.774H29.52z"})))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("circle",{fill:"#FACE32",cx:"32",cy:"32",r:"32"}),o.default.createElement("circle",{fill:"#E3715D",cx:"32",cy:"32",r:"22.667"}),o.default.createElement("path",{fill:"#FACE32",d:"M17.333 20L20 30.67h24L46.667 20zM20 33.335L17.333 44h29.334L44 33.336zm8-32.002h8V16h-8zM28 48h8v14.667h-8z"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("defs",null,o.default.createElement("filter",{id:"a",filterUnits:"userSpaceOnUse",x:".61",y:"4.728",width:"61.982",height:"54.188"},o.default.createElement("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"}))),o.default.createElement("mask",{maskUnits:"userSpaceOnUse",x:".61",y:"4.728",width:"61.982",height:"54.188",id:"b"},o.default.createElement("path",{fill:"#FFF",d:"M63 5H30.814v53.78H63z",filter:"url(#a)"})),o.default.createElement("g",{transform:"translate(.89 .55)",mask:"url(#b)"},o.default.createElement("path",{fill:"#F7BC1A",d:"M.022 18.83l30.27 37.016.07-.092L15.35 18.83z"}),o.default.createElement("path",{fill:"#FACB25",d:"M-.28 18.468l.302.362H15.35l6.84-13.653h-9.56z"}),o.default.createElement("path",{fill:"#DAE2ED",d:"M61.235 19.83h-15.89l-7.58-15.653h11.37l12.385 14.93M46.6 17.83h11.323L48.24 6.177h-7.284L46.6 17.83z"}),o.default.createElement("path",{fill:"#DAE2ED",d:"M61.702 19.41l-30.816 38.4-1.442-2.193L45.31 17.83h15.113m-13.788 2L33.943 49.854 58.76 19.83H46.636z"}),o.default.createElement("path",{fill:"none",stroke:"#DAE2ED",strokeWidth:"2",d:"M15.35 18.83l15.013 36.924 15.61-36.924zm0 0h30.62L39.36 5.177H22.192z"})),o.default.createElement("defs",null,o.default.createElement("filter",{id:"c",filterUnits:"userSpaceOnUse",x:"1",y:"4.938",width:"60.487",height:"53.987"},o.default.createElement("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"}))),o.default.createElement("mask",{maskUnits:"userSpaceOnUse",x:"1",y:"4.938",width:"60.487",height:"53.987",id:"d"},o.default.createElement("path",{fill:"#FFF",d:"M-.226 4.75H31.96v56.818H-.226z",filter:"url(#c)"})),o.default.createElement("g",{transform:"translate(.89)",mask:"url(#d)"},o.default.createElement("path",{fill:"#F7BC1A",d:"M60.598 19.135l-29.713 39.03-.167.333-.333-.25L45.27 19.134z"}),o.default.createElement("path",{fill:"#FF8A3D",d:"M21.636 4.938l-6.612 14.574H.11L12.307 4.938z"}),o.default.createElement("path",{fill:"#FF6A00",d:"M30.632 58.926L.11 19.512h14.914z"}),o.default.createElement("path",{fill:"#FF8A3D",d:"M45.646 19.512L30.632 58.926 15.024 19.512z"}),o.default.createElement("path",{fill:"#FFAC74",d:"M45.646 19.512H15.024l6.612-14.574h17.167z"})))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("clipPath",{id:"qd"},o.default.createElement("path",{d:"M0 7.62h64v48.76H0z"})),o.default.createElement("g",{clipPath:"url(#qd)"},o.default.createElement("clipPath",{id:"qf"},o.default.createElement("path",{d:"M45.5 44.19c-4.216 7.287-12.095 12.19-21.12 12.19C10.917 56.38 0 45.465 0 32S10.916 7.62 24.38 7.62c9.025 0 16.905 4.902 21.12 12.19h-3.61c-3.855-5.528-10.26-9.144-17.51-9.144C12.6 10.666 3.048 20.218 3.048 32s9.55 21.333 21.333 21.333c7.25 0 13.655-3.616 17.51-9.143h3.61z"})),o.default.createElement("g",{clipPath:"url(#qf)"},o.default.createElement("clipPath",{id:"qh"},o.default.createElement("path",{d:"M0 7.62h64v48.76H0z"})),o.default.createElement("path",{clipPath:"url(#qh)",fill:"#1DC11D",d:"M-15.238-7.62h75.976v79.24h-75.976z"}))),o.default.createElement("g",{clipPath:"url(#qd)"},o.default.createElement("clipPath",{id:"qj"},o.default.createElement("path",{d:"M0 7.62h64v48.76H0z"})),o.default.createElement("g",{clipPath:"url(#qj)"},o.default.createElement("text",{transform:"translate(6.097 41.144)",fill:"#0EC826",fontFamily:"'Roboto-Regular'",fontSize:"24.381"},"100%")),o.default.createElement("g",{clipPath:"url(#qj)"},o.default.createElement("text",{transform:"translate(6.097 41.144)",fill:"#0EC826",fontFamily:"'Roboto-Regular'",fontSize:"24.381"},"100%"))))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 16 12.667"},o.default.createElement("path",{fill:"#4F74B3",d:"M15.667 12.667H.333A.333.333 0 0 1 0 12.334v-12C0 .149.149 0 .333 0h15.333c.185 0 .334.149.334.334v12a.333.333 0 0 1-.333.333z"}),o.default.createElement("circle",{fill:"#FFF",cx:"4.975",cy:"3.468",r:"1.6"}),o.default.createElement("path",{fill:"#375EA3",d:"M9.667 2h4.5v.667h-4.5z"}),o.default.createElement("path",{fill:"#FFF",d:"M7.993 10.667H1.958V6.895c0-.417.338-.754.754-.754h4.526c.417 0 .754.338.754.754v3.772z"}),o.default.createElement("path",{fill:"#375EA3",d:"M9.667 3.334h4.5v.667h-4.5zM9.667 4.667h4.5v.667h-4.5z"}),o.default.createElement("path",{fill:"#FACE32",d:"M11.348 10.667L9.25 8.587l.801-.794 1.297 1.286 2.434-2.412.801.794z"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 16 12.667"},o.default.createElement("path",{fill:"#C4C6CF",d:"M15.667 12.667H.333A.333.333 0 0 1 0 12.333v-12C0 .149.149 0 .333 0h15.333c.185 0 .334.149.334.333v12a.333.333 0 0 1-.333.334z"}),o.default.createElement("circle",{fill:"#FFF",cx:"4.975",cy:"3.468",r:"1.6"}),o.default.createElement("path",{fill:"#FFF",d:"M9.667 2h4.5v.667h-4.5zM7.993 10.667H1.958V6.895c0-.417.338-.754.754-.754h4.526c.417 0 .754.338.754.754v3.772zM9.667 3.334h4.5v.667h-4.5zM9.667 4.667h4.5v.667h-4.5z"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 16 12.667"},o.default.createElement("path",{fill:"#4F74B3",d:"M15.667 12.667H.333A.333.333 0 0 1 0 12.333v-12C0 .149.149 0 .333 0h15.333c.185 0 .334.149.334.333v12a.333.333 0 0 1-.333.334z"}),o.default.createElement("circle",{fill:"#FFF",cx:"4.975",cy:"3.468",r:"1.6"}),o.default.createElement("path",{fill:"#375EA3",d:"M9.667 2h4.5v.667h-4.5z"}),o.default.createElement("path",{fill:"#FFF",d:"M7.993 10.667H1.958V6.895c0-.417.338-.754.754-.754h4.526c.417 0 .754.338.754.754v3.772z"}),o.default.createElement("path",{fill:"#375EA3",d:"M9.667 3.334h4.5v.667h-4.5zM9.667 4.667h4.5v.667h-4.5z"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("circle",{fill:"#FFF",cx:"32",cy:"32",r:"32"}),o.default.createElement("g",{fill:"#4F74B3"},o.default.createElement("path",{d:"M16.022 30.667H30.67V17.333H17.934c-1.126 4.027-1.813 8.567-1.913 13.334zM17.935 46.667h12.733V33.333H16.022c.1 4.767.787 9.307 1.913 13.334zM30.67 14.667V.78c-4.894.833-9.24 6.207-11.908 13.887H30.67zM48.835 46.667h11.603a31.806 31.806 0 0 0 3.528-13.333H50.65c-.095 4.76-.735 9.266-1.815 13.333zM30.67 63.22V49.333H18.76c2.667 7.68 7.013 13.053 11.907 13.887zM48.055 14.667h10.837C54.507 7.877 47.625 2.857 39.542.902c3.558 2.874 6.536 7.714 8.513 13.765zM45.242 14.667C42.575 6.987 38.23 1.613 33.335.78v13.887h11.907zM48.835 17.333c1.08 4.067 1.72 8.573 1.813 13.333h13.318a31.817 31.817 0 0 0-3.528-13.333H48.835zM15.95 49.333H5.106c4.387 6.792 11.27 11.813 19.357 13.766-3.56-2.875-6.537-7.715-8.515-13.767zM33.335 49.333V63.22c4.893-.833 9.24-6.207 11.907-13.887H33.335zM13.355 33.333H.035A31.817 31.817 0 0 0 3.56 46.666H15.17c-1.08-4.066-1.72-8.573-1.815-13.333zM48.055 49.333c-1.978 6.05-4.956 10.89-8.514 13.764 8.085-1.954 14.967-6.975 19.352-13.764H48.055zM3.562 17.333A31.806 31.806 0 0 0 .034 30.666h13.322c.093-4.76.733-9.267 1.813-13.333H3.56zM47.982 33.333H33.335v13.333h12.733c1.127-4.026 1.814-8.566 1.914-13.333zM15.95 14.667C17.926 8.615 20.905 3.775 24.464.9 16.378 2.855 9.495 7.876 5.107 14.668H15.95zM46.07 17.333H33.334v13.333h14.647c-.1-4.766-.787-9.306-1.913-13.333z"})),o.default.createElement("path",{fill:"#D9624E",d:"M50.605 30.667l-4.14-6.212-4.336-7.057c-1.376-2.175-2.035-4.86-2.035-6.723C40.095 4.78 44.8 0 50.605 0s10.51 4.78 10.51 10.674c0 0 .267 3.445-2.123 6.89l-3.245 5.276-5.142 7.827z"}),o.default.createElement("path",{fill:"#C43F31",d:"M50.61 5.812c2.416 0 4.38 1.96 4.38 4.38a4.386 4.386 0 0 1-4.38 4.382 4.382 4.382 0 0 1-4.38-4.38c0-2.423 1.958-4.382 4.38-4.382z"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("path",{fill:"#FACE32",d:"M52.102 41.265l-5.483 5.483a4.96 4.96 0 0 1-3.5 1.453 4.933 4.933 0 0 1-3.437-1.398l-9.796-9.81 7.037-7.043 2.657 2.71 1.178-1.177a1.644 1.644 0 0 1 2.34 0l-.006.007-2.335 2.34-3.088 3.096.342.424h.007c.14.14.288.256.45.363.155.108.316.195.49.256.17.066.35.12.532.147.16.027.316.04.478.04.27 0 .53-.034.787-.108.14-.048.29-.102.424-.17.27-.127.526-.31.748-.53l1.17-1.172 3.546 3.546 1.54 1.54c.068.068.142.136.216.19.148.12.296.22.457.302.067.04.14.074.215.1.013.008.02.008.034.014a2.68 2.68 0 0 0 1.433.175h.014a2.27 2.27 0 0 0 .377-.088 2.61 2.61 0 0 0 1.172-.692z"}),o.default.createElement("path",{fill:"#F2B211",d:"M56.36 36.993l-4.26 4.272c-.335.343-.74.572-1.17.693-.12.04-.25.067-.377.088h-.013c-.31.047-.62.04-.928-.02a2.98 2.98 0 0 1-.505-.155c-.013-.006-.02-.006-.034-.012a1.28 1.28 0 0 1-.215-.1 2.48 2.48 0 0 1-.457-.304 1.892 1.892 0 0 1-.214-.188l-1.54-1.54-3.546-3.547-1.17 1.17a2.72 2.72 0 0 1-.748.532c-.135.067-.283.12-.424.168a2.864 2.864 0 0 1-1.265.068 2.403 2.403 0 0 1-.53-.148 2.017 2.017 0 0 1-.49-.256 2.977 2.977 0 0 1-.452-.363h-.007l-.343-.423 3.088-3.095 2.335-2.34.007-.008h.007c.323-.323.747-.49 1.17-.49s.85.167 1.172.49l1.176 1.17.034-.033 2.664-2.67 7.036 7.043z"}),o.default.createElement("path",{fill:"#4F74B3",d:"M60.388 31.124c.514.514.515 1.347.002 1.862l-4.01 4.026-.02-.02-7.037-7.044 4.938-4.952 6.128 6.128zM36.924 29.95l-7.037 7.043-3.966-3.958a1.318 1.318 0 0 1 0-1.865l6.073-6.073 4.93 4.852z"}),o.default.createElement("path",{fill:"#4F74B3",d:"M61 51.5v7.91c0 .727-.59 1.317-1.318 1.317H4.318C3.59 60.727 3 60.137 3 59.41V32.82c0-.7.278-1.37.772-1.865L31.068 3.66a1.318 1.318 0 0 1 1.864 0L50.31 21.035l-7.46 7.454L32 17.642h-.007L13.545 36.097h-.007v14.085H59.68c.73 0 1.32.59 1.32 1.318z"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("path",{fill:"#FACE32",d:"M62.663 57.33H1.336A1.333 1.333 0 0 1 .003 56V8.003c0-.736.597-1.333 1.333-1.333h61.327c.736 0 1.333.597 1.333 1.333v47.995c0 .736-.597 1.333-1.333 1.333z"}),o.default.createElement("path",{fill:"#FFF",d:"M.003 30.667H6.67v2.666H.002zm57.327 0h6.667v2.666H57.33zM20.125 6.67a27.963 27.963 0 0 0-10.64 8.685l-.4.54H0V13.23h7.753a30.36 30.36 0 0 1 6.993-6.56h5.38zM64 13.242v2.666h-9.08l-.4-.54a27.997 27.997 0 0 0-10.638-8.7h5.36c2.645 1.794 5.025 4 7.018 6.574H64zM20.038 57.33h-5.34a30.767 30.767 0 0 1-6.425-5.905H0V48.76h9.56l.4.506a28.028 28.028 0 0 0 10.078 8.065zm43.955-9.225v2.666h-7.746a30.34 30.34 0 0 1-6.993 6.56h-5.38a27.963 27.963 0 0 0 10.64-8.686l.4-.54h9.08z"}),o.default.createElement("path",{d:"M17.335 22.668h-6v18.665h4v-6.666h2a6 6 0 0 0 0-12zm2 6.332c0 .92-.747 1.666-1.666 1.666h-2.334v-4h2.333c.92 0 1.665.747 1.665 1.666V29zm34.663-6.332L48.665 34v7.332h-4V34l-5.332-11.332H43.6l3.05 6.832 3.013-6.832zM38.44 38l-.714-2.667-.36-1.333-3.033-11.332h-4.666L26.634 34l-.36 1.333L25.56 38l-.892 3.332h4l.82-3.333h5.026l.82 3.332h4L38.44 38zm-6.446-10.233L33.527 34h-3.06l1.527-6.233z",fill:"#55A344"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,height:e.size,viewBox:"0 0 64 64"},o.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#FACE32",d:"M52.268 5.564V14.5h-9.784V2.637L32 0 21.516 2.636V14.5h-9.784V5.565L1.592 8.65l2.644 46.703L32 64l27.764-8.647L62.408 8.65z"}),o.default.createElement("path",{fill:"#FFF",d:"M35.643 40.64c0-1.067-.33-1.934-.993-2.603-.66-.668-1.808-1.29-3.438-1.866-2.635-.893-4.587-1.948-5.856-3.16s-1.902-2.918-1.902-5.112c0-2.084.61-3.766 1.83-5.047 1.218-1.28 2.906-2.05 5.064-2.307v-4.008h2.942v4.044c2.145.318 3.797 1.203 4.955 2.656 1.16 1.453 1.738 3.423 1.738 5.91h-4.45c0-1.568-.338-2.79-1.012-3.667-.673-.877-1.623-1.316-2.85-1.316-1.274 0-2.217.328-2.83.984-.614.656-.92 1.56-.92 2.712 0 1.078.32 1.94.956 2.583s1.826 1.272 3.567 1.885c2.635.944 4.572 2.013 5.81 3.208 1.238 1.196 1.857 2.884 1.857 5.066 0 2.157-.635 3.858-1.904 5.102s-3.037 1.982-5.304 2.216v3.584H29.98v-3.567c-2.233-.233-4.05-1.02-5.454-2.362-1.403-1.343-2.105-3.374-2.105-6.095h4.47c0 1.777.42 3.03 1.26 3.76.84.73 1.908 1.094 3.208 1.094 1.385 0 2.445-.325 3.18-.975.738-.65 1.105-1.556 1.105-2.72z"}))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:"42px",height:"10px",viewBox:"0 0 42 10",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{id:"画板",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.default.createElement("path",{d:"M11.7366763,0.00511084483 L11.8001529,0.0213566695 C11.9957914,0.0905622647 11.9577602,0.317900575 11.849775,0.554558868 L7.60562273,10 L4.33760876,10 L2.059,4.929 L2.07678062,4.92182042 C2.04368078,4.83274647 2.02058934,4.73880643 2.00887281,4.6413668 L2,4.49275348 C2,3.81240268 2.55153329,3.26086939 3.23188409,3.26086939 C3.69078407,3.26086939 4.09107764,3.51179328 4.30304569,3.88392198 L4.30304569,3.88392198 L4.308,3.881 L5.9711953,7.58053597 L8.76050624,1.37129653 C9.06387875,0.645109333 9.59755995,0.207343204 10.3615499,0.0579981413 C10.8210798,0.00881839489 11.2802184,-0.0100426508 11.7366763,0.00511084483 Z",id:"形状结合",fill:"#3094FC"}),o.default.createElement("path",{d:"M12.977,2.821 C14.524,2.821 15.447,3.783 15.447,5.434 L15.447,5.434 L15.447,6.968 L12.08,6.968 L12.08,7.371 C12.08,8.19 12.405,8.554 12.977,8.554 C13.588,8.554 13.809,8.294 13.926,7.696 L13.926,7.696 L15.473,7.696 C15.343,9.165 14.433,10.023 12.951,10.023 C11.456,10.023 10.546,9.035 10.546,7.371 L10.546,7.371 L10.546,5.859 L11.7706401,3.07855243 C12.0661474,2.93170919 12.4102267,2.84573423 12.7974319,2.82560013 Z M33.309,2.821 C34.856,2.821 35.779,3.783 35.779,5.434 L35.779,5.434 L35.779,6.968 L32.412,6.968 L32.412,7.371 C32.412,8.19 32.737,8.554 33.309,8.554 C33.92,8.554 34.141,8.294 34.258,7.696 L34.258,7.696 L35.805,7.696 C35.675,9.165 34.765,10.023 33.283,10.023 C31.788,10.023 30.878,9.035 30.878,7.371 L30.878,7.371 L30.878,5.434 C30.878,3.783 31.788,2.821 33.309,2.821 Z M41.681,0.442 L41.681,9.88 L40.602,9.88 L40.524,9.243 C40.186,9.672 39.588,10.023 39.003,10.023 C37.69,10.023 36.806,8.983 36.806,7.332 L36.806,7.332 L36.806,5.499 C36.806,3.861 37.677,2.821 39.003,2.821 C39.432,2.821 39.861,3.003 40.173,3.276 L40.173,3.276 L40.173,0.442 L41.681,0.442 Z M19.555,2.834 C19.854,2.834 20.101,2.873 20.296,2.964 L20.296,2.964 L20.296,4.446 C20.049,4.342 19.776,4.277 19.451,4.277 C18.658,4.277 18.164,4.784 18.164,5.785 L18.164,5.785 L18.164,9.867 L16.63,9.867 L16.63,2.99 L17.67,2.99 L17.813,3.809 C18.177,3.172 18.762,2.834 19.555,2.834 Z M22.649,2.99 L22.649,9.867 L21.115,9.867 L21.115,2.99 L22.649,2.99 Z M27.329,0.26 L27.329,1.651 L26.9,1.651 C26.237,1.651 25.964,1.963 25.964,2.73 L25.964,2.73 L25.964,2.99 L27.199,2.99 L27.199,4.394 L25.964,4.394 L25.964,9.867 L24.443,9.867 L24.443,4.394 L23.468,4.394 L23.468,2.99 L24.443,2.99 L24.443,2.73 C24.443,1.313 25.158,0.26 26.9,0.26 L26.9,0.26 L27.329,0.26 Z M29.63,2.99 L29.63,9.867 L28.096,9.867 L28.096,2.99 L29.63,2.99 Z M39.25,4.29 C38.678,4.29 38.366,4.667 38.366,5.499 L38.366,5.499 L38.366,7.332 C38.366,8.164 38.691,8.567 39.25,8.567 C39.822,8.567 40.173,8.151 40.173,7.332 L40.173,7.332 L40.173,5.499 C40.173,4.719 39.835,4.29 39.25,4.29 Z M12.99,4.251 C12.405,4.251 12.08,4.615 12.08,5.421 L12.08,5.421 L12.08,5.876 L13.926,5.876 L13.926,5.421 C13.926,4.615 13.601,4.251 12.99,4.251 Z M33.322,4.251 C32.737,4.251 32.412,4.615 32.412,5.421 L32.412,5.421 L32.412,5.876 L34.258,5.876 L34.258,5.421 C34.258,4.615 33.933,4.251 33.322,4.251 Z M21.882,0.13 C22.389,0.13 22.779,0.507 22.779,1.027 C22.779,1.508 22.389,1.924 21.882,1.924 C21.362,1.924 20.998,1.534 20.998,1.027 C20.998,0.507 21.362,0.13 21.882,0.13 Z M28.863,0.13 C29.37,0.13 29.76,0.507 29.76,1.027 C29.76,1.508 29.37,1.924 28.863,1.924 C28.343,1.924 27.979,1.534 27.979,1.027 C27.979,0.507 28.343,0.13 28.863,0.13 Z",id:"形状结合",fill:"#005CCC"})))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:"55px",height:"14px",viewBox:"0 0 55 14",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{fill:"none",fillRule:"evenodd"},o.default.createElement("rect",{width:"55",height:"14",rx:"7",fill:"#FFF",fillRule:"nonzero"}),o.default.createElement("path",{d:"M17.737 2.005l.063.016c.196.07.158.297.05.534L13.606 12h-3.268L8.059 6.929l.018-.007a1.224 1.224 0 01-.068-.28L8 6.491a1.232 1.232 0 012.303-.608l.005-.003 1.663 3.7 2.79-6.21c.303-.726.837-1.164 1.6-1.313a9.85 9.85 0 011.376-.053z",fill:"#3094FC"}),o.default.createElement("path",{d:"M18.977 4.821c1.547 0 2.47.962 2.47 2.613v1.534H18.08v.403c0 .819.325 1.183.897 1.183.611 0 .832-.26.949-.858h1.547c-.13 1.469-1.04 2.327-2.522 2.327-1.495 0-2.405-.988-2.405-2.652V7.859l1.225-2.78c.295-.147.64-.233 1.026-.253zm20.332 0c1.547 0 2.47.962 2.47 2.613v1.534h-3.367v.403c0 .819.325 1.183.897 1.183.611 0 .832-.26.949-.858h1.547c-.13 1.469-1.04 2.327-2.522 2.327-1.495 0-2.405-.988-2.405-2.652V7.434c0-1.651.91-2.613 2.431-2.613zm8.372-2.379v9.438h-1.079l-.078-.637c-.338.429-.936.78-1.521.78-1.313 0-2.197-1.04-2.197-2.691V7.499c0-1.638.871-2.678 2.197-2.678.429 0 .858.182 1.17.455V2.442h1.508zM25.555 4.834c.299 0 .546.039.741.13v1.482a2.128 2.128 0 00-.845-.169c-.793 0-1.287.507-1.287 1.508v4.082H22.63V4.99h1.04l.143.819c.364-.637.949-.975 1.742-.975zm3.094.156v6.877h-1.534V4.99h1.534zm4.68-2.73v1.391H32.9c-.663 0-.936.312-.936 1.079v.26h1.235v1.404h-1.235v5.473h-1.521V6.394h-.975V4.99h.975v-.26c0-1.417.715-2.47 2.457-2.47h.429zm2.301 2.73v6.877h-1.534V4.99h1.534zm9.62 1.3c-.572 0-.884.377-.884 1.209v1.833c0 .832.325 1.235.884 1.235.572 0 .923-.416.923-1.235V7.499c0-.78-.338-1.209-.923-1.209zm-26.26-.039c-.585 0-.91.364-.91 1.17v.455h1.846v-.455c0-.806-.325-1.17-.936-1.17zm20.332 0c-.585 0-.91.364-.91 1.17v.455h1.846v-.455c0-.806-.325-1.17-.936-1.17zM27.882 2.13c.507 0 .897.377.897.897 0 .481-.39.897-.897.897-.52 0-.884-.39-.884-.897 0-.52.364-.897.884-.897zm6.981 0c.507 0 .897.377.897.897 0 .481-.39.897-.897.897-.52 0-.884-.39-.884-.897 0-.52.364-.897.884-.897z",fill:"#005CCC"})))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,viewBox:"0 0 162 80"},o.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.default.createElement("g",{transform:"translate(-176.000000, -84.000000)",fill:"#DCDEE3"},o.default.createElement("g",null,o.default.createElement("g",null,o.default.createElement("g",{transform:"translate(176.000000, 84.000000)"},o.default.createElement("path",{d:"M96.7467744,68.1341738 C90.2730902,68.4145478 90.9234603,65.0801004 94.7156185,59.9031956 C103.590669,48.1174763 120.39023,31.6655333 120.97056,20.0200009 C121.991141,4.79970063 106.563361,-0.146896958 90.7133407,0.00330337356 C79.6470428,0.153503705 68.2305455,3.2776706 60.456121,6.04135671 C33.610843,15.4338841 16.7412423,30.4939707 6.11519486,47.1662075 C-5.16122269,63.6982573 -1.44911008,79.4893189 22.3344254,80 C40.5748063,79.2690251 52.4215484,74.2623473 64.7685752,68.0040002 C63.6779545,68.3144142 46.0979495,73.1608782 31.8198237,73.1608782 C26.3867316,73.1608782 21.4339129,72.4599434 18.0419825,70.5373791 C16.7412423,69.8064042 15.2804109,68.7950553 14.9202059,65.9512623 C14.8401603,60.0433826 24.7357921,53.9352358 30.2699416,51.9726181 L30.2699416,41.9993161 C41.6854383,46.0046583 55.0730574,44.7630022 66.6296344,36.3217436 C67.0698849,37.262999 67.3600501,38.6548554 67.2099647,39.9666049 L69.2521269,39.9666049 C69.7614167,35.9612628 66.9197995,32.0961076 62.5573168,31.8057203 C63.7980229,32.897176 64.8186037,33.6982444 65.2498491,34.4292194 C65.2498491,34.5093262 64.9586834,34.7196067 64.9586834,34.7196067 C50.0501988,45.123483 35.7220445,40.3270857 34.3412587,39.9666049 L42.5559337,31.8858271 L40.3046525,26.0580542 C56.6739685,20.3804817 70.4217925,16.0146587 92.8145365,12.1595169 L87.8026842,8.00397437 L90.4231756,6.4018375 C103.940869,10.1868859 112.81692,12.9605853 112.316635,20.080081 C112.066493,21.3117238 111.615236,22.6635267 110.934849,24.1655301 C107.002611,31.8858271 95.2959487,44.7630022 90.5542502,50.1501874 C87.4414787,53.7249553 84.3797362,57.209603 82.1984948,60.5640771 C79.9472136,63.9085378 78.5664278,67.0427181 78.4863822,70.026698 C78.7765473,93.3878562 147.955918,59.1121405 161.344538,50.0100005 C141.552274,58.4512591 120.240145,66.6121438 96.7467744,68.1341738"})))))))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.createElement("svg",{className:e.className,width:e.size,viewBox:"0 0 10 10"},o.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.default.createElement("path",{d:"M2.06189125,8.1815612 L0.132884003,4.47985733 C0.012169871,4.26677489 -0.0277242581,4.01536305 0.0190481691,3.75632166 C0.121190896,3.19118998 0.639470659,2.81897692 1.17443029,2.92688056 C1.3279883,2.95776207 1.47294843,3.02788127 1.60587154,3.13487663 L3.34469385,5.16044099 L8.34177743,0.26408634 L8.35140704,0.255911822 C8.59696229,0.042829385 8.89737196,-0.0412773228 9.1970938,0.0190324547 C9.73222539,0.126936093 10.0843943,0.674447146 9.98242348,1.23957883 C9.95129918,1.41160702 9.87907705,1.57146426 9.77349518,1.70189324 L4.62336947,8.3964602 C4.25727205,8.86513257 3.68121458,9.08402799 3.11788197,8.97049302 C2.66976085,8.88021001 2.28474811,8.59264863 2.06189125,8.1815612 Z",fill:"#FF6600"})))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),o=s(n(93)),i=s(n(160));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t,n=e.value,s=e.size,l=e.href,u=e.target,d=e.title,p=e.hasBg,f=e.hasIcon,m=e.className,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["value","size","href","target","title","hasBg","hasIcon","className"]),g=(0,o.default)((c(t={"icbu-icon-gs-year":!0,"icbu-icon-gs-year-bg":p},"icbu-icon-gs-year-"+s,!0),c(t,"no-icon",!f),c(t,m,m),t)),v=l?"a":"span",y=l?{href:l,target:u,title:d}:{};return a.default.createElement(v,r({className:g},y,h),f&&a.default.createElement(i.default,{className:"gs-icon",type:"gold-supplier",size:s}),a.default.createElement("span",{className:"join-year"},a.default.createElement("span",{className:"value"},n),a.default.createElement("span",{className:"unit"},"YRS")))}l.defaultProps={value:1,size:"small",href:"//www.alibaba.com/help/gold_supplier.html",target:"_blank",title:"What is Gold Supplier?",hasBg:!0,hasIcon:!0},t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(0)),o=i(n(93));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t,n=e.type,i=e.size,c=e.className,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["type","size","className"]),u=String(n||"").toLowerCase(),d=(0,o.default)((s(t={"icbu-icon-flag":!0},"icbu-icon-flag-"+u,u),s(t,"icbu-icon-flag-"+i,i),s(t,c,c),t));return a.default.createElement("i",r({},l,{className:d}))}c.defaultProps={size:"medium"},t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(0)),o=i(n(93));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t,n=e.type,i=e.className,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["type","className"]),l=String(n||"").toLowerCase(),u=(0,o.default)((s(t={"icbu-certificate-icon":!0},"icbu-certificate-icon-"+l,l),s(t,i,i),t));return a.default.createElement("i",r({},c,{className:u}))}c.defaultProps={size:"medium"},t.default=c,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(120),s=n(53),c=n(342),l=n(56),u=n(8),d=n(97),p=n(2),f=n(34),m=Math.floor(1e3*Date.now()),h={code:"merchant_assistant_reception",title:l.ChatI18N.get("command.title.reply")||"AI智能回复",enableInGroupChat:!1,icon:!0,desc:l.ChatI18N.get("command.desc.reply")||"这是智能回复",grayName:"aiCrmTextOptimization",panelPosition:"on-send-box-top",selectPosition:"middle",beta:!0,role:i.CommandRole.seller,aiPaySceneCode:"chatReception",CommandItem:c.default};t.default=r(r({},h),{onCancel:function(e){var t=e.contentBefore,n=e.contentAfter,r=null;return["/","、"].includes(null===t||void 0===t?void 0:t.charAt(t.length-1))&&(r=(r=t.slice(0,-1)+n).replace(/[\r\n]/g,"<br>")),r},onConfirm:function(e){var t=e.contentBefore,n=e.contentAfter,r=e.generateText;return["/","、"].includes(null===t||void 0===t?void 0:t.charAt(t.length-1))?t.slice(0,-1)+r+n:t+r+n},query:function(e,t){var n,i,c,d,p,h,g,v,y,b,w,x,C,E,S,k,T,_,I,O,A,D,M,N=this,P=e.payload,L=(t.put,t.select);return o(this,(function(e){switch(e.label){case 0:return n=P.queryId,i=P.params,c=void 0===i?{}:i,d=P.extraInfo,m=P.time||m,[4,L((function(e){return e.globalEnv.globalGrayMap}))];case 1:return p=e.sent(),[4,L((function(e){return e.messageBox.summaryData}))];case 2:return h=e.sent(),g=(h||{}).contact,y=(v=void 0===g?{}:g).aliId,b=v.owner,w=void 0===b?{}:b,[4,L((function(e){return e.messageBox.sessionData}))];case 3:return x=e.sent(),C=v&&x[v.accountId]||[],E=C.slice(0,3).filter((function(e){return"send"===e.messageType})),[4,L((function(e){return e.chatExtend.chatExtend}))];case 4:return S=e.sent(),k=S[y]||{},T=k.aiReceptionLang,_="reception",I=r({contactAliId:null===v||void 0===v?void 0:v.aliId,buyerWantReply:E.length<3||!E.some((function(e){return e.contactRead})),conversationId:null===v||void 0===v?void 0:v.cid,requestType:(null===(D=null===c||void 0===c?void 0:c.questionDesc)||void 0===D?void 0:D.requestType)||u.AdjustMenuType.initial},null!==(M=null===c||void 0===c?void 0:c.questionDesc)&&void 0!==M?M:{}),f.EVA_TRIGGER_SCENE.includes(null===d||void 0===d?void 0:d.fromScene)&&Object.assign(I,{evaContext:{hintContent:null===d||void 0===d?void 0:d.content},requestType:f.EVA_REQUEST_TYPE}),!!p[s.GLOBAL_GRAY_KEYS.merchantReceptionPhase2Gray]&&(_="rcptPhase2",(O=c.productId)&&Object.assign(I,{productId:O})),T&&Object.assign(I,{contactLanguage:T}),A={queryId:n,multiple:"1",scene:"merchant_assistant_reception",action:_,protocol:"1",context:{questionDesc:I,multiTurnReqId:(null===w||void 0===w?void 0:w.aliId)+"_"+m},onMessageCallback:function(e){return a(N,void 0,void 0,(function(){return o(this,(function(t){return l.EventBus.publish("im-weblite-chat:generateCallback",e),[2]}))}))}},window&&(window.__multiTurnReqId__=(null===w||void 0===w?void 0:w.aliId)+"_"+m),l.IcbuIM.SSESDK.Client.getInstance().startQuery(A),[2]}}))},beforeSelectCommand:function(e){return a(this,void 0,void 0,(function(){var t,n,r,a,i,s,c;return o(this,(function(o){switch(o.label){case 0:return t=e.aliId,n=e.content,r=e.from,a=e.extraInfo,i=h.code,[4,d.checkAIPay(i)];case 1:return o.sent()?(s=u.getNewQueryId({commandKey:i,contactAliId:t}),p.default({ext:"startExecCommand",bizData:{code:i,queryId:s,from:r}}),c={queryId:s,commandName:i,params:{queryId:s},time:null===e||void 0===e?void 0:e.time,extraInfo:a},[2,{inputText:{contentBefore:n,contentAfter:""},queryData:c}]):[2,!1]}}))}))}})},function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),o=n(5),i=n.n(o),s=n(0),c=n.n(s),l=n(29),u=n(73),d=n(8);n(2);t.default=Object(l.connect)((function(e){return{sessionData:e.messageBox.sessionData,summaryData:e.messageBox.summaryData}}),(function(e){return{setInput:function(t){e({type:"messageBox/setInput",payload:t})},startGenerate:function(t){e({type:"messageBox/startGenerate",payload:t})}}}))((function(e){var t=e.command;function n(){return(n=i()(regeneratorRuntime.mark((function n(){var r,a,o,i,s,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.code,n.next=3,e.checkAIPay(r);case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:a=e.summaryData.contact,o=void 0===a?{}:a,i=Object(d.getNewQueryId)({commandKey:r,contactAliId:o.aliId}),s=e.divideContentUsingCommandPrefix("/",r),c=s.contentParts,e.setInput(c),e.startGenerate({queryId:i,commandName:r,time:Object(d.getHighPrecisionTimestamp)()}),e.clearMatchCommand();case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return c.a.createElement(u.a,a()({},e,{onCommandSelect:function(){return n.apply(this,arguments)}}))}))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:l,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"isWeb",(function(){return a})),n.d(t,"isNode",(function(){return o})),n.d(t,"isWeex",(function(){return i})),n.d(t,"isKraken",(function(){return s})),n.d(t,"isMiniApp",(function(){return c})),n.d(t,"isByteDanceMicroApp",(function(){return l})),n.d(t,"isBaiduSmartProgram",(function(){return u})),n.d(t,"isKuaiShouMiniProgram",(function(){return d})),n.d(t,"isWeChatMiniProgram",(function(){return p})),n.d(t,"isQuickApp",(function(){return f})),n.d(t,"isPHA",(function(){return m})),n.d(t,"isFRM",(function(){return h})),n.d(t,"isWindVane",(function(){return v}));var a="undefined"!==typeof window&&"onload"in window,o="undefined"!==typeof e&&!(!e.versions||!e.versions.node),i="undefined"!==typeof WXEnvironment&&"Web"!==WXEnvironment.platform,s="undefined"!==typeof __kraken__,c="undefined"!==typeof my&&null!==my&&"undefined"!==typeof my.alert,l="undefined"!==typeof tt&&null!==tt&&"undefined"!==typeof tt.showToast,u="undefined"!==typeof swan&&null!==swan&&"undefined"!==typeof swan.showToast,d="undefined"!==typeof ks&&null!==ks&&"undefined"!==typeof ks.showToast,p=!l&&"undefined"!==typeof wx&&null!==wx&&("undefined"!==typeof wx.request||"undefined"!==typeof wx.miniProgram),f="undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.callNative&&!i,m=a&&"object"===typeof pha,h=c&&a&&my.isFRM,g="object"===typeof navigator?navigator.userAgent||navigator.swuserAgent:"",v=/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(g)&&a&&"undefined"!==typeof WindVane&&"undefined"!==typeof WindVane.call;t.default={isWeb:a,isNode:o,isWeex:i,isKraken:s,isMiniApp:c,isByteDanceMicroApp:l,isBaiduSmartProgram:u,isKuaiShouMiniProgram:d,isWeChatMiniProgram:p,isQuickApp:f,isPHA:m,isWindVane:v,isFRM:h}}.call(this,n(121),n(106))},function(e,t,n){"use strict";var r=t,a=decodeURIComponent,o=encodeURIComponent;function i(e){return"string"===typeof e}function s(e){return i(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function l(e){return e}r.get=function(e,t){c(e),t="function"===typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(i(e)&&e.length>0)for(var r=t?a:l,o=e.split(/;\s/g),s=void 0,c=void 0,u=void 0,d=0,p=o.length;d<p;d++){if((u=o[d].match(/([^=]+)=/i))instanceof Array)try{s=a(u[1]),c=r(o[d].substring(u[1].length+1))}catch(e){}else s=a(o[d]),c="";s&&(n[s]=c)}return n}(document.cookie,!t.raw);return(t.converter||l)(n[e])},r.set=function(e,t,n){c(e);var r=(n=n||{}).expires,a=n.domain,i=n.path;n.raw||(t=o(String(t)));var l=e+"="+t,u=r;return"number"===typeof u&&(u=new Date).setDate(u.getDate()+r),u instanceof Date&&(l+="; expires="+u.toUTCString()),s(a)&&(l+="; domain="+a),s(i)&&(l+="; path="+i),n.secure&&(l+="; secure"),document.cookie=l,l},r.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(349)),o=l(n(353)),i=l(n(354)),s=l(n(356)),c=l(n(358));function l(e){return e&&e.__esModule?e:{default:e}}var u=[i.default,s.default,c.default],d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.middlewares=[].concat(u)}return e.prototype.use=function(e){return this.middlewares.splice(this.middlewares.length-u.length,0,e),this},e.prototype.request=function(e,t){var n=new a.default(this);n.generateRequest(e,t);var r=(0,o.default)(this.middlewares);return new Promise((function(e,t){return r(n).then((function(){var r=n.res.ok,a=n.res.createResponseEntity();if(r)e(a);else{var o=new Error(a.body||a.statusText);o.res=a,t(o)}}),(function(e){t(e)}))}))},e.prototype.get=function(e,t){return this.request(e,r({},t,{method:"GET"}))},e.prototype.post=function(e,t){return this.request(e,r({},t,{method:"POST"}))},e.prototype.jsonp=function(e,t){return this.request(e,r({},t,{method:"GET",type:"jsonp"}))},e}();d.version="1.2.3",t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(350)),a=o(n(352));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.req={},this.res=new a.default({ok:!1,status:404,statusText:"Not Found",headers:new Headers,body:"Not Found"}),this.request=t.request.bind(t)}return e.prototype.generateRequest=function(e,t){return this.req=new r.default(e,t),this},e.prototype.generateResponse=function(e){return this.res=new a.default(e),this},e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(351),s=(r=i)&&r.__esModule?r:{default:r},c=n(64);var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.headers,a=void 0===r?{}:r,o=n.method,i=void 0===o?"GET":o,l=n.data,u=void 0===l?null:l,d=n.dataType,p=void 0===d?"json":d,f=n.type,m=void 0===f?"normal":f,h=n.timeout,g=void 0===h?5e3:h,v=n.credentials,y=void 0===v?"include":v,b=n.cors,w=void 0===b||b,x=n.jsonp,C=void 0===x?"callback":x,E=n.jsonpCallback,S=n.cache,k=void 0===S?"default":S,T=n.fetchInit,_=void 0===T?{}:T,I=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["headers","method","data","dataType","type","timeout","credentials","cors","jsonp","jsonpCallback","cache","fetchInit"]);if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context="puck",this.originUrl="",this.cookies=new s.default,this.mode="same-origin",!t)throw new TypeError("Url must define");this.method=i.toUpperCase(),this.dataType=p,this.type=m,this.timeout=g,this.credentials=y,this.mode=w?"cors":"same-origin",this.jsonpCallback=E,this.jsonp=C,this.cache=k,this.url=this.originUrl=t,this.fetchInit=_,this.externals=I,c.isWeb?this._processData=!window.FormData||!(u instanceof FormData||u instanceof Blob||u instanceof ArrayBuffer):this._processData=!0,c.isWeb&&(a=new Headers(a||{}),this._processData&&!a.has("Content-Type")&&a.set("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),this.headers=a,this.data=u,"GET"===this.method&&(this.url=(0,c.addQueryString)(t,this.serializeData))}return e.prototype._serialize=function(e){switch("undefined"===typeof e?"undefined":a(e)){case"string":return e;case"function":return this._serialize(e());case"object":if(Array.isArray(e))throw new TypeError("Not support type of data: Array");return this._processData?"application/json"===this.headers.get("Content-Type").toLowerCase()?JSON.stringify(e):(0,c.serialize)(e):e;default:throw new TypeError("Not support type of data: "+("undefined"===typeof e?"undefined":a(e)))}},e.prototype._patchUrl=function(){if("GET"===this.method){var e=this.query,t=(0,c.parseQuery)(this._serializeData);for(var n in t)e[n]=t[n];this.query=e}},o(e,[{key:"data",get:function(){return this._data},set:function(e){this._data=e,this._serializeData=this._serialize(e),this._patchUrl()}},{key:"serializeData",get:function(){return this._serializeData}},{key:"query",get:function(){var e=this.url,t=-1!==e.indexOf("?")&&e.substr(e.indexOf("?")+1)||"";return(0,c.parseQuery)(t)},set:function(e){var t=(0,c.serialize)(e);this.url=this.url.split("?")[0]+"?"+t}}]),e}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.raw=!1}return e.prototype.encode=function(e){return this.raw?e:encodeURIComponent(e)},e.prototype.decode=function(e){return this.raw?e:decodeURIComponent(e)},e.prototype.set=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=""+(this.encode(e)+"="+this.encode(t))+(n.expires?"; expires="+function(e){var t=void 0;if(e instanceof Date)t=e;else{"number"===typeof e?e+="D":e=String(e);var n=e.charAt(e.length-1),r=parseInt(e,10);switch(t=new Date,n){case"Y":t.setFullYear(t.getFullYear()+r);break;case"M":t.setMonth(t.getMonth()+r);break;case"D":t.setDate(t.getDate()+r);break;case"h":t.setHours(t.getHours()+r);break;case"m":t.setMinutes(t.getMinutes()+r);break;case"s":t.setSeconds(t.getSeconds()+r);break;default:t=new Date(e)}}return t.toUTCString()}(n.expires):"")+(n.path?"; path="+n.path:"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"");return document.cookie=r,r},e.prototype.get=function(e){if(!e||"string"!==typeof e)return null;for(var t=document.cookie?document.cookie.split("; "):[],n=0;n<t.length;n++){var r=t[n].split("="),a=r[0],o=r[1];if(this.encode(e)===a)return this.decode(o)}return null},e.prototype.delete=function(e){this.set(e,"",{expires:new Date(0)})},e}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(t){var n=t.status,r=t.statusText,a=t.ok,o=t.headers,i=t.body;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.status=n,this.statusText=r,this.ok=a||n>=200&&n<300,this.headers=new Headers(o||{}),this.body=i}return e.prototype.createResponseEntity=function(){return{ok:this.ok,status:this.status,statusText:this.statusText,body:this.body}},e}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");for(var t=0;t<e.length;t++)if("function"!==typeof e[t])throw new TypeError("Middleware must be composed of functions!");return function(t,n){var r=-1;return function a(o){if(o<=r)return Promise.reject(new Error("next() called multiple times"));r=o;var i=e[o]||n;if(!i)return Promise.resolve();try{return Promise.resolve(i(t,(function(){return a(o+1)})))}catch(e){return Promise.reject(e)}}(0)}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,a,o,i=n(64),s=n(355),c=(r=s)&&r.__esModule?r:{default:r};t.default=(a=regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isWeex){e.next=4;break}return e.next=3,n();case 3:return e.abrupt("return",e.sent);case 4:return r=t.req.originUrl,e.next=7,(0,c.default)(t.req);case 7:return a=e.sent,o={ok:!1,status:404,statusText:"Not Found",headers:new Headers,body:r+" Not Found"},o=a||o,t.generateResponse(o),e.next=13,n();case 13:case"end":return e.stop()}}),e,this)})),o=function(){var e=a.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e,t){return o.apply(this,arguments)}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(64);var a,o,i=void 0;function s(e){return new Promise((function(t,n){i.fetch(e,(function(e){var n=e.status,r=e.ok,a=e.statusText,o=e.data,i=e.headers;t({status:n,ok:r,statusText:a,headers:i,body:o})}))}))}t.default=(a=regeneratorRuntime.mark((function e(t){var n,a,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i||__weex_define__("@alife/puck",(function(e){i=e("@weex-module/stream")})),n=t.headers,a=t.method,o=t.url,c=t.serializeData,l=t.dataType,u=t.type,d=t.timeout,p={url:o,method:a,headers:n,type:"normal"===u?l:"jsonp"},"GET"!==a&&(p.body=c),e.next=7,Promise.race([s(p),(0,r.delay)(d)]);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})),o=function(){var e=a.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return o.apply(this,arguments)}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,a,o,i=n(64),s=n(357),c=(r=s)&&r.__esModule?r:{default:r};t.default=(a=regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isWeb&&(!i.isWeb||"jsonp"===t.req.type)){e.next=4;break}return e.next=3,n();case 3:return e.abrupt("return",e.sent);case 4:return r={ok:!1,status:404,statusText:"Not Found",headers:new Headers,body:"Not Found"},e.next=7,(0,c.default)(t.req);case 7:return(a=e.sent)&&a.ok&&(r={ok:!0,status:200,statusText:"OK",headers:new Headers,body:a.body}),t.generateResponse(r),e.next=12,n();case 12:case"end":return e.stop()}}),e,this)})),o=function(){var e=a.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e,t){return o.apply(this,arguments)}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,a,o=n(64);function i(e){var t=document.getElementById(e);document.getElementsByTagName("head")[0].removeChild(t)}t.default=(r=regeneratorRuntime.mark((function e(t){var n,r,a,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.jsonp,r=t.jsonpCallback,a=t.timeout,r=r||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),(s=t.query)[n]=r,s._=(new Date).getTime(),t.query=s,c=t.url,l="jsonp_"+r,(u=document.createElement("script")).id=l,u.setAttribute("src",c),document.getElementsByTagName("head")[0].appendChild(u),d=new Promise((function(e){window[r]=function(t){e({ok:!0,body:t})}})),e.next=15,Promise.race([d,(0,o.delay)(a)]);case 15:return p=e.sent,i(l),e.abrupt("return",p);case 18:case"end":return e.stop()}}),e,this)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return a.apply(this,arguments)}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,a,o,i=n(64),s=n(359),c=(r=s)&&r.__esModule?r:{default:r};t.default=(a=regeneratorRuntime.mark((function e(t,n){var r,a,o,s,l,u,d,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isWeb&&(!i.isWeb||"normal"===t.req.type)){e.next=4;break}return e.next=3,n();case 3:return e.abrupt("return",e.sent);case 4:return r=t.req,a=r.originUrl,o=r.dataType,s={status:408,statusText:"Request Timeout",ok:!1,headers:new Headers,body:"Request to "+a+" time out."},e.next=8,(0,c.default)(t.req);case 8:if(!(l=e.sent)){e.next=31;break}if(u=l.status,d=l.statusText,p=l.ok,f=l.headers,m=null,!(u>=200&&u<300)){e.next=27;break}e.t0=o,e.next="json"===e.t0?16:"text"===e.t0?20:24;break;case 16:return e.next=18,l.json();case 18:return m=e.sent,e.abrupt("break",25);case 20:return e.next=22,l.text();case 22:return m=e.sent,e.abrupt("break",25);case 24:throw new TypeError("Not support data type: "+o);case 25:e.next=30;break;case 27:return e.next=29,l.text();case 29:m=e.sent;case 30:s={status:u,statusText:d,ok:p,headers:f,body:m};case 31:return t.generateResponse(s),e.next=34,n();case 34:case"end":return e.stop()}}),e,this)})),o=function(){var e=a.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e,t){return o.apply(this,arguments)}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(64);t.default=(r=regeneratorRuntime.mark((function e(t){var n,r,a,s,c,l,u,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers,r=t.method,a=t.url,s=t.serializeData,c=t.mode,l=t.credentials,u=t.cache,d=t.timeout,p=t.fetchInit,f=o({headers:n,method:r,mode:c,credentials:l,cache:u},p),"GET"!==r&&(f.body=s),e.next=5,Promise.race([fetch(a,f),(0,i.delay)(d)]);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return a.apply(this,arguments)}),e.exports=t.default},function(e,t,n){"use strict";var r,a;function o(e){var t=/^https?:\/\/(([^\:\/]+\.)?(alibaba)\.)/i,n=/^https?:\/\/(([^\:\/]+\.)?(alibaba|aliexpress|1688|okki)\.com|\d+\.\d+\.\d+\.\d+|totoroserver.alibaba.net)(\:\d+)?\//i,r=/^https?:\/\/(style|img)\.(alibaba|aliexpress)\.com(\:\d+)?\//i,a=(n.test(e)||!1===/^(\w+):\/\//i.test(e)&&n.test(location.href))&&!1===r.test(e),o=(t.test(e)||!1===/^(\w+):\/\//i.test(e)&&t.test(location.href))&&!1===r.test(e);return a||o}t.__esModule=!0,t.default=(r=regeneratorRuntime.mark((function e(t,n){var r,a,i,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.req.url,a=document.cookie,(i=a&&a.match(/(?:^|;)\s*xman_us_t\s*=\s*([^;]+)/))&&(i=i[1].match(/(?:^|&)\s*ctoken\s*=\s*([^&]+)/)),(s=window._intl_csrf_token_||i&&i[1]||document.getElementsByName("_csrf_token")[0]&&document.getElementsByName("_csrf_token")[0].value)&&o(r)&&!1===/(\?|&)ctoken=/.test(r)&&(r+=(/\?/.test(r)?"&":"?")+"ctoken="+s),i=a&&a.match(/(?:^|;)\s*_tb_token_\s*=\s*([^;]+)/),c=/^https?:\/\/(pre-)?((expressexport|waimao|newmarketing|marketing|crosstrade|onepage|message|ta|bao|cashier|biz|onetouch|onetouch-partner|jsb|fin|fs|lc|fin-partner|onetouch-payment|payment)\.alibaba|(8|m\.8)\.1688)|aliexpress|work.okki\.com\//.test(location.href),l=/^https?:\/\/(([^\:\/]+\.)?(alibaba)\.)/i.test(location.href),i&&(c||l)&&!1===/(\?|&)_tb_token_=/.test(r)&&(r+=(/\?/.test(r)?"&":"?")+"_tb_token_="+i[1]),t.req.url=r,e.next=13,n();case 13:case"end":return e.stop()}}),e,this)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e,t){return a.apply(this,arguments)}),e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVA_ACTION_NAME=t.EVA_TRIGGER_SCENE=t.EVA_REQUEST_TYPE=void 0,t.EVA_REQUEST_TYPE="eva_reminder",t.EVA_TRIGGER_SCENE=["unpaidBuyerOnlineRemind","notFollowRemind","onlyHiRemind"],t.EVA_ACTION_NAME=["evaFollow"]},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(120),s=n(364),c=n(56),l=n(8),u=n(97),d=n(2),p=Math.floor(1e3*Date.now()),f={code:"merchant_assistant",title:c.ChatI18N.get("command.title.polish")||"AI润色",enableInGroupChat:!1,icon:!0,desc:c.ChatI18N.get("command.desc.polish")||"修正语法与用词专业性问题",grayName:"aiCrmTextOptimization",panelPosition:"on-send-box-top",selectPosition:"before",role:i.CommandRole.seller,aiPaySceneCode:"chatPolish",CommandItem:s.default};t.default=r(r({},f),{query:function(e,t){var n,i,s,u,d,f,m,h,g,v,y,b,w,x,C,E,S=this,k=e.payload,T=(t.put,t.select);return o(this,(function(e){switch(e.label){case 0:return n=k.queryId,i=k.params,s=void 0===i?{}:i,p=k.time||p,[4,T((function(e){return e.messageBox.summaryData}))];case 1:return u=e.sent(),d=(u||{}).contact,f=d.aliId,m=d.owner,h=void 0===m?{}:m,[4,T((function(e){return e.chatExtend.chatExtend}))];case 2:return g=e.sent(),v=g[f]||{},y=v.aiReceptionLang,(b=s.polishText)&&0!==b.length?(w=r({contactAliId:null===d||void 0===d?void 0:d.aliId,toPolishInfo:b,requestType:(null===(C=null===s||void 0===s?void 0:s.questionDesc)||void 0===C?void 0:C.requestType)||l.AdjustMenuType.initial},null!==(E=null===s||void 0===s?void 0:s.questionDesc)&&void 0!==E?E:{}),y&&Object.assign(w,{contactLanguage:y}),x={queryId:n,multiple:"1",scene:"merchant_assistant",action:"polish",protocol:"1",context:{bucketName:"TestA",questionDesc:w,multiTurnReqId:(null===h||void 0===h?void 0:h.aliId)+"_"+p},onMessageCallback:function(e){return a(S,void 0,void 0,(function(){return o(this,(function(t){return c.EventBus.publish("im-weblite-chat:generateCallback",e),[2]}))}))}},window&&(window.__multiTurnReqId__=(null===h||void 0===h?void 0:h.aliId)+"_"+p),c.IcbuIM.SSESDK.Client.getInstance().startQuery(x),[2]):[2]}}))},onConfirm:function(e){var t=e.contentAfter;return(e.generateText+(t&&(null===t||void 0===t?void 0:t.replace(/<p>|<\/p>/g,"")))).replace(/[\r\n]/g,"<br>")},beforeSelectCommand:function(e){return a(this,void 0,void 0,(function(){var t,n,r,a,i,s,c,p,m,h,g,v;return o(this,(function(o){switch(o.label){case 0:return t=e.aliId,n=e.content,r=e.isSimpleEditor,a=e.from,i=f.code,[4,u.checkAIPay(i)];case 1:return o.sent()?(s=l.getNewQueryId({commandKey:i,contactAliId:t}),d.default({ext:"startExecCommand",bizData:{code:i,queryId:s,from:a}}),!r&&(c=window.tinyMCE.activeEditor,p=c.selection.getRng(),m=new Range,h=p.endContainer,g=window.tinyMCE.activeEditor.dom.select("p")[0],m.setStart(g,0),m.setEnd(h,p.endOffset),c.selection.select(c.getBody(),!0),c.selection.collapse(!1),window.tinyMCE.activeEditor.selection.setRng(m)),v={queryId:s,commandName:i,params:{queryId:s,polishText:n},time:null===e||void 0===e?void 0:e.time},[2,{inputText:{contentBefore:n,contentAfter:""},queryData:v}]):[2,!1]}}))}))}})},function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),o=n(5),i=n.n(o),s=n(0),c=n.n(s),l=n(29),u=n(3),d=n(73),p=n(8),f=n(2),m="/";t.default=Object(l.connect)((function(e){return{sessionData:e.messageBox.sessionData,summaryData:e.messageBox.summaryData}}),(function(e){return{setInput:function(t){e({type:"messageBox/setInput",payload:t})},startGenerate:function(t){e({type:"messageBox/startGenerate",payload:t})}}}))((function(e){var t=e.command,n=function(){var t=i()(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.languageInfo,r=!0,!((null===n||void 0===n?void 0:n.sendTranslateOpen)&&(null===n||void 0===n?void 0:n.sendTranslateTargetLang)&&"en"!==(null===n||void 0===n?void 0:n.sendTranslateTargetLang))){t.next=7;break}return t.next=6,new Promise((function(e){u.Dialog.confirm({closeMode:["esc","mask"],className:"command-confirm",content:c.a.createElement("span",{className:"command-confrim-content"},p.COPY.polishTargetLanguageTip),footerActions:["cancel","ok"],footerAlign:"center",locale:{ok:p.COPY.polishTargetLanguageConfirmN,cancel:p.COPY.polishTargetLanguageConfirmY},onOk:function(){e(!1)},onCancel:function(){e(!0)}})}));case 6:r=t.sent;case 7:return Object(f.default)({ext:"polishLanguageCheck",bizData:{targetLanguage:null===n||void 0===n?void 0:n.sendTranslateTargetLang,result:r}}),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(t){u.Message.show({iconType:!1,content:c.a.createElement("span",{className:"black-tip-content"},t),duration:2e3,align:"tl bl",className:"black-tip",overlayProps:{target:e.sendBoxNode}})},o=function(){try{var t=window.tinyMCE.activeEditor.selection.getContent();return t=t.replace(/<[^>]*>/g,"")}catch(t){var n;return null===(n=e.getContent())||void 0===n?void 0:n.replace(/<[^>]*>/g,"")}};function s(){return(s=i()(regeneratorRuntime.mark((function a(){var i,s,c,l,u,d,h,g,v,y,b,w,x,C,E,S;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=t.code,a.next=3,n();case 3:if(a.sent){a.next=6;break}return a.abrupt("return");case 6:return a.next=8,e.checkAIPay(i);case 8:if(a.sent){a.next=11;break}return a.abrupt("return");case 11:if(s=e.summaryData.contact,c=void 0===s?{}:s,l=e.isSimpleEditor(),u=!0,d=!0,h=e.textarea.getContent({format:"text"}),(g=h.trim())===m&&(u=!1),l?g.lastIndexOf(m)<=0&&(d=!1):(v=new Range,y=window.tinyMCE.activeEditor.dom.select("p")[0],v.setStart(y,0),v.setEnd(e.quickTemplateRange.endContainer,e.quickTemplateRange.endOffset-1),h=v.toString(),(g=h.trim())||(d=!1)),u){a.next=23;break}return r(p.COPY.commandPrefixPositionTip),Object(f.default)({ext:"commandInputNullTip",bizData:{code:i}}),a.abrupt("return");case 23:if(d){a.next=27;break}return r(p.COPY.commandPrefixPositionTip2),Object(f.default)({ext:"commandInputIndexTip",bizData:{code:i}}),a.abrupt("return");case 27:b=Object(p.getNewQueryId)({commandKey:i,contactAliId:c.aliId}),Object(f.default)({ext:"startExecCommand",bizData:{code:i,queryId:b}}),w=e.divideContentUsingCommandPrefix(m,i),(x=w.contentParts).contentBefore=x.contentBefore.replace(m,""),e.setInput(x),l||(C=new Range,E=e.quickTemplateRange.endContainer,S=window.tinyMCE.activeEditor.dom.select("p")[0],C.setStart(S,0),C.setEnd(E,e.quickTemplateRange.endOffset),e.textarea.focusEnd(),e.quickTemplateRange.deleteContents(),window.tinyMCE.activeEditor.selection.setRng(C)),e.startGenerate({queryId:b,commandName:i,params:{queryId:b,polishText:(null===x||void 0===x?void 0:x.contentBefore)||o()||""},time:Object(p.getHighPrecisionTimestamp)()}),e.clearMatchCommand();case 35:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return c.a.createElement(d.a,a()({},e,{onCommandSelect:function(){return s.apply(this,arguments)}}))}))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=h(s),l=h(n(20)),u=h(n(79)),d=h(n(37)),p=h(n(369)),f=h(n(371)),m=h(n(388));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}function v(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=f.default.get("title"),b=(o=a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));r.state={visible:n.visible||n.defaultVisible},~location.host.indexOf("alibaba.com")||console&&console.error&&console.error("只有在 alibaba.com 域下才可以使用.");var a=n.url,o=r.appGuid;return r.iframeUrl="{0}{1}appKey={2}{3}{4}".replace("{0}",a).replace("{1}",a.indexOf("?")>-1?"&":"?").replace("{2}",o).replace("{3}",location.search.indexOf("_debugMode_")>-1?"&_debugMode_=1":"").replace("{4}","&openPostMessage=1"),window.addEventListener("message",r.onMessage,!1),r}return g(t,e),t.prototype.componentWillReceiveProps=function(e){void 0!==e.visible&&this.setState({visible:e.visible})},t.prototype.onShow=function(){this.setState({visible:!0}),this.props.onShow()},t.prototype.onClose=function(e){this.setState({visible:!1}),this.props.onClose(e)},t.prototype.onPreCallback=function(e){var t=this,n=this.props.preCallback(e);n&&n.then?n.then((function(){t.onCallback(e)})).catch((function(){})):!1!==n&&this.onCallback(e)},t.prototype.onCallback=function(e){this.props.callback?this.props.callback(e):console.log("please set callback handler....."),this.onClose()},t.prototype.onMessage=function(e){var t=this.props||{},n=t.config,r=t.filters,a=e.origin,o=e.data,i=e.source,s=o.appKey,c=o.action;if(s===this.appGuid)switch(c){case"initialized":i.postMessage({appKey:this.appGuid,action:"initialParameter",name:"photobank-popup",message:{config:n,filters:r}},a);break;case"confirm":this.onPreCallback(o.message)}},t.prototype.renderPage=function(){return c.default.createElement("div",{className:"icbu-photobank-page"},c.default.createElement("iframe",{className:"icbu-photobank-page-iframe",style:{border:0},src:this.iframeUrl}))},t.prototype.renderDialog=function(){var e=this.props,t=e.title,n=e.style,r=e.children,a=n.width,o=n.height,i=void 0;return i=r?(0,s.cloneElement)(r,{onClick:this.onShow}):c.default.createElement(d.default,{onClick:this.onShow,type:"primary"},t),c.default.createElement("span",null,i,c.default.createElement(u.default,{visible:this.state.visible,title:t||y,onOk:this.onClose,onCancel:this.onClose,onClose:this.onClose,footer:!1,className:"icbu-photobank"},c.default.createElement("iframe",{style:{width:a,height:o,border:0},src:this.iframeUrl})))},t.prototype.render=function(){var e=this.props.component;return"dialog"===e?this.renderDialog():"page"===e?this.renderPage():c.default.createElement("div",null,"component配置的类型有误,只允许 dialog/page")},i(t,[{key:"appGuid",get:function(){return this._AppGuid_||(this._AppGuid_="appkey_"+(0,m.default)(8)),this._AppGuid_}}]),t}(s.PureComponent),a.propTypes={title:l.default.string,children:l.default.node,url:l.default.string,preCallback:l.default.func,onClose:l.default.func,onShow:l.default.func,style:l.default.object,params:l.default.object,callback:l.default.func,visible:l.default.any,defaultVisible:l.default.bool,component:l.default.oneOf(["page","dialog"])},a.defaultProps={title:y,children:void 0,url:"//photobank.alibaba.com/popup.htm",onClose:function(){},preCallback:function(){},onShow:function(){},callback:function(){},style:{width:"960px",height:"620px"},params:{},visible:void 0,defaultVisible:!1,component:"dialog"},v((r=o).prototype,"onShow",[p.default],Object.getOwnPropertyDescriptor(r.prototype,"onShow"),r.prototype),v(r.prototype,"onClose",[p.default],Object.getOwnPropertyDescriptor(r.prototype,"onClose"),r.prototype),v(r.prototype,"onPreCallback",[p.default],Object.getOwnPropertyDescriptor(r.prototype,"onPreCallback"),r.prototype),v(r.prototype,"onCallback",[p.default],Object.getOwnPropertyDescriptor(r.prototype,"onCallback"),r.prototype),v(r.prototype,"onMessage",[p.default],Object.getOwnPropertyDescriptor(r.prototype,"onMessage"),r.prototype),r);t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(){return u(arguments)}:u(t)};var r=n(161);function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=Object.defineProperty,i=Object.getPrototypeOf,s=void 0;function c(e){for(var t=(0,r.getOwnPropertyDescriptors)(e.prototype),n=(0,r.getOwnKeys)(t),a=0,i=n.length;a<i;a++){var s=n[a],c=t[s];"function"===typeof c.value&&"constructor"!==s&&o(e.prototype,s,l(e.prototype,s,c))}}function l(e,t,n){var a=n.value,c=n.configurable,l=n.enumerable;if("function"!==typeof a)throw new SyntaxError("@autobind can only be used on functions, not: "+a);var u=e.constructor;return{configurable:c,enumerable:l,get:function(){if(this===e)return a;if(this.constructor!==u&&i(this).constructor===u)return a;if(this.constructor!==u&&t in this.constructor.prototype)return function(e,t){if("undefined"===typeof WeakMap)throw new Error("Using @autobind on "+t.name+"() requires WeakMap support due to its use of super."+t.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20");s||(s=new WeakMap),!1===s.has(e)&&s.set(e,new WeakMap);var n=s.get(e);return!1===n.has(t)&&n.set(t,(0,r.bind)(t,e)),n.get(t)}(this,a);var n=(0,r.bind)(a,this);return o(this,t,{configurable:!0,writable:!0,enumerable:!1,value:n}),n},set:(0,r.createDefaultSetter)(t)}}function u(e){return 1===e.length?c.apply(void 0,a(e)):l.apply(void 0,a(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.decorate)(o,t)};var r=n(161),a=Object.defineProperty;function o(e,t,n){var o=n.configurable,i=n.enumerable,s=n.initializer,c=n.value;return{configurable:o,enumerable:i,get:function(){if(this!==e){var n=s?s.call(this):c;return a(this,t,{configurable:o,enumerable:i,writable:!0,value:n}),n}},set:(0,r.createDefaultSetter)(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(372),o=n(385),i=(r=o)&&r.__esModule?r:{default:r};t.default=(0,a.createI18n)({langpacks:{"en-us":{title:"Select from Photo Bank"},"zh-cn":{title:"从图片银行选取"},"zh-tw":{title:"從圖片銀行選取"}},currentLang:(0,i.default)()}),e.exports=t.default},function(e,t,n){e.exports=n(373)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assign=t.assignClear=t.createI18nWithMCMS=t.createI18n=t.registryHelper=void 0;var r=n(122),a=l(r),o=l(n(381)),i=l(n(382)),s=l(n(383)),c=l(n(384));function l(e){return e&&e.__esModule?e:{default:e}}(0,r.registryHelper)("help",o.default),(0,r.registryHelper)("datetime",i.default),(0,r.registryHelper)("icon",s.default),t.registryHelper=r.registryHelper,t.createI18n=r.createI18n,t.createI18nWithMCMS=c.default,t.assignClear=r.assignClear,t.assign=r.assign,t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assign=t.assignClear=t.registryHelper=t.createI18n=t.currentLang=void 0;var r,a=n(375),o=(r=a)&&r.__esModule?r:{default:r},i=n(162),s=n(123);var c=i.registry,l=(0,o.default)();try{window&&(window.PageOriginI18nComponents?window.PageOriginI18nComponents.push(l):window.PageOriginI18nComponents=[l])}catch(e){console.log("Error: 将 I18n 设置到 全局变量出错")}t.currentLang=s.currentLang,t.createI18n=o.default,t.registryHelper=c,t.assignClear=s.assignClear,t.assign=s.assign,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.langpack=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=l(n(0)),i=n(123),s=l(n(377)),c=l(n(378));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}var p=t.langpack=function(e){if(e.langpacks){var t={};Object.keys(e.langpacks).forEach((function(n){var r=(0,i.formatLang)(n);t[r]=e.langpacks[n]})),e.langpacks=t}return e.defaultLang&&(e.defaultLang=(0,i.formatLang)(e.defaultLang)),e.currentLang&&(e.currentLang=(0,i.formatLang)(e.currentLang)),(0,i.parse)(),new s.default(e)},f="";t.default=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n.helpers,l=void 0===s?{}:s,m=n.mcmsAppName,h=void 0===m?"":m,g=n.mcmsAppname,v=void 0===g?"":g,y=n.defaultMcmsAppname,b=void 0===y?"":y,w=n.abTestkey,x=void 0===w?"":w,C=n.ignoreGetEmpty,E=void 0!==C&&C,S=n.sampleRate,k=void 0===S?10:S,T=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["helpers","mcmsAppName","mcmsAppname","defaultMcmsAppname","abTestkey","ignoreGetEmpty","sampleRate"]),_=p(T);c.default.setready({defaultMcmsAppname:b,sampleRate:k,lang:_.options.currentLang}),b&&(f=b);var I=(t=e=function(e){function t(){var n,r,a,o,s,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var d=arguments.length,p=Array(d),f=0;f<d;f++)p[f]=arguments[f];return n=r=u(this,e.call.apply(e,[this].concat(p))),r.state={mount:(a=r.props,o=a.lang,s=a.namespace,c=a.children,i.mountCache[o]?i.mountCache[o][s?s+"."+c:c]:null)},r.helpers=l,r.Component=t,u(r,n)}return d(t,e),t.registryHelper=function(e,n){t.helpers[e]=n},t.get=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0],s=n[1],l=n[2],u="string"===typeof o?o:null,d=s||("object"===("undefined"===typeof o?"undefined":a(o))?o:null),p=l||("string"===typeof s?s:null),m=_.getNsKey(e),g=void 0;return u?(g=_.get(e,(0,i.formatLang)(u)),x&&_.has(e+"."+x)&&(g=_.get(e+"."+x,(0,i.formatLang)(u)))):(g=_.get(e),x&&_.has(e+"."+x)&&(g=_.get(e+"."+x))),u&&"pd_kv"===(0,i.formatLang)(u)?"##@@@"+m+"##"+(v||h||f)+"@@@##":("undefined"!==typeof g||E||c.default.pushQueue(m,"empty",v||h),"undefined"!==typeof g&&c.default.pushQueue(m,"normal",v||h),"undefined"!==typeof g&&d&&(g=g.replace(/{\s*([\w]+)\s*}/g,(function(e,t){return"undefined"!==typeof d[t]?d[t]:e}))),"undefined"===typeof g&&p&&(c.default.pushQueue(m,"empty",v||h),g=p),g)},t.prototype.render=function(){var e=this.props,t=e.lang,n=e.data,a=void 0===n?{}:n,s=e.className,l=e.defaultValue,u=e.children,d=e.nskey,p=e.name,m=void 0===p?d:p,g=e.namespace,y=this.state.mount,b=u||m,w=y&&y.length?y[y.length-1].replace(new RegExp("."+b+"$"),""):g,C=_.get(b,t);x&&_.has(b+"."+x)&&(C=_.get(b+"."+x,t));var E=_.getNsKey(b);return t&&"pd_kv"===(0,i.formatLang)(t)?o.default.createElement("span",{"data-i18n-appname":h,"data-i18n-ns":w,"data-i18n-key":b,className:s},"##@@@"+E+"##"+(v||h||f)+"@@@##"):("undefined"!==typeof C?(c.default.pushQueue(E,"normal",v||h),C=(0,i.format)(C,a,this,r({key:b},T)),x&&_.has(b+"."+x)&&(C=(0,i.format)(C,a,this,r({key:b+"."+x},T)))):l?(c.default.pushQueue(E,"empty",v||h),C=l):(c.default.pushQueue(E,"empty",v||h),C=T.defaultValue&&"[key]"===T.defaultValue?[w,b].filter((function(e){return!!e})).join("."):""),"string"!==typeof C?o.default.createElement("span",{"data-i18n-appname":h,"data-i18n-ns":w,"data-i18n-key":b,className:s},C):o.default.createElement("span",{"data-i18n-appname":h,"data-i18n-ns":w,"data-i18n-key":b,className:s,dangerouslySetInnerHTML:{__html:(0,i.shtml)(C)}}))},t}(o.default.Component),e.defaultProps={data:T.data,namespace:T.namespace,lang:_.options.currentLang},e.helpers=l,e.has=_.has.bind(_),e.toString=_.toString.bind(_),e.toJson=_.toJson.bind(_),t);return I.displayName="I18n",_.Component=I,I}},function(e,t,n){var r;(function(){var n,a={},o={currentLanguage:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0"},i={currentLanguage:o.currentLanguage,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat},s={bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],iec:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]};function c(e){this._value=e}function l(e,t,n,r){var a,o,i,s,c=e.toString().split("."),l=t-(r||0);return a=2===c.length?Math.min(Math.max(c[1].length,l),t):l,s=(n(e*(i=Math.pow(10,a)))/i).toFixed(a),r>t-a&&(o=new RegExp("\\.?0{1,"+(r-(t-a))+"}$"),s=s.replace(o,"")),s}function u(e,t,n){return 0===e._value&&null!==i.zeroFormat?i.zeroFormat:null===e._value&&null!==i.nullFormat?i.nullFormat:t.indexOf("$")>-1?function(e,t,n){var r,o,s=t.indexOf("$"),c=t.indexOf("("),l=t.indexOf("-"),u="";t.indexOf(" $")>-1?(u=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(u=" ",t=t.replace("$ ","")):t=t.replace("$","");o=d(e._value,t,n),s<=1?o.indexOf("(")>-1||o.indexOf("-")>-1?(r=1,(s<c||s<l)&&(r=0),(o=o.split("")).splice(r,0,a[i.currentLanguage].currency.symbol+u),o=o.join("")):o=a[i.currentLanguage].currency.symbol+u+o:o.indexOf(")")>-1?((o=o.split("")).splice(-1,0,u+a[i.currentLanguage].currency.symbol),o=o.join("")):o=o+u+a[i.currentLanguage].currency.symbol;return o}(e,t,n):t.indexOf("%")>-1?function(e,t,n){var r,a="",o=100*e._value;t.indexOf(" %")>-1?(a=" ",t=t.replace(" %","")):t=t.replace("%","");r=d(o,t,n),r.indexOf(")")>-1?((r=r.split("")).splice(-1,0,a+"%"),r=r.join("")):r=r+a+"%";return r}(e,t,n):t.indexOf(":")>-1?function(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return t+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)}(e):t.indexOf("b")>-1||t.indexOf("ib")>-1?function(e,t,n){var r,a,o,i,c=t.indexOf("ib")>-1?s.iec:s.bytes,l=e._value,u="";t.indexOf(" b")>-1||t.indexOf(" ib")>-1?(u=" ",t=t.replace(" ib","").replace(" b","")):t=t.replace("ib","").replace("b","");for(a=0;a<=c.length;a++)if(o=Math.pow(1024,a),i=Math.pow(1024,a+1),null===l||0===l||l>=o&&l<i){u+=c[a],o>0&&(l/=o);break}return r=d(l,t,n),r+u}(e,t,n):t.indexOf("o")>-1?function(e,t,n){var r,o="";t.indexOf(" o")>-1?(o=" ",t=t.replace(" o","")):t=t.replace("o","");return o+=a[i.currentLanguage].ordinal(e._value),r=d(e._value,t,n),r+o}(e,t,n):d(e._value,t,n)}function d(e,t,n){var r,o,s,c,u=!1,d=!1,p=!1,f="",m=!1,h=!1,g=!1,v=!1,y=!1,b="",w=!1;return null===e&&(e=0),r=Math.abs(e),t.indexOf("(")>-1?(u=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(d=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(m=t.indexOf("aK")>=0,h=t.indexOf("aM")>=0,g=t.indexOf("aB")>=0,v=t.indexOf("aT")>=0,y=m||h||g||v,t.indexOf(" a")>-1&&(f=" "),t=t.replace(new RegExp(f+"a[KMBT]?"),""),r>=Math.pow(10,12)&&!y||v?(f+=a[i.currentLanguage].abbreviations.trillion,e/=Math.pow(10,12)):r<Math.pow(10,12)&&r>=Math.pow(10,9)&&!y||g?(f+=a[i.currentLanguage].abbreviations.billion,e/=Math.pow(10,9)):r<Math.pow(10,9)&&r>=Math.pow(10,6)&&!y||h?(f+=a[i.currentLanguage].abbreviations.million,e/=Math.pow(10,6)):(r<Math.pow(10,6)&&r>=Math.pow(10,3)&&!y||m)&&(f+=a[i.currentLanguage].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("[.]")>-1&&(p=!0,t=t.replace("[.]",".")),o=e.toString().split(".")[0],s=t.split(".")[1],c=t.indexOf(","),s?(o=(b=s.indexOf("[")>-1?l(e,(s=(s=s.replace("]","")).split("["))[0].length+s[1].length,n,s[1].length):l(e,s.length,n)).split(".")[0],b=b.indexOf(".")>-1?a[i.currentLanguage].delimiters.decimal+b.split(".")[1]:"",p&&0===Number(b.slice(1))&&(b="")):o=l(e,null,n),o.indexOf("-")>-1&&(o=o.slice(1),w=!0),c>-1&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+a[i.currentLanguage].delimiters.thousands)),0===t.indexOf(".")&&(o=""),(u&&w?"(":"")+(!u&&w?"-":"")+(!w&&d?"+":"")+o+b+(f||"")+(u&&w?")":"")}function p(e,t){var n,r,o,c,l,u,d=t,p=!1;if(t.indexOf(":")>-1)u=function(e){var t=e.split(":"),n=0;3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1]));return Number(n)}(t);else if(t===i.zeroFormat||t===i.nullFormat)u=0;else{for("."!==a[i.currentLanguage].delimiters.decimal&&(t=t.replace(/\./g,"").replace(a[i.currentLanguage].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.thousand+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.million+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.billion+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),c=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.trillion+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),l=1;l<=s.bytes.length&&!(p=(t.indexOf(s.bytes[l])>-1||t.indexOf(s.iec[l])>-1)&&Math.pow(1024,l));l++);u=p||1,u*=d.match(n)?Math.pow(10,3):1,u*=d.match(r)?Math.pow(10,6):1,u*=d.match(o)?Math.pow(10,9):1,u*=d.match(c)?Math.pow(10,12):1,u*=t.indexOf("%")>-1?.01:1,u*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,u*=Number(t.replace(/[^0-9\.]+/g,"")),u=p?Math.ceil(u):u}return e._value=u,e._value}function f(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function m(){return Array.prototype.slice.call(arguments).reduce((function(e,t){var n=f(e),r=f(t);return n>r?n:r}),-1/0)}(n=function(e){return new c(e=n.isNumeral(e)?e.value():0===e||"undefined"===typeof e?0:null===e?null:Number(e)?Number(e):n.fn.unformat(e))}).version="1.5.6",n.isNumeral=function(e){return e instanceof c},n.language=function(e,t){if(!e)return i.currentLanguage;if((e=e.toLowerCase())&&!t){if(!a[e])throw new Error("Unknown language : "+e);i.currentLanguage=e}return!t&&a[e]||function(e,t){a[e]=t}(e,t),n},n.reset=function(){for(var e in o)i[e]=o[e]},n.languageData=function(e){if(!e)return a[i.currentLanguage];if(!a[e])throw new Error("Unknown language : "+e);return a[e]},n.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),n.zeroFormat=function(e){i.zeroFormat="string"===typeof e?e:null},n.nullFormat=function(e){i.nullFormat="string"===typeof e?e:null},n.defaultFormat=function(e){i.defaultFormat="string"===typeof e?e:"0.0"},n.validate=function(e,t){var r,a,o,i,s,c,l,u;if("string"!==typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{l=n.languageData(t)}catch(e){l=n.languageData(n.language())}return o=l.currency.symbol,s=l.abbreviations,r=l.delimiters.decimal,a="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(u=e.match(/^[^\d]+/))||(e=e.substr(1),u[0]===o))&&((null===(u=e.match(/[^\d]+$/))||(e=e.slice(0,-1),u[0]===s.thousand||u[0]===s.million||u[0]===s.billion||u[0]===s.trillion))&&(c=new RegExp(a+"{2}"),!e.match(/[^\d.,]/g)&&(!((i=e.split(r)).length>2)&&(i.length<2?!!i[0].match(/^\d+.*\d$/)&&!i[0].match(c):1===i[0].length?!!i[0].match(/^\d+$/)&&!i[0].match(c)&&!!i[1].match(/^\d+$/):!!i[0].match(/^\d+.*\d$/)&&!i[0].match(c)&&!!i[1].match(/^\d+$/)))))},Array.prototype.reduce||(Array.prototype.reduce=function(e){"use strict";if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),r=n.length>>>0,a=0;if(2===arguments.length)t=arguments[1];else{for(;a<r&&!(a in n);)a++;if(a>=r)throw new TypeError("Reduce of empty array with no initial value");t=n[a++]}for(;a<r;a++)a in n&&(t=e(t,n[a],a,n));return t}),n.fn=c.prototype={clone:function(){return n(this)},format:function(e,t){return u(this,e||i.defaultFormat,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:p(this,e||i.defaultFormat)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var t=m.call(null,this._value,e);return this._value=[this._value,e].reduce((function(e,n,r,a){return e+t*n}),0)/t,this},subtract:function(e){var t=m.call(null,this._value,e);return this._value=[e].reduce((function(e,n,r,a){return e-t*n}),this._value*t)/t,this},multiply:function(e){return this._value=[this._value,e].reduce((function(e,t,n,r){var a=m(e,t);return e*a*(t*a)/(a*a)}),1),this},divide:function(e){return this._value=[this._value,e].reduce((function(e,t,n,r){var a=m(e,t);return e*a/(t*a)})),this},difference:function(e){return Math.abs(n(this._value).subtract(e).value())}},e.exports&&(e.exports=n),"undefined"===typeof ender&&(this.numeral=n),void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}).call(this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(123),s=(r=i)&&r.__esModule?r:{default:r};var c=[];if((0,i.isBrowserSide)()){window.onbeforeunload=function(){try{if(50===parseInt(Math.random().toString().slice(2,4),10)){var e=(c=(0,i.distinct)(c)||[]).toString(),t=s.default.currentLang||"",n=window.__MEDUSA_TOOL_CONFIG__&&window.__MEDUSA_TOOL_CONFIG__.mcmsAppName||window.SCHD_COMS&&window.SCHD_COMS.aName||"";window.goldlog&&window.goldlog.record("/sc.trade-assurance.i18n-keys-count","OTHER","appname="+n+"&keys="+e+"&locale="+t,"POST")}}catch(e){console.warn(e)}}}var l={},u=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={namespace:"",defaultLang:"",langpacks:{},currentLang:s.default.currentLang,private:!1,transferMap:{zh:"zh_cn",en:"en_us"}},t.langpacks){var n={};Object.keys(t.langpacks).forEach((function(e){var r=(0,i.formatLang)(e);if(n[r]=t.langpacks[e],"object"===o(n[r])&&!t.private)if(l[r]=l[r]||{},t.namespace&&t.isMcmsNpm){a(l[r],n[r]);var s={},c=new RegExp(("^"+t.namespace+".").replace(/\./g,"\\."));Object.keys(n[r]).forEach((function(e){c.test(e)&&(s[e.replace(c,"")]=n[r][e])})),n[r]=s}else a(l[r],(0,i.transfer)(n[r],t.namespace))})),t.langpacks=n}t.defaultLang&&(t.defaultLang=(0,i.formatLang)(t.defaultLang)),t.currentLang&&(t.currentLang=(0,i.formatLang)(t.currentLang)),a(this.options,t)}return e.prototype.getNsKey=function(e){var t=this.options.namespace;return t?t+"."+e:e},e.prototype.get=function(){for(var e=this.options,t=e.currentLang,n=e.defaultLang,r=e.langpacks,a=void 0===r?{}:r,o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];var d=s[0],p=s[1],f=this.getNsKey(d),m="string"===typeof p?p:t;c.push(f);var h=[i.langpacks,l,a],g=function e(t){var n=t.split("_").slice(0,-1).join("_");return""!==n?[n].concat(e(n)):[]},v=[m].concat(g(m)),y=v[v.length-1];this.options.transferMap&&this.options.transferMap[y]&&v.push(this.options.transferMap[y]);var b=[v];n&&m!==n&&b.push([n].concat(g(n)));for(var w=void 0,x=0;x<b.length;x++){for(var C=b[x],E=0;E<h.length;E++){if(h[E]){for(var S=0;S<C.length&&(h[E][C[S]]&&(w=h[E][C[S]][2===E?d:f]),"undefined"===typeof w);S++);if("undefined"!==typeof w)break}if("undefined"!==typeof w)break}if("undefined"!==typeof w)break}return w},e.prototype.has=function(e,t){var n=this.get(e,t);return!("undefined"===typeof n||!n||"--"===n.toLowerCase())},e.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.currentLang,t=a(l[e]||{},i.langpacks[e]||{}),n={},r=this.options.namespace;return r?Object.keys(t).forEach((function(e){0===e.indexOf(r)&&(n[e]=t[e])})):a(n,t),JSON.stringify(n,"",4)},e.prototype.toJson=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.currentLang,t=this.options.namespace,n=a(l[e]||{},i.langpacks[e]||{});return(0,i.ns2json)(n,t)},e}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(379),s=(r=i)&&r.__esModule?r:{default:r};var c=null,l=!0,u={init:function(e){try{return c||(c=new MutationObserver((t=e,n=100,r=null,function(){r&&clearTimeout(r),r=setTimeout((function(){t&&t()}),n)}))),u}catch(e){}var t,n,r},start:function(){try{c.observe(document.body,{childList:!0,subtree:!0})}catch(e){}},stop:function(){}},d=function(e){var t=e.queueArrayNormal,n=e.queueArrayEmpty,r=e.firstScreen;try{f.mcmsAppnames.length&&f.mcmsAppnames.forEach((function(e){var i=[],s=[];Array.isArray(t)&&t.length&&t.forEach((function(t){(e===f.config.mcmsAppname&&!t.mcmsAppname||t.mcmsAppname===e)&&i.push(t.key)})),Array.isArray(n)&&n.length&&n.forEach((function(t){(e===f.config.mcmsAppname&&!t.mcmsAppname||t.mcmsAppname===e)&&s.push(t.key)})),(i.length||s.length)&&function(e){try{if(window.__server__)return;var t=[];for(var n in e)"object"===o(e[n])?t.push(n+"="+JSON.stringify(e[n])):t.push(n+"="+String(e[n]));var r=new Image;r.src="https://sc-assets-trade.cn-beijing.log.aliyuncs.com/logstores/intl_trace/track?APIVersion=0.6.0&__topic__=intl_trace-log&"+t.join("&"),r.onload=function(){r=null}}catch(e){}}({queueArrayNormal:i,queueArrayEmpty:s,config:a({},f.config,{mcmsAppname:e,firstScreen:r})})}))}catch(e){}},p=function(){if(f.queueArrayNormal.length||f.queueArrayEmpty.length){try{for(;f.queueArrayNormal.length>20||f.queueArrayEmpty.length>20;){var e=f.queueArrayNormal.splice(0,20),t=f.queueArrayEmpty.splice(0,20);d({queueArrayNormal:e,queueArrayEmpty:t,firstScreen:l})}d({queueArrayNormal:f.queueArrayNormal,queueArrayEmpty:f.queueArrayEmpty,firstScreen:l}),f.queueArrayNormal=[],f.queueArrayEmpty=[]}catch(e){}l=!1}},f={config:{},queueArrayNormal:[],queueArrayEmpty:[],totalArray:[],totalEmptyArray:[],mcmsAppnames:[],setready:function(e){try{var t=s.default.getMemberSeq();!Object.keys(f.config).length&&e.defaultMcmsAppname&&parseInt((""+t).slice(-2),10)<(e.sampleRate||10)&&(f.config={sceneName:window.location.origin+window.location.pathname||"",locale:s.default.getLocale().toLocaleLowerCase()||"",mcmsAppname:e.defaultMcmsAppname,serviceType:s.default.getServiceType()||""},"ifm"===s.default.getServiceType()&&(f.config.locale=s.default.getBuyerLocale()||""),e.defaultMcmsAppname&&!f.mcmsAppnames.includes(e.defaultMcmsAppname)&&f.mcmsAppnames.push(e.defaultMcmsAppname),e.lang&&(f.config.locale=e.lang),u.init(p),u.start()),e.mcmsAppname&&!f.mcmsAppnames.includes(e.mcmsAppname)&&f.mcmsAppnames.push(e.mcmsAppname)}catch(e){}},pushQueue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{if(n&&!f.mcmsAppnames.includes(n)&&f.mcmsAppnames.push(n),f.totalArray.includes(e)){if("normal"===t&&f.totalEmptyArray.length){var r=f.totalEmptyArray.filter((function(t){return t!==e}));r.length!==f.totalEmptyArray.length&&(f.totalEmptyArray=r,f.queueArrayNormal.push({key:e,mcmsAppname:n}))}}else f.totalArray.push(e),"normal"===t?f.queueArrayNormal.push({key:e,mcmsAppname:n}):(f.queueArrayEmpty.push({key:e,mcmsAppname:n}),f.totalEmptyArray.push(e))}catch(e){}}};t.default=f,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(380),i=(r=o)&&r.__esModule?r:{default:r};var s={},c=function(e){this.initAttrs(e)};c.prototype={attrs:{isLoggedIn:!1,isNewUser:!1,isFirstIn:!0,country:"",firstName:"",lastName:"",serviceType:"",memberSeq:"",locale:"",buyerLocale:"",buyerSite:"",buyerCurrency:""},get:function(e){return this._attrs[e]},set:function(e,t){this._attrs[e]=t},initAttrs:function(e){this._attrs=a(this.attrs,e||{})},setup:function(){var e={};if(i.default.get("xman_us_f"))for(var t=i.default.get("xman_us_f").split("&"),n=t.length;n--;){var r=t[n].split("=");e[r[0]]=r[1]}var a=i.default.get("xman_us_t"),o=i.default.get("xman_us_f"),s=/x_user=([^&"]+)/;a&&-1!==a.indexOf("sign=y")?this.set("isLoggedIn",!0):this.set("isLoggedIn",!1),o&&s.test(o)&&(o.match(s),(o=(o=RegExp.$1).split("|")).length>=5&&(this.set("country",o[0]),this.set("firstName",o[1].replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.set("lastName",o[2].replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.set("serviceType",o[3]),this.set("memberSeq",o[4])));var c=i.default.get("sc_g_cfg_f"),l={};if("string"==typeof c&&""!=c){for(var u=c.split("&"),d=u.length;d--;){var p=u[d].split("=");l[p[0]]=p[1]}this.set("buyerLocale",l.sc_b_locale),this.set("buyerSite",l.sc_b_site),this.set("buyerCurrency",l.sc_b_currency)}return""!==this.get("memberSeq")&&this.set("isNewUser",!0),""===i.default.get("ali_intl_firstIn")&&this.set("isFirstIn",!0),this.set("locale",e.x_locale||i.default.get("intl_locale")||"en_US"),this}},s=(new c).setup();var l=function(){var e=!0;return""!==s.get("memberSeq")&&(s.set("isNewUser",!1),e=!1),e};t.default={isLoggedIn:s.get("isLoggedIn"),isNewUser:l(),isFirstIn:s.get("isFirstIn"),country:s.get("country"),firstName:s.get("firstName"),lastName:s.get("lastName"),serviceType:s.get("serviceType"),memberSeq:s.get("memberSeq"),serverDomain:function(){var e;return s.setup(),e=s.get("serviceType"),["gs","cgs","twgs","hkgs","cnfm"].indexOf(e)>-1?"hz":"us"},getIsLoggedIn:function(){return s.setup(),s.get("isLoggedIn")},getIsNewUser:function(){return s.setup(),l()},getCountry:function(){return s.setup(),s.get("country")},getFirstName:function(){return s.setup(),s.get("firstName")},getLastName:function(){return s.setup(),s.get("lastName")},getServiceType:function(){return s.setup(),s.get("serviceType")},getMemberSeq:function(){return s.setup(),s.get("memberSeq")},getLocale:function(){return s.setup(),s.get("locale")},getIPData:function(e){s.getIPData(e)},getCNA:function(){return i.default.get("cna")},getCookie:function(e){return i.default.get(e)},getMemberId:function(){var e=i.default.get("ali_apache_track"),t="";return"string"===typeof e&&(e.match(/mid=([^&"]+)/),t=RegExp.$1),t},getBuyerLocale:function(){return s.setup(),s.get("buyerLocale")},getBuyerCurrency:function(){return s.setup(),s.get("buyerCurrency")},getBuyerSite:function(){return s.setup(),s.get("buyerSite")},getIsOversea:function(){var e=!0,t=i.default.get("xman_us_f");return t&&-1!==t.indexOf("x_l=1")&&(e=!1),t&&-1!==t.indexOf("x_l=0")&&(e=!0),e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},a=decodeURIComponent,o=encodeURIComponent;function i(e){return"string"===typeof e}function s(e){return i(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function l(e){return e}r.get=function(e,t){c(e),t="function"===typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(i(e)&&e.length>0)for(var r,o,s,c=t?a:l,u=e.split(/;\s/g),d=0,p=u.length;d<p;d++){if((s=u[d].match(/([^=]+)=/i))instanceof Array)try{r=a(s[1]),o=c(u[d].substring(s[1].length+1))}catch(e){}else r=a(u[d]),o="";r&&(n[r]=o)}return n}(document.cookie,!t.raw);return(t.converter||l)(n[e])},r.set=function(e,t,n){c(e);var r=(n=n||{}).expires,a=n.domain,i=n.path;n.raw||(t=o(String(t)));var l=e+"="+t,u=r;return"number"===typeof u&&(u=new Date).setDate(u.getDate()+r),u instanceof Date&&(l+="; expires="+u.toUTCString()),s(a)&&(l+="; domain="+a),s(i)&&(l+="; path="+i),n.secure&&(l+="; secure"),document.cookie=l,l},r.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)},t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=c(n(0)),i=n(3),s=c(n(122));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function e(t,n){if(!n.length)return t;var r=n.join(".")+"."+t;return s.default.has(r)?r:(n.splice(-1,1),e(t,n))};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments[4],d="i18n_visible_"+e,p=(c.namespace+"."+c.key).split(".");p.splice(-1,1);var f=u(e,p),m=s.default.has(f)?s.default:this.Component,h={style:{"max-width":"none"},align:"rb",needAdjust:!0};n&&n.split(/\s+/).forEach((function(e){var t=e.split(":"),n=a(t,2),r=n[0],o=n[1],i=r.match(/^style\.(.*)/);i?h.style[i[1]]=o:h[r]=o}));var g=o.default.createElement(i.Icon,{size:"small",type:"help","data-basekey":e}),v=this.props.onChange;if("function"===typeof v){var y=(this.props.state||{})[d];return o.default.createElement(i.Balloon,r({},h,{key:f,trigger:g,visible:y,onVisibleChange:function(e){v({state:l({},d,e)})}})," ",o.default.createElement(m,this.props,f))}return o.default.createElement(i.Balloon,r({},h,{key:f,trigger:g})," ",o.default.createElement(m,this.props,f))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function a(e,t){var n={year:e.getFullYear(),month:e.getMonth()+1,dayOfMonth:e.getDate(),dayOfWeek:e.getDay(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),offset:e.getTimezoneOffset()/60},r={year:/Y+/,month:/M+/,dayOfMonth:/D+/,dayOfWeek:/d+/,hours:/h+/,minutes:/m+/,seconds:/s+/,offset:/T+/},a=t;return Object.keys(r).forEach((function(e){a=a.replace(r[e],(function(t){return"offset"===e?n[e]:("0"+n[e]).slice(-t.length)}))})),a}t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD hh-mm-ss";return t instanceof Date?a(t,n):isNaN(t)?function(e){var t=e.match(/(\d{4})-(\d{1,2})-(\d{1,2})(?:[\sT]+(\d{2}):(\d{2}):(\d{2}))?/),n=r(t,7),o=(n[0],n[1]),i=n[2],s=n[3],c=n[4],l=void 0===c?0:c,u=n[5],d=void 0===u?0:u,p=n[6],f=new Date(o,i-1,s,l,d,void 0===p?0:p);return{format:a.bind(null,f)}}(t).format(n):a(new Date(t),n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(0),s=(r=i)&&r.__esModule?r:{default:r},c=n(3);t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments[4],i={style:{margin:"0px 4px"}};try{n&&n.split(/\s+/).forEach((function(e){var t=e.split(":"),n=o(t,2),r=n[0],a=n[1],s=r.match(/^style\.(.*)/);s?i.style[s[1]]=a:r&&(i[r]=a)}))}catch(e){console.warn("I18n-Helpers-Icon-Params-Error:%o",e)}return console.log(i),i.type=e,s.default.createElement(c.Icon,a({key:r.key},i))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.appName,i=e.defaultLocale,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["appName","defaultLocale"]),c=r({namespace:"",currentLang:o()},t),l=c.namespace,u=c.currentLang;return(0,a.createI18n)({defaultValue:"[key]",mcmsAppName:n,defaultLang:i,currentLang:u,isMcmsNpm:!0,namespace:l,langpacks:s})};var a=n(122);var o=function(){var e=document.cookie.match(/intl_locale=([\w_]+)/);return e||(e=document.cookie.match(/x_locale=([\w_]+)/))?e[1]:"en_US"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(386),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(){var e={},t=o.default.get("xman_us_f");if(t)for(var n=t.split("&"),r=n.length;r--;){var a=n[r].split("=");e[a[0]]=a[1]}return(e.x_locale||"en_US").toLocaleLowerCase().replace("_","-")},e.exports=t.default},function(e,t,n){e.exports=n(387)},function(e,t,n){"use strict";var r=t,a=decodeURIComponent,o=encodeURIComponent;function i(e){return"string"===typeof e}function s(e){return i(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function l(e){return e}r.get=function(e,t){c(e),t="function"===typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(i(e)&&e.length>0)for(var r=t?a:l,o=e.split(/;\s/g),s=void 0,c=void 0,u=void 0,d=0,p=o.length;d<p;d++){if((u=o[d].match(/([^=]+)=/i))instanceof Array)try{s=a(u[1]),c=r(o[d].substring(u[1].length+1))}catch(e){}else s=a(o[d]),c="";s&&(n[s]=c)}return n}(document.cookie,!t.raw);return(t.converter||l)(n[e])},r.set=function(e,t,n){c(e);var r=(n=n||{}).expires,a=n.domain,i=n.path;n.raw||(t=o(String(t)));var l=e+"="+t,u=r;return"number"===typeof u&&(u=new Date).setDate(u.getDate()+r),u instanceof Date&&(l+="; expires="+u.toUTCString()),s(a)&&(l+="; domain="+a),s(i)&&(l+="; path="+i),n.secure&&(l+="; secure"),document.cookie=l,l},r.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(e=e||6)<0&&(e=6),e>16&&(e=16),Math.random().toString(36).slice(2,e+2)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=g(c),u=g(n(20)),d=g(n(79)),p=g(n(37)),f=g(n(390)),m=g(n(392)),h=g(n(406));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}function y(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var b=m.default.get("title"),w={status:{value:"approved"},displayStatus:{value:"on"},isPublic:{value:!0},isPrivate:{value:!1}},x=(o=a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));r.state={visible:n.visible||n.defaultVisible},~location.host.indexOf("alibaba.com")||console&&console.error&&console.error("只有在 alibaba.com 域下才可以使用.");var a=n.url,o=n.domain,i=r.appGuid;return r.iframeUrl="{0}{1}appKey={2}{3}{4}".replace("{0}",a).replace("{1}",a.indexOf("?")>-1?"&":"?").replace("{2}",i).replace("{3}",n.domain?"&domain={0}".replace("{0}",o):"").replace("{4}",location.search.indexOf("_debugMode_")>-1?"&_debugMode_=1":""),window.addEventListener("message",r.onMessage,!1),r}return v(t,e),t.prototype.componentWillReceiveProps=function(e){void 0!==e.visible&&this.setState({visible:e.visible})},t.prototype.onPreShow=function(){var e=this,t=this.props.onPreShow();t&&t.then?t.then((function(){e.onShow()})).catch((function(){})):!1!==t&&this.onShow()},t.prototype.onShow=function(){this.setState({visible:!0}),this.props.onShow()},t.prototype.onClose=function(e){this.setState({visible:!1}),this.props.onClose(e)},t.prototype.onPreCallback=function(e){var t=this,n=this.props.preCallback(e);n&&n.then?n.then((function(){t.onCallback(e)})).catch((function(){})):!1!==n&&this.onCallback(e)},t.prototype.onCallback=function(e){if(this.props.callback){var t=e.products,n=e.value;this.props.callback(n,t)}else console.log("please set callback handler.....");this.setState({visible:!1}),this.onClose()},t.prototype.onMessage=function(e){var t=this.props||{},n=t.config,r=t.filters,a=void 0===r?{}:r,o=e.origin,s=e.data,c=e.source,l=s.appKey,u=s.action;if(l===this.appGuid)switch(u){case"initialized":c.postMessage({appKey:this.appGuid,action:"initialParameter",name:"product-popup",message:{config:n,filters:i({},w,a)}},o);break;case"confirm":this.onPreCallback(s.message)}},t.prototype.renderPage=function(){return l.default.createElement("div",{className:"icbu-productbank"},l.default.createElement("iframe",{className:"icbu-productbank-page-iframe",style:{border:0},src:this.iframeUrl}))},t.prototype.renderDialog=function(){var e=this.props,t=e.title,n=e.style,r=e.children,a=e.className,o=void 0===a?"":a,i=n.width,s=n.height,u=void 0;return u=r?(0,c.cloneElement)(r,{onClick:this.onPreShow}):l.default.createElement(p.default,{onClick:this.onPreShow,type:"primary"},t),l.default.createElement("span",{className:o},u,l.default.createElement(d.default,{visible:this.state.visible,title:t,onOk:this.onClose,onCancel:this.onClose,onClose:this.onClose,footer:!1,className:"icbu-product-select"},l.default.createElement("iframe",{style:{width:i,height:s,border:0},src:this.iframeUrl})))},t.prototype.render=function(){var e=this.props.component;return"dialog"===e?this.renderDialog():"page"===e?this.renderPage():l.default.createElement("div",null,"component配置的类型有误,只允许 dialog/page")},s(t,[{key:"appGuid",get:function(){return this._AppGuid_||(this._AppGuid_="appkey_"+(0,h.default)(8)),this._AppGuid_}}]),t}(c.PureComponent),a.propTypes={title:u.default.string,children:u.default.node,url:u.default.string,onClose:u.default.func,onShow:u.default.func,onPreShow:u.default.func,style:u.default.object,domain:u.default.string,params:u.default.object,preCallback:u.default.func,callback:u.default.func,visible:u.default.any,defaultVisible:u.default.bool,isWidescreen:u.default.bool,className:u.default.string,component:u.default.oneOf(["page","dialog"])},a.defaultProps={title:b,children:void 0,url:"//hz-productposting.alibaba.com/product/products_popup.htm",onClose:function(){},onPreShow:function(){},onShow:function(){},preCallback:function(){},callback:function(){},style:{width:"960px",height:"534px"},params:{},visible:void 0,defaultVisible:!1,isWidescreen:!0,className:"",component:"dialog"},y((r=o).prototype,"onPreShow",[f.default],Object.getOwnPropertyDescriptor(r.prototype,"onPreShow"),r.prototype),y(r.prototype,"onShow",[f.default],Object.getOwnPropertyDescriptor(r.prototype,"onShow"),r.prototype),y(r.prototype,"onClose",[f.default],Object.getOwnPropertyDescriptor(r.prototype,"onClose"),r.prototype),y(r.prototype,"onPreCallback",[f.default],Object.getOwnPropertyDescriptor(r.prototype,"onPreCallback"),r.prototype),y(r.prototype,"onCallback",[f.default],Object.getOwnPropertyDescriptor(r.prototype,"onCallback"),r.prototype),y(r.prototype,"onMessage",[f.default],Object.getOwnPropertyDescriptor(r.prototype,"onMessage"),r.prototype),r);t.default=x,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(){return u(arguments)}:u(t)};var r=n(163);function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=Object.defineProperty,i=Object.getPrototypeOf,s=void 0;function c(e){for(var t=(0,r.getOwnPropertyDescriptors)(e.prototype),n=(0,r.getOwnKeys)(t),a=0,i=n.length;a<i;a++){var s=n[a],c=t[s];"function"===typeof c.value&&"constructor"!==s&&o(e.prototype,s,l(e.prototype,s,c))}}function l(e,t,n){var a=n.value,c=n.configurable,l=n.enumerable;if("function"!==typeof a)throw new SyntaxError("@autobind can only be used on functions, not: "+a);var u=e.constructor;return{configurable:c,enumerable:l,get:function(){if(this===e)return a;if(this.constructor!==u&&i(this).constructor===u)return a;if(this.constructor!==u&&t in this.constructor.prototype)return function(e,t){if("undefined"===typeof WeakMap)throw new Error("Using @autobind on "+t.name+"() requires WeakMap support due to its use of super."+t.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20");s||(s=new WeakMap),!1===s.has(e)&&s.set(e,new WeakMap);var n=s.get(e);return!1===n.has(t)&&n.set(t,(0,r.bind)(t,e)),n.get(t)}(this,a);var n=(0,r.bind)(a,this);return o(this,t,{configurable:!0,writable:!0,enumerable:!1,value:n}),n},set:(0,r.createDefaultSetter)(t)}}function u(e){return 1===e.length?c.apply(void 0,a(e)):l.apply(void 0,a(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.decorate)(o,t)};var r=n(163),a=Object.defineProperty;function o(e,t,n){var o=n.configurable,i=n.enumerable,s=n.initializer,c=n.value;return{configurable:o,enumerable:i,get:function(){if(this!==e){var n=s?s.call(this):c;return a(this,t,{configurable:o,enumerable:i,writable:!0,value:n}),n}},set:(0,r.createDefaultSetter)(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(393);t.default=(0,r.createI18n)({langpacks:{"en-us":{title:"Select Product(s)"},"zh-cn":{title:"选择产品"},"zh-tw":{title:"選擇產品"}}}),e.exports=t.default},function(e,t,n){e.exports=n(394)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assign=t.assignClear=t.createI18nWithMCMS=t.createI18n=t.registryHelper=void 0;var r=n(124),a=l(r),o=l(n(402)),i=l(n(403)),s=l(n(404)),c=l(n(405));function l(e){return e&&e.__esModule?e:{default:e}}(0,r.registryHelper)("help",o.default),(0,r.registryHelper)("datetime",i.default),(0,r.registryHelper)("icon",s.default),t.registryHelper=r.registryHelper,t.createI18n=r.createI18n,t.createI18nWithMCMS=c.default,t.assignClear=r.assignClear,t.assign=r.assign,t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assign=t.assignClear=t.registryHelper=t.createI18n=t.currentLang=void 0;var r,a=n(396),o=(r=a)&&r.__esModule?r:{default:r},i=n(164),s=n(125);var c=i.registry,l=(0,o.default)();try{window&&(window.PageOriginI18nComponents?window.PageOriginI18nComponents.push(l):window.PageOriginI18nComponents=[l])}catch(e){console.log("Error: 将 I18n 设置到 全局变量出错")}t.currentLang=s.currentLang,t.createI18n=o.default,t.registryHelper=c,t.assignClear=s.assignClear,t.assign=s.assign,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.langpack=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=l(n(0)),i=n(125),s=l(n(398)),c=l(n(399));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}var p=t.langpack=function(e){if(e.langpacks){var t={};Object.keys(e.langpacks).forEach((function(n){var r=(0,i.formatLang)(n);t[r]=e.langpacks[n]})),e.langpacks=t}return e.defaultLang&&(e.defaultLang=(0,i.formatLang)(e.defaultLang)),e.currentLang&&(e.currentLang=(0,i.formatLang)(e.currentLang)),(0,i.parse)(),new s.default(e)},f="";t.default=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n.helpers,l=void 0===s?{}:s,m=n.mcmsAppName,h=void 0===m?"":m,g=n.mcmsAppname,v=void 0===g?"":g,y=n.defaultMcmsAppname,b=void 0===y?"":y,w=n.abTestkey,x=void 0===w?"":w,C=n.ignoreGetEmpty,E=void 0!==C&&C,S=n.sampleRate,k=void 0===S?10:S,T=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["helpers","mcmsAppName","mcmsAppname","defaultMcmsAppname","abTestkey","ignoreGetEmpty","sampleRate"]),_=p(T);c.default.setready({defaultMcmsAppname:b,sampleRate:k,lang:_.options.currentLang}),b&&(f=b);var I=(t=e=function(e){function t(){var n,r,a,o,s,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var d=arguments.length,p=Array(d),f=0;f<d;f++)p[f]=arguments[f];return n=r=u(this,e.call.apply(e,[this].concat(p))),r.state={mount:(a=r.props,o=a.lang,s=a.namespace,c=a.children,i.mountCache[o]?i.mountCache[o][s?s+"."+c:c]:null)},r.helpers=l,r.Component=t,u(r,n)}return d(t,e),t.registryHelper=function(e,n){t.helpers[e]=n},t.get=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0],s=n[1],l=n[2],u="string"===typeof o?o:null,d=s||("object"===("undefined"===typeof o?"undefined":a(o))?o:null),p=l||("string"===typeof s?s:null),m=_.getNsKey(e),g=void 0;return u?(g=_.get(e,(0,i.formatLang)(u)),x&&_.has(e+"."+x)&&(g=_.get(e+"."+x,(0,i.formatLang)(u)))):(g=_.get(e),x&&_.has(e+"."+x)&&(g=_.get(e+"."+x))),u&&"pd_kv"===(0,i.formatLang)(u)?"##@@@"+m+"##"+(v||h||f)+"@@@##":("undefined"!==typeof g||E||c.default.pushQueue(m,"empty",v||h),"undefined"!==typeof g&&c.default.pushQueue(m,"normal",v||h),"undefined"!==typeof g&&d&&(g=g.replace(/{\s*([\w]+)\s*}/g,(function(e,t){return"undefined"!==typeof d[t]?d[t]:e}))),"undefined"===typeof g&&p&&(c.default.pushQueue(m,"empty",v||h),g=p),g)},t.prototype.render=function(){var e=this.props,t=e.lang,n=e.data,a=void 0===n?{}:n,s=e.className,l=e.defaultValue,u=e.children,d=e.nskey,p=e.name,m=void 0===p?d:p,g=e.namespace,y=this.state.mount,b=u||m,w=y&&y.length?y[y.length-1].replace(new RegExp("."+b+"$"),""):g,C=_.get(b,t);x&&_.has(b+"."+x)&&(C=_.get(b+"."+x,t));var E=_.getNsKey(b);return t&&"pd_kv"===(0,i.formatLang)(t)?o.default.createElement("span",{"data-i18n-appname":h,"data-i18n-ns":w,"data-i18n-key":b,className:s},"##@@@"+E+"##"+(v||h||f)+"@@@##"):("undefined"!==typeof C?(c.default.pushQueue(E,"normal",v||h),C=(0,i.format)(C,a,this,r({key:b},T)),x&&_.has(b+"."+x)&&(C=(0,i.format)(C,a,this,r({key:b+"."+x},T)))):l?(c.default.pushQueue(E,"empty",v||h),C=l):(c.default.pushQueue(E,"empty",v||h),C=T.defaultValue&&"[key]"===T.defaultValue?[w,b].filter((function(e){return!!e})).join("."):""),"string"!==typeof C?o.default.createElement("span",{"data-i18n-appname":h,"data-i18n-ns":w,"data-i18n-key":b,className:s},C):o.default.createElement("span",{"data-i18n-appname":h,"data-i18n-ns":w,"data-i18n-key":b,className:s,dangerouslySetInnerHTML:{__html:(0,i.shtml)(C)}}))},t}(o.default.Component),e.defaultProps={data:T.data,namespace:T.namespace,lang:_.options.currentLang},e.helpers=l,e.has=_.has.bind(_),e.toString=_.toString.bind(_),e.toJson=_.toJson.bind(_),t);return I.displayName="I18n",_.Component=I,I}},function(e,t,n){var r;(function(){var n,a={},o={currentLanguage:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0"},i={currentLanguage:o.currentLanguage,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat},s={bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],iec:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]};function c(e){this._value=e}function l(e,t,n,r){var a,o,i,s,c=e.toString().split("."),l=t-(r||0);return a=2===c.length?Math.min(Math.max(c[1].length,l),t):l,s=(n(e*(i=Math.pow(10,a)))/i).toFixed(a),r>t-a&&(o=new RegExp("\\.?0{1,"+(r-(t-a))+"}$"),s=s.replace(o,"")),s}function u(e,t,n){return 0===e._value&&null!==i.zeroFormat?i.zeroFormat:null===e._value&&null!==i.nullFormat?i.nullFormat:t.indexOf("$")>-1?function(e,t,n){var r,o,s=t.indexOf("$"),c=t.indexOf("("),l=t.indexOf("-"),u="";t.indexOf(" $")>-1?(u=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(u=" ",t=t.replace("$ ","")):t=t.replace("$","");o=d(e._value,t,n),s<=1?o.indexOf("(")>-1||o.indexOf("-")>-1?(r=1,(s<c||s<l)&&(r=0),(o=o.split("")).splice(r,0,a[i.currentLanguage].currency.symbol+u),o=o.join("")):o=a[i.currentLanguage].currency.symbol+u+o:o.indexOf(")")>-1?((o=o.split("")).splice(-1,0,u+a[i.currentLanguage].currency.symbol),o=o.join("")):o=o+u+a[i.currentLanguage].currency.symbol;return o}(e,t,n):t.indexOf("%")>-1?function(e,t,n){var r,a="",o=100*e._value;t.indexOf(" %")>-1?(a=" ",t=t.replace(" %","")):t=t.replace("%","");r=d(o,t,n),r.indexOf(")")>-1?((r=r.split("")).splice(-1,0,a+"%"),r=r.join("")):r=r+a+"%";return r}(e,t,n):t.indexOf(":")>-1?function(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return t+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)}(e):t.indexOf("b")>-1||t.indexOf("ib")>-1?function(e,t,n){var r,a,o,i,c=t.indexOf("ib")>-1?s.iec:s.bytes,l=e._value,u="";t.indexOf(" b")>-1||t.indexOf(" ib")>-1?(u=" ",t=t.replace(" ib","").replace(" b","")):t=t.replace("ib","").replace("b","");for(a=0;a<=c.length;a++)if(o=Math.pow(1024,a),i=Math.pow(1024,a+1),null===l||0===l||l>=o&&l<i){u+=c[a],o>0&&(l/=o);break}return r=d(l,t,n),r+u}(e,t,n):t.indexOf("o")>-1?function(e,t,n){var r,o="";t.indexOf(" o")>-1?(o=" ",t=t.replace(" o","")):t=t.replace("o","");return o+=a[i.currentLanguage].ordinal(e._value),r=d(e._value,t,n),r+o}(e,t,n):d(e._value,t,n)}function d(e,t,n){var r,o,s,c,u=!1,d=!1,p=!1,f="",m=!1,h=!1,g=!1,v=!1,y=!1,b="",w=!1;return null===e&&(e=0),r=Math.abs(e),t.indexOf("(")>-1?(u=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(d=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(m=t.indexOf("aK")>=0,h=t.indexOf("aM")>=0,g=t.indexOf("aB")>=0,v=t.indexOf("aT")>=0,y=m||h||g||v,t.indexOf(" a")>-1&&(f=" "),t=t.replace(new RegExp(f+"a[KMBT]?"),""),r>=Math.pow(10,12)&&!y||v?(f+=a[i.currentLanguage].abbreviations.trillion,e/=Math.pow(10,12)):r<Math.pow(10,12)&&r>=Math.pow(10,9)&&!y||g?(f+=a[i.currentLanguage].abbreviations.billion,e/=Math.pow(10,9)):r<Math.pow(10,9)&&r>=Math.pow(10,6)&&!y||h?(f+=a[i.currentLanguage].abbreviations.million,e/=Math.pow(10,6)):(r<Math.pow(10,6)&&r>=Math.pow(10,3)&&!y||m)&&(f+=a[i.currentLanguage].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("[.]")>-1&&(p=!0,t=t.replace("[.]",".")),o=e.toString().split(".")[0],s=t.split(".")[1],c=t.indexOf(","),s?(o=(b=s.indexOf("[")>-1?l(e,(s=(s=s.replace("]","")).split("["))[0].length+s[1].length,n,s[1].length):l(e,s.length,n)).split(".")[0],b=b.indexOf(".")>-1?a[i.currentLanguage].delimiters.decimal+b.split(".")[1]:"",p&&0===Number(b.slice(1))&&(b="")):o=l(e,null,n),o.indexOf("-")>-1&&(o=o.slice(1),w=!0),c>-1&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+a[i.currentLanguage].delimiters.thousands)),0===t.indexOf(".")&&(o=""),(u&&w?"(":"")+(!u&&w?"-":"")+(!w&&d?"+":"")+o+b+(f||"")+(u&&w?")":"")}function p(e,t){var n,r,o,c,l,u,d=t,p=!1;if(t.indexOf(":")>-1)u=function(e){var t=e.split(":"),n=0;3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1]));return Number(n)}(t);else if(t===i.zeroFormat||t===i.nullFormat)u=0;else{for("."!==a[i.currentLanguage].delimiters.decimal&&(t=t.replace(/\./g,"").replace(a[i.currentLanguage].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.thousand+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.million+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.billion+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),c=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.trillion+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),l=1;l<=s.bytes.length&&!(p=(t.indexOf(s.bytes[l])>-1||t.indexOf(s.iec[l])>-1)&&Math.pow(1024,l));l++);u=p||1,u*=d.match(n)?Math.pow(10,3):1,u*=d.match(r)?Math.pow(10,6):1,u*=d.match(o)?Math.pow(10,9):1,u*=d.match(c)?Math.pow(10,12):1,u*=t.indexOf("%")>-1?.01:1,u*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,u*=Number(t.replace(/[^0-9\.]+/g,"")),u=p?Math.ceil(u):u}return e._value=u,e._value}function f(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function m(){return Array.prototype.slice.call(arguments).reduce((function(e,t){var n=f(e),r=f(t);return n>r?n:r}),-1/0)}(n=function(e){return new c(e=n.isNumeral(e)?e.value():0===e||"undefined"===typeof e?0:null===e?null:Number(e)?Number(e):n.fn.unformat(e))}).version="1.5.6",n.isNumeral=function(e){return e instanceof c},n.language=function(e,t){if(!e)return i.currentLanguage;if((e=e.toLowerCase())&&!t){if(!a[e])throw new Error("Unknown language : "+e);i.currentLanguage=e}return!t&&a[e]||function(e,t){a[e]=t}(e,t),n},n.reset=function(){for(var e in o)i[e]=o[e]},n.languageData=function(e){if(!e)return a[i.currentLanguage];if(!a[e])throw new Error("Unknown language : "+e);return a[e]},n.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),n.zeroFormat=function(e){i.zeroFormat="string"===typeof e?e:null},n.nullFormat=function(e){i.nullFormat="string"===typeof e?e:null},n.defaultFormat=function(e){i.defaultFormat="string"===typeof e?e:"0.0"},n.validate=function(e,t){var r,a,o,i,s,c,l,u;if("string"!==typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{l=n.languageData(t)}catch(e){l=n.languageData(n.language())}return o=l.currency.symbol,s=l.abbreviations,r=l.delimiters.decimal,a="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(u=e.match(/^[^\d]+/))||(e=e.substr(1),u[0]===o))&&((null===(u=e.match(/[^\d]+$/))||(e=e.slice(0,-1),u[0]===s.thousand||u[0]===s.million||u[0]===s.billion||u[0]===s.trillion))&&(c=new RegExp(a+"{2}"),!e.match(/[^\d.,]/g)&&(!((i=e.split(r)).length>2)&&(i.length<2?!!i[0].match(/^\d+.*\d$/)&&!i[0].match(c):1===i[0].length?!!i[0].match(/^\d+$/)&&!i[0].match(c)&&!!i[1].match(/^\d+$/):!!i[0].match(/^\d+.*\d$/)&&!i[0].match(c)&&!!i[1].match(/^\d+$/)))))},Array.prototype.reduce||(Array.prototype.reduce=function(e){"use strict";if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),r=n.length>>>0,a=0;if(2===arguments.length)t=arguments[1];else{for(;a<r&&!(a in n);)a++;if(a>=r)throw new TypeError("Reduce of empty array with no initial value");t=n[a++]}for(;a<r;a++)a in n&&(t=e(t,n[a],a,n));return t}),n.fn=c.prototype={clone:function(){return n(this)},format:function(e,t){return u(this,e||i.defaultFormat,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:p(this,e||i.defaultFormat)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var t=m.call(null,this._value,e);return this._value=[this._value,e].reduce((function(e,n,r,a){return e+t*n}),0)/t,this},subtract:function(e){var t=m.call(null,this._value,e);return this._value=[e].reduce((function(e,n,r,a){return e-t*n}),this._value*t)/t,this},multiply:function(e){return this._value=[this._value,e].reduce((function(e,t,n,r){var a=m(e,t);return e*a*(t*a)/(a*a)}),1),this},divide:function(e){return this._value=[this._value,e].reduce((function(e,t,n,r){var a=m(e,t);return e*a/(t*a)})),this},difference:function(e){return Math.abs(n(this._value).subtract(e).value())}},e.exports&&(e.exports=n),"undefined"===typeof ender&&(this.numeral=n),void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}).call(this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(125),s=(r=i)&&r.__esModule?r:{default:r};var c=[];if((0,i.isBrowserSide)()){window.onbeforeunload=function(){try{if(50===parseInt(Math.random().toString().slice(2,4),10)){var e=(c=(0,i.distinct)(c)||[]).toString(),t=s.default.currentLang||"",n=window.__MEDUSA_TOOL_CONFIG__&&window.__MEDUSA_TOOL_CONFIG__.mcmsAppName||window.SCHD_COMS&&window.SCHD_COMS.aName||"";window.goldlog&&window.goldlog.record("/sc.trade-assurance.i18n-keys-count","OTHER","appname="+n+"&keys="+e+"&locale="+t,"POST")}}catch(e){console.warn(e)}}}var l={},u=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={namespace:"",defaultLang:"",langpacks:{},currentLang:s.default.currentLang,private:!1,transferMap:{zh:"zh_cn",en:"en_us"}},t.langpacks){var n={};Object.keys(t.langpacks).forEach((function(e){var r=(0,i.formatLang)(e);if(n[r]=t.langpacks[e],"object"===o(n[r])&&!t.private)if(l[r]=l[r]||{},t.namespace&&t.isMcmsNpm){a(l[r],n[r]);var s={},c=new RegExp(("^"+t.namespace+".").replace(/\./g,"\\."));Object.keys(n[r]).forEach((function(e){c.test(e)&&(s[e.replace(c,"")]=n[r][e])})),n[r]=s}else a(l[r],(0,i.transfer)(n[r],t.namespace))})),t.langpacks=n}t.defaultLang&&(t.defaultLang=(0,i.formatLang)(t.defaultLang)),t.currentLang&&(t.currentLang=(0,i.formatLang)(t.currentLang)),a(this.options,t)}return e.prototype.getNsKey=function(e){var t=this.options.namespace;return t?t+"."+e:e},e.prototype.get=function(){for(var e=this.options,t=e.currentLang,n=e.defaultLang,r=e.langpacks,a=void 0===r?{}:r,o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];var d=s[0],p=s[1],f=this.getNsKey(d),m="string"===typeof p?p:t;c.push(f);var h=[i.langpacks,l,a],g=function e(t){var n=t.split("_").slice(0,-1).join("_");return""!==n?[n].concat(e(n)):[]},v=[m].concat(g(m)),y=v[v.length-1];this.options.transferMap&&this.options.transferMap[y]&&v.push(this.options.transferMap[y]);var b=[v];n&&m!==n&&b.push([n].concat(g(n)));for(var w=void 0,x=0;x<b.length;x++){for(var C=b[x],E=0;E<h.length;E++){if(h[E]){for(var S=0;S<C.length&&(h[E][C[S]]&&(w=h[E][C[S]][2===E?d:f]),"undefined"===typeof w);S++);if("undefined"!==typeof w)break}if("undefined"!==typeof w)break}if("undefined"!==typeof w)break}return w},e.prototype.has=function(e,t){var n=this.get(e,t);return!("undefined"===typeof n||!n||"--"===n.toLowerCase())},e.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.currentLang,t=a(l[e]||{},i.langpacks[e]||{}),n={},r=this.options.namespace;return r?Object.keys(t).forEach((function(e){0===e.indexOf(r)&&(n[e]=t[e])})):a(n,t),JSON.stringify(n,"",4)},e.prototype.toJson=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.currentLang,t=this.options.namespace,n=a(l[e]||{},i.langpacks[e]||{});return(0,i.ns2json)(n,t)},e}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(400),s=(r=i)&&r.__esModule?r:{default:r};var c=null,l=!0,u={init:function(e){try{return c||(c=new MutationObserver((t=e,n=100,r=null,function(){r&&clearTimeout(r),r=setTimeout((function(){t&&t()}),n)}))),u}catch(e){}var t,n,r},start:function(){try{c.observe(document.body,{childList:!0,subtree:!0})}catch(e){}},stop:function(){}},d=function(e){var t=e.queueArrayNormal,n=e.queueArrayEmpty,r=e.firstScreen;try{f.mcmsAppnames.length&&f.mcmsAppnames.forEach((function(e){var i=[],s=[];Array.isArray(t)&&t.length&&t.forEach((function(t){(e===f.config.mcmsAppname&&!t.mcmsAppname||t.mcmsAppname===e)&&i.push(t.key)})),Array.isArray(n)&&n.length&&n.forEach((function(t){(e===f.config.mcmsAppname&&!t.mcmsAppname||t.mcmsAppname===e)&&s.push(t.key)})),(i.length||s.length)&&function(e){try{if(window.__server__)return;var t=[];for(var n in e)"object"===o(e[n])?t.push(n+"="+JSON.stringify(e[n])):t.push(n+"="+String(e[n]));var r=new Image;r.src="https://sc-assets-trade.cn-beijing.log.aliyuncs.com/logstores/intl_trace/track?APIVersion=0.6.0&__topic__=intl_trace-log&"+t.join("&"),r.onload=function(){r=null}}catch(e){}}({queueArrayNormal:i,queueArrayEmpty:s,config:a({},f.config,{mcmsAppname:e,firstScreen:r})})}))}catch(e){}},p=function(){if(f.queueArrayNormal.length||f.queueArrayEmpty.length){try{for(;f.queueArrayNormal.length>20||f.queueArrayEmpty.length>20;){var e=f.queueArrayNormal.splice(0,20),t=f.queueArrayEmpty.splice(0,20);d({queueArrayNormal:e,queueArrayEmpty:t,firstScreen:l})}d({queueArrayNormal:f.queueArrayNormal,queueArrayEmpty:f.queueArrayEmpty,firstScreen:l}),f.queueArrayNormal=[],f.queueArrayEmpty=[]}catch(e){}l=!1}},f={config:{},queueArrayNormal:[],queueArrayEmpty:[],totalArray:[],totalEmptyArray:[],mcmsAppnames:[],setready:function(e){try{var t=s.default.getMemberSeq();!Object.keys(f.config).length&&e.defaultMcmsAppname&&parseInt((""+t).slice(-2),10)<(e.sampleRate||10)&&(f.config={sceneName:window.location.origin+window.location.pathname||"",locale:s.default.getLocale().toLocaleLowerCase()||"",mcmsAppname:e.defaultMcmsAppname,serviceType:s.default.getServiceType()||""},"ifm"===s.default.getServiceType()&&(f.config.locale=s.default.getBuyerLocale()||""),e.defaultMcmsAppname&&!f.mcmsAppnames.includes(e.defaultMcmsAppname)&&f.mcmsAppnames.push(e.defaultMcmsAppname),e.lang&&(f.config.locale=e.lang),u.init(p),u.start()),e.mcmsAppname&&!f.mcmsAppnames.includes(e.mcmsAppname)&&f.mcmsAppnames.push(e.mcmsAppname)}catch(e){}},pushQueue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{if(n&&!f.mcmsAppnames.includes(n)&&f.mcmsAppnames.push(n),f.totalArray.includes(e)){if("normal"===t&&f.totalEmptyArray.length){var r=f.totalEmptyArray.filter((function(t){return t!==e}));r.length!==f.totalEmptyArray.length&&(f.totalEmptyArray=r,f.queueArrayNormal.push({key:e,mcmsAppname:n}))}}else f.totalArray.push(e),"normal"===t?f.queueArrayNormal.push({key:e,mcmsAppname:n}):(f.queueArrayEmpty.push({key:e,mcmsAppname:n}),f.totalEmptyArray.push(e))}catch(e){}}};t.default=f,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(401),i=(r=o)&&r.__esModule?r:{default:r};var s={},c=function(e){this.initAttrs(e)};c.prototype={attrs:{isLoggedIn:!1,isNewUser:!1,isFirstIn:!0,country:"",firstName:"",lastName:"",serviceType:"",memberSeq:"",locale:"",buyerLocale:"",buyerSite:"",buyerCurrency:""},get:function(e){return this._attrs[e]},set:function(e,t){this._attrs[e]=t},initAttrs:function(e){this._attrs=a(this.attrs,e||{})},setup:function(){var e={};if(i.default.get("xman_us_f"))for(var t=i.default.get("xman_us_f").split("&"),n=t.length;n--;){var r=t[n].split("=");e[r[0]]=r[1]}var a=i.default.get("xman_us_t"),o=i.default.get("xman_us_f"),s=/x_user=([^&"]+)/;a&&-1!==a.indexOf("sign=y")?this.set("isLoggedIn",!0):this.set("isLoggedIn",!1),o&&s.test(o)&&(o.match(s),(o=(o=RegExp.$1).split("|")).length>=5&&(this.set("country",o[0]),this.set("firstName",o[1].replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.set("lastName",o[2].replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.set("serviceType",o[3]),this.set("memberSeq",o[4])));var c=i.default.get("sc_g_cfg_f"),l={};if("string"==typeof c&&""!=c){for(var u=c.split("&"),d=u.length;d--;){var p=u[d].split("=");l[p[0]]=p[1]}this.set("buyerLocale",l.sc_b_locale),this.set("buyerSite",l.sc_b_site),this.set("buyerCurrency",l.sc_b_currency)}return""!==this.get("memberSeq")&&this.set("isNewUser",!0),""===i.default.get("ali_intl_firstIn")&&this.set("isFirstIn",!0),this.set("locale",e.x_locale||i.default.get("intl_locale")||"en_US"),this}},s=(new c).setup();var l=function(){var e=!0;return""!==s.get("memberSeq")&&(s.set("isNewUser",!1),e=!1),e};t.default={isLoggedIn:s.get("isLoggedIn"),isNewUser:l(),isFirstIn:s.get("isFirstIn"),country:s.get("country"),firstName:s.get("firstName"),lastName:s.get("lastName"),serviceType:s.get("serviceType"),memberSeq:s.get("memberSeq"),serverDomain:function(){var e;return s.setup(),e=s.get("serviceType"),["gs","cgs","twgs","hkgs","cnfm"].indexOf(e)>-1?"hz":"us"},getIsLoggedIn:function(){return s.setup(),s.get("isLoggedIn")},getIsNewUser:function(){return s.setup(),l()},getCountry:function(){return s.setup(),s.get("country")},getFirstName:function(){return s.setup(),s.get("firstName")},getLastName:function(){return s.setup(),s.get("lastName")},getServiceType:function(){return s.setup(),s.get("serviceType")},getMemberSeq:function(){return s.setup(),s.get("memberSeq")},getLocale:function(){return s.setup(),s.get("locale")},getIPData:function(e){s.getIPData(e)},getCNA:function(){return i.default.get("cna")},getCookie:function(e){return i.default.get(e)},getMemberId:function(){var e=i.default.get("ali_apache_track"),t="";return"string"===typeof e&&(e.match(/mid=([^&"]+)/),t=RegExp.$1),t},getBuyerLocale:function(){return s.setup(),s.get("buyerLocale")},getBuyerCurrency:function(){return s.setup(),s.get("buyerCurrency")},getBuyerSite:function(){return s.setup(),s.get("buyerSite")},getIsOversea:function(){var e=!0,t=i.default.get("xman_us_f");return t&&-1!==t.indexOf("x_l=1")&&(e=!1),t&&-1!==t.indexOf("x_l=0")&&(e=!0),e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},a=decodeURIComponent,o=encodeURIComponent;function i(e){return"string"===typeof e}function s(e){return i(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function l(e){return e}r.get=function(e,t){c(e),t="function"===typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(i(e)&&e.length>0)for(var r,o,s,c=t?a:l,u=e.split(/;\s/g),d=0,p=u.length;d<p;d++){if((s=u[d].match(/([^=]+)=/i))instanceof Array)try{r=a(s[1]),o=c(u[d].substring(s[1].length+1))}catch(e){}else r=a(u[d]),o="";r&&(n[r]=o)}return n}(document.cookie,!t.raw);return(t.converter||l)(n[e])},r.set=function(e,t,n){c(e);var r=(n=n||{}).expires,a=n.domain,i=n.path;n.raw||(t=o(String(t)));var l=e+"="+t,u=r;return"number"===typeof u&&(u=new Date).setDate(u.getDate()+r),u instanceof Date&&(l+="; expires="+u.toUTCString()),s(a)&&(l+="; domain="+a),s(i)&&(l+="; path="+i),n.secure&&(l+="; secure"),document.cookie=l,l},r.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)},t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=c(n(0)),i=n(3),s=c(n(124));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function e(t,n){if(!n.length)return t;var r=n.join(".")+"."+t;return s.default.has(r)?r:(n.splice(-1,1),e(t,n))};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments[4],d="i18n_visible_"+e,p=(c.namespace+"."+c.key).split(".");p.splice(-1,1);var f=u(e,p),m=s.default.has(f)?s.default:this.Component,h={style:{"max-width":"none"},align:"rb",needAdjust:!0};n&&n.split(/\s+/).forEach((function(e){var t=e.split(":"),n=a(t,2),r=n[0],o=n[1],i=r.match(/^style\.(.*)/);i?h.style[i[1]]=o:h[r]=o}));var g=o.default.createElement(i.Icon,{size:"small",type:"help","data-basekey":e}),v=this.props.onChange;if("function"===typeof v){var y=(this.props.state||{})[d];return o.default.createElement(i.Balloon,r({},h,{key:f,trigger:g,visible:y,onVisibleChange:function(e){v({state:l({},d,e)})}})," ",o.default.createElement(m,this.props,f))}return o.default.createElement(i.Balloon,r({},h,{key:f,trigger:g})," ",o.default.createElement(m,this.props,f))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function a(e,t){var n={year:e.getFullYear(),month:e.getMonth()+1,dayOfMonth:e.getDate(),dayOfWeek:e.getDay(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),offset:e.getTimezoneOffset()/60},r={year:/Y+/,month:/M+/,dayOfMonth:/D+/,dayOfWeek:/d+/,hours:/h+/,minutes:/m+/,seconds:/s+/,offset:/T+/},a=t;return Object.keys(r).forEach((function(e){a=a.replace(r[e],(function(t){return"offset"===e?n[e]:("0"+n[e]).slice(-t.length)}))})),a}t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD hh-mm-ss";return t instanceof Date?a(t,n):isNaN(t)?function(e){var t=e.match(/(\d{4})-(\d{1,2})-(\d{1,2})(?:[\sT]+(\d{2}):(\d{2}):(\d{2}))?/),n=r(t,7),o=(n[0],n[1]),i=n[2],s=n[3],c=n[4],l=void 0===c?0:c,u=n[5],d=void 0===u?0:u,p=n[6],f=new Date(o,i-1,s,l,d,void 0===p?0:p);return{format:a.bind(null,f)}}(t).format(n):a(new Date(t),n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(0),s=(r=i)&&r.__esModule?r:{default:r},c=n(3);t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments[4],i={style:{margin:"0px 4px"}};try{n&&n.split(/\s+/).forEach((function(e){var t=e.split(":"),n=o(t,2),r=n[0],a=n[1],s=r.match(/^style\.(.*)/);s?i.style[s[1]]=a:r&&(i[r]=a)}))}catch(e){console.warn("I18n-Helpers-Icon-Params-Error:%o",e)}return console.log(i),i.type=e,s.default.createElement(c.Icon,a({key:r.key},i))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.appName,i=e.defaultLocale,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["appName","defaultLocale"]),c=r({namespace:"",currentLang:o()},t),l=c.namespace,u=c.currentLang;return(0,a.createI18n)({defaultValue:"[key]",mcmsAppName:n,defaultLang:i,currentLang:u,isMcmsNpm:!0,namespace:l,langpacks:s})};var a=n(124);var o=function(){var e=document.cookie.match(/intl_locale=([\w_]+)/);return e||(e=document.cookie.match(/x_locale=([\w_]+)/))?e[1]:"en_US"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(e=e||6)<0&&(e=6),e>16&&(e=16),Math.random().toString(36).slice(2,e+2)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(130)),a=f(n(74)),o=f(n(45)),i=f(n(46)),s=f(n(52)),c=f(n(47)),l=f(n(48)),u=n(0),d=f(u),p=f(n(408));function f(e){return e&&e.__esModule?e:{default:e}}n(409);var m=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",this._callback=function(t){var n=t.data,r=n.action,a=n.data;"catalogItemData"===r&&e.props.callback(a)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this._callback)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.isPopup,o=void 0===n||n,i=e.visible,s=e.onClose,c=e.lang;return o?d.default.createElement(r.default,{visible:i,align:"cc cc",hasMask:!0,disableScroll:!0},d.default.createElement("div",{className:"catalog-list-wrapper"},d.default.createElement("h1",{className:"title"},t||p.default.get("title")),d.default.createElement(a.default,{type:"close",size:"small",className:"close",onClick:s}),d.default.createElement("iframe",{name:"catalog-select",src:"//siteadmin.alibaba.com/catalog/catalog_select.htm?lang="+c,className:"catalog-select-iframe"}))):d.default.createElement("iframe",{name:"catalog-select",src:"//siteadmin.alibaba.com/catalog/catalog_select.htm?lang="+c,className:"catalog-select-iframe full-height"})}}]),t}(u.Component);t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/xman_us_f=*.+?(x_locale=*.+?)[&;]/.exec(document.cookie),a=r&&r[1]&&r[1].slice(9),o={en_US:{title:"Select Catalog"},zh_CN:{title:"选择目录"},zh_TW:{title:"選擇目錄"}};t.default={get:function(e){return o[a]&&o[a][e]||e}},e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=h(s),l=h(n(20)),u=h(n(79)),d=h(n(37)),p=h(n(411)),f=h(n(413)),m=h(n(430));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}function v(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=f.default.get("title"),b=(o=a=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));r.state={visible:n.visible||n.defaultVisible},~location.host.indexOf("alibaba.com")||console&&console.error&&console.error("只有在 alibaba.com 域下才可以使用.");var a=n.url,o=r.appGuid;return r.iframeUrl="{0}{1}appKey={2}{3}{4}{5}".replace("{0}",a).replace("{1}",a.indexOf("?")>-1?"&":"?").replace("{2}",o).replace("{3}",location.search.indexOf("_debugMode_")>-1?"&_debugMode_=1":"").replace("{4}","&isWidescreen=1").replace("{5}","&openPostMessage=1"),window.addEventListener("message",r.onMessage,!1),r}return g(t,e),t.prototype.componentWillReceiveProps=function(e){void 0!==e.visible&&this.setState({visible:e.visible})},t.prototype.onShow=function(){this.setState({visible:!0}),this.props.onShow()},t.prototype.onClose=function(e){this.setState({visible:!1}),this.props.onClose(e)},t.prototype.onCallback=function(e){this.props.callback?this.props.callback(e):console.log("please set callback handler....."),this.onClose()},t.prototype.onMessage=function(e){var t=this.props||{},n=t.config,r=t.filters,a=e.origin,o=e.data,i=e.source,s=o.appKey,c=o.action;if(s===this.appGuid)switch(c){case"initialized":i.postMessage({appKey:this.appGuid,action:"initialParameter",name:"video-popup",message:{config:n,filters:r}},a);break;case"confirm":this.onCallback(o.message),this.setState({visible:!1})}},t.prototype.renderPage=function(){return c.default.createElement("div",{className:"icbu-video-select-page"},c.default.createElement("iframe",{className:"icbu-video-select-page-iframe",style:{border:0},src:this.iframeUrl}))},t.prototype.renderDialog=function(){var e=this.props,t=e.title,n=e.style,r=e.children,a=n.width,o=n.height,i=void 0;return i=r?(0,s.cloneElement)(r,{onClick:this.onShow}):c.default.createElement(d.default,{onClick:this.onShow,type:"primary"},t),c.default.createElement("span",{className:this.props.className},i,c.default.createElement(u.default,{visible:this.state.visible,title:t,onOk:this.onClose,onCancel:this.onClose,onClose:this.onClose,footer:!1,className:"icbu-video-select"},c.default.createElement("iframe",{style:{width:a,height:o,border:0},src:this.iframeUrl})))},t.prototype.render=function(){var e=this.props.component;return"dialog"===e?this.renderDialog():"page"===e?this.renderPage():c.default.createElement("div",null,"component配置的类型有误,只允许 dialog/page")},i(t,[{key:"appGuid",get:function(){return this._AppGuid_||(this._AppGuid_="appkey_"+(0,m.default)(8)),this._AppGuid_}}]),t}(s.PureComponent),a.propTypes={title:l.default.string,children:l.default.node,url:l.default.string,onClose:l.default.func,onShow:l.default.func,style:l.default.object,params:l.default.object,callback:l.default.func,visible:l.default.any,defaultVisible:l.default.bool,className:l.default.string,component:l.default.oneOf(["page","dialog"])},a.defaultProps={title:y,children:void 0,url:"//hz-productposting.alibaba.com/product/videobank/popSelect.htm",onClose:function(){},onShow:function(){},callback:function(){},style:{width:"960px",height:"558px"},params:{},visible:void 0,defaultVisible:!1,component:"dialog",className:""},v((r=o).prototype,"onShow",[p.default],Object.getOwnPropertyDescriptor(r.prototype,"onShow"),r.prototype),v(r.prototype,"onClose",[p.default],Object.getOwnPropertyDescriptor(r.prototype,"onClose"),r.prototype),v(r.prototype,"onCallback",[p.default],Object.getOwnPropertyDescriptor(r.prototype,"onCallback"),r.prototype),v(r.prototype,"onMessage",[p.default],Object.getOwnPropertyDescriptor(r.prototype,"onMessage"),r.prototype),r);t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(){return u(arguments)}:u(t)};var r=n(165);function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=Object.defineProperty,i=Object.getPrototypeOf,s=void 0;function c(e){for(var t=(0,r.getOwnPropertyDescriptors)(e.prototype),n=(0,r.getOwnKeys)(t),a=0,i=n.length;a<i;a++){var s=n[a],c=t[s];"function"===typeof c.value&&"constructor"!==s&&o(e.prototype,s,l(e.prototype,s,c))}}function l(e,t,n){var a=n.value,c=n.configurable,l=n.enumerable;if("function"!==typeof a)throw new SyntaxError("@autobind can only be used on functions, not: "+a);var u=e.constructor;return{configurable:c,enumerable:l,get:function(){if(this===e)return a;if(this.constructor!==u&&i(this).constructor===u)return a;if(this.constructor!==u&&t in this.constructor.prototype)return function(e,t){if("undefined"===typeof WeakMap)throw new Error("Using @autobind on "+t.name+"() requires WeakMap support due to its use of super."+t.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20");s||(s=new WeakMap),!1===s.has(e)&&s.set(e,new WeakMap);var n=s.get(e);return!1===n.has(t)&&n.set(t,(0,r.bind)(t,e)),n.get(t)}(this,a);var n=(0,r.bind)(a,this);return o(this,t,{configurable:!0,writable:!0,enumerable:!1,value:n}),n},set:(0,r.createDefaultSetter)(t)}}function u(e){return 1===e.length?c.apply(void 0,a(e)):l.apply(void 0,a(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.decorate)(o,t)};var r=n(165),a=Object.defineProperty;function o(e,t,n){var o=n.configurable,i=n.enumerable,s=n.initializer,c=n.value;return{configurable:o,enumerable:i,get:function(){if(this!==e){var n=s?s.call(this):c;return a(this,t,{configurable:o,enumerable:i,writable:!0,value:n}),n}},set:(0,r.createDefaultSetter)(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(414),o=n(427),i=(r=o)&&r.__esModule?r:{default:r};t.default=(0,a.createI18n)({langpacks:{"en-us":{title:"Select from Video Bank"},"zh-cn":{title:"从视频银行选取"},"zh-tw":{title:"從視頻銀行選取"},it_it:{title:"Scegli dall'archivio video"},"vi-vn":{title:"Chọn từ ngân hàng video"}},currentLang:(0,i.default)()}),e.exports=t.default},function(e,t,n){e.exports=n(415)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assign=t.assignClear=t.createI18nWithMCMS=t.createI18n=t.registryHelper=void 0;var r=n(126),a=l(r),o=l(n(423)),i=l(n(424)),s=l(n(425)),c=l(n(426));function l(e){return e&&e.__esModule?e:{default:e}}(0,r.registryHelper)("help",o.default),(0,r.registryHelper)("datetime",i.default),(0,r.registryHelper)("icon",s.default),t.registryHelper=r.registryHelper,t.createI18n=r.createI18n,t.createI18nWithMCMS=c.default,t.assignClear=r.assignClear,t.assign=r.assign,t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assign=t.assignClear=t.registryHelper=t.createI18n=t.currentLang=void 0;var r,a=n(417),o=(r=a)&&r.__esModule?r:{default:r},i=n(166),s=n(127);var c=i.registry,l=(0,o.default)();try{window&&(window.PageOriginI18nComponents?window.PageOriginI18nComponents.push(l):window.PageOriginI18nComponents=[l])}catch(e){console.log("Error: 将 I18n 设置到 全局变量出错")}t.currentLang=s.currentLang,t.createI18n=o.default,t.registryHelper=c,t.assignClear=s.assignClear,t.assign=s.assign,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.langpack=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=l(n(0)),i=n(127),s=l(n(419)),c=l(n(420));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}var p=t.langpack=function(e){if(e.langpacks){var t={};Object.keys(e.langpacks).forEach((function(n){var r=(0,i.formatLang)(n);t[r]=e.langpacks[n]})),e.langpacks=t}return e.defaultLang&&(e.defaultLang=(0,i.formatLang)(e.defaultLang)),e.currentLang&&(e.currentLang=(0,i.formatLang)(e.currentLang)),(0,i.parse)(),new s.default(e)},f="";t.default=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n.helpers,l=void 0===s?{}:s,m=n.mcmsAppName,h=void 0===m?"":m,g=n.mcmsAppname,v=void 0===g?"":g,y=n.defaultMcmsAppname,b=void 0===y?"":y,w=n.abTestkey,x=void 0===w?"":w,C=n.ignoreGetEmpty,E=void 0!==C&&C,S=n.sampleRate,k=void 0===S?10:S,T=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["helpers","mcmsAppName","mcmsAppname","defaultMcmsAppname","abTestkey","ignoreGetEmpty","sampleRate"]),_=p(T);c.default.setready({defaultMcmsAppname:b,sampleRate:k,lang:_.options.currentLang}),b&&(f=b);var I=(t=e=function(e){function t(){var n,r,a,o,s,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var d=arguments.length,p=Array(d),f=0;f<d;f++)p[f]=arguments[f];return n=r=u(this,e.call.apply(e,[this].concat(p))),r.state={mount:(a=r.props,o=a.lang,s=a.namespace,c=a.children,i.mountCache[o]?i.mountCache[o][s?s+"."+c:c]:null)},r.helpers=l,r.Component=t,u(r,n)}return d(t,e),t.registryHelper=function(e,n){t.helpers[e]=n},t.get=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0],s=n[1],l=n[2],u="string"===typeof o?o:null,d=s||("object"===("undefined"===typeof o?"undefined":a(o))?o:null),p=l||("string"===typeof s?s:null),m=_.getNsKey(e),g=void 0;return u?(g=_.get(e,(0,i.formatLang)(u)),x&&_.has(e+"."+x)&&(g=_.get(e+"."+x,(0,i.formatLang)(u)))):(g=_.get(e),x&&_.has(e+"."+x)&&(g=_.get(e+"."+x))),u&&"pd_kv"===(0,i.formatLang)(u)?"##@@@"+m+"##"+(v||h||f)+"@@@##":("undefined"!==typeof g||E||c.default.pushQueue(m,"empty",v||h),"undefined"!==typeof g&&c.default.pushQueue(m,"normal",v||h),"undefined"!==typeof g&&d&&(g=g.replace(/{\s*([\w]+)\s*}/g,(function(e,t){return"undefined"!==typeof d[t]?d[t]:e}))),"undefined"===typeof g&&p&&(c.default.pushQueue(m,"empty",v||h),g=p),g)},t.prototype.render=function(){var e=this.props,t=e.lang,n=e.data,a=void 0===n?{}:n,s=e.className,l=e.defaultValue,u=e.children,d=e.nskey,p=e.name,m=void 0===p?d:p,g=e.namespace,y=this.state.mount,b=u||m,w=y&&y.length?y[y.length-1].replace(new RegExp("."+b+"$"),""):g,C=_.get(b,t);x&&_.has(b+"."+x)&&(C=_.get(b+"."+x,t));var E=_.getNsKey(b);return t&&"pd_kv"===(0,i.formatLang)(t)?o.default.createElement("span",{"data-i18n-appname":h,"data-i18n-ns":w,"data-i18n-key":b,className:s},"##@@@"+E+"##"+(v||h||f)+"@@@##"):("undefined"!==typeof C?(c.default.pushQueue(E,"normal",v||h),C=(0,i.format)(C,a,this,r({key:b},T)),x&&_.has(b+"."+x)&&(C=(0,i.format)(C,a,this,r({key:b+"."+x},T)))):l?(c.default.pushQueue(E,"empty",v||h),C=l):(c.default.pushQueue(E,"empty",v||h),C=T.defaultValue&&"[key]"===T.defaultValue?[w,b].filter((function(e){return!!e})).join("."):""),"string"!==typeof C?o.default.createElement("span",{"data-i18n-appname":h,"data-i18n-ns":w,"data-i18n-key":b,className:s},C):o.default.createElement("span",{"data-i18n-appname":h,"data-i18n-ns":w,"data-i18n-key":b,className:s,dangerouslySetInnerHTML:{__html:(0,i.shtml)(C)}}))},t}(o.default.Component),e.defaultProps={data:T.data,namespace:T.namespace,lang:_.options.currentLang},e.helpers=l,e.has=_.has.bind(_),e.toString=_.toString.bind(_),e.toJson=_.toJson.bind(_),t);return I.displayName="I18n",_.Component=I,I}},function(e,t,n){var r;(function(){var n,a={},o={currentLanguage:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0"},i={currentLanguage:o.currentLanguage,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat},s={bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],iec:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]};function c(e){this._value=e}function l(e,t,n,r){var a,o,i,s,c=e.toString().split("."),l=t-(r||0);return a=2===c.length?Math.min(Math.max(c[1].length,l),t):l,s=(n(e*(i=Math.pow(10,a)))/i).toFixed(a),r>t-a&&(o=new RegExp("\\.?0{1,"+(r-(t-a))+"}$"),s=s.replace(o,"")),s}function u(e,t,n){return 0===e._value&&null!==i.zeroFormat?i.zeroFormat:null===e._value&&null!==i.nullFormat?i.nullFormat:t.indexOf("$")>-1?function(e,t,n){var r,o,s=t.indexOf("$"),c=t.indexOf("("),l=t.indexOf("-"),u="";t.indexOf(" $")>-1?(u=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(u=" ",t=t.replace("$ ","")):t=t.replace("$","");o=d(e._value,t,n),s<=1?o.indexOf("(")>-1||o.indexOf("-")>-1?(r=1,(s<c||s<l)&&(r=0),(o=o.split("")).splice(r,0,a[i.currentLanguage].currency.symbol+u),o=o.join("")):o=a[i.currentLanguage].currency.symbol+u+o:o.indexOf(")")>-1?((o=o.split("")).splice(-1,0,u+a[i.currentLanguage].currency.symbol),o=o.join("")):o=o+u+a[i.currentLanguage].currency.symbol;return o}(e,t,n):t.indexOf("%")>-1?function(e,t,n){var r,a="",o=100*e._value;t.indexOf(" %")>-1?(a=" ",t=t.replace(" %","")):t=t.replace("%","");r=d(o,t,n),r.indexOf(")")>-1?((r=r.split("")).splice(-1,0,a+"%"),r=r.join("")):r=r+a+"%";return r}(e,t,n):t.indexOf(":")>-1?function(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return t+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)}(e):t.indexOf("b")>-1||t.indexOf("ib")>-1?function(e,t,n){var r,a,o,i,c=t.indexOf("ib")>-1?s.iec:s.bytes,l=e._value,u="";t.indexOf(" b")>-1||t.indexOf(" ib")>-1?(u=" ",t=t.replace(" ib","").replace(" b","")):t=t.replace("ib","").replace("b","");for(a=0;a<=c.length;a++)if(o=Math.pow(1024,a),i=Math.pow(1024,a+1),null===l||0===l||l>=o&&l<i){u+=c[a],o>0&&(l/=o);break}return r=d(l,t,n),r+u}(e,t,n):t.indexOf("o")>-1?function(e,t,n){var r,o="";t.indexOf(" o")>-1?(o=" ",t=t.replace(" o","")):t=t.replace("o","");return o+=a[i.currentLanguage].ordinal(e._value),r=d(e._value,t,n),r+o}(e,t,n):d(e._value,t,n)}function d(e,t,n){var r,o,s,c,u=!1,d=!1,p=!1,f="",m=!1,h=!1,g=!1,v=!1,y=!1,b="",w=!1;return null===e&&(e=0),r=Math.abs(e),t.indexOf("(")>-1?(u=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(d=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(m=t.indexOf("aK")>=0,h=t.indexOf("aM")>=0,g=t.indexOf("aB")>=0,v=t.indexOf("aT")>=0,y=m||h||g||v,t.indexOf(" a")>-1&&(f=" "),t=t.replace(new RegExp(f+"a[KMBT]?"),""),r>=Math.pow(10,12)&&!y||v?(f+=a[i.currentLanguage].abbreviations.trillion,e/=Math.pow(10,12)):r<Math.pow(10,12)&&r>=Math.pow(10,9)&&!y||g?(f+=a[i.currentLanguage].abbreviations.billion,e/=Math.pow(10,9)):r<Math.pow(10,9)&&r>=Math.pow(10,6)&&!y||h?(f+=a[i.currentLanguage].abbreviations.million,e/=Math.pow(10,6)):(r<Math.pow(10,6)&&r>=Math.pow(10,3)&&!y||m)&&(f+=a[i.currentLanguage].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("[.]")>-1&&(p=!0,t=t.replace("[.]",".")),o=e.toString().split(".")[0],s=t.split(".")[1],c=t.indexOf(","),s?(o=(b=s.indexOf("[")>-1?l(e,(s=(s=s.replace("]","")).split("["))[0].length+s[1].length,n,s[1].length):l(e,s.length,n)).split(".")[0],b=b.indexOf(".")>-1?a[i.currentLanguage].delimiters.decimal+b.split(".")[1]:"",p&&0===Number(b.slice(1))&&(b="")):o=l(e,null,n),o.indexOf("-")>-1&&(o=o.slice(1),w=!0),c>-1&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+a[i.currentLanguage].delimiters.thousands)),0===t.indexOf(".")&&(o=""),(u&&w?"(":"")+(!u&&w?"-":"")+(!w&&d?"+":"")+o+b+(f||"")+(u&&w?")":"")}function p(e,t){var n,r,o,c,l,u,d=t,p=!1;if(t.indexOf(":")>-1)u=function(e){var t=e.split(":"),n=0;3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1]));return Number(n)}(t);else if(t===i.zeroFormat||t===i.nullFormat)u=0;else{for("."!==a[i.currentLanguage].delimiters.decimal&&(t=t.replace(/\./g,"").replace(a[i.currentLanguage].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.thousand+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.million+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.billion+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),c=new RegExp("[^a-zA-Z]"+a[i.currentLanguage].abbreviations.trillion+"(?:\\)|(\\"+a[i.currentLanguage].currency.symbol+")?(?:\\))?)?$"),l=1;l<=s.bytes.length&&!(p=(t.indexOf(s.bytes[l])>-1||t.indexOf(s.iec[l])>-1)&&Math.pow(1024,l));l++);u=p||1,u*=d.match(n)?Math.pow(10,3):1,u*=d.match(r)?Math.pow(10,6):1,u*=d.match(o)?Math.pow(10,9):1,u*=d.match(c)?Math.pow(10,12):1,u*=t.indexOf("%")>-1?.01:1,u*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,u*=Number(t.replace(/[^0-9\.]+/g,"")),u=p?Math.ceil(u):u}return e._value=u,e._value}function f(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function m(){return Array.prototype.slice.call(arguments).reduce((function(e,t){var n=f(e),r=f(t);return n>r?n:r}),-1/0)}(n=function(e){return new c(e=n.isNumeral(e)?e.value():0===e||"undefined"===typeof e?0:null===e?null:Number(e)?Number(e):n.fn.unformat(e))}).version="1.5.6",n.isNumeral=function(e){return e instanceof c},n.language=function(e,t){if(!e)return i.currentLanguage;if((e=e.toLowerCase())&&!t){if(!a[e])throw new Error("Unknown language : "+e);i.currentLanguage=e}return!t&&a[e]||function(e,t){a[e]=t}(e,t),n},n.reset=function(){for(var e in o)i[e]=o[e]},n.languageData=function(e){if(!e)return a[i.currentLanguage];if(!a[e])throw new Error("Unknown language : "+e);return a[e]},n.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),n.zeroFormat=function(e){i.zeroFormat="string"===typeof e?e:null},n.nullFormat=function(e){i.nullFormat="string"===typeof e?e:null},n.defaultFormat=function(e){i.defaultFormat="string"===typeof e?e:"0.0"},n.validate=function(e,t){var r,a,o,i,s,c,l,u;if("string"!==typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{l=n.languageData(t)}catch(e){l=n.languageData(n.language())}return o=l.currency.symbol,s=l.abbreviations,r=l.delimiters.decimal,a="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(u=e.match(/^[^\d]+/))||(e=e.substr(1),u[0]===o))&&((null===(u=e.match(/[^\d]+$/))||(e=e.slice(0,-1),u[0]===s.thousand||u[0]===s.million||u[0]===s.billion||u[0]===s.trillion))&&(c=new RegExp(a+"{2}"),!e.match(/[^\d.,]/g)&&(!((i=e.split(r)).length>2)&&(i.length<2?!!i[0].match(/^\d+.*\d$/)&&!i[0].match(c):1===i[0].length?!!i[0].match(/^\d+$/)&&!i[0].match(c)&&!!i[1].match(/^\d+$/):!!i[0].match(/^\d+.*\d$/)&&!i[0].match(c)&&!!i[1].match(/^\d+$/)))))},Array.prototype.reduce||(Array.prototype.reduce=function(e){"use strict";if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),r=n.length>>>0,a=0;if(2===arguments.length)t=arguments[1];else{for(;a<r&&!(a in n);)a++;if(a>=r)throw new TypeError("Reduce of empty array with no initial value");t=n[a++]}for(;a<r;a++)a in n&&(t=e(t,n[a],a,n));return t}),n.fn=c.prototype={clone:function(){return n(this)},format:function(e,t){return u(this,e||i.defaultFormat,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:p(this,e||i.defaultFormat)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var t=m.call(null,this._value,e);return this._value=[this._value,e].reduce((function(e,n,r,a){return e+t*n}),0)/t,this},subtract:function(e){var t=m.call(null,this._value,e);return this._value=[e].reduce((function(e,n,r,a){return e-t*n}),this._value*t)/t,this},multiply:function(e){return this._value=[this._value,e].reduce((function(e,t,n,r){var a=m(e,t);return e*a*(t*a)/(a*a)}),1),this},divide:function(e){return this._value=[this._value,e].reduce((function(e,t,n,r){var a=m(e,t);return e*a/(t*a)})),this},difference:function(e){return Math.abs(n(this._value).subtract(e).value())}},e.exports&&(e.exports=n),"undefined"===typeof ender&&(this.numeral=n),void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}).call(this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(127),s=(r=i)&&r.__esModule?r:{default:r};var c=[];if((0,i.isBrowserSide)()){window.onbeforeunload=function(){try{if(50===parseInt(Math.random().toString().slice(2,4),10)){var e=(c=(0,i.distinct)(c)||[]).toString(),t=s.default.currentLang||"",n=window.__MEDUSA_TOOL_CONFIG__&&window.__MEDUSA_TOOL_CONFIG__.mcmsAppName||window.SCHD_COMS&&window.SCHD_COMS.aName||"";window.goldlog&&window.goldlog.record("/sc.trade-assurance.i18n-keys-count","OTHER","appname="+n+"&keys="+e+"&locale="+t,"POST")}}catch(e){console.warn(e)}}}var l={},u=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={namespace:"",defaultLang:"",langpacks:{},currentLang:s.default.currentLang,private:!1,transferMap:{zh:"zh_cn",en:"en_us"}},t.langpacks){var n={};Object.keys(t.langpacks).forEach((function(e){var r=(0,i.formatLang)(e);if(n[r]=t.langpacks[e],"object"===o(n[r])&&!t.private)if(l[r]=l[r]||{},t.namespace&&t.isMcmsNpm){a(l[r],n[r]);var s={},c=new RegExp(("^"+t.namespace+".").replace(/\./g,"\\."));Object.keys(n[r]).forEach((function(e){c.test(e)&&(s[e.replace(c,"")]=n[r][e])})),n[r]=s}else a(l[r],(0,i.transfer)(n[r],t.namespace))})),t.langpacks=n}t.defaultLang&&(t.defaultLang=(0,i.formatLang)(t.defaultLang)),t.currentLang&&(t.currentLang=(0,i.formatLang)(t.currentLang)),a(this.options,t)}return e.prototype.getNsKey=function(e){var t=this.options.namespace;return t?t+"."+e:e},e.prototype.get=function(){for(var e=this.options,t=e.currentLang,n=e.defaultLang,r=e.langpacks,a=void 0===r?{}:r,o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];var d=s[0],p=s[1],f=this.getNsKey(d),m="string"===typeof p?p:t;c.push(f);var h=[i.langpacks,l,a],g=function e(t){var n=t.split("_").slice(0,-1).join("_");return""!==n?[n].concat(e(n)):[]},v=[m].concat(g(m)),y=v[v.length-1];this.options.transferMap&&this.options.transferMap[y]&&v.push(this.options.transferMap[y]);var b=[v];n&&m!==n&&b.push([n].concat(g(n)));for(var w=void 0,x=0;x<b.length;x++){for(var C=b[x],E=0;E<h.length;E++){if(h[E]){for(var S=0;S<C.length&&(h[E][C[S]]&&(w=h[E][C[S]][2===E?d:f]),"undefined"===typeof w);S++);if("undefined"!==typeof w)break}if("undefined"!==typeof w)break}if("undefined"!==typeof w)break}return w},e.prototype.has=function(e,t){var n=this.get(e,t);return!("undefined"===typeof n||!n||"--"===n.toLowerCase())},e.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.currentLang,t=a(l[e]||{},i.langpacks[e]||{}),n={},r=this.options.namespace;return r?Object.keys(t).forEach((function(e){0===e.indexOf(r)&&(n[e]=t[e])})):a(n,t),JSON.stringify(n,"",4)},e.prototype.toJson=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.currentLang,t=this.options.namespace,n=a(l[e]||{},i.langpacks[e]||{});return(0,i.ns2json)(n,t)},e}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(421),s=(r=i)&&r.__esModule?r:{default:r};var c=null,l=!0,u={init:function(e){try{return c||(c=new MutationObserver((t=e,n=100,r=null,function(){r&&clearTimeout(r),r=setTimeout((function(){t&&t()}),n)}))),u}catch(e){}var t,n,r},start:function(){try{c.observe(document.body,{childList:!0,subtree:!0})}catch(e){}},stop:function(){}},d=function(e){var t=e.queueArrayNormal,n=e.queueArrayEmpty,r=e.firstScreen;try{f.mcmsAppnames.length&&f.mcmsAppnames.forEach((function(e){var i=[],s=[];Array.isArray(t)&&t.length&&t.forEach((function(t){(e===f.config.mcmsAppname&&!t.mcmsAppname||t.mcmsAppname===e)&&i.push(t.key)})),Array.isArray(n)&&n.length&&n.forEach((function(t){(e===f.config.mcmsAppname&&!t.mcmsAppname||t.mcmsAppname===e)&&s.push(t.key)})),(i.length||s.length)&&function(e){try{if(window.__server__)return;var t=[];for(var n in e)"object"===o(e[n])?t.push(n+"="+JSON.stringify(e[n])):t.push(n+"="+String(e[n]));var r=new Image;r.src="https://sc-assets-trade.cn-beijing.log.aliyuncs.com/logstores/intl_trace/track?APIVersion=0.6.0&__topic__=intl_trace-log&"+t.join("&"),r.onload=function(){r=null}}catch(e){}}({queueArrayNormal:i,queueArrayEmpty:s,config:a({},f.config,{mcmsAppname:e,firstScreen:r})})}))}catch(e){}},p=function(){if(f.queueArrayNormal.length||f.queueArrayEmpty.length){try{for(;f.queueArrayNormal.length>20||f.queueArrayEmpty.length>20;){var e=f.queueArrayNormal.splice(0,20),t=f.queueArrayEmpty.splice(0,20);d({queueArrayNormal:e,queueArrayEmpty:t,firstScreen:l})}d({queueArrayNormal:f.queueArrayNormal,queueArrayEmpty:f.queueArrayEmpty,firstScreen:l}),f.queueArrayNormal=[],f.queueArrayEmpty=[]}catch(e){}l=!1}},f={config:{},queueArrayNormal:[],queueArrayEmpty:[],totalArray:[],totalEmptyArray:[],mcmsAppnames:[],setready:function(e){try{var t=s.default.getMemberSeq();!Object.keys(f.config).length&&e.defaultMcmsAppname&&parseInt((""+t).slice(-2),10)<(e.sampleRate||10)&&(f.config={sceneName:window.location.origin+window.location.pathname||"",locale:s.default.getLocale().toLocaleLowerCase()||"",mcmsAppname:e.defaultMcmsAppname,serviceType:s.default.getServiceType()||""},"ifm"===s.default.getServiceType()&&(f.config.locale=s.default.getBuyerLocale()||""),e.defaultMcmsAppname&&!f.mcmsAppnames.includes(e.defaultMcmsAppname)&&f.mcmsAppnames.push(e.defaultMcmsAppname),e.lang&&(f.config.locale=e.lang),u.init(p),u.start()),e.mcmsAppname&&!f.mcmsAppnames.includes(e.mcmsAppname)&&f.mcmsAppnames.push(e.mcmsAppname)}catch(e){}},pushQueue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{if(n&&!f.mcmsAppnames.includes(n)&&f.mcmsAppnames.push(n),f.totalArray.includes(e)){if("normal"===t&&f.totalEmptyArray.length){var r=f.totalEmptyArray.filter((function(t){return t!==e}));r.length!==f.totalEmptyArray.length&&(f.totalEmptyArray=r,f.queueArrayNormal.push({key:e,mcmsAppname:n}))}}else f.totalArray.push(e),"normal"===t?f.queueArrayNormal.push({key:e,mcmsAppname:n}):(f.queueArrayEmpty.push({key:e,mcmsAppname:n}),f.totalEmptyArray.push(e))}catch(e){}}};t.default=f,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(422),i=(r=o)&&r.__esModule?r:{default:r};var s={},c=function(e){this.initAttrs(e)};c.prototype={attrs:{isLoggedIn:!1,isNewUser:!1,isFirstIn:!0,country:"",firstName:"",lastName:"",serviceType:"",memberSeq:"",locale:"",buyerLocale:"",buyerSite:"",buyerCurrency:""},get:function(e){return this._attrs[e]},set:function(e,t){this._attrs[e]=t},initAttrs:function(e){this._attrs=a(this.attrs,e||{})},setup:function(){var e={};if(i.default.get("xman_us_f"))for(var t=i.default.get("xman_us_f").split("&"),n=t.length;n--;){var r=t[n].split("=");e[r[0]]=r[1]}var a=i.default.get("xman_us_t"),o=i.default.get("xman_us_f"),s=/x_user=([^&"]+)/;a&&-1!==a.indexOf("sign=y")?this.set("isLoggedIn",!0):this.set("isLoggedIn",!1),o&&s.test(o)&&(o.match(s),(o=(o=RegExp.$1).split("|")).length>=5&&(this.set("country",o[0]),this.set("firstName",o[1].replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.set("lastName",o[2].replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.set("serviceType",o[3]),this.set("memberSeq",o[4])));var c=i.default.get("sc_g_cfg_f"),l={};if("string"==typeof c&&""!=c){for(var u=c.split("&"),d=u.length;d--;){var p=u[d].split("=");l[p[0]]=p[1]}this.set("buyerLocale",l.sc_b_locale),this.set("buyerSite",l.sc_b_site),this.set("buyerCurrency",l.sc_b_currency)}return""!==this.get("memberSeq")&&this.set("isNewUser",!0),""===i.default.get("ali_intl_firstIn")&&this.set("isFirstIn",!0),this.set("locale",e.x_locale||i.default.get("intl_locale")||"en_US"),this}},s=(new c).setup();var l=function(){var e=!0;return""!==s.get("memberSeq")&&(s.set("isNewUser",!1),e=!1),e};t.default={isLoggedIn:s.get("isLoggedIn"),isNewUser:l(),isFirstIn:s.get("isFirstIn"),country:s.get("country"),firstName:s.get("firstName"),lastName:s.get("lastName"),serviceType:s.get("serviceType"),memberSeq:s.get("memberSeq"),serverDomain:function(){var e;return s.setup(),e=s.get("serviceType"),["gs","cgs","twgs","hkgs","cnfm"].indexOf(e)>-1?"hz":"us"},getIsLoggedIn:function(){return s.setup(),s.get("isLoggedIn")},getIsNewUser:function(){return s.setup(),l()},getCountry:function(){return s.setup(),s.get("country")},getFirstName:function(){return s.setup(),s.get("firstName")},getLastName:function(){return s.setup(),s.get("lastName")},getServiceType:function(){return s.setup(),s.get("serviceType")},getMemberSeq:function(){return s.setup(),s.get("memberSeq")},getLocale:function(){return s.setup(),s.get("locale")},getIPData:function(e){s.getIPData(e)},getCNA:function(){return i.default.get("cna")},getCookie:function(e){return i.default.get(e)},getMemberId:function(){var e=i.default.get("ali_apache_track"),t="";return"string"===typeof e&&(e.match(/mid=([^&"]+)/),t=RegExp.$1),t},getBuyerLocale:function(){return s.setup(),s.get("buyerLocale")},getBuyerCurrency:function(){return s.setup(),s.get("buyerCurrency")},getBuyerSite:function(){return s.setup(),s.get("buyerSite")},getIsOversea:function(){var e=!0,t=i.default.get("xman_us_f");return t&&-1!==t.indexOf("x_l=1")&&(e=!1),t&&-1!==t.indexOf("x_l=0")&&(e=!0),e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},a=decodeURIComponent,o=encodeURIComponent;function i(e){return"string"===typeof e}function s(e){return i(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function l(e){return e}r.get=function(e,t){c(e),t="function"===typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(i(e)&&e.length>0)for(var r,o,s,c=t?a:l,u=e.split(/;\s/g),d=0,p=u.length;d<p;d++){if((s=u[d].match(/([^=]+)=/i))instanceof Array)try{r=a(s[1]),o=c(u[d].substring(s[1].length+1))}catch(e){}else r=a(u[d]),o="";r&&(n[r]=o)}return n}(document.cookie,!t.raw);return(t.converter||l)(n[e])},r.set=function(e,t,n){c(e);var r=(n=n||{}).expires,a=n.domain,i=n.path;n.raw||(t=o(String(t)));var l=e+"="+t,u=r;return"number"===typeof u&&(u=new Date).setDate(u.getDate()+r),u instanceof Date&&(l+="; expires="+u.toUTCString()),s(a)&&(l+="; domain="+a),s(i)&&(l+="; path="+i),n.secure&&(l+="; secure"),document.cookie=l,l},r.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)},t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=c(n(0)),i=n(3),s=c(n(126));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function e(t,n){if(!n.length)return t;var r=n.join(".")+"."+t;return s.default.has(r)?r:(n.splice(-1,1),e(t,n))};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments[4],d="i18n_visible_"+e,p=(c.namespace+"."+c.key).split(".");p.splice(-1,1);var f=u(e,p),m=s.default.has(f)?s.default:this.Component,h={style:{"max-width":"none"},align:"rb",needAdjust:!0};n&&n.split(/\s+/).forEach((function(e){var t=e.split(":"),n=a(t,2),r=n[0],o=n[1],i=r.match(/^style\.(.*)/);i?h.style[i[1]]=o:h[r]=o}));var g=o.default.createElement(i.Icon,{size:"small",type:"help","data-basekey":e}),v=this.props.onChange;if("function"===typeof v){var y=(this.props.state||{})[d];return o.default.createElement(i.Balloon,r({},h,{key:f,trigger:g,visible:y,onVisibleChange:function(e){v({state:l({},d,e)})}})," ",o.default.createElement(m,this.props,f))}return o.default.createElement(i.Balloon,r({},h,{key:f,trigger:g})," ",o.default.createElement(m,this.props,f))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function a(e,t){var n={year:e.getFullYear(),month:e.getMonth()+1,dayOfMonth:e.getDate(),dayOfWeek:e.getDay(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),offset:e.getTimezoneOffset()/60},r={year:/Y+/,month:/M+/,dayOfMonth:/D+/,dayOfWeek:/d+/,hours:/h+/,minutes:/m+/,seconds:/s+/,offset:/T+/},a=t;return Object.keys(r).forEach((function(e){a=a.replace(r[e],(function(t){return"offset"===e?n[e]:("0"+n[e]).slice(-t.length)}))})),a}t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD hh-mm-ss";return t instanceof Date?a(t,n):isNaN(t)?function(e){var t=e.match(/(\d{4})-(\d{1,2})-(\d{1,2})(?:[\sT]+(\d{2}):(\d{2}):(\d{2}))?/),n=r(t,7),o=(n[0],n[1]),i=n[2],s=n[3],c=n[4],l=void 0===c?0:c,u=n[5],d=void 0===u?0:u,p=n[6],f=new Date(o,i-1,s,l,d,void 0===p?0:p);return{format:a.bind(null,f)}}(t).format(n):a(new Date(t),n)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(0),s=(r=i)&&r.__esModule?r:{default:r},c=n(3);t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments[4],i={style:{margin:"0px 4px"}};try{n&&n.split(/\s+/).forEach((function(e){var t=e.split(":"),n=o(t,2),r=n[0],a=n[1],s=r.match(/^style\.(.*)/);s?i.style[s[1]]=a:r&&(i[r]=a)}))}catch(e){console.warn("I18n-Helpers-Icon-Params-Error:%o",e)}return console.log(i),i.type=e,s.default.createElement(c.Icon,a({key:r.key},i))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.appName,i=e.defaultLocale,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["appName","defaultLocale"]),c=r({namespace:"",currentLang:o()},t),l=c.namespace,u=c.currentLang;return(0,a.createI18n)({defaultValue:"[key]",mcmsAppName:n,defaultLang:i,currentLang:u,isMcmsNpm:!0,namespace:l,langpacks:s})};var a=n(126);var o=function(){var e=document.cookie.match(/intl_locale=([\w_]+)/);return e||(e=document.cookie.match(/x_locale=([\w_]+)/))?e[1]:"en_US"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(428),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(){var e={},t=o.default.get("xman_us_f");if(t)for(var n=t.split("&"),r=n.length;r--;){var a=n[r].split("=");e[a[0]]=a[1]}return(e.x_locale||"en_US").toLocaleLowerCase().replace("_","-")},e.exports=t.default},function(e,t,n){e.exports=n(429)},function(e,t,n){"use strict";var r=t,a=decodeURIComponent,o=encodeURIComponent;function i(e){return"string"===typeof e}function s(e){return i(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function l(e){return e}r.get=function(e,t){c(e),t="function"===typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(i(e)&&e.length>0)for(var r=t?a:l,o=e.split(/;\s/g),s=void 0,c=void 0,u=void 0,d=0,p=o.length;d<p;d++){if((u=o[d].match(/([^=]+)=/i))instanceof Array)try{s=a(u[1]),c=r(o[d].substring(u[1].length+1))}catch(e){}else s=a(o[d]),c="";s&&(n[s]=c)}return n}(document.cookie,!t.raw);return(t.converter||l)(n[e])},r.set=function(e,t,n){c(e);var r=(n=n||{}).expires,a=n.domain,i=n.path;n.raw||(t=o(String(t)));var l=e+"="+t,u=r;return"number"===typeof u&&(u=new Date).setDate(u.getDate()+r),u instanceof Date&&(l+="; expires="+u.toUTCString()),s(a)&&(l+="; domain="+a),s(i)&&(l+="; path="+i),n.secure&&(l+="; secure"),document.cookie=l,l},r.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(e=e||6)<0&&(e=6),e>16&&(e=16),Math.random().toString(36).slice(2,e+2)},e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(45)),a=u(n(46)),o=u(n(52)),i=u(n(47)),s=u(n(48)),c=u(n(0)),l=u(n(433));function u(e){return e&&e.__esModule?e:{default:e}}n(435);var d={};if(window.IcbuIM){var p=window.IcbuIM.lib.I18N.createI18N;d=p({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"messenger"})}else d.get=function(){return null};var f=window.IcbuIM&&window.IcbuIM.classnames,m=window.IcbuIM&&window.IcbuIM.lib.log;function h(e){return["#50E3C2","#FE5D59","#FF9A59","#FFDD59","#59DBFF","#5966FF","#59ABFD","#FE5977","#5A8EFF","#A559FF","#50E3C2","#D84C4C"][Math.abs(function(e){var t=0;if(!e)return t;for(var n=0;n<e.length;n++)t=31*t+e.charCodeAt(n),t&=4294967295;return t}(e)%12)]}var g=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={detailData:null},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.contact,n=void 0===t?{}:t;if(n.memberId){var r=this.props.role;(0,l.default)("mtop.alibaba.icbu.im.queryMembersInfoByLoginId",{queryType:"buyer"===r?"get_seller_member_info":"get_buyer_member_info",contactLoginId:n.memberId}).then((function(t){t.data&&t.data.object&&(e.setState({detailData:t.data.object}),e.props.notify&&e.props.notify(t.data.object))}))}}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.contact&&e.contact&&this.props.contact.memberId!==e.contact.memberId){var n=this.props,r=n.role,a=n.complexMode,o=e.contact;(0,l.default)("mtop.alibaba.icbu.im.queryMembersInfoByLoginId",{queryType:"buyer"===r?"get_seller_member_info":"get_buyer_member_info",contactLoginId:o.memberId}).then((function(e){if(e.data&&e.data.object){t.setState({detailData:e.data.object});var n=e.data.object;a||(r="2020MC_UserInfo_CallTime&isWorkingTime="+t.isWorkingTime(new Date(t.getTimeStamps(n.currentTimeZone)))+"&toLoginId="+o.memberId+"&otherCurrentTimeLong="+n.currentTimeLong+"&currentTimeZone="+n.currentTimeZone+"&countryCode="+n.countryCode+"&selfLocalTimeLong="+ +Date.now()+"&unixTimestamp="+ +Date.now(),m&&m(r,"weblite"===window.host?"/sc.ma.weblite":"/sc.ma.messenger")),t.props.notify&&t.props.notify(e.data.object)}var r}))}}},{key:"getTimeStamps",value:function(e){var t=new Date;return t.getTime()+6e4*t.getTimezoneOffset()+36e5*e}},{key:"isWorkingTime",value:function(e){return e.open&&e.existTimeInner}},{key:"render",value:function(){var e=this.props,t=e.contact,n=void 0===t?{}:t,r=e.complexMode,a=void 0===r||r,o=e.role,i=n.name,s=n.fullPortrait,l=this.state.detailData||{},u=l.currentTimeZone,p=l.recentContact,m=l.recentContactIcon,g=l.displayAssurance,v=l.assuranceIcon,y=l.verified,b=l.verifiedIcon,w=l.countryCode,x=l.countryIcon,C=l.joiningYears,E=l.videoSettingImInfo,S=this.state.detailData||{},k=S.buyerLevelIcon,T=S.potentialScore,_=void 0,I=void 0;if(u&&a){var O=new Date(this.getTimeStamps(u)),A=O.getHours(),D=O.getMinutes();I=(A<10?"0"+A:A)+":"+(D<10?"0"+D:D)+" "+(A<12?"AM":"PM");var M=d.get("meeting_time_tip00"),N=d.get("meeting_time_tip01"),P=d.get("meeting_time_tip02");this.isWorkingTime(E)?M=M.replace("{{0}}",""+I):(N=N.replace("{{0}}",""+I).replace("{{1}}",E.receptionTimeRange),P=P.replace("{{0}}",""+E.weekReceptionTimeRange)),_=this.isWorkingTime(E)?M:E.weekReceptionTimeRange?N+" "+P:N}var L=f({icon:!0,"recent-contact":p,"new-contact":!p});return c.default.createElement("div",{className:"im-meeting-contact-info"},c.default.createElement("div",{className:"content"},a&&(s?c.default.createElement("div",{className:"avatar"},c.default.createElement("img",{src:s,title:i})):c.default.createElement("div",{className:"avatar",style:{backgroundColor:h(i)}},c.default.createElement("span",{className:"letter"},(i||"").slice(0,1)))),c.default.createElement("div",{className:"detail"},a&&c.default.createElement("div",{className:"name"},i),"buyer"===o?c.default.createElement("div",{className:"buyer"},w&&c.default.createElement("span",{className:"icon-container"},c.default.createElement("img",{className:"icon country",src:x})," ",w),parseInt(C)>0&&c.default.createElement("span",{className:"icon-container"},C,c.default.createElement("span",{className:"small"},"YRS")),y&&c.default.createElement("span",{className:"icon-container verified"},c.default.createElement("img",{className:"icon",src:b})),g&&c.default.createElement("span",{className:"icon-container"},c.default.createElement("img",{className:"icon",src:v})),m&&c.default.createElement("span",{className:"icon-container"},c.default.createElement("img",{className:L,src:m}))):c.default.createElement("div",{className:"seller"},w&&c.default.createElement("span",{className:"icon-container"},c.default.createElement("img",{className:"icon country",src:x})," ",w),k&&c.default.createElement("span",{className:"icon-container"},c.default.createElement("img",{className:"icon",src:k})),parseInt(T)>0&&c.default.createElement("span",{className:"icon-container full-bg"},T),m&&c.default.createElement("span",{className:"icon-container"},c.default.createElement("img",{className:L,src:m}))))),a&&u&&c.default.createElement("div",{className:"time"},_))}}]),t}(c.default.Component);t.default=g,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return o.default.request({api:e,v:"1.0",appKey:"21574054",data:t,dataType:"json",ecode:1}).catch((function(e){e.ret&&console.error("mtop error",e.ret)}))};var r,a=n(434),o=(r=a)&&r.__esModule?r:{default:r};o.default.config.mainDomain="alibaba.com",o.default.config.subDomain="h",o.default.config.prefix=window.mtopServerDomain||"acs",e.exports=t.default},function(e,t){"undefined"===typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function n(){var e={},t=new p((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}function r(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function a(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}function o(){if(window.etSign)window.__etReady=!0;else{window.etReady=function(){window.__etReady=!0};var e=document.createElement("script");e.id="aplus-sufei",e.src="//g.alicdn.com/secdev/entry/index.js",a(e)}}function i(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function s(e){return"[object Object]"=={}.toString.call(e)}function c(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function l(e,t,n){var r=new Date;r.setTime(r.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+r.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+r.toGMTString()}function u(e,t){for(var n=e.split("."),r=t.split("."),a=0;3>a;a++){var o=Number(n[a]),i=Number(r[a]);if(o>i)return 1;if(i>o)return-1;if(!isNaN(o)&&isNaN(i))return 1;if(isNaN(o)&&!isNaN(i))return-1}return 0}function d(e){this.id=""+(new Date).getTime()+ ++b,this.params=r(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=h.slice(0)}var p=e.Promise,f=(p||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var m={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},h=[],g={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var r=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),a=t.match(r)||[],o=a[2]||"taobao.com",i=a[1]||"m";"taobao.net"!==o||"x"!==i&&"waptest"!==i&&"daily"!==i?"taobao.net"===o&&"demo"===i?i="demo":"alibaba-inc.com"===o&&"zebra"===i?i="zebra":"waptest"!==i&&"wapa"!==i&&"m"!==i&&(i="m"):i="waptest";var s="h5api";"taobao.net"===o&&"waptest"===i&&(s="acs"),m.mainDomain=o,m.subDomain=i,m.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(m.WindVaneVersion=n[1]);var r=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);r&&(m.AliAppName=r[1],m.AliAppVersion=r[2]);var a=t.match(/AMapClient\/([\d\.\_]+)/i);a&&(m.AliAppName="AMAP",m.AliAppVersion=a[1])}();var v=/[Android|Adr]/.test(e.navigator.userAgent),y="AP"===m.AliAppName&&u(m.AliAppVersion,"10.1.2")>=0||"KB"===m.AliAppName&&u(m.AliAppVersion,"7.1.62")>=0||v&&"AMAP"===m.AliAppName&&u(m.AliAppVersion,"1.0.1")>=0,b=0;d.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},d.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},d.prototype.__processRequestType=function(n){var r=this,a=this.params,o=this.options;if(!0===m.H5Request&&(o.H5Request=!0),!0===m.WindVaneRequest&&(o.WindVaneRequest=!0),!1===o.H5Request&&!0===o.WindVaneRequest){if(!y&&(!t.windvane||parseFloat(o.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(y&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===o.H5Request)o.WindVaneRequest=!1;else if("undefined"==typeof o.WindVaneRequest&&"undefined"==typeof o.H5Request){if(t.windvane&&parseFloat(o.WindVaneVersion)>=5.4?o.WindVaneRequest=!0:o.H5Request=!0,y){if(o.WindVaneRequest=o.H5Request=void 0,e.AlipayJSBridge)if(s(a.data))o.WindVaneRequest=!0;else try{s(JSON.parse(a.data))?o.WindVaneRequest=!0:o.H5Request=!0}catch(e){o.H5Request=!0}else o.H5Request=!0;"AMAP"!==m.AliAppName||a.useNebulaJSbridgeWithAMAP||(o.WindVaneRequest=o.H5Request=void 0,o.H5Request=!0)}window.self!==window.top&&(o.H5Request=!0)}var i=e.navigator.userAgent.toLowerCase();return i.indexOf("youku")>-1&&o.mainDomain.indexOf("youku.com")<0&&(o.WindVaneRequest=!1,o.H5Request=!0),o.mainDomain.indexOf("youku.com")>-1&&i.indexOf("youku")<0&&(o.WindVaneRequest=!1,o.H5Request=!0),n?n().then((function(){var e=o.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===o.WindVaneRequest&&y&&o.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!y||!isNaN(o.retJson.error)||-1!==o.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return y&&s(a.data)&&(a.data=JSON.stringify(a.data)),m.H5Request=!0,r.__sequence([r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest]);"undefined"==typeof o.retJson.api&&"undefined"==typeof o.retJson.v&&(o.retJson.api=a.api,o.retJson.v=a.v,o.retJson.ret=[o.retJson.error+"::"+o.retJson.errorMessage],o.retJson.data={})}})):void 0};var w="_m_h5_c",x="_m_h5_tk";d.prototype.__getTokenFromAlipay=function(){var t=n(),r=this.options,a=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===r.useAlipayJSBridge&&!a&&y&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(r.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},d.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&c(w)?e.token=c(w).split(";")[0]:e.token=e.token||c(x),e.token&&(e.token=e.token.split("_")[0]),p.resolve()},d.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},d.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?f.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){var e=n.retJson,r=e.ret;if(r instanceof Array&&(r=r.join(",")),r.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&r.indexOf("ILLEGAL_ACCESS")>-1||r.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var a=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){a=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(a)}n.maxRetryTimes>0&&(l(w,n.pageDomain,"*"),l(x,n.mainDomain,n.subDomain),l("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=g.TOKEN_EXPIRED}})):void e()},d.prototype.__processRequestUrl=function(t){var n=this.params,r=this.options;if(r.hostSetting&&r.hostSetting[e.location.hostname]){var a=r.hostSetting[e.location.hostname];a.prefix&&(r.prefix=a.prefix),a.subDomain&&(r.subDomain=a.subDomain),a.mainDomain&&(r.mainDomain=a.mainDomain)}if(!0===r.H5Request){var i="//"+(r.prefix?r.prefix+".":"")+(r.subDomain?r.subDomain+".":"")+r.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===r.subDomain?"4272":"12574478"),c=(new Date).getTime(),l=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,a,o,i;return a=2147483648&e,o=2147483648&t,i=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^i^a^o:n|r?1073741824&i?3221225472^i^a^o:1073741824^i^a^o:i^a^o}function r(e,r,a,o,i,s,c){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,a,o),i),c)),n(t(e,s),r)}function a(e,r,a,o,i,s,c){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,a,o),i),c)),n(t(e,s),r)}function o(e,r,a,o,i,s,c){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,a,o),i),c)),n(t(e,s),r)}function i(e,r,a,o,i,s,c){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,a,o),i),c)),n(t(e,s),r)}function s(e){var t,n="",r="";for(t=0;3>=t;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,l,u,d,p,f,m,h,g,v;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e),v=function(e){for(var t,n=e.length,r=n+8,a=16*((r-r%64)/64+1),o=new Array(a-1),i=0,s=0;n>s;)i=s%4*8,o[t=(s-s%4)/4]=o[t]|e.charCodeAt(s)<<i,s++;return i=s%4*8,o[t=(s-s%4)/4]=o[t]|128<<i,o[a-2]=n<<3,o[a-1]=n>>>29,o}(e),f=1732584193,m=4023233417,h=2562383102,g=271733878,c=0;c<v.length;c+=16)l=f,u=m,d=h,p=g,f=r(f,m,h,g,v[c+0],7,3614090360),g=r(g,f,m,h,v[c+1],12,3905402710),h=r(h,g,f,m,v[c+2],17,606105819),m=r(m,h,g,f,v[c+3],22,3250441966),f=r(f,m,h,g,v[c+4],7,4118548399),g=r(g,f,m,h,v[c+5],12,1200080426),h=r(h,g,f,m,v[c+6],17,2821735955),m=r(m,h,g,f,v[c+7],22,4249261313),f=r(f,m,h,g,v[c+8],7,1770035416),g=r(g,f,m,h,v[c+9],12,2336552879),h=r(h,g,f,m,v[c+10],17,4294925233),m=r(m,h,g,f,v[c+11],22,2304563134),f=r(f,m,h,g,v[c+12],7,1804603682),g=r(g,f,m,h,v[c+13],12,4254626195),h=r(h,g,f,m,v[c+14],17,2792965006),f=a(f,m=r(m,h,g,f,v[c+15],22,1236535329),h,g,v[c+1],5,4129170786),g=a(g,f,m,h,v[c+6],9,3225465664),h=a(h,g,f,m,v[c+11],14,643717713),m=a(m,h,g,f,v[c+0],20,3921069994),f=a(f,m,h,g,v[c+5],5,3593408605),g=a(g,f,m,h,v[c+10],9,38016083),h=a(h,g,f,m,v[c+15],14,3634488961),m=a(m,h,g,f,v[c+4],20,3889429448),f=a(f,m,h,g,v[c+9],5,568446438),g=a(g,f,m,h,v[c+14],9,3275163606),h=a(h,g,f,m,v[c+3],14,4107603335),m=a(m,h,g,f,v[c+8],20,1163531501),f=a(f,m,h,g,v[c+13],5,2850285829),g=a(g,f,m,h,v[c+2],9,4243563512),h=a(h,g,f,m,v[c+7],14,1735328473),f=o(f,m=a(m,h,g,f,v[c+12],20,2368359562),h,g,v[c+5],4,4294588738),g=o(g,f,m,h,v[c+8],11,2272392833),h=o(h,g,f,m,v[c+11],16,1839030562),m=o(m,h,g,f,v[c+14],23,4259657740),f=o(f,m,h,g,v[c+1],4,2763975236),g=o(g,f,m,h,v[c+4],11,1272893353),h=o(h,g,f,m,v[c+7],16,4139469664),m=o(m,h,g,f,v[c+10],23,3200236656),f=o(f,m,h,g,v[c+13],4,681279174),g=o(g,f,m,h,v[c+0],11,3936430074),h=o(h,g,f,m,v[c+3],16,3572445317),m=o(m,h,g,f,v[c+6],23,76029189),f=o(f,m,h,g,v[c+9],4,3654602809),g=o(g,f,m,h,v[c+12],11,3873151461),h=o(h,g,f,m,v[c+15],16,530742520),f=i(f,m=o(m,h,g,f,v[c+2],23,3299628645),h,g,v[c+0],6,4096336452),g=i(g,f,m,h,v[c+7],10,1126891415),h=i(h,g,f,m,v[c+14],15,2878612391),m=i(m,h,g,f,v[c+5],21,4237533241),f=i(f,m,h,g,v[c+12],6,1700485571),g=i(g,f,m,h,v[c+3],10,2399980690),h=i(h,g,f,m,v[c+10],15,4293915773),m=i(m,h,g,f,v[c+1],21,2240044497),f=i(f,m,h,g,v[c+8],6,1873313359),g=i(g,f,m,h,v[c+15],10,4264355552),h=i(h,g,f,m,v[c+6],15,2734768916),m=i(m,h,g,f,v[c+13],21,1309151649),f=i(f,m,h,g,v[c+4],6,4149444226),g=i(g,f,m,h,v[c+11],10,3174756917),h=i(h,g,f,m,v[c+2],15,718787259),m=i(m,h,g,f,v[c+9],21,3951481745),f=n(f,l),m=n(m,u),h=n(h,d),g=n(g,p);return(s(f)+s(m)+s(h)+s(g)).toLowerCase()}(r.token+"&"+c+"&"+s+"&"+n.data),u={jsv:"2.7.2",appKey:s,t:c,sign:l},d={data:n.data,ua:n.ua};Object.keys(n).forEach((function(e){"undefined"==typeof u[e]&&"undefined"==typeof d[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(u[e]=n[e])})),n.ext_querys&&Object.keys(n.ext_querys).forEach((function(e){u[e]=n.ext_querys[e]})),r.getJSONP?u.type="jsonp":r.getOriginalJSONP?u.type="originaljsonp":(r.getJSON||r.postJSON)&&(u.type="originaljson"),"undefined"!=typeof n.valueType&&("original"===n.valueType?r.getJSONP||r.getOriginalJSONP?u.type="originaljsonp":(r.getJSON||r.postJSON)&&(u.type="originaljson"):"string"===n.valueType&&(r.getJSONP||r.getOriginalJSONP?u.type="jsonp":(r.getJSON||r.postJSON)&&(u.type="json"))),!0===r.useJsonpResultType&&"originaljson"===u.type&&delete u.type,r.dangerouslySetProtocol&&(i=r.dangerouslySetProtocol+":"+i),"5.0"===n.SV&&(i+="5.0/",o()),r.querystring=u,r.postdata=d,r.path=i}t()},d.prototype.__processUnitPrefix=function(e){e()};var C=0;d.prototype.__requestJSONP=function(e){function t(e){if(u&&clearTimeout(u),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===e)window[l]=function(){window[l]=void 0;try{delete window[l]}catch(e){}};else{window[l]=void 0;try{delete window[l]}catch(e){}}}var r=n(),o=this.params,s=this.options,c=o.timeout||2e4,l="mtopjsonp"+(o.jsonpIncPrefix||"")+ ++C,u=setTimeout((function(){e(s.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")}),c);s.querystring.callback=l;var d=document.createElement("script"),p=s.path+"?"+i(s.querystring)+"&"+i(s.postdata);return"5.0"===o.SV&&window.etSign&&(p+="&bx_et="+window.etSign(p)),d.src=p,d.async=!0,d.onerror=function(){t("ABORT"),e(s.abortErrMsg||"ABORT::接口异常退出")},window[l]=function(){s.results=Array.prototype.slice.call(arguments),t(),r.resolve()},a(d),r.promise},d.prototype.__requestJSON=function(t){function r(e){d&&clearTimeout(d),"TIMEOUT"===e&&l.abort()}var a=n(),o=this.params,s=this.options,l=new e.XMLHttpRequest,u=o.timeout||2e4,d=setTimeout((function(){t(s.timeoutErrMsg||"TIMEOUT::接口超时"),r("TIMEOUT")}),u);s.CDR&&c(w)&&(s.querystring.c=decodeURIComponent(c(w))),l.onreadystatechange=function(){if(4==l.readyState){var e,n,o=l.status;if(o>=200&&300>o||304==o){r(),e=l.responseText,n=l.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,s.results=[e],a.resolve()}catch(e){t("PARSE_JSON_ERROR::解析JSON失败")}}else r("ABORT"),t(s.abortErrMsg||"ABORT::接口异常退出")}};var p,f,m=s.path+"?"+i(s.querystring);s.getJSON?(p="GET",m+="&"+i(s.postdata)):s.postJSON&&(p="POST",f=i(s.postdata)),"5.0"===o.SV&&window.etSign&&(m+="&bx_et="+window.etSign(m)),l.open(p,m,!0),l.withCredentials=!0,l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Content-type","application/x-www-form-urlencoded");var h=o.ext_headers||o.headers;if(h)for(var g in h)l.setRequestHeader(g,h[g]);return l.send(f),a.promise},d.prototype.__requestWindVane=function(e){function r(e){if(i.results=[e],e&&e.stat&&e.stat.falcoId){var n=function(){},r={mtopStart:w,mtopEnd:Date.now(),falcoId:e.stat.falcoId};t.windvane.call(C,"falcoExtend",r,n,n)}a.resolve()}var a=n(),o=this.params,i=this.options,s=o.data,c=o.api,l=o.v,u=i.postJSON?1:0,d=i.getJSON||i.postJSON||i.getOriginalJSONP?"originaljson":"";"undefined"!=typeof o.valueType&&("original"===o.valueType?d="originaljson":"string"===o.valueType&&(d="")),!0===i.useJsonpResultType&&(d="");var p,f,m="https"===location.protocol?1:0,h=o.isSec||0,g=o.sessionOption||"AutoLoginOnly",v=o.ecode||0,y=o.ext_headers||{},b=o.ext_querys||{};p=2*(f="undefined"!=typeof o.timer?parseInt(o.timer):"undefined"!=typeof o.timeout?parseInt(o.timeout):2e4);var w=Date.now();!0===o.needLogin&&"undefined"==typeof o.sessionOption&&(g="AutoLoginAndManualLogin"),"undefined"!=typeof o.secType&&"undefined"==typeof o.isSec&&(h=o.secType);var x={api:c,v:l,post:String(u),type:d,isHttps:String(m),ecode:String(v),isSec:String(h),param:JSON.parse(s),timer:f,needLogin:!!o.needLogin,sessionOption:g,ext_headers:y,ext_querys:b};o.ttid&&!0===i.dangerouslySetWVTtid&&(x.ttid=o.ttid),Object.assign&&o.dangerouslySetWindvaneParams&&Object.assign(x,o.dangerouslySetWindvaneParams);var C="MtopWVPlugin";return"string"==typeof o.customWindVaneClassName&&(C=o.customWindVaneClassName),t.windvane.call(C,"send",x,r,r,p),a.promise},d.prototype.__requestAlipay=function(t){var r=n(),a=this.params,o=this.options,i={apiName:a.api,apiVersion:a.v,needEcodeSign:"1"===String(a.ecode),headers:a.ext_headers||{},usePost:!!o.postJSON};s(a.data)||(a.data=JSON.parse(a.data)),i.data=a.data,a.ttid&&!0===o.dangerouslySetWVTtid&&(i.ttid=a.ttid),(o.getJSON||o.postJSON||o.getOriginalJSONP)&&(i.type="originaljson"),"undefined"!=typeof a.valueType&&("original"===a.valueType?i.type="originaljson":"string"===a.valueType&&delete i.type),!0===o.useJsonpResultType&&delete i.type,Object.assign&&a.dangerouslySetAlipayParams&&Object.assign(i,a.dangerouslySetAlipayParams);var c="mtop";return"string"==typeof a.customAlipayJSBridgeApi&&(c=a.customAlipayJSBridgeApi),e.AlipayJSBridge.call(c,i,(function(e){o.results=[e],r.resolve()})),r.promise},d.prototype.__processRequest=function(e,t){var n=this;return f.then((function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return y?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")})).then(e).then((function(){var e=n.options,t=(n.params,e.results[0]),r=t&&t.ret||[];t.ret=r,r instanceof Array&&(r=r.join(","));var a=t.c;e.CDR&&a&&function(e,t,n){var r=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(r.domain?";domain="+r.domain:"")+(r.path?";path="+r.path:"")+(r.secure?";secure":"")+(r.httponly?";HttpOnly":"")+(r.sameSite?";Samesite="+r.sameSite:"")}(w,a,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),r.indexOf("SUCCESS")>-1?t.retType=g.SUCCESS:t.retType=g.ERROR,e.retJson=t}))},d.prototype.__sequence=function(e){var t=this,r=[],a=[];e.forEach((function e(o){if(o instanceof Array)o.forEach(e);else{var i,s=n(),c=n();r.push((function(){return s=n(),(i=o.call(t,(function(e){return s.resolve(e),c.promise}),(function(e){return s.reject(e),c.promise})))&&(i=i.catch((function(e){s.reject(e)}))),s.promise})),a.push((function(e){return c.resolve(e),i}))}}));for(var o,i=f;o=r.shift();)i=i.then(o);for(;o=a.pop();)i=i.then(o);return i};var E=function(e){if(m.EtRequest&&!window.__etReady){o();var t,n,r=Number(m.EtLoadTimeout)||5e3,a=!1;window.etReady=function(){window.__etReady=!0,a||(a=!0,e())};var i=function(){t&&clearInterval(t),n&&clearTimeout(n),a||(a=!0,e())};t=setInterval((function(){try{window.etSign&&(window.__etReady=!0,i()),window.etReady&&!window.__etReady&&(window.etReady=function(){window.__etReady=!0,i()})}catch(e){i()}}),100),n=setTimeout((function(){i()}),r)}else e()},S=function(e){e()};d.prototype.request=function(n){var a=this;if(this.options=r(n||{},m),!p){var o="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:o},new Error(o)}var i=p.resolve([E,S]).then((function(e){var t=e[0],n=e[1];return a.__sequence([t,a.__processRequestMethod,a.__processRequestType,a.__processToken,a.__processRequestUrl,a.middlewares,a.__processRequest,n])})).then((function(){var e=a.options.retJson;return e.retType!==g.SUCCESS?p.reject(e):a.options.successCallback?void a.options.successCallback(e):p.resolve(e)})).catch((function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:g.ERROR}):n="string"==typeof e?{ret:[e],retJson:g.ERROR}:void 0!==e?e:a.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:a.params.api,data:a.params.data,v:a.params.v,retJson:n}),a.options.failureCallback?void a.options.failureCallback(n):p.reject(n)}));return this.__processRequestType(),a.options.H5Request&&(a.constructor.__firstProcessor||(a.constructor.__firstProcessor=i),E=function(e){a.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=i,i},t.mtop=function(e){return new d(e)},t.mtop.request=function(e,t,n){var r={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new d(e).request(r)},t.mtop.H5Request=function(e,t,n){var r={H5Request:!0,successCallback:t,failureCallback:n||t};return new d(e).request(r)},t.mtop.middlewares=h,t.mtop.config=m,t.mtop.RESPONSE_TYPE=g,t.mtop.CLASS=d}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function r(t,r){var a=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),o=a&&r.h5url?r.h5url:r.url,i=r.dialogSize,s=this,c=e.dpr||1,l=document.createElement("div"),u=document.documentElement.getBoundingClientRect(),d=Math.max(u.width,window.innerWidth)/c,p=window.innerHeight/c;l.style.cssText=["-webkit-transform:scale("+c+") translateZ(0)","-ms-transform:scale("+c+") translateZ(0)","transform:scale("+c+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+d+"px","height:"+p+"px","z-index:2147483647","position: fixed","left:0","top:0px","background:"+(d>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var f=document.createElement("div");f.style.cssText=["width:100%","height:52px","background:transparent","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),f.innerText=t;var m=document.createElement("img");m.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),m.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var h=document.createElement("iframe");if(h.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),a)f.appendChild(m),l.appendChild(f);else{var g=i&&i.width||"420px",v=i&&i.height||"320px",y=50,b=50,w=24,x=-39;v.indexOf("px")>-1?w-=Number(v.replace("px",""))/2:v.indexOf("%")>-1&&(y-=Number(v.replace("%",""))/2),g.indexOf("px")>-1?x+=Number(g.replace("px",""))/2:g.indexOf("%")>-1&&(b+=Number(g.replace("%",""))/2),m.style.cssText=["position:absolute","width:15px","height:15px","top:"+y+"%","left:"+b+"%","cursor: pointer","border:0","z-index:1","overflow:hidden","margin-top:"+w+"px","margin-left:"+x+"px"].join(";"),l.appendChild(m),h.style.cssText=["position:absolute","top:0px","left:0px","bottom:0px","right:0px","margin:auto","width:"+g,"height:"+v,"border:0","background:#FFF","overflow:hidden","border-radius:18px"].join(";")}l.appendChild(h),l.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(l),h.src=o,m.addEventListener("click",(function(){s.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),l.dispatchEvent(e)}),!1),this.addEventListener=function(){l.addEventListener.apply(l,arguments)},this.removeEventListener=function(){l.removeEventListener.apply(l,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),l.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-u.top),l.parentNode&&l.parentNode.removeChild(l)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var a=e.Promise,o=t.mtop.CLASS,i=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push((function(e){var n=this,r=this.options,a=this.params;return e().then((function(){var e=r.retJson,o=e.ret,c=navigator.userAgent.toLowerCase(),l=c.indexOf("safari")>-1&&c.indexOf("chrome")<0&&c.indexOf("qqbrowser")<0;if(o instanceof Array&&(o=o.join(",")),(o.indexOf("SESSION_EXPIRED")>-1||o.indexOf("SID_INVALID")>-1||o.indexOf("AUTH_REJECT")>-1||o.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!r.WindVaneRequest&&(!0===i.LoginRequest||!0===r.LoginRequest||!0===a.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(!0!==r.safariGoLogin||!l||"taobao.com"===r.pageDomain)return t.login.goLoginAsync().then((function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})).catch((function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")}));t.login.goLogin()}}))})),t.mtop.loginRequest=function(e,t,n){var r={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new o(e).request(r)},t.mtop.antiFloodRequest=function(e,t,n){var r={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new o(e).request(r)},t.mtop.middlewares.push((function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==i.AntiFlood&&!0!==t.AntiFlood?void e():e().then((function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)}))})),t.mtop.antiCreepRequest=function(e,t,n){var r={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new o(e).request(r)},t.mtop.middlewares.push((function(t){var n=this,o=this.options,s=this.params;return!1!==o.AntiCreep&&(o.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==o.H5Request||!0!==i.AntiCreep&&!0!==o.AntiCreep?void t():t().then((function(){var t=o.retJson,i=t.ret;if(i instanceof Array&&(i=i.join(",")),i.indexOf("CHECKJS_FLAG")>-1&&t.uuid&&t.serid){try{var c=!!window.document._sufei_data2,l=new Image,u="https://fourier.taobao.com/ts?ext=200&uuid="+t.uuid+"&serid="+t.serid+"&sufei="+c;window.location&&location.href&&(u+="&href=="+location.href.substr(0,128)),window.__fyModule&&(u+="&fyModuleLoad="+window.__fyModule.load+"&fyModuleInit="+window.__fyModule.init),window.__umModule&&(u+="&umModuleLoad="+window.__umModule.load+"&umModuleInit="+window.__umModule.init),window.__uabModule&&(u+="&uabModuleLoad="+window.__uabModule.load+"&uabModuleInit="+window.__uabModule.init),window.__ncModule&&(u+="&ncModuleLoad="+window.__ncModule.load+"&ncModuleInit="+window.__ncModule.init),window.__nsModule&&(u+="&nsModuleLoad="+window.__nsModule.load+"&nsModuleInit="+window.__nsModule.init),window.__etModule&&(u+="&etModuleLoad="+window.__etModule.load+"&etModuleInit="+window.__etModule.init),l.src=u,document.body.appendChild(l)}catch(e){console.log(e,"上报异常")}return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}if((i.indexOf("RGV587_ERROR::SM")>-1||i.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var d="_m_h5_smt",p=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(d),f=!1;if(!0===o.saveAntiCreepToken&&p)for(var m in p=JSON.parse(p))s[m]&&(f=!0);if(!0===o.saveAntiCreepToken&&p&&!f){for(var m in p)s[m]=p[m];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new a((function(a,i){function c(){u.removeEventListener("close",c),e.removeEventListener("message",l),i("USER_INPUT_CANCEL::用户取消输入")}function l(t){var r;try{r=JSON.parse(t.data)||{}}catch(e){}if(r&&"child"===r.type){var p;u.removeEventListener("close",c),e.removeEventListener("message",l),u.hide();try{for(var f in"string"==typeof(p=JSON.parse(decodeURIComponent(r.content)))&&(p=JSON.parse(p)),p)s[f]=p[f];!0===o.saveAntiCreepToken?(document.cookie=d+"="+JSON.stringify(p)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(a)}catch(e){i("USER_INPUT_FAILURE::用户输入失败")}}}var u=new r("",t.data);u.addEventListener("close",c,!1),e.addEventListener("message",l,!1),u.show()}))}}))}))}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},function(e,t,n){},function(e,t,n){},function(e,t){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var a=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?t.push(n.charAt(a>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,a=0;r<e.length;a=++r%4)0!=a&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*a+8)-1)<<2*a|n.indexOf(e.charAt(r))>>>6-2*a);return t}},e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){e.exports=function(e,t){var n,r,a,o,i,s,c,l;for(n=3&e.length,r=e.length-n,a=t,i=3432918353,s=461845907,l=0;l<r;)c=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,a=27492+(65535&(o=5*(65535&(a=(a^=c=(65535&(c=(c=(65535&c)*i+(((c>>>16)*i&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(l+2))<<16;case 2:c^=(255&e.charCodeAt(l+1))<<8;case 1:a^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(l)))*i+(((c>>>16)*i&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0}},function(e,t){void 0!==typeof e&&(e.exports=function(e,t){for(var n,r=e.length,a=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),a=1540483477*(65535&a)+((1540483477*(a>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:a^=(255&e.charCodeAt(o+2))<<16;case 2:a^=(255&e.charCodeAt(o+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(o)))+((1540483477*(a>>>16)&65535)<<16)}return a=1540483477*(65535&(a^=a>>>13))+((1540483477*(a>>>16)&65535)<<16),(a^=a>>>15)>>>0})},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Headers",(function(){return u})),n.d(t,"Request",(function(){return v})),n.d(t,"Response",(function(){return b})),n.d(t,"DOMException",(function(){return x})),n.d(t,"fetch",(function(){return C}));var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof e&&e||{},a={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(a.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!==typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function f(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:a.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a.arrayBuffer&&a.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(a.blob)return this.blob().then(f);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,a,o=d(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=p(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),a=r?r[1]:"utf-8",t.readAsText(e,a),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=c(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},a.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,a,o=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(n=t.method||this.method||"GET",a=n.toUpperCase(),g.indexOf(a)>-1?a:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}})),t}function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},h.call(v.prototype),h.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var w=[301,302,303,307,308];b.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var x=r.DOMException;try{new x}catch(e){(x=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),x.prototype.constructor=x}function C(e,t){return new Promise((function(n,o){var i=new v(e,t);if(i.signal&&i.signal.aborted)return o(new x("Aborted","AbortError"));var l=new XMLHttpRequest;function d(){l.abort()}if(l.onload=function(){var e,t,r={statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();try{t.append(r,a)}catch(e){console.warn("Response "+e.message)}}})),t)};0===i.url.indexOf("file://")&&(l.status<200||l.status>599)?r.status=200:r.status=l.status,r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL");var a="response"in l?l.response:l.responseText;setTimeout((function(){n(new b(a,r))}),0)},l.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){o(new x("Aborted","AbortError"))}),0)},l.open(i.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?l.withCredentials=!0:"omit"===i.credentials&&(l.withCredentials=!1),"responseType"in l&&(a.blob?l.responseType="blob":a.arrayBuffer&&(l.responseType="arraybuffer")),t&&"object"===typeof t.headers&&!(t.headers instanceof u||r.Headers&&t.headers instanceof r.Headers)){var p=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){p.push(s(e)),l.setRequestHeader(e,c(t.headers[e]))})),i.headers.forEach((function(e,t){-1===p.indexOf(t)&&l.setRequestHeader(t,e)}))}else i.headers.forEach((function(e,t){l.setRequestHeader(t,e)}));i.signal&&(i.signal.addEventListener("abort",d),l.onreadystatechange=function(){4===l.readyState&&i.signal.removeEventListener("abort",d)}),l.send("undefined"===typeof i._bodyInit?null:i._bodyInit)}))}C.polyfill=!0,r.fetch||(r.fetch=C,r.Headers=u,r.Request=v,r.Response=b)}.call(this,n(106))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(445),o=(r=a)&&r.__esModule?r:{default:r};var i=document,s=void 0;function c(e){this.config=(0,o.default)({confirmTitle:"Upgrade now",hasMask:!0,rootId:"ifm-upgrade-dialog-warpper",imgUrl:"//i.alicdn.com/img/tfs/TB1C3wmX7WE3KVjSZSyXXXocXXa-228-168.png",title:"Gain more access",content:"",upgradeUrl:"//seller.alibaba.com/ggs/productLanding.html"},e),this.initDialog(this.config)}c.prototype={initDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config;if(i){var t=e.rootId,n=e.hasMask;this.rootEle||(this.rootEle=i.createElement("div"),this.rootEle.id=t,i.body.appendChild(this.rootEle));var r={hasMask:n?"show":""};this.rootEle.innerHTML=this.tpl('\n  <div class="ifm-upgrade-dialog-mask $!{hasMask}">\n  </div>\n  <div class="ifm-upgrade-dialog">\n      <div class="ifm-upgrade-dialog-close">\n      <svg t="1558685800372" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1097" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M973.184992 8.719876L8.918326 972.986543a29.767442 29.767442 0 0 0 42.0991 42.095131l964.266667-964.266666a29.767442 29.767442 0 0 0-42.099101-42.095132z" p-id="1098"></path><path d="M1015.280124 973.184992L51.013457 8.918326A29.767442 29.767442 0 0 0 8.922295 51.017426l964.266666 964.266667a29.767442 29.767442 0 0 0 42.095132-42.099101z" p-id="1099"></path></svg>\n      </div>\n      <div class="ifm-upgrade-dialog-body">\n          \n      </div>\n  </div>\n',r)}},resetContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config;this.rootEle&&(this.rootEle.querySelector(".ifm-upgrade-dialog-body").innerHTML=this.tpl('\n<img class="ifm-upgrade-dialog-img" src="$!{imgUrl}" />\n<h4 class="ifm-upgrade-dialog-title">$!{title}</h4>\n<p class="ifm-upgrade-dialog-content">$!{content}</p>\n<a class="ifm-upgrade-dialog-btn" href="$!{upgradeUrl}" target="_blank" >$!{confirmTitle}</a>\n',e))},open:function(e){this.rootEle&&!this.isShow&&(this.isShow=!0,this.resetContent((0,o.default)(this.config,e)),this.rootEle.style.display="block",this.onClose(),this.onUpgrade())},close:function(){if(this.rootEle&&this.isShow){this.rootEle.style.display="none",this.isShow=!1;var e=this.config.onClose;(void 0===e?function(){}:e)()}},onClose:function(){var e=this;if(this.rootEle&&!this.onCloseListener){var t=this.rootEle.querySelector(".ifm-upgrade-dialog-close");t&&(this.onCloseListener=t.addEventListener("click",(function(){e.close()})))}},onUpgrade:function(){var e=this,t=this.config.onUpgrade,n=void 0===t?function(){}:t;if(this.rootEle&&!this.onUpgradeListener){var r=this.rootEle.querySelector(".ifm-upgrade-dialog-btn");r&&(this.onUpgradeListener=r.addEventListener("click",(function(){n(),e.close()})))}},tpl:function(e,t){return e.replace(/\$\!\{([_a-zA-Z\d]+)\}/g,(function(e,n){return t[n]||""}))}},c.Dialog=function(e){return s||(s=new c(e)),e.variable?s.open(e):s.close(),null},t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},e.exports=t.default},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMicroService=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=d(n(0)),o=d(n(27)),i=d(n(449)),s=d(n(452)),c=n(170),l=d(n(453)),u=d(n(171));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}function f(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}window.__KONG_MICRO_SERVICES__=window.__KONG_MICRO_SERVICES__||{},window.__KONG_MICRO_SERVICES__.services=window.__KONG_MICRO_SERVICES__.services||{},window.__LINX_MICRO_SERVICES__=window.__KONG_MICRO_SERVICES__;var m,h,g,v,y=(m=f(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,c,l,d,p,f,m,h,g,v,y,b,w,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appGroup,r=void 0===n?"":n,a=t.appName,o=void 0===a?"":a,s=t.name,c=void 0===s?"":s,l=t.assetsVersionKey,d=void 0===l?"":l,p=t.assetsVersionKeyGroup,f=void 0===p?"":p,m=t.assetsVersion,h=void 0===m?"":m,g=t.versionStage,v=void 0===g?"":g,y=t.terminalType,b=void 0===y?"":y,w=t.protocol,e.prev=1,e.next=4,(0,i.default)({appGroup:r,appName:o,name:c,assetsVersionKey:d,assetsVersionKeyGroup:f,assetsVersion:h,versionStage:v,protocol:w,terminalType:b});case 4:return x=e.sent,e.abrupt("return",x);case 8:throw e.prev=8,e.t0=e.catch(1),u.default.trackerLoadFailProtocal({msg:e.t0&&e.t0.code?e.t0.code+": "+e.t0.message:"协议资源加载失败:"+e.t0.message,c1:r,c2:o,c3:c,c4:v,c5:e.t0.delay||"--"}),new Error("LINX_ERROR: LoadMicroServiceProtocol "+e.t0.code+"-"+e.t0.message);case 12:case"end":return e.stop()}}),e,void 0,[[1,8]])}))),function(e){return m.apply(this,arguments)}),b=(h=f(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.externals&&t.externals.react)){e.next=13;break}if(void 0!==(n=window[t.externals.react]||a.default||void 0)&&s.default.isCompatibility(n.version,t.version)&&!s.default.compare(n.version,s.default.getSemver(t.version),"<")){e.next=11;break}if(s.default.isCompatibility(n.version,"17.x")||s.default.isCompatibility(n.version,"18.x")){e.next=11;break}return e.next=6,(0,c.loadJS)(t.cdnPath);case 6:if(!window[t.externals.react]){e.next=10;break}return e.abrupt("return",{renderReact:window[t.externals.react],renderReactDOM:window[t.externals["react-dom"]]});case 10:throw new Error(t.cdnPath+" load fail,Global variable "+t.externals.react+" is undefined");case 11:return window[t.externals.react]||(window[t.externals.react]=a.default,window[t.externals["react-dom"]]=o.default),e.abrupt("return",{renderReact:window[t.externals.react],renderReactDOM:window[t.externals["react-dom"]]});case 13:return e.abrupt("return",{renderReact:a.default,renderReactDOM:o.default});case 14:case"end":return e.stop()}}),e,void 0)}))),function(e){return h.apply(this,arguments)}),w=(g=f(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,s,l,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.entry,r=t.dependencies,a=r.js,o=void 0===a?[]:a,i=r.css,s=void 0===i?[]:i,l=[],o&&o.length)for(u=0;u<o.length;u++)l.push((0,c.loadJS)(o[u]));if(s&&s.length)for(d=0;d<s.length;d++)l.push((0,c.loadCSS)(s[d]));return e.next=7,Promise.all(l);case 7:return e.next=9,Promise.all([(0,c.loadJS)(n)]);case 9:case"end":return e.stop()}}),e,void 0)}))),function(e){return g.apply(this,arguments)}),x=(v=f(regeneratorRuntime.mark((function e(t){var n,a,o,i,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return n=e.sent,a=n.data,o=a.dependencies,i=o.runtime,s=(void 0===i?[]:i).find((function(e){return"react"===e.name})),e.next=9,b(s);case 9:return c=e.sent,e.next=12,w(a);case 12:return l=C(a.id),e.abrupt("return",r({},c,{RemoteComponent:l}));case 14:case"end":return e.stop()}}),e,void 0)}))),function(e){return v.apply(this,arguments)}),C=function(e){var t=e;try{if(!window.__KONG_MICRO_SERVICES__.services[t]){var n=t.replace(/\d+\.\d+\.\d+\//,""),r=Object.keys(window.__KONG_MICRO_SERVICES__.services);if(r.length){var a=r.map((function(e){return e.replace(/\d+\.\d+\.\d+\//,"")})).indexOf(n);a>-1&&(t=r[a],console.info("[LINX微前端SDK]: 微服务 "+t+" 开启本地联调"))}}}catch(e){console.warn("[LINX微前端SDK]: getRemoteComponent",e)}return window.__KONG_MICRO_SERVICES__.services[t]},E=t.createMicroService=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.default.install();var n=x(e),o=function(o){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,o.call(this,e));return t.bridge=function(e){var n=e.renderReact,a=e.renderReactDOM,o=e.RemoteComponent,i=t.state.componentProps,s=void 0===i?{}:i;if(t.bridgeDom){var c=(0,l.default)({React:n,RemoteComponent:o});a.render(n.createElement(c,r({ref:function(e){t.asyncComponent=e}},s)),t.bridgeDom)}},t.state={Component:null,componentProps:e},t}return p(i,o),i.prototype.componentDidMount=function(){var r=this;n.then((function(e){var n=e.renderReact,o=e.renderReactDOM,i=e.RemoteComponent;n===a.default?r.setState({Component:i}):r.bridge({renderReact:n,renderReactDOM:o,RemoteComponent:i}),t.onReady&&t.onReady()}),(function(n){var o=e.appGroup,i=void 0===o?"":o,s=e.appName,c=void 0===s?"":s,l=e.name,d=void 0===l?"":l,p=e.versionStage,f=void 0===p?"":p;u.default.trackerComponentRenderError({msg:"微服务渲染失败: "+JSON.stringify(n),c1:i,c2:c,c3:d,c4:f}),console.error("[LINX微前端SDK]: 渲染失败 ",n);var m=t.errorComponent||function(){return a.default.createElement("span",{style:{color:"red",padding:"6px 8px",outline:"1px solid red",display:"none"}},n.message)};r.setState({Component:m}),t.onError&&t.onError(n)}))},i.prototype.componentWillReceiveProps=function(e){this.setState({componentProps:e})},i.prototype.render=function(){var e=this,t=this.state,n=t.Component,r=t.componentProps,o=void 0===r?{}:r;return n?a.default.createElement(n,o):(this.asyncComponent&&this.asyncComponent.updateProps(o),a.default.createElement("span",{style:{display:"none"},ref:function(t){t&&(e.bridgeDom=t.parentElement)}}))},i}(a.default.Component);o.displayName="MicroServiceComponentContainer";var i=e.name.replace(/^\w/,(function(e){return e.toUpperCase()})).replace(/[-/_](\w)/g,(function(e,t){return t.toUpperCase()}));return o.displayName="MicroFront("+e.appGroup+"/"+e.appName+"/"+e.name+"("+i+"))",o};t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});Object.assign,o(n(169));var r=n(170),a=o(n(171));function o(e){return e&&e.__esModule?e:{default:e}}var i={};t.default=function(e){var t=e.appGroup,n=e.appName,o=e.name,s=e.assetsVersionKeyGroup,c=e.assetsVersionKey,l=e.assetsVersion,u=e.versionStage,d=e.protocol,p=e.terminalType,f="linx-react-"+t+"-"+n+"-"+o+"-"+p;if(i[f])return i[f];var m=void 0;if(d)m=Promise.resolve(d);else{var h=new URL(location.protocol+"//onetouch.alibaba.com/faas/micro-front");h.searchParams.set("appGroup",t),h.searchParams.set("appName",n),h.searchParams.set("name",o),s&&h.searchParams.set("assetsVersionKeyGroup",s),c&&h.searchParams.set("assetsVersionKey",c),l&&h.searchParams.set("assetsVersion",l),p&&h.searchParams.set("terminalType",p),m=window.location&&/\.alibaba\.com$/.test(window.location.origin)?new Promise((function(e,r){var i=new Date,s=setTimeout((function(){a.default.trackerLoadFailProtocalAfter10senconds({msg:"协议资源加载 超时10s 仍未返回",c1:t,c2:n,c3:o,c4:u}),l(h.href)}),1e4),c=setTimeout((function(){a.default.trackerLoadFailProtocalAfter20senconds({msg:"协议资源加载 超时20s 仍未返回",c1:t,c2:n,c3:o,c4:u}),l(h.href)}),2e4),l=function(t){fetch(t,{credentials:"omit"}).then((function(e){return e.json()})).then((function(t){return clearTimeout(s),clearTimeout(c),200===t.code?e(t):r({code:t.code||"",message:t.message||"",delay:new Date-i})})).catch((function(e){clearTimeout(s),clearTimeout(c),r({code:500,message:e,delay:new Date-i})}))};l(h.href)})):(0,r.jsonp)(h.href)}return m.then((function(e){try{e&&e.data&&e.data.version&&a.default.trackerMicroServiceResourceVersion({msg:"微服务组件: "+o,c1:t,c2:n,c3:o,c4:e.data.version})}catch(e){}})),i[f]=m,i[f]},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var a,o,i;function s(e){if(u(console)&&p(console.warn)){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=console).warn.apply(t,["[itrace says] "+e].concat(r))}}function c(e){return void 0!==e}function l(e){var t=Date.now();"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now&&(t+=performance.now());var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:11&n).toString(16)}));return!1===e?n.replace(/-/g,""):n}function u(e){return"object"==typeof e}function d(e){return"[object Array]"==={}.toString.call(e)}function p(e){return"function"==typeof e}function f(e){var t=+new Date;return!0===e&&(t=Math.floor(t/1e3)),t}function m(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&")}function h(e){return!!e&&(e>=1||"100%"===e||(/^\d+(\.\d+)?%$/.test(e)?Math.random()<parseFloat(e)/100:e>0&&e<1&&Math.random()<e))}function g(){for(var e=arguments.length<=0?void 0:arguments[0],t=1,n=arguments.length;t<n;t++){var r=t<0||arguments.length<=t?void 0:arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}function v(e,t){if(-1===t)e();else var n=setTimeout((function(){e(),clearTimeout(n)}),t||0)}function y(e,t,n,r,a){void 0===r&&(r=!1),void 0===a&&(a=!1),e.addEventListener?e.addEventListener(t,(function o(i){a&&e.removeEventListener(t,o,r),n.call(this,i)}),r):e.attachEvent&&e.attachEvent("on"+t,(function o(i){a&&e.detachEvent(t,o,r),n.call(this,i)}))}function b(e){for(var t in e)e.hasOwnProperty(t)&&0===t.indexOf("_")&&delete e[t];for(var n,r=1;r<=15;r++)n="bl"+r,e.hasOwnProperty(n)&&(e["w_"+n]=e[n],delete e[n]);n=null,function(e,t){for(var n,r=t.length,a=0;a<r;a++)"string"==typeof(n=e[t[a]])?e[t[a]]=n.substring(0,128):"object"==typeof n&&(n=JSON.stringify(n),e[t[a]]=n.substring(0,128))}(e,["c1","c2","c3","c4","c5"])}n.r(t),n.d(t,"getItraceInstance",(function(){return ee})),n.d(t,"getItraceSingleton",(function(){return te})),n.d(t,"iTraceReporter",(function(){return Q})),function(e){e.ZH="cn",e.INTL="intl"}(a||(a={})),function(e){e[e.JSERR=1]="JSERR",e[e.API=2]="API",e[e.PERF=3]="PERF",e[e.RESERR=4]="RESERR",e[e.PVUV=5]="PVUV",e[e.BKPG=6]="BKPG",e[e.PERFNEXT=1e3]="PERFNEXT",e[e.MAINDOC=1e5]="MAINDOC",e[e.RESTIMING=100001]="RESTIMING"}(o||(o={})),function(e){e.JSERR="jserr",e.API="api",e.PERF="jsfsperf",e.RESERR="resloadfail",e.PVUV="flow",e.BKPG="bkpg",e.CUSTOM="jssdkidx"}(i||(i={}));var w,x="undefined"!=typeof navigator?(navigator.userAgent||"").toLowerCase():"",C=function(){function e(e){this.logSrc="jssdk",e=e||{},this.bid=e.bid||"",this.cid=e.cid||"",this.uid=e.uid||"",this.rel=e.rel||"",this.debug=e.debug||!1,this.delay=!1!==e.delay,this.cluster=e.cluster||a.ZH,this.sampleRate=e.sampleRate,this.ready=!1,this.plugins=e.plugins||[],this.gateway=e.gateway||""}var t=e.prototype;return t.print=function(){!0===this.debug&&s.apply(void 0,arguments)},t.isReady=function(){return this.ready},t.setReady=function(){this.ready=!0},t.setConfig=function(e){var t=this;if(u(e)){var n=function(n){var r;(function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.call(this,e[n]))return!0;return!1})(["plugins"],(function(e){return e===n}))||g(t,((r={})[n]=e[n],r))};for(var r in e)n(r)}},e}(),E=function(){function e(){this.logList=[],this.preLogList=[]}var t=e.prototype;return t.getLogList=function(){return this.logList},t.getPreLogList=function(){return this.preLogList},t._updateLogQueue=function(e){var t=this.logList.length,n=!0;if(1!==e.category||0===t)this.logList.push(e);else{for(var r,a=0;a<t;a++)if((r=this.logList[a])._hash===e._hash){r.w_cnt=r.w_cnt?++r.w_cnt:1,n=!1;break}n&&this.logList.push(e)}return n},t.popLog=function(){return this.logList.shift()},t.popPreLog=function(){return this.preLogList.shift()},t.pushLog=function(e){return this._updateLogQueue(e)},t.hasLog=function(){return this.logList&&this.logList.length>0},t.pushPreLog=function(e){this.preLogList.push(e)},t.hasPreLog=function(){return this.preLogList&&this.preLogList.length>0},t.setPreLogList=function(e){void 0===e&&(e=[]),this.preLogList=this.preLogList.concat(e)},t.clearLogList=function(){this.logList=[]},e}();!function(e){e.ZH="cn",e.INTL="intl"}(w||(w={}));var S,k,T=function(){function e(){}return e.getAddr=function(t,n){return n?""+n+e.uploadPath:""+(t===w.ZH?e.cnPrefix:e.intlPrefix)+e.uploadPath},e.getConfAddr=function(t,n){return n?""+n+e.jconfigPath:""+(t===w.ZH?e.cnPrefix:e.intlPrefix)+e.jconfigPath},e}();function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}T.signKey="Uvn#08uefVdwe&c4",T.cnPrefix="https://px.effirst.com",T.intlPrefix="https://px-intl.ucweb.com",T.erPrefix="https://erpx.effirst.com",T.uploadPath="/api/v1/jssdk/upload",T.jconfigPath="/api/v1/jconfig",function(e){e[e.JSERR=1]="JSERR",e[e.API=2]="API",e[e.PERF=3]="PERF",e[e.RESERR=4]="RESERR",e[e.PVUV=5]="PVUV",e[e.BKPG=6]="BKPG",e[e.PERFNEXT=1e3]="PERFNEXT",e[e.MAINDOC=1e5]="MAINDOC",e[e.RESTIMING=100001]="RESTIMING"}(S||(S={})),function(e){e.JSERR="jserr",e.API="api",e.PERF="jsfsperf",e.RESERR="resloadfail",e.PVUV="flow",e.BKPG="bkpg",e.CUSTOM="jssdkidx"}(k||(k={}));var A=window,D=document,M=navigator,N=location,P=void 0!==A.devicePixelRatio?A.devicePixelRatio:1;function L(e,t){for(var n,r,a=e.split("."),o=t.split("."),i=a.length,s=0;s<i;s++)if((n=parseInt(a[s]))!==(r=parseInt(o[s])))return n>r;return!0}function R(e){try{if(c(window)&&window.hasOwnProperty("ucweb")&&window.ucweb.window||c(e)){for(var t=(e||M.userAgent).split(" "),n=t.length,r=!1,a=0;a<n;a++)if(-1!==t[a].indexOf("UWS/")){r=L(t[a].split("/")[1],"2.13.2.37");break}return r||x.indexOf("ucbrowser/")>-1||x.indexOf("quark/")>-1}}catch(e){console.error(e)}return!1}var F=function(){var e,t,n,r,a;return 3===(null==(e=window.ucweb)||null==(t=e.window)||null==(n=t.performance)?void 0:n.pt)||(null==(r=window.compass)||null==(a=r.env)?void 0:a.isPrerender)};function j(e){try{var t="__wpktestingls__";return e().setItem(t,t),e().removeItem(t),!0}catch(e){return!1}}function B(){return localStorage}var z={get:function(e){if(j(B)){var t=B().getItem(e);if(t){if(t=JSON.parse(t),Date.now()<t.expireAt)return t;this.rm(e)}}return null},set:function(e,t){j(B)&&e&&t&&(t.expireAt=Date.now()+18e5,B().setItem(e,JSON.stringify(t)))},rm:function(e){j(B)&&B().removeItem(e)}};function q(){return sessionStorage}var V,U=function(e,t){if(t){if(1===t.length)return e===t[0];if(2===t.length){var n=t[0],r=t[1];return n&&!r?a(e,n):n&&r?a(e,n)&&a(r,e):a(r,e)}return!1}return!0;function a(e,t){var n=e.split("."),r=t.split(".");return!(parseInt(n[0])<parseInt(r[0]))&&(parseInt(n[0])>parseInt(r[0])||!(parseInt(n[1])<parseInt(r[1]))&&(parseInt(n[1])>parseInt(r[1])||parseInt(n[2])>=parseInt(r[2])))}};var H={},W=function(e,t,n,r,a){if(void 0===t){if(!H[e]){var o,i=new RegExp(e+"=([^;]+)");try{o=i.exec(D.cookie)}catch(e){return null}o&&(H[e]=o[1])}return H[e]}var s=e+"="+t;r&&(s+="; domain="+r),a&&(s+="; path="+a),n&&(s+="; max-age="+n);try{D.cookie=s}catch(e){return null}return s},G=function(e){return"itrace"+e.replace(/^\S/g,(function(e){return e.toUpperCase()}))+"Plugin"},K=function(e,t){try{var n=G(t.id),r=window[n];p(r)?(new r(t).init(e),e.print(t.id+" init success")):e.print(t.id+"'s constructor is not exist")}catch(n){e.print(t.id+" init fail: ",n)}},J=function(e,t){try{new(0,t.plugin)(t).init(e),e.print(t.id+" init success by option.plugin")}catch(n){e.print(t.id+" init fail: ",n)}};function Z(e,t,n,r){if(void 0!==window.ucapi&&"function"==typeof window.ucapi.invoke){var a=_({},t,{success:n,fail:r});window.ucapi.invoke(e,a)}else r&&r("ucapi is not exist")}function X(){return M&&!!M.sendBeacon&&A.Blob}function Y(){return X()&&!function(){if(!c(V)){var e=(M?M.userAgent:"").toLowerCase();V=e.indexOf("windvane")>-1&&/(iphone|ipad|ipod|ios)/i.test(e)}return V}()}!function(){if(!u(window)||!c(window.navigator))throw new Error("iTrace sdk only support")}();var Q=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).uc_param_str="",n.cdn="",n._sdkEnv={},n._wid="",n._begin=0,n._sid="",n._frmId="",n._dyStart=0,n.spa=t.spa||!1,n.ignoreU4HA=!0===t.ignoreU4HA,n.checkHidden=!1!==t.checkHidden,n.supportBeaconBody=!1!==t.supportBeaconBody,n.maxSessDuration=t.maxSessDuration||288e5,n.immediatePV=!1!==t.immediatePV,n.uc_param_str=t.uc_param_str||"prveosfrnwutmisv",n.sdkVer="2.3.10",n.beforeSend=t.beforeSend,n.clearBeforeunload=!1!==t.clearBeforeunload,n.utdid=t.utdid,n.cdn=t.cdn||"",n._logq=new E,n._dying=!1,n._prerender=t.prerender,n.useNativeCH=!1!==t.useNativeCH,n._canReportByJsapi=n.useNativeCH&&function(){try{return void 0!==A&&void 0!==A.nativeWpkReport&&1===(A.nativeWpkReport||{}).enablePerformanceReport}catch(e){return!1}}(),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var o=a.prototype;return o.prerenderCommit=function(){if(this._sdkEnv.hasPrerenderCommit)this.print("prerenderCommit can only call once");else{this.print("prerender commit event"),this._sdkEnv.hasPrerenderCommit=!0;var e=new Event("wpkpageforeground");window.dispatchEvent(e),this.reportImmediatePV(!0)}},o._listenCompassPrerenderEvt=function(){var e=this;F()&&(this._sdkEnv.prerenderType="compass",y(document,"prerendercommit",(function(){e.prerenderCommit()}),!1,!0),y(document,"touchstart",(function(){e.prerenderCommit()}),!1,!0))},o._loadPlugins=function(){d(this.plugins)&&this.plugins.length>0&&function(e,t){for(var n,r=e._sdkEnv.useU4Monitor,a=["flow","interface","jserror","perf","resource","blank"],o=[],i=[],s=I(t);!(n=s()).done;){var c=n.value,l="string"==typeof c?{id:c,plugin:null}:c;if(l.id){if(r&&a.includes(l.id)&&!l.forceEnable){if(e.print("uccore monitor has been enabled, so ["+l.id+"] plugin will be ignore. you can set the plugin option [ forceEnable ] as true to enable it."),"interface"!==l.id||!l.enableTrace)continue;l.onlyForTrace=!0}if(l.plugin&&p(l.plugin))J(e,l);else{var u=G(l.id);p(window[u])?(e.print(l.id+" plugin already exists in window, init it immediately"),K(e,l)):(o.push(l),i.push("itrace-"+l.id+".iife.js"))}}else e.print("plugin options has no id, base sdk will ignore it")}!function(e,t,n){var r=(e.cdn||"https://g.alicdn.com/woodpeckerx/itrace-next")+"/??",a=document.getElementsByTagName("script")[0],o=document.createElement("script");o.type="text/javascript",o.crossOrigin="anonymous",o.async=!0,a&&a.parentNode?a.parentNode.insertBefore(o,a):document.head.appendChild(o),n.length>0&&(o.src=r+n.join(","),o.onload=function(){for(var n,r=I(t);!(n=r()).done;){var a=n.value;K(e,a)}})}(e,o,i)}(this,this.plugins)},o._normalizeLog=function(e){var t=e.uid||this.uid||this._wid,n=e.rel||this.rel,r=function(){if(!D)return{};var e,t=D.referrer;return t&&-1!==t.indexOf('"')&&(t=encodeURIComponent(D.referrer)),{w_url:(N.origin?N.origin:N.protocol+"//"+N.host)+N.pathname,w_query:N.search,w_ref:N.hash.substring(1),w_title:D.title,ua:M.userAgent,referrer:t,dsp_dpi:P||1,dsp_w:A.screen.width,dsp_h:A.screen.height,net:(e=M.connection,e&&e.type?"none"===e.type?"disconnected":"cellular"===e.type?"slow-2g"===e.effectiveType?"2g":e.effectiveType:e.type:"")}}(),a=function(e){var t;switch(e){case 1:t=i.JSERR;break;case 2:t=i.API;break;case 3:t=i.PERF;break;case 4:t=i.RESERR;break;case 5:t=i.PVUV;break;case 6:t=i.BKPG;break;default:t=i.CUSTOM}return t}(e.category),o={uid:t,utdid:e.utdid||this.utdid,wid:this._wid,type:a,category:e.category,w_cnt:1,w_rel:n,w_bid:e.bid||this.bid,w_cid:e.cid||this.cid||void 0,w_spa:this.spa,w_frmid:this._frmId,w_tm:f(),log_src:this.logSrc,sdk_ver:this.sdkVer,uc_param:this.uc_param},s={app:this.bid,cp:"none",de:4,seq:+new Date+Math.floor(10*Math.random()),tm:f(!0),ud:encodeURIComponent(t),ver:n,type:a,sver:this.sdkVer,sign:"9bf8a190ef82c5049df7b199c599c45b"},c=T.getAddr(this.cluster,this.gateway),l=m(s),u=c+"?wpk-header="+encodeURIComponent(l)+(this.uc_param_str&&!this.uc_param?"&uc_param_str="+this.uc_param_str:""),d=function(e){var t="";switch(e.category){case 1:t=[e.category,e.uid,e.w_url,e.w_ref,e.w_msg||"",e.w_line||"",e.w_col||""].join("");break;case 2:t=[e.category,e.uid,e.w_res,e.w_method,e.w_rc].join("");break;case 4:t=[e.category,e.uid,e.w_url,e.w_ref,e.w_res,e.w_type].join("")}return t}(o);return g(o,r,e,{_url:u,_hash:d})},o.send=function(e,t,n){var r,a,o;n&&"function"==typeof fetch?fetch(e,{method:"POST",body:t}).then((function(){})).catch((function(){})):c(t)?navigator.sendBeacon(e,t):X()?navigator.sendBeacon(e):(r=e,a="itraceimgreporter_"+f()+".r"+Math.floor(1e3*Math.random()),(o=A[a]=new Image).onload=o.onerror=function(){A[a]=null},o.src=r),this.print("log is sent: ",e)},o.sendByJsapi=function(e){var t=this;Z("webMonitor.reportWpkLog",e,(function(e){t.print("report success by jsapi",e)}),(function(e){t.print("report failed by jsapi",e)}))},o.setReady=function(){var t=this;e.prototype.setReady.call(this),v((function(){t._sendQueuingLogs()}),0)},o._updateSpecialFields=function(e){return e._dirty?g(e,{w_bid:this.bid,w_cid:this.cid,w_rel:this.rel,uid:this.uid,utdid:this.utdid}):e},o._sendQueuingLogs=function(){if(this._logq.hasLog()){var e=this._logq.getLogList();if(this._canReportByJsapi){for(var t=0;t<e.length;t++)try{var n=e[t];n.w_send_mode="jsapi",n._url=void 0,this.sendByJsapi({type:n.type,immediate:"jsfsperf"===n.type?0:1,args:n})}catch(e){this._reportToSelf(e)}this._logq.clearLogList()}else if(Y()&&this.supportBeaconBody){var r,a,o=function(e){for(var t,n,r=[],a=[],o=e.length,i=0;i<o;i++)n=e[i].category,-1===a.indexOf(n)&&a.push(n);t=a.length;for(var s=0;s<t;s++){n=a[s];for(var c=[],l=0;l<o;l++){var u=e[l];u.category===n&&c.push(u)}r[s]=c}return r}(e),i=o.length;try{for(var s,c,l=0;l<i;l++){c=[],s=(r=o[l])[0]._url,a=r.length;for(var u=0;u<a;u++)this._updateSpecialFields(r[u]),b(r[u]),r[u].w_send_mode="beacon",c.push(JSON.stringify(r[u]));this.send(s,encodeURIComponent(c.join("\n")))}this._logq.clearLogList()}catch(e){this.print(e),this._reportToSelf(e)}}else{for(var d=0,p=e.length;d<p;d++){var f=e[d],m=f._url,h=f._forcePost;this._updateSpecialFields(f),b(f),f.w_send_mode=h?"fetch":X()?"beacon":"img",f=encodeURIComponent(JSON.stringify(f));try{h?this.send(m,f,h):(m+="&data="+f,this.send(m))}catch(e){this.print(e),this._reportToSelf(e)}}this._logq.clearLogList()}}else this.print("logq is empty.")},o._handlePreReporting=function(){var e=window.__iTraceLogQueue;if(d(e)&&e.length>0&&(this._logq.setPreLogList(e),window.__iTraceLogQueue=[],this.print("preLogList is updated")),this._logq.hasPreLog()){this.print("handling logq for pre-reporting");for(var t,n,r=this._logq.getPreLogList();t=r.shift();)p(this[n=t.shift()])&&(this[n].apply(this,t),this.print(n+" is called by pre-reporting."))}},o.resetSession=function(){var e;this._sid=(e=l(),j(q)&&q().setItem("wpkreporter:frmid",e),e),this._begin=Date.now(),this._frmId=this._sid},o._useU4Monitor=function(){return!this.ignoreU4HA&&R()&&function(){if(c(document)&&document.getElementsByTagName)for(var e=document.getElementsByTagName("meta"),t=e.length,n=0;n<t;n++){var r=e[n];if("wpk-bid"===r.name)return r.content}return""}()===this.bid},o.init=function(){var e;this._syncDyconf(),this._wid=((e=W("__itrace_wid"))||(e=l(),W("__itrace_wid",e,15552e3)),e),this.resetSession(),this._sdkEnv.useU4Monitor=this._useU4Monitor(),this._sdkEnv.isPrerender=F()||this._prerender,this._loadPlugins(),this._listenCompassPrerenderEvt(),this.reportImmediatePV();var t=this;y(window,"beforeunload",(function(){(t.isReady()||t.clearBeforeunload)&&(t._sendQueuingLogs(),t.print("do clearing jobs on page unload~"))}),!0),setTimeout((function(){!function(e,t){try{Z("biz.ucparams",{params:e},(function(e){t.uc_param=e,t.print("get uc_param success",e)}),(function(e){t.print("get uc_param_str error: ",e)}))}catch(e){t.print("get uc_param_str error: ",e)}}(t.uc_param_str,t)}),0),this._sdkEnv.isPrerender&&this.print("预渲染场景下，白屏、性能检测时机为webview上屏之后")},o.reportImmediatePV=function(e){void 0===e&&(e=!1),this._sdkEnv.useU4Monitor||this._sdkEnv.isPrerender&&!e||!this.immediatePV||this.reportFlow()},o.report=function(e){var t=this;if(this.print("reporting data: ",e.category,e),!e||!e.category)return this;var n=e.sampleRate||this.sampleRate;if(n||0===n||(n=1),!h(n))return this.print("log sampling failed, data: %j, rate: %s",e,n),this;Date.now()-this._begin>=this.maxSessDuration&&this.resetSession();try{var r=this._normalizeLog(e);if(this._dyConf&&Date.now()<this._dyConf.expireAt){var a=r.type+"@"+r.category,o=this._dyConf[a];if(c(o)||(a=r.type||"undefined",o=this._dyConf[a]),o=c(o)?o:this._dyConf.all,c(o)&&!h(o))return this.print("log is rejected by dycf, type: %s, catetory: %s, rate: %s",r.type,r.category,o),this}else!this._dying&&Date.now()-this._dyStart>=18e5&&(this.print("syncing dynamic config"),this._syncDyconf());if(this._handlePreReporting(),p(this.beforeSend)&&!1===this.beforeSend(r))return this.print("the beforeSend hook rejects this log"),this;r.category===S.JSERR&&delete r.error;var i=this.isReady();if(r._dirty=!i,!this._logq.pushLog(r))return this.print("log merged: ",r),this;i?v((function(){t._sendQueuingLogs()}),this.delay&&-1!==[1,2,4].indexOf(r.category||0)?3e3:-1):this.print("sdk is not ready, you should call setReady to trigger reporting.")}catch(t){this.print("report failed: ",e,t),this._reportToSelf(t)}return this},o.reportFlow=function(e){var t=e||{};return t.category=S.PVUV,this.report(t),this},o.reportJSError=function(e,t){return function(e){var t={}.toString.call(e);return("[object Error]"===t||"[object Exception]"===t||t instanceof Error)&&u(e)}(e)?((t=t||{}).category=S.JSERR,t.w_msg=e.toString(),t.stack=function(e){if(e.stack){var t=e.stack.split("\n");return t.shift(),t.join("\n")}return""}(e),t.w_file=e.filename||"",t.w_line=e.lineno,t.w_col=e.colno,this.report(t)):this.print("the input is not a real JSError"),this},o.reportApi=function(e){if(e){u(e.queryString)&&(e.queryString=m(e.queryString));var t=g(e,{category:S.API,w_type:16,w_res:e.url,w_method:e.method,w_param:e.queryString,w_body:"object"==typeof e.body?JSON.stringify(e.body):e.body,w_resp:e.response,w_rc:e.status,w_rt:e.spent||0},{url:void 0,queryString:void 0,response:void 0,body:void 0,status:void 0,spent:void 0});this.report(t)}return this},o.reportBlankPage=function(e){var t=e||{};return e.hasOwnProperty("w_fp")||(t=g(e,{w_fp:999})),t=g(t,{category:S.BKPG}),this.report(t),this},o.reportPerf=function(e){return this._hasReportPerfData?(this.print("do not repeat report performance data"),this):(this.print("manual report performance data"),this.__customPerfCache__=e,this)},o._syncDyconf=function(){var e=T.getConfAddr(this.cluster,this.gateway),t=this;t._dyStart=Date.now(),t._dying=!0,function(e,t,n,r){var a="itracereporter:dynamicConf:"+e,o=z.get(a);if(o)p(r)&&r(o);else{var i=m({app:e,tm:f(!0),ud:l(),sver:t,sign:"c41e43c828c16c16a6eb1c9c1e68e8ce"});!function(e,t){if("undefined"==typeof XMLHttpRequest)t();else{var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){var e;if(200===n.status&&n.response)try{var r=JSON.parse(n.response);0===r.code&&(e=r.config||[])}catch(e){}t(e)}};try{n.open("GET",e,!0),n.timeout=3e3,n.send()}catch(e){}}}(n+"?wpk-header="+encodeURIComponent(i),(function(e){if(o={},void 0!==e){for(var n=e.length,i=0;i<n;i++){var s=e[i],c=s.sdkver;if(U(t,c)){if(s.common&&void 0!==s.common.sampleRate&&(o.all=s.common.sampleRate),s.config)for(var l=s.config.length,u=0;u<l;u++){var d=s.config[u];if(d.type){if(d.category_rate)for(var f in d.category_rate)o[d.type+"@"+f]=d.category_rate[f];d.sampleRate&&(o[d.type]=d.sampleRate)}}break}}try{z.set(a,o)}catch(e){}}p(r)&&r(o)}))}}(t.bid,t.sdkVer,e,(function(e){t._dying=!1,t._dyConf=e,t.print("jconfig come back")}))},o._reportToSelf=function(e,t){void 0===t&&(t={}),this.reportJSError(e,g({bid:"itrace-next"},t))},a}(C),$=window;function ee(e){var t=e||$.__itrace_conf||{},n=new Q(t);return n.init(),n}function te(e){if($.__itrace)return $.__itrace;var t=e||$.__itrace_conf||{};return $.__itrace=new Q(t),$.__itrace.init(),$.__itrace}$.__itrace_conf&&u($.__itrace_conf)&&!c($.__itrace)&&($.__itrace=new Q($.__itrace_conf),$.__itrace.init())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.COMP_NAME="bc-cdn-component-container",t.COMP_VERSION="no_meta_cache",t.CLUE_CODE=19,t.MONITOR_DISABLED=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(169),i=(r=o)&&r.__esModule?r:{default:r};var s=/(\d+)(?:\.([\dx]+)(?:\.([\dx]+))?)?/,c=function(e){var t=e.match(s),n=a(t,4);n[0];return{major:n[1],minor:n[2],patch:n[3]}};t.default={isCompatibility:function(e,t){var n=c(e),r=c(t);return n.major===r.major},getSemver:function(e){var t=c(e);return t.major+"."+(t.minor||0)+"."+(t.patch||0)},compare:function(){return i.default.compare.apply(i.default,arguments)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}t.default=function(e){var t=e.React,n=t.Component,o=t.createElement,i=e.RemoteComponent;return function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return a(t,e),t.prototype.updateProps=function(e){this.setState({props:e})},t.prototype.render=function(){var e=(this.state||{}).props,t=void 0===e?this.props:e;return o(i,r({},t))},t}(n)},e.exports=t.default},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(457);t.__esModule=!0,t.default=void 0;var a=r(n(4)),o=r(n(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),s=r(n(458)),c=n(3),l=n(463);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}n(464);var d=c.Overlay.Gateway,p=window.IcbuIM&&window.IcbuIM.lib.log,f=!!window.workbench&&location.protocol.indexOf("alires")>=0,m=function(e){function t(t){var n;return(n=e.call(this,t)||this).onStart=function(){n.setState({activeDrags:++n.state.activeDrags})},n.onStop=function(){n.setState({activeDrags:--n.state.activeDrags})},n.onClose=function(){n.props.onClose&&n.props.onClose()},n.onClickDownload=function(){g("2020MC_file_view_download");var e=n.props.previewObj,t=e.fileUrl,r=e.fileName,a=t.replace("redirectFileUrl","downloadFile");if(a.trim())return fetch(a).then((function(e){e.blob().then((function(e){var t=window.URL.createObjectURL(e);n.downloadByAtag(t,r)})),n.hideLoading()})).catch((function(e){c.Message.show({type:"error",title:"Download failed: "+e,prefix:"file-viewer"}),n.showLoading()}));g({ext:"2020MC_file_view_download_Error",resultMsg:"downloadUrl is Null",bizData:{fileName:r,fileUrl:t}})},n.downloadByAtag=function(e,t){void 0===t&&(t="");var n=document.createElement("a");document.body.appendChild(n),n.style.display="none",n.href=e,n.download=t,n.click(),document.body.removeChild(n)},n.resizeDialog=function(){var e={},t={},r=document.body.clientWidth,a=document.body.clientHeight;e.width=.8*r,e.height=.8*a,t.top=(a-(e.height+58))/2,t.left=(r-e.width)/2,window.parent!==window&&(t.top="40px",t.left="100px",t.right="100px",t.bottom="20px",t.position="fixed",e.width="100%",e.height="calc(100% - 58px)"),n.setState({dialogStyle:t,iframeStyle:e})},n.onFileLoad=function(){var e=n.props.previewObj,t=e.itemData;g("FilePreview&success=1&costTime="+(Date.now()-n.loadStart)+"&messageId="+(t&&t.messageId)+"&url="+encodeURIComponent(e.fileUrl))},n.onFileError=function(){var e=n.props.previewObj,t=e.itemData;g("FilePreview&success=0&costTime="+(Date.now()-n.loadStart)+"&messageId="+(t&&t.messageId)+"&url="+encodeURIComponent(e.fileUrl))},n.state={activeDrags:0,dialogStyle:{},iframeStyle:{}},n}(0,o.default)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.loadStart=Date.now(),this.resizeDialog(),window.addEventListener("resize",this.resizeDialog)},n.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeDialog)},n.render=function(){var e,t,n,r={onStart:this.onStart,onStop:this.onStop},o=this.props.previewObj;return i.default.createElement(d,null,i.default.createElement(s.default,(0,a.default)({bounds:"body",handle:".file-view-header"},r),i.default.createElement("div",{className:"im-file-view",style:this.state.dialogStyle},i.default.createElement("div",{className:"file-view-header"},o.itemData.contact.fullPortrait?i.default.createElement("div",{className:"avatar"},i.default.createElement("img",{src:o.itemData.contact.fullPortrait,title:o.itemData.contact.name})):i.default.createElement("div",{className:"avatar",style:{backgroundColor:(n=o.itemData.contact.name,["#50E3C2","#FE5D59","#FF9A59","#FFDD59","#59DBFF","#5966FF","#59ABFD","#FE5977","#5A8EFF","#A559FF","#50E3C2","#D84C4C"][Math.abs(h(n)%12)])}},i.default.createElement("span",{className:"letter"},(o.itemData.contact.name||"").slice(0,1))),i.default.createElement("div",{className:"detail"},i.default.createElement("div",{className:"name"},o.fileName),i.default.createElement("div",{className:"line"},i.default.createElement("span",{className:"pad"},(e=o.itemData.sendTime,(t=new Date(e)).getMonth()+"/"+t.getDay()+"/"+t.getFullYear())),i.default.createElement("span",null,function(e){if(!e)return"";if(e<1e3)return e+" B";if(e<1e6)return(e/1e3).toFixed(2)+" K";return(e/1e6).toFixed(2)+" M"}(o.fileSize)))),i.default.createElement("div",{className:"actions"},i.default.createElement("a",{onClick:this.onClickDownload,href:o.downloadUrl,download:o.fileName,rel:"external nofollow",target:"_blank"},i.default.createElement(c.Icon,{className:"icon",type:"download",size:"medium"})," "),i.default.createElement(c.Icon,{type:"close",size:"small",className:"icon close",onClick:this.onClose}))),i.default.createElement("iframe",{allowFullScreen:!0,src:o.fileUrl,style:this.state.iframeStyle,onLoad:this.onFileLoad,onError:this.onFileError}))))},t}(i.Component);function h(e){var t=0;if(!e)return t;for(var n=0;n<e.length;n++)t=31*t+e.charCodeAt(n),t&=4294967295;return t}function g(e){var t=window.host;l.isSellerPWA&&(t="pwa"),f&&(t="pc_client"),p&&p(e+"&host="+t,"/sc.ma.im")}t.default=m},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";const{default:r,DraggableCore:a}=n(459);e.exports=r,e.exports.default=r,e.exports.DraggableCore=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=p(n(20)),o=p(n(27)),i=p(n(460)),s=n(128),c=n(172),l=n(96),u=p(n(462)),d=p(n(173));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),h(this,"onDragStart",((e,t)=>{(0,d.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,c.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),h(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,c.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[a,o]=(0,c.getBoundPosition)(this,r.x,r.y);r.x=a,r.y=o,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),h(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,c.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:o.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:a,defaultClassName:o,defaultClassNameDragging:l,defaultClassNameDragged:d,position:p,positionOffset:f,scale:h,...g}=this.props;let v={},y=null;const b=!Boolean(p)||this.state.dragging,w=p||a,x={x:(0,c.canDragX)(this)&&b?this.state.x:w.x,y:(0,c.canDragY)(this)&&b?this.state.y:w.y};this.state.isElementSVG?y=(0,s.createSVGTransform)(x,f):v=(0,s.createCSSTransform)(x,f);const C=(0,i.default)(n.props.className||"",o,{[l]:this.state.dragging,[d]:this.state.dragged});return r.createElement(u.default,m({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:C,style:{...n.props.style,...v},transform:y}))}}t.default=g,h(g,"displayName","Draggable"),h(g,"propTypes",{...u.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),h(g,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.r(t),n.d(t,"clsx",(function(){return a})),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=a;const r=["Moz","Webkit","O","ms"];function a(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";const n=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!n)return"";if(t in n)return"";for(let e=0;e<r.length;e++)if(o(t,r[e])in n)return r[e];return""}function o(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=a()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=u(n(20)),o=u(n(27)),i=n(128),s=n(172),c=n(96),l=u(n(173));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={start:"touchstart",move:"touchmove",stop:"touchend"},m={start:"mousedown",move:"mousemove",stop:"mouseup"};let h=m;class g extends r.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,i.getTouchIdentifier)(e);this.touchIdentifier=r;const a=(0,s.getControlPosition)(e,r,this);if(null==a)return;const{x:o,y:c}=a,u=(0,s.createCoreData)(this,o,c);(0,l.default)("DraggableCore: handleDragStart: %j",u),(0,l.default)("calling",this.props.onStart);!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=c,(0,i.addEvent)(n,h.move,this.handleDrag),(0,i.addEvent)(n,h.stop,this.handleDragStop))})),p(this,"handleDrag",(e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);(0,l.default)("DraggableCore: handleDrag: %j",a);if(!1!==this.props.onDrag(e,a)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}})),p(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);if(!1===this.props.onStop(e,a)||!1===this.mounted)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(o.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,l.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(o.ownerDocument,h.move,this.handleDrag),(0,i.removeEvent)(o.ownerDocument,h.stop,this.handleDragStop))})),p(this,"onMouseDown",(e=>(h=m,this.handleDragStart(e)))),p(this,"onMouseUp",(e=>(h=m,this.handleDragStop(e)))),p(this,"onTouchStart",(e=>(h=f,this.handleDragStart(e)))),p(this,"onTouchEnd",(e=>(h=f,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,i.addEvent)(e,f.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,i.removeEvent)(t,m.move,this.handleDrag),(0,i.removeEvent)(t,f.move,this.handleDrag),(0,i.removeEvent)(t,m.stop,this.handleDragStop),(0,i.removeEvent)(t,f.stop,this.handleDragStop),(0,i.removeEvent)(e,f.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:o.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=g,p(g,"displayName","DraggableCore"),p(g,"propTypes",{allowAnyClick:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),p(g,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.isBuyerPWA=location.pathname.indexOf("messengerAlone.htm")>=0,a=t.isSellerPWA=location.pathname.indexOf("weblitePWA.htm")>=0,o=t.isPureMessenger=location.pathname.indexOf("messenger.htm")>=0||location.pathname.indexOf("messengerShadow.htm")>=0,i=t.isPureWeblite=location.pathname.indexOf("weblite.htm")>=0,s=t.isWebATM=location.pathname.indexOf("webATM.htm")>=0;t.isWeblite=i||s,t.isMessenger=r||a||o,t.isSeller=a||location.pathname.indexOf("maDetail")>=0},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports={"chat.translateFeedback.original":"Source","chat.translateFeedback.rateTip":"Rating","chat.translateFeedback.title":"Translation feedback","chat.translateFeedback.subTitle":"Translation quality","onepage.ma.chat.assign.pleaseEnter":"Type text here","chat.translateFeedback.rateTip.rate3":"Satisfactory translation","chat.translateFeedback.submit":"Submit","chat.translateFeedback.rateTip.rate1":"Very poor translation","chat.translateFeedback.rateTip.rate4":"Good translation","onepage.ma.session.plugin.translateFeedback":"Feedback","chat.translateFeedback.pleaseRevise":"Revision(optional)","chat.translateFeedback.rateTip.rate5":"Very good translation","chat.translateFeedback.translationRevision":"Translation revision","chat.translateFeedback.rateTip.rate2":"Poor translation"}},function(e,t){e.exports={}},function(e,t){e.exports={"chat.translateFeedback.rateTip.rate5":"翻譯非常好","onepage.ma.session.plugin.translateFeedback":"回饋意見","chat.translateFeedback.submit":"提交","chat.translateFeedback.pleaseRevise":"修改譯文（選填）","chat.translateFeedback.title":"翻譯回饋意見","chat.translateFeedback.rateTip.rate4":"翻譯較好","chat.translateFeedback.translationRevision":"翻譯修訂","onepage.ma.chat.assign.pleaseEnter":"請在此處輸入文字","chat.translateFeedback.rateTip.rate2":"翻譯較差","chat.translateFeedback.rateTip.rate3":"翻譯一般","chat.translateFeedback.original":"原文","chat.translateFeedback.rateTip.rate1":"翻譯很差","chat.translateFeedback.subTitle":"翻譯品質","chat.translateFeedback.rateTip":"請打分"}},function(e,t){e.exports={"chat.translateFeedback.rateTip.rate3":"満足できる翻訳","chat.translateFeedback.rateTip.rate1":"非常に悪い翻訳","onepage.ma.chat.assign.pleaseEnter":"ここにテキストを入力してください。","chat.translateFeedback.subTitle":"翻訳品質","chat.translateFeedback.pleaseRevise":"修正内容 (オプション)","chat.translateFeedback.submit":"提出する","chat.translateFeedback.rateTip.rate2":"悪い翻訳","onepage.ma.session.plugin.translateFeedback":"フィードバック","chat.translateFeedback.rateTip.rate5":"非常に良い翻訳","chat.translateFeedback.original":"ソース","chat.translateFeedback.rateTip.rate4":"良い翻訳","chat.translateFeedback.rateTip":"評価","chat.translateFeedback.title":"翻訳内容のフィードバック","chat.translateFeedback.translationRevision":"翻訳内容の修正"}},function(e,t){e.exports={}},function(e,t){e.exports={"chat.translateFeedback.rateTip":"Ocena","chat.translateFeedback.title":"Opinia zwrotna dotycząca tłumaczenia","chat.translateFeedback.submit":"Wyślij","chat.translateFeedback.pleaseRevise":"Weryfikacja (opcjonalna)","chat.translateFeedback.rateTip.rate3":"Zadowalające tłumaczenie","chat.translateFeedback.original":"Źródło","chat.translateFeedback.rateTip.rate4":"Dobre tłumaczenie","chat.translateFeedback.rateTip.rate5":"Bardzo dobre tłumaczenie","onepage.ma.session.plugin.translateFeedback":"Opinia","chat.translateFeedback.rateTip.rate1":"Tłumaczenie bardzo słabej jakości","onepage.ma.chat.assign.pleaseEnter":"Wprowadź tutaj tekst","chat.translateFeedback.subTitle":"Jakość tłumaczenia","chat.translateFeedback.rateTip.rate2":"Tłumaczenie słabej jakości","chat.translateFeedback.translationRevision":"Weryfikacja tłumaczenia"}},function(e,t){e.exports={"onepage.ma.session.plugin.translateFeedback":"反馈","chat.translateFeedback.original":"原文","onepage.ma.chat.assign.pleaseEnter":"请在此处输入文本","chat.translateFeedback.rateTip.rate2":"翻译较差","chat.translateFeedback.rateTip.rate1":"翻译很差","chat.translateFeedback.pleaseRevise":"修改译文（可选）","chat.translateFeedback.submit":"提交","chat.translateFeedback.translationRevision":"翻译修订","chat.translateFeedback.rateTip":"请打分","chat.translateFeedback.rateTip.rate3":"翻译一般","chat.translateFeedback.subTitle":"翻译质量","chat.translateFeedback.rateTip.rate4":"翻译较好","chat.translateFeedback.rateTip.rate5":"翻译非常好","chat.translateFeedback.title":"翻译反馈"}},function(e,t){e.exports={"chat.translateFeedback.rateTip.rate1":"बहुत ख़राब अनुवाद","chat.translateFeedback.rateTip.rate2":"ख़राब अनुवाद","chat.translateFeedback.pleaseRevise":"संशोधन (वैकल्पिक)","onepage.ma.chat.assign.pleaseEnter":"कृपया पाठ यहां टाइप करें","chat.translateFeedback.original":"स्रोत","chat.translateFeedback.rateTip":"रेटिंग","onepage.ma.session.plugin.translateFeedback":"प्रतिक्रिया","chat.translateFeedback.rateTip.rate5":"बहुत अच्छा अनुवाद","chat.translateFeedback.rateTip.rate4":"अच्छा अनुवाद","chat.translateFeedback.title":"अनुवाद प्रतिक्रिया","chat.translateFeedback.subTitle":"अनुवाद गुणवत्ता","chat.translateFeedback.submit":"सबमिट करें","chat.translateFeedback.rateTip.rate3":"संतोषजनक अनुवाद","chat.translateFeedback.translationRevision":"अनुवाद संशोधन"}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t){e.exports={"chat.translateFeedback.rateTip":"Değerlendirme","chat.translateFeedback.submit":"Gönder","chat.translateFeedback.subTitle":"Tercüme kalitesi","onepage.ma.chat.assign.pleaseEnter":"Lütfen metni buraya girin","chat.translateFeedback.rateTip.rate3":"Tatmin edici tercüme","chat.translateFeedback.title":"Tercüme geri bildirimi","chat.translateFeedback.pleaseRevise":"Revizyon (isteğe bağlı)","chat.translateFeedback.rateTip.rate2":"Kötü tercüme","chat.translateFeedback.rateTip.rate1":"Çok kötü tercüme","chat.translateFeedback.translationRevision":"Tercüme revizyonu","chat.translateFeedback.rateTip.rate4":"İyi tercüme","chat.translateFeedback.original":"Kaynak","onepage.ma.session.plugin.translateFeedback":"Geri Bildirim","chat.translateFeedback.rateTip.rate5":"Çok iyi tercüme"}},function(e,t){e.exports={"chat.translateFeedback.rateTip.rate3":"만족스러운 번역","chat.translateFeedback.pleaseRevise":"수정(옵션)","chat.translateFeedback.rateTip.rate5":"매우 좋은 번역","chat.translateFeedback.rateTip.rate1":"매우 안좋은 번역","chat.translateFeedback.translationRevision":"번역 수정","chat.translateFeedback.rateTip":"등급","chat.translateFeedback.rateTip.rate2":"안좋은 번역","chat.translateFeedback.original":"소스","chat.translateFeedback.rateTip.rate4":"좋은 번역","onepage.ma.session.plugin.translateFeedback":"피드백","onepage.ma.chat.assign.pleaseEnter":"여기에 글자를 입력하세요","chat.translateFeedback.submit":"제출","chat.translateFeedback.title":"번역 피드백","chat.translateFeedback.subTitle":"번역 품질"}},function(e,t){e.exports={"chat.translateFeedback.pleaseRevise":"Révision (facultatif)","chat.translateFeedback.original":"Source","chat.translateFeedback.rateTip":"Notation","chat.translateFeedback.rateTip.rate4":"Bonne traduction","chat.translateFeedback.rateTip.rate2":"Mauvaise traduction","chat.translateFeedback.rateTip.rate3":"Traduction satisfaisante","chat.translateFeedback.submit":"Envoyer","chat.translateFeedback.title":"Commentaires sur la traduction","chat.translateFeedback.subTitle":"Qualité de la traduction","chat.translateFeedback.rateTip.rate1":"Très mauvaise traduction","chat.translateFeedback.translationRevision":"Révision de la traduction","onepage.ma.chat.assign.pleaseEnter":"Veuillez entrer du texte ici","onepage.ma.session.plugin.translateFeedback":"Commentaires","chat.translateFeedback.rateTip.rate5":"Très bonne traduction"}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t){e.exports={"chat.translateFeedback.rateTip":"Clasificación","chat.translateFeedback.rateTip.rate5":"Muy buena traducción","chat.translateFeedback.original":"Fuente","onepage.ma.session.plugin.translateFeedback":"Comentarios","chat.translateFeedback.title":"Comentarios de traducción","chat.translateFeedback.submit":"Enviar","chat.translateFeedback.rateTip.rate3":"Traducción satisfactoria","chat.translateFeedback.translationRevision":"Revisión de la traducción","chat.translateFeedback.rateTip.rate4":"Buena traducción","chat.translateFeedback.rateTip.rate1":"Traducción muy mala","onepage.ma.chat.assign.pleaseEnter":"Ingrese el texto aquí","chat.translateFeedback.pleaseRevise":"Revisión (opcional)","chat.translateFeedback.subTitle":"Calidad de la traducción","chat.translateFeedback.rateTip.rate2":"Mala traducción"}},function(e,t){e.exports={"chat.translateFeedback.rateTip":"Penilaian","chat.translateFeedback.rateTip.rate2":"Terjemahan buruk","chat.translateFeedback.translationRevision":"Revisi terjemahan","chat.translateFeedback.rateTip.rate5":"Terjemahan sangat baik","chat.translateFeedback.submit":"Kirim","onepage.ma.chat.assign.pleaseEnter":"Ketik teks di sini","chat.translateFeedback.rateTip.rate1":"Terjemahan sangat buruk","chat.translateFeedback.rateTip.rate3":"Terjemahan memuaskan","chat.translateFeedback.subTitle":"Kualitas terjemahan","chat.translateFeedback.pleaseRevise":"Revisi (opsional)","onepage.ma.session.plugin.translateFeedback":"Umpan balik","chat.translateFeedback.title":"Umpan balik terjemahan","chat.translateFeedback.original":"Sumber","chat.translateFeedback.rateTip.rate4":"Terjemahan baik"}},function(e,t){e.exports={"chat.translateFeedback.original":"المصدر","onepage.ma.session.plugin.translateFeedback":"الملاحظات","chat.translateFeedback.rateTip.rate3":"ترجمة مرضية","chat.translateFeedback.pleaseRevise":"مراجعة (اختياري)","chat.translateFeedback.title":"ملاحظات الترجمة","chat.translateFeedback.subTitle":"جودة الترجمة","chat.translateFeedback.rateTip.rate1":"ترجمة ضعيفة جدًا","onepage.ma.chat.assign.pleaseEnter":"يُرجى كتابة النص هنا","chat.translateFeedback.rateTip.rate2":"ترجمة ضعيفة","chat.translateFeedback.submit":"إرسال","chat.translateFeedback.rateTip.rate5":"ترجمة جيدة جدًا","chat.translateFeedback.rateTip":"التصنيف","chat.translateFeedback.translationRevision":"مراجعة الترجمة","chat.translateFeedback.rateTip.rate4":"ترجمة جيدة"}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t){e.exports={"onepage.ma.session.plugin.translateFeedback":"Phản hồi","chat.translateFeedback.rateTip.rate5":"Bản dịch rất tốt","chat.translateFeedback.original":"Nguồn","chat.translateFeedback.title":"Phản hồi bản dịch","chat.translateFeedback.submit":"Nộp","chat.translateFeedback.rateTip.rate1":"Bản dịch rất kém","chat.translateFeedback.translationRevision":"Sửa đổi bản dịch","onepage.ma.chat.assign.pleaseEnter":"Vui lòng nhập văn bản ở đây","chat.translateFeedback.rateTip.rate2":"Bản dịch kém","chat.translateFeedback.pleaseRevise":"Sửa đổi (không bắt buộc)","chat.translateFeedback.subTitle":"Chất lượng dịch","chat.translateFeedback.rateTip":"Đánh giá","chat.translateFeedback.rateTip.rate3":"Bản dịch đạt yêu cầu","chat.translateFeedback.rateTip.rate4":"Bản dịch tốt"}},function(e,t){e.exports={"chat.translateFeedback.subTitle":"Qualidade de tradução","onepage.ma.session.plugin.translateFeedback":"Avaliação","chat.translateFeedback.rateTip.rate1":"Tradução muito ruim","chat.translateFeedback.translationRevision":"Revisão de tradução","chat.translateFeedback.pleaseRevise":"Revisão (opcional)","chat.translateFeedback.rateTip":"Avaliação","chat.translateFeedback.rateTip.rate4":"Tradução boa","chat.translateFeedback.title":"Avaliação de tradução","chat.translateFeedback.rateTip.rate3":"Tradução satisfatória","onepage.ma.chat.assign.pleaseEnter":"Por favor, digite o texto aqui","chat.translateFeedback.original":"Fonte","chat.translateFeedback.rateTip.rate2":"Tradução ruim","chat.translateFeedback.rateTip.rate5":"Tradução muito boa","chat.translateFeedback.submit":"Enviar"}},function(e,t){e.exports={"onepage.ma.session.plugin.translateFeedback":"Feedback","chat.translateFeedback.original":"Quelle","chat.translateFeedback.rateTip.rate4":"Gute Übersetzung","chat.translateFeedback.rateTip":"Bewertung","chat.translateFeedback.rateTip.rate3":"Zufriedenstellende Übersetzung","chat.translateFeedback.submit":"Senden","chat.translateFeedback.rateTip.rate1":"Sehr schlechte Übersetzung","onepage.ma.chat.assign.pleaseEnter":"Bitte Text hier eingeben","chat.translateFeedback.pleaseRevise":"Überarbeitung (optional)","chat.translateFeedback.rateTip.rate5":"Sehr gute Übersetzung","chat.translateFeedback.subTitle":"Übersetzungsqualität","chat.translateFeedback.translationRevision":"Überarbeitung der Übersetzung","chat.translateFeedback.rateTip.rate2":"Schlechte Übersetzung","chat.translateFeedback.title":"Feedback zur Übersetzung"}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t){e.exports={"chat.translateFeedback.pleaseRevise":"แก้ไข (ไม่บังคับ)","chat.translateFeedback.original":"จัดหา","chat.translateFeedback.translationRevision":"แก้ไขคำแปล","chat.translateFeedback.rateTip.rate4":"แปลได้ดี","chat.translateFeedback.rateTip":"ให้คะแนน","onepage.ma.session.plugin.translateFeedback":"ข้อเสนอแนะ","chat.translateFeedback.rateTip.rate5":"แปลได้ดีมาก","chat.translateFeedback.rateTip.rate2":"แปลได้แย่","chat.translateFeedback.rateTip.rate1":"แปลได้แย่มาก","chat.translateFeedback.rateTip.rate3":"แปลได้น่าพอใจ","chat.translateFeedback.title":"ข้อเสนอแนะเกี่ยวกับคำแปล","chat.translateFeedback.submit":"ส่ง","onepage.ma.chat.assign.pleaseEnter":"กรุณาพิมพ์ข้อความที่นี่","chat.translateFeedback.subTitle":"คุณภาพคำแปล"}},function(e,t){e.exports={"chat.translateFeedback.rateTip":"Valutazione","onepage.ma.chat.assign.pleaseEnter":"Digitare il testo qui","onepage.ma.session.plugin.translateFeedback":"Feedback","chat.translateFeedback.subTitle":"Qualità della traduzione","chat.translateFeedback.title":"Feedback sulla traduzione","chat.translateFeedback.rateTip.rate2":"Traduzione scadente","chat.translateFeedback.pleaseRevise":"Revisione (facoltativa)","chat.translateFeedback.rateTip.rate5":"Traduzione ottima","chat.translateFeedback.translationRevision":"Revisione della traduzione","chat.translateFeedback.submit":"Invia","chat.translateFeedback.rateTip.rate1":"Traduzione molto scadente","chat.translateFeedback.rateTip.rate4":"Traduzione buona","chat.translateFeedback.rateTip.rate3":"Traduzione soddisfacente","chat.translateFeedback.original":"Origine"}},function(e,t){e.exports={"chat.translateFeedback.translationRevision":"Revisie van de vertaling","chat.translateFeedback.original":"Bron","onepage.ma.chat.assign.pleaseEnter":"Typ hier de tekst","chat.translateFeedback.subTitle":"Kwaliteit van de vertaling","chat.translateFeedback.rateTip.rate2":"Slechte vertaling","chat.translateFeedback.pleaseRevise":"Revisie (optioneel)","chat.translateFeedback.rateTip.rate5":"Zeer goede vertaling","onepage.ma.session.plugin.translateFeedback":"Feedback","chat.translateFeedback.rateTip.rate1":"Zeer slechte vertaling","chat.translateFeedback.rateTip.rate3":"Behoorlijke vertaling","chat.translateFeedback.rateTip":"Beoordeling","chat.translateFeedback.rateTip.rate4":"Goede vertaling","chat.translateFeedback.submit":"Indienen","chat.translateFeedback.title":"Feedback over de vertaling"}},function(e,t){e.exports={"chat.translateFeedback.original":"原文","chat.translateFeedback.rateTip.rate1":"翻譯很差","chat.translateFeedback.rateTip.rate5":"翻譯非常好","chat.translateFeedback.subTitle":"翻译質量","chat.translateFeedback.submit":"提交","chat.translateFeedback.translationRevision":"翻譯修訂","onepage.ma.session.plugin.translateFeedback":"意見","chat.translateFeedback.rateTip.rate3":"翻譯一般","chat.translateFeedback.pleaseRevise":"修改譯文（選填）","chat.translateFeedback.title":"翻譯反饋","chat.translateFeedback.rateTip":"請打分","chat.translateFeedback.rateTip.rate4":"翻譯較好","chat.translateFeedback.rateTip.rate2":"翻譯較差","onepage.ma.chat.assign.pleaseEnter":"請在此輸入文字"}},function(e,t){e.exports={}},function(e,t){e.exports={"chat.translateFeedback.rateTip.rate2":"Terjemahan buruk","chat.translateFeedback.rateTip.rate4":"Terjemahan baik","chat.translateFeedback.rateTip.rate1":"Terjemahan amat buruk","chat.translateFeedback.rateTip":"Rating","chat.translateFeedback.rateTip.rate3":"Terjemahan memuaskan","chat.translateFeedback.rateTip.rate5":"Terjemahan amat baik"}},function(e,t){e.exports={"chat.translateFeedback.rateTip.rate2":"Плохой перевод","chat.translateFeedback.rateTip.rate1":"Очень плохой перевод","chat.translateFeedback.rateTip.rate4":"Хороший перевод","chat.translateFeedback.rateTip.rate3":"Удовлетворительный перевод","onepage.ma.session.plugin.translateFeedback":"Обратная связь","chat.translateFeedback.rateTip.rate5":"Очень хороший перевод","chat.translateFeedback.original":"Исходный текст","chat.translateFeedback.rateTip":"Рейтинг","chat.translateFeedback.translationRevision":"Исправленный перевод","onepage.ma.chat.assign.pleaseEnter":"Пожалуйста, введите текст здесь","chat.translateFeedback.subTitle":"Качество перевода","chat.translateFeedback.title":"Обратная связь по переводу","chat.translateFeedback.submit":"Отправить","chat.translateFeedback.pleaseRevise":"Исправления (опционально)"}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(502),i=(r=o)&&r.__esModule?r:{default:r};var s={},c=function(e){this.initAttrs(e)};c.prototype={attrs:{isLoggedIn:!1,isNewUser:!1,isFirstIn:!0,country:"",firstName:"",lastName:"",serviceType:"",memberSeq:"",locale:"",buyerLocale:"",buyerSite:"",buyerCurrency:""},get:function(e){return this._attrs[e]},set:function(e,t){this._attrs[e]=t},initAttrs:function(e){this._attrs=a(this.attrs,e||{})},setup:function(){var e={};if(i.default.get("xman_us_f"))for(var t=i.default.get("xman_us_f").split("&"),n=t.length;n--;){var r=t[n].split("=");e[r[0]]=r[1]}var a=i.default.get("xman_us_t"),o=i.default.get("xman_us_f"),s=/x_user=([^&"]+)/;a&&-1!==a.indexOf("sign=y")?this.set("isLoggedIn",!0):this.set("isLoggedIn",!1),o&&s.test(o)&&(o.match(s),(o=(o=RegExp.$1).split("|")).length>=5&&(this.set("country",o[0]),this.set("firstName",o[1].replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.set("lastName",o[2].replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.set("serviceType",o[3]),this.set("memberSeq",o[4])));var c=i.default.get("sc_g_cfg_f"),l={};if("string"==typeof c&&""!=c){for(var u=c.split("&"),d=u.length;d--;){var p=u[d].split("=");l[p[0]]=p[1]}this.set("buyerLocale",l.sc_b_locale),this.set("buyerSite",l.sc_b_site),this.set("buyerCurrency",l.sc_b_currency)}return""!==this.get("memberSeq")&&this.set("isNewUser",!0),""===i.default.get("ali_intl_firstIn")&&this.set("isFirstIn",!0),this.set("locale",e.x_locale||i.default.get("intl_locale")||"en_US"),this}},s=(new c).setup();var l=function(){var e=!0;return""!==s.get("memberSeq")&&(s.set("isNewUser",!1),e=!1),e};t.default={isLoggedIn:s.get("isLoggedIn"),isNewUser:l(),isFirstIn:s.get("isFirstIn"),country:s.get("country"),firstName:s.get("firstName"),lastName:s.get("lastName"),serviceType:s.get("serviceType"),memberSeq:s.get("memberSeq"),serverDomain:function(){var e;return s.setup(),e=s.get("serviceType"),["gs","cgs","twgs","hkgs","cnfm"].indexOf(e)>-1?"hz":"us"},getIsLoggedIn:function(){return s.setup(),s.get("isLoggedIn")},getIsNewUser:function(){return s.setup(),l()},getCountry:function(){return s.setup(),s.get("country")},getFirstName:function(){return s.setup(),s.get("firstName")},getLastName:function(){return s.setup(),s.get("lastName")},getServiceType:function(){return s.setup(),s.get("serviceType")},getMemberSeq:function(){return s.setup(),s.get("memberSeq")},getLocale:function(){return s.setup(),s.get("locale")},getIPData:function(e){s.getIPData(e)},getCNA:function(){return i.default.get("cna")},getCookie:function(e){return i.default.get(e)},getMemberId:function(){var e=i.default.get("ali_apache_track"),t="";return"string"===typeof e&&(e.match(/mid=([^&"]+)/),t=RegExp.$1),t},getBuyerLocale:function(){return s.setup(),s.get("buyerLocale")},getBuyerCurrency:function(){return s.setup(),s.get("buyerCurrency")},getBuyerSite:function(){return s.setup(),s.get("buyerSite")},getIsOversea:function(){var e=!0,t=i.default.get("xman_us_f");return t&&-1!==t.indexOf("x_l=1")&&(e=!1),t&&-1!==t.indexOf("x_l=0")&&(e=!0),e}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},a=decodeURIComponent,o=encodeURIComponent;function i(e){return"string"===typeof e}function s(e){return i(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function l(e){return e}r.get=function(e,t){c(e),t="function"===typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(i(e)&&e.length>0)for(var r,o,s,c=t?a:l,u=e.split(/;\s/g),d=0,p=u.length;d<p;d++){if((s=u[d].match(/([^=]+)=/i))instanceof Array)try{r=a(s[1]),o=c(u[d].substring(s[1].length+1))}catch(e){}else r=a(u[d]),o="";r&&(n[r]=o)}return n}(document.cookie,!t.raw);return(t.converter||l)(n[e])},r.set=function(e,t,n){c(e);var r=(n=n||{}).expires,a=n.domain,i=n.path;n.raw||(t=o(String(t)));var l=e+"="+t,u=r;return"number"===typeof u&&(u=new Date).setDate(u.getDate()+r),u instanceof Date&&(l+="; expires="+u.toUTCString()),s(a)&&(l+="; domain="+a),s(i)&&(l+="; path="+i),n.secure&&(l+="; secure"),document.cookie=l,l},r.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)},t.default=r,e.exports=t.default},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new A(r||[]);return a(i,"_invoke",{value:T(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",g={};function v(){}function y(){}function b(){}var w={};l(w,i,(function(){return this}));var x=Object.getPrototypeOf,C=x&&x(x(D([])));C&&C!==n&&r.call(C,i)&&(w=C);var E=b.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,s){var c=d(e[a],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"===typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(e,t,n){var r=p;return function(a,o){if(r===m)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return M()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=_(i,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var c=d(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}function _(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function D(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:M}}function M(){return{value:t,done:!0}}return y.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){const{defaultArgs:r,baseOptions:a}=n(509),{setLogging:o,setCustomLogger:i,log:s}=n(174),c=n(510),l=n(511),{defaultOptions:u,getCreateFFmpegCore:d}=n(175),{version:p}=n(176),f=Error("ffmpeg.wasm is not ready, make sure you have completed load().");e.exports=(e={})=>{const{log:t,logger:n,progress:m,...h}={...a,...u,...e};let g=null,v=null,y=null,b=!1,w=m;const x=({type:e,message:t})=>{s(e,t),c(t,w),(e=>{"FFMPEG_END"===e&&null!==y&&(y(),y=null,b=!1)})(t)};return o(t),i(n),s("info",`use ffmpeg.wasm v${p}`),{setProgress:e=>{w=e},setLogger:e=>{i(e)},setLogging:o,load:async()=>{if(s("info","load ffmpeg-core"),null!==g)throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");{s("info","loading ffmpeg-core");const{createFFmpegCore:e,corePath:t,workerPath:n,wasmPath:r}=await d(h);g=await e({mainScriptUrlOrBlob:t,printErr:e=>x({type:"fferr",message:e}),print:e=>x({type:"ffout",message:e}),locateFile:(e,t)=>{if("undefined"!==typeof window){if("undefined"!==typeof r&&e.endsWith("ffmpeg-core.wasm"))return r;if("undefined"!==typeof n&&e.endsWith("ffmpeg-core.worker.js"))return n}return t+e}}),v=g.cwrap("proxy_main","number",["number","number"]),s("info","ffmpeg-core loaded")}},isLoaded:()=>null!==g,run:(...e)=>{if(s("info",`run ffmpeg command: ${e.join(" ")}`),null===g)throw f;if(b)throw Error("ffmpeg.wasm can only run one command at a time");return b=!0,new Promise((t=>{const n=[...r,...e].filter((e=>0!==e.length));y=t,v(...l(g,n))}))},FS:(e,...t)=>{if(s("info",`run FS.${e} ${t.map((e=>"string"===typeof e?e:`<${e.length} bytes binary file>`)).join(" ")}`),null===g)throw f;{let n=null;try{n=g.FS[e](...t)}catch(n){throw"readdir"===e?Error(`ffmpeg.FS('readdir', '${t[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`):"readFile"===e?Error(`ffmpeg.FS('readFile', '${t[0]}') error. Check if the path exists`):Error("Oops, something went wrong in FS operation.")}return n}}}}},function(e,t){e.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}}},function(e,t){let n=0,r=0;const a=e=>{const[t,n,r]=e.split(":");return 60*parseFloat(t)*60+60*parseFloat(n)+parseFloat(r)};e.exports=(e,t)=>{if("string"===typeof e)if(e.startsWith("  Duration")){const o=e.split(", ")[0].split(": ")[1],i=a(o);t({duration:i,ratio:r}),(0===n||n>i)&&(n=i)}else if(e.startsWith("frame")||e.startsWith("size")){const o=e.split("time=")[1].split(" ")[0],i=a(o);r=i/n,t({ratio:r,time:i})}else e.startsWith("video:")&&(t({ratio:1}),n=0)}},function(e,t){e.exports=(e,t)=>{const n=e._malloc(t.length*Uint32Array.BYTES_PER_ELEMENT);return t.forEach(((t,r)=>{const a=e._malloc(t.length+1);e.writeAsciiToMemory(t,a),e.setValue(n+Uint32Array.BYTES_PER_ELEMENT*r,a,"i32")})),[t.length,n]}},function(e,t,n){(function(t){const r=n(129),{devDependencies:a}=n(176);e.exports={corePath:"undefined"!==typeof t&&"development"===Object({NODE_ENV:"production"}).FFMPEG_ENV?r("/node_modules/@ffmpeg/core/dist/ffmpeg-core.js"):`https://unpkg.com/@ffmpeg/core@${a["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`}}).call(this,n(121))},function(e,t,n){const r=n(129),{log:a}=n(174),o=async(e,t)=>{a("info",`fetch ${e}`);const n=await(await fetch(e)).arrayBuffer();a("info",`${e} file size = ${n.byteLength} bytes`);const r=new Blob([n],{type:t}),o=URL.createObjectURL(r);return a("info",`${e} blob URL = ${o}`),o};e.exports=async({corePath:e})=>{if("string"!==typeof e)throw Error("corePath should be a string!");const t=r(e),n=await o(t,"application/javascript"),i=await o(t.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),s=await o(t.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return"undefined"===typeof createFFmpegCore?new Promise((e=>{const t=document.createElement("script"),r=()=>{t.removeEventListener("load",r),a("info","ffmpeg-core.js script loaded"),e({createFFmpegCore:createFFmpegCore,corePath:n,wasmPath:i,workerPath:s})};t.src=n,t.type="text/javascript",t.addEventListener("load",r),document.getElementsByTagName("head")[0].appendChild(t)})):(a("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore:createFFmpegCore,corePath:n,wasmPath:i,workerPath:s}))}},function(e,t,n){const r=n(129);e.exports=async e=>{let t=e;if("undefined"===typeof e)return new Uint8Array;if("string"===typeof e)if(/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e))t=atob(e.split(",")[1]).split("").map((e=>e.charCodeAt(0)));else{const n=await fetch(r(e));t=await n.arrayBuffer()}else(e instanceof File||e instanceof Blob)&&(t=await(n=e,new Promise(((e,t)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:e}}})=>{t(Error(`File could not be read! Code=${e}`))},r.readAsArrayBuffer(n)}))));var n;return new Uint8Array(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"mtopRequest",(function(){return s})),n.d(t,"setAiReceptionLang",(function(){return c})),n.d(t,"getAiReceptionLang",(function(){return u}));var r=n(5),a=n.n(r),o=n(53),i=window.IcbuIM.lib.requestHelper.mtopRequest;function s(e,t){return i({api:e,v:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1.0",appKey:"24889839",data:t,dataType:"json",ecode:1}).catch((function(e){}))}function c(e){return l.apply(this,arguments)}function l(){return(l=a()(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contactAliId,r=t.lang,e.abrupt("return",s("mtop.alibaba.intl.ai.reception.translate.language.setting",{contactAliId:n,language:r}).then((function(e){var t;return(null===(t=e.data)||void 0===t?void 0:t.data)||{}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=a()(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contactAliId,e.abrupt("return",s("mtop.alibaba.intl.ai.reception.translate.language.query",{contactAliId:n}).then((function(e){var t;return(null===(t=e.data)||void 0===t?void 0:t.data)||o.DEFAULT_TRANSLATE_LANG})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"uriTransformer",(function(){return i})),n.d(t,"default",(function(){return wa}));var r={};n.r(r),n.d(r,"document",(function(){return Qt})),n.d(r,"contentInitial",(function(){return $t})),n.d(r,"flowInitial",(function(){return en})),n.d(r,"flow",(function(){return tn})),n.d(r,"string",(function(){return nn})),n.d(r,"text",(function(){return rn})),n.d(r,"insideSpan",(function(){return an})),n.d(r,"attentionMarkers",(function(){return on})),n.d(r,"disable",(function(){return sn}));var a={};n.r(a),n.d(a,"boolean",(function(){return Cr})),n.d(a,"booleanish",(function(){return Er})),n.d(a,"overloadedBoolean",(function(){return Sr})),n.d(a,"number",(function(){return kr})),n.d(a,"spaceSeparated",(function(){return Tr})),n.d(a,"commaSeparated",(function(){return _r})),n.d(a,"commaOrSpaceSeparated",(function(){return Ir}));const o=["http","https","mailto","tel"];function i(e){const t=(e||"").trim(),n=t.charAt(0);if("#"===n||"/"===n)return t;const r=t.indexOf(":");if(-1===r)return t;let a=-1;for(;++a<o.length;){const e=o[a];if(r===e.length&&t.slice(0,e.length).toLowerCase()===e)return t}return a=t.indexOf("?"),-1!==a&&r>a?t:(a=t.indexOf("#"),-1!==a&&r>a?t:"javascript:void(0)")}var s=n(0),c=n.n(s),l=n(183),u=n.n(l);function d(e){return f(e&&e.line)+":"+f(e&&e.column)}function p(e){return d(e&&e.start)+"-"+d(e&&e.end)}function f(e){return e&&"number"===typeof e?e:1}class m extends Error{constructor(e,t,n){const r=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"===typeof t&&(n=t,t=void 0),"string"===typeof n){const e=n.indexOf(":");-1===e?r[1]=n:(r[0]=n.slice(0,e),r[1]=n.slice(e+1))}var o;t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=((o=t)&&"object"===typeof o?"position"in o||"type"in o?p(o.position):"start"in o||"end"in o?p(o):"line"in o||"column"in o?d(o):"":"")||"1:1",this.message="object"===typeof e?e.message:e,this.stack="","object"===typeof e&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}m.prototype.file="",m.prototype.name="",m.prototype.reason="",m.prototype.message="",m.prototype.stack="",m.prototype.fatal=null,m.prototype.column=null,m.prototype.line=null,m.prototype.source=null,m.prototype.ruleId=null,m.prototype.position=null;const h={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');g(e);let n,r=0,a=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.charCodeAt(o)){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1);return a<0?"":e.slice(r,a)}if(t===e)return"";let i=-1,s=t.length-1;for(;o--;)if(47===e.charCodeAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1),s>-1&&(e.charCodeAt(o)===t.charCodeAt(s--)?s<0&&(a=o):(s=-1,a=i));r===a?a=i:a<0&&(a=e.length);return e.slice(r,a)},dirname:function(e){if(g(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.charCodeAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){g(e);let t,n=e.length,r=-1,a=0,o=-1,i=0;for(;n--;){const s=e.charCodeAt(n);if(47!==s)r<0&&(t=!0,r=n+1),46===s?o<0?o=n:1!==i&&(i=1):o>-1&&(i=-1);else if(t){a=n+1;break}}if(o<0||r<0||0===i||1===i&&o===r-1&&o===a+1)return"";return e.slice(o,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)g(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){g(e);const t=47===e.charCodeAt(0);let n=function(e,t){let n,r,a="",o=0,i=-1,s=0,c=-1;for(;++c<=e.length;){if(c<e.length)n=e.charCodeAt(c);else{if(47===n)break;n=47}if(47===n){if(i===c-1||1===s);else if(i!==c-1&&2===s){if(a.length<2||2!==o||46!==a.charCodeAt(a.length-1)||46!==a.charCodeAt(a.length-2))if(a.length>2){if(r=a.lastIndexOf("/"),r!==a.length-1){r<0?(a="",o=0):(a=a.slice(0,r),o=a.length-1-a.lastIndexOf("/")),i=c,s=0;continue}}else if(a.length>0){a="",o=0,i=c,s=0;continue}t&&(a=a.length>0?a+"/..":"..",o=2)}else a.length>0?a+="/"+e.slice(i+1,c):a=e.slice(i+1,c),o=c-i-1;i=c,s=0}else 46===n&&s>-1?s++:s=-1}return a}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function g(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const v={cwd:function(){return"/"}};function y(e){return null!==e&&"object"===typeof e&&e.href&&e.origin}function b(e){if("string"===typeof e)e=new URL(e);else if(!y(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.charCodeAt(n)&&50===t.charCodeAt(n+1)){const e=t.charCodeAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const w=["history","path","basename","stem","extname","dirname"];class x{constructor(e){let t;t=e?"string"===typeof e||function(e){return u()(e)}(e)?{value:e}:y(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=v.cwd(),this.value,this.stored,this.result,this.map;let n,r=-1;for(;++r<w.length;){const e=w[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)w.includes(n)||(this[n]=t[n])}get path(){return this.history[this.history.length-1]}set path(e){y(e)&&(e=b(e)),E(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return"string"===typeof this.path?h.dirname(this.path):void 0}set dirname(e){S(this.basename,"dirname"),this.path=h.join(e||"",this.basename)}get basename(){return"string"===typeof this.path?h.basename(this.path):void 0}set basename(e){E(e,"basename"),C(e,"basename"),this.path=h.join(this.dirname||"",e)}get extname(){return"string"===typeof this.path?h.extname(this.path):void 0}set extname(e){if(C(e,"extname"),S(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=h.join(this.dirname,this.stem+(e||""))}get stem(){return"string"===typeof this.path?h.basename(this.path,this.extname):void 0}set stem(e){E(e,"stem"),C(e,"stem"),this.path=h.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,t,n){const r=new m(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=null,r}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}}function C(e,t){if(e&&e.includes(h.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+h.sep+"`")}function E(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function S(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function k(e){if(e)throw e}var T=n(181),_=n.n(T),I=n(133),O=n.n(I);function A(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function D(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!==typeof r)throw new TypeError("Expected function as last argument, not "+r);!function a(o,...i){const s=e[++n];let c=-1;if(o)r(o);else{for(;++c<t.length;)null!==i[c]&&void 0!==i[c]||(i[c]=t[c]);t=i,s?function(e,t){let n;return r;function r(...t){const r=e.length>t.length;let i;r&&t.push(a);try{i=e.apply(this,t)}catch(e){if(r&&n)throw e;return a(e)}r||(i&&i.then&&"function"===typeof i.then?i.then(o,a):i instanceof Error?a(i):o(i))}function a(e,...r){n||(n=!0,t(e,...r))}function o(e){a(null,e)}}(s,a)(...i):r(null,...i)}}(null,...t)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}var M=n(182),N=n.n(M);function P(e){return R(e&&e.line)+":"+R(e&&e.column)}function L(e){return P(e&&e.start)+"-"+P(e&&e.end)}function R(e){return e&&"number"===typeof e?e:1}class F extends Error{constructor(e,t,n){const r=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"===typeof t&&(n=t,t=void 0),"string"===typeof n){const e=n.indexOf(":");-1===e?r[1]=n:(r[0]=n.slice(0,e),r[1]=n.slice(e+1))}var o;t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=((o=t)&&"object"===typeof o?"position"in o||"type"in o?L(o.position):"start"in o||"end"in o?L(o):"line"in o||"column"in o?P(o):"":"")||"1:1",this.message="object"===typeof e?e.message:e,this.stack="","object"===typeof e&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}F.prototype.file="",F.prototype.name="",F.prototype.reason="",F.prototype.message="",F.prototype.stack="",F.prototype.fatal=null,F.prototype.column=null,F.prototype.line=null,F.prototype.source=null,F.prototype.ruleId=null,F.prototype.position=null;const j={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');B(e);let n,r=0,a=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.charCodeAt(o)){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1);return a<0?"":e.slice(r,a)}if(t===e)return"";let i=-1,s=t.length-1;for(;o--;)if(47===e.charCodeAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1),s>-1&&(e.charCodeAt(o)===t.charCodeAt(s--)?s<0&&(a=o):(s=-1,a=i));r===a?a=i:a<0&&(a=e.length);return e.slice(r,a)},dirname:function(e){if(B(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.charCodeAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){B(e);let t,n=e.length,r=-1,a=0,o=-1,i=0;for(;n--;){const s=e.charCodeAt(n);if(47!==s)r<0&&(t=!0,r=n+1),46===s?o<0?o=n:1!==i&&(i=1):o>-1&&(i=-1);else if(t){a=n+1;break}}if(o<0||r<0||0===i||1===i&&o===r-1&&o===a+1)return"";return e.slice(o,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)B(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){B(e);const t=47===e.charCodeAt(0);let n=function(e,t){let n,r,a="",o=0,i=-1,s=0,c=-1;for(;++c<=e.length;){if(c<e.length)n=e.charCodeAt(c);else{if(47===n)break;n=47}if(47===n){if(i===c-1||1===s);else if(i!==c-1&&2===s){if(a.length<2||2!==o||46!==a.charCodeAt(a.length-1)||46!==a.charCodeAt(a.length-2))if(a.length>2){if(r=a.lastIndexOf("/"),r!==a.length-1){r<0?(a="",o=0):(a=a.slice(0,r),o=a.length-1-a.lastIndexOf("/")),i=c,s=0;continue}}else if(a.length>0){a="",o=0,i=c,s=0;continue}t&&(a=a.length>0?a+"/..":"..",o=2)}else a.length>0?a+="/"+e.slice(i+1,c):a=e.slice(i+1,c),o=c-i-1;i=c,s=0}else 46===n&&s>-1?s++:s=-1}return a}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function B(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const z={cwd:function(){return"/"}};function q(e){return null!==e&&"object"===typeof e&&e.href&&e.origin}function V(e){if("string"===typeof e)e=new URL(e);else if(!q(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.charCodeAt(n)&&50===t.charCodeAt(n+1)){const e=t.charCodeAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const U=["history","path","basename","stem","extname","dirname"];class H{constructor(e){let t;t=e?"string"===typeof e||function(e){return N()(e)}(e)?{value:e}:q(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=z.cwd(),this.value,this.stored,this.result,this.map;let n,r=-1;for(;++r<U.length;){const e=U[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)U.includes(n)||(this[n]=t[n])}get path(){return this.history[this.history.length-1]}set path(e){q(e)&&(e=V(e)),G(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return"string"===typeof this.path?j.dirname(this.path):void 0}set dirname(e){K(this.basename,"dirname"),this.path=j.join(e||"",this.basename)}get basename(){return"string"===typeof this.path?j.basename(this.path):void 0}set basename(e){G(e,"basename"),W(e,"basename"),this.path=j.join(this.dirname||"",e)}get extname(){return"string"===typeof this.path?j.extname(this.path):void 0}set extname(e){if(W(e,"extname"),K(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=j.join(this.dirname,this.stem+(e||""))}get stem(){return"string"===typeof this.path?j.basename(this.path,this.extname):void 0}set stem(e){G(e,"stem"),W(e,"stem"),this.path=j.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,t,n){const r=new F(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=null,r}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}}function W(e,t){if(e&&e.includes(j.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+j.sep+"`")}function G(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function K(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const J=function e(){const t=D(),n=[];let r,a={},o=-1;return i.data=function(e,t){if("string"===typeof e)return 2===arguments.length?($("data",r),a[e]=t,i):Z.call(a,e)&&a[e]||null;if(e)return $("data",r),a=e,i;return a},i.Parser=void 0,i.Compiler=void 0,i.freeze=function(){if(r)return i;for(;++o<n.length;){const[e,...r]=n[o];if(!1===r[0])continue;!0===r[0]&&(r[0]=void 0);const a=e.call(i,...r);"function"===typeof a&&t.use(a)}return r=!0,o=Number.POSITIVE_INFINITY,i},i.attachers=n,i.use=function(e,...t){let o;if($("use",r),null===e||void 0===e);else if("function"===typeof e)u(e,...t);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):c(e)}o&&(a.settings=Object.assign(a.settings||{},o));return i;function s(e){if("function"===typeof e)u(e);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;u(t,...n)}else c(e)}}function c(e){l(e.plugins),e.settings&&(o=Object.assign(o||{},e.settings))}function l(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){s(e[t])}}}function u(e,t){let r,a=-1;for(;++a<n.length;)if(n[a][0]===e){r=n[a];break}r?(A(r[1])&&A(t)&&(t=O()(!0,r[1],t)),r[1]=t):n.push([...arguments])}},i.parse=function(e){i.freeze();const t=ne(e),n=i.Parser;if(Y("parse",n),X(n,"parse"))return new n(String(t),t).parse();return n(String(t),t)},i.stringify=function(e,t){i.freeze();const n=ne(t),r=i.Compiler;if(Q("stringify",r),ee(e),X(r,"compile"))return new r(e,n).compile();return r(e,n)},i.run=function(e,n,r){ee(e),i.freeze(),r||"function"!==typeof n||(r=n,n=void 0);if(!r)return new Promise(a);function a(a,o){function i(t,n,i){n=n||e,t?o(t):a?a(n):r(null,n,i)}t.run(e,ne(n),i)}a(null,r)},i.runSync=function(e,t){let n,r;return i.run(e,t,a),te("runSync","run",r),n;function a(e,t){k(e),n=t,r=!0}},i.process=function(e,t){if(i.freeze(),Y("process",i.Parser),Q("process",i.Compiler),!t)return new Promise(n);function n(n,r){const a=ne(e);function o(e,a){e||!a?r(e):n?n(a):t(null,a)}i.run(i.parse(a),a,((e,t,n)=>{if(!e&&t&&n){const a=i.stringify(t,n);void 0===a||null===a||("string"===typeof(r=a)||_()(r)?n.value=a:n.result=a),o(e,n)}else o(e);var r}))}n(null,t)},i.processSync=function(e){let t;i.freeze(),Y("processSync",i.Parser),Q("processSync",i.Compiler);const n=ne(e);return i.process(n,r),te("processSync","process",t),n;function r(e){t=!0,k(e)}},i;function i(){const t=e();let r=-1;for(;++r<n.length;)t.use(...n[r]);return t.data(O()(!0,{},a)),t}}().freeze(),Z={}.hasOwnProperty;function X(e,t){return"function"===typeof e&&e.prototype&&(function(e){let t;for(t in e)if(Z.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function Y(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function Q(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function $(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ee(e){if(!A(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function te(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ne(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new H(e)}const re={};function ae(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return oe(e.children,t,n)}return Array.isArray(e)?oe(e,t,n):""}function oe(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=ae(e[a],t,n);return r.join("")}function ie(e,t,n,r){const a=e.length;let o,i=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}const se={}.hasOwnProperty;function ce(e,t){let n;for(n in t){const r=(se.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){se.call(r,o)||(r[o]=[]);const e=a[o];le(r[o],Array.isArray(e)?e:e?[e]:[])}}}function le(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);ie(e,0,0,r)}de(/[A-Za-z]/),de(/[\dA-Za-z]/),de(/[#-'*+\--9=?A-Z^-~]/);de(/\d/),de(/[\dA-Fa-f]/),de(/[!-/:-@[-`{-~]/);function ue(e){return-2===e||-1===e||32===e}de(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),de(/\s/);function de(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function pe(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(r){if(ue(r))return e.enter(n),i(r);return t(r)};function i(r){return ue(r)&&o++<a?(e.consume(r),i):(e.exit(n),t(r))}}me(/[A-Za-z]/),me(/[\dA-Za-z]/),me(/[#-'*+\--9=?A-Z^-~]/);me(/\d/),me(/[\dA-Fa-f]/),me(/[!-/:-@[-`{-~]/);function fe(e){return null!==e&&e<-2}me(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),me(/\s/);function me(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}const he={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),pe(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,a(t)}function a(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):fe(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),a)}}};function ge(e,t,n,r){const a=e.length;let o,i=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function ve(e,t){return e.length>0?(ge(e,e.length,0,t),e):t}const ye={tokenize:function(e){const t=this,n=[];let r,a,o,i=0;return s;function s(r){if(i<n.length){const a=n[i];return t.containerState=a[1],e.attempt(a[0].continuation,c,l)(r)}return l(r)}function c(e){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let a,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){a=t.events[o][1].end;break}v(i);let s=n;for(;s<t.events.length;)t.events[s][1].end=Object.assign({},a),s++;return ge(t.events,o+1,0,t.events.slice(n)),t.events.length=s,l(e)}return s(e)}function l(a){if(i===n.length){if(!r)return p(a);if(r.currentConstruct&&r.currentConstruct.concrete)return m(a);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(be,u,d)(a)}function u(e){return r&&y(),v(i),p(e)}function d(e){return t.parser.lazy[t.now().line]=i!==n.length,o=t.now().offset,m(e)}function p(n){return t.containerState={},e.attempt(be,f,m)(n)}function f(e){return i++,n.push([t.currentConstruct,t.containerState]),p(e)}function m(n){return null===n?(r&&y(),v(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:r}),h(n))}function h(n){return null===n?(g(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):fe(n)?(e.consume(n),g(e.exit("chunkFlow")),i=0,t.interrupt=void 0,s):(e.consume(n),h)}function g(e,n){const s=t.sliceStream(e);if(n&&s.push(null),e.previous=a,a&&(a.next=e),a=e,r.defineSkip(e.start),r.write(s),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<o&&(!r.events[e][1].end||r.events[e][1].end.offset>o))return;const n=t.events.length;let a,s,c=n;for(;c--;)if("exit"===t.events[c][0]&&"chunkFlow"===t.events[c][1].type){if(a){s=t.events[c][1].end;break}a=!0}for(v(i),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},s),e++;ge(t.events,c+1,0,t.events.slice(n)),t.events.length=e}}function v(r){let a=n.length;for(;a-- >r;){const r=n[a];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),a=void 0,r=void 0,t.containerState._closeFlow=void 0}}},be={tokenize:function(e,t,n){return pe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};xe(/[A-Za-z]/),xe(/[\dA-Za-z]/),xe(/[#-'*+\--9=?A-Z^-~]/);xe(/\d/),xe(/[\dA-Fa-f]/),xe(/[!-/:-@[-`{-~]/);function we(e){return-2===e||-1===e||32===e}xe(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),xe(/\s/);function xe(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function Ce(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(r){if(we(r))return e.enter(n),i(r);return t(r)};function i(r){return we(r)&&o++<a?(e.consume(r),i):(e.exit(n),t(r))}}const Ee=Me(/[A-Za-z]/),Se=Me(/[\dA-Za-z]/),ke=Me(/[#-'*+\--9=?A-Z^-~]/);const Te=Me(/\d/),_e=Me(/[\dA-Fa-f]/),Ie=Me(/[!-/:-@[-`{-~]/);function Oe(e){return null!==e&&e<-2}function Ae(e){return null!==e&&(e<0||32===e)}function De(e){return-2===e||-1===e||32===e}Me(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),Me(/\s/);function Me(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}const Ne={tokenize:function(e,t,n){return function(t){return De(t)?Ce(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||Oe(e)?t(e):n(e)}},partial:!0};function Pe(e,t,n,r){const a=e.length;let o,i=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Le(e){const t={};let n,r,a,o,i,s,c,l=-1;for(;++l<e.length;){for(;l in t;)l=t[l];if(n=e[l],l&&"chunkFlow"===n[1].type&&"listItemPrefix"===e[l-1][1].type&&(s=n[1]._tokenizer.events,a=0,a<s.length&&"lineEndingBlank"===s[a][1].type&&(a+=2),a<s.length&&"content"===s[a][1].type))for(;++a<s.length&&"content"!==s[a][1].type;)"chunkText"===s[a][1].type&&(s[a][1]._isInFirstContentOfListItem=!0,a++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,Re(e,l)),l=t[l],c=!0);else if(n[1]._container){for(a=l,r=void 0;a--&&(o=e[a],"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(r&&(e[r][1].type="lineEndingBlank"),o[1].type="lineEnding",r=a);r&&(n[1].end=Object.assign({},e[r][1].start),i=e.slice(r,l),i.unshift(n),Pe(e,r,l-r+1,i))}}return!c}function Re(e,t){const n=e[t][1],r=e[t][2];let a=t-1;const o=[],i=n._tokenizer||r.parser[n.contentType](n.start),s=i.events,c=[],l={};let u,d,p=-1,f=n,m=0,h=0;const g=[h];for(;f;){for(;e[++a][1]!==f;);o.push(a),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),d&&i.defineSkip(f.start),f._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(u),f._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++p<s.length;)"exit"===s[p][0]&&"enter"===s[p-1][0]&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(h=p+1,g.push(h),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(i.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),p=g.length;p--;){const t=s.slice(g[p],g[p+1]),n=o.pop();c.unshift([n,n+t.length-1]),Pe(e,n,2,t)}for(p=-1;++p<c.length;)l[m+c[p][0]]=m+c[p][1],m+=c[p][1]-c[p][0]-1;return l}const Fe={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?a(t):Oe(t)?e.check(je,o,a)(t):(e.consume(t),r)}function a(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return Le(e),e}},je={tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Ce(e,a,"linePrefix")};function a(a){if(null===a||Oe(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}},partial:!0};const Be={tokenize:function(e){const t=this,n=e.attempt(Ne,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,pe(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Fe,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const ze={resolveAll:He()},qe=Ue("string"),Ve=Ue("text");function Ue(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],a=t.attempt(r,o,i);return o;function o(e){return c(e)?a(e):i(e)}function i(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return c(e)?(t.exit("data"),a(e)):(t.consume(e),s)}function c(e){if(null===e)return!0;const t=r[e];let a=-1;if(t)for(;++a<t.length;){const e=t[a];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:He("text"===e?We:void 0)}}function He(e){return function(t,n){let r,a=-1;for(;++a<=t.length;)void 0===r?t[a]&&"data"===t[a][1].type&&(r=a,a++):t[a]&&"data"===t[a][1].type||(a!==r+2&&(t[r][1].end=t[a-1][1].end,t.splice(r+2,a-r-2),a=r+2),r=void 0);return e?e(t,n):t}}function We(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],a=t.sliceStream(r);let o,i=a.length,s=-1,c=0;for(;i--;){const e=a[i];if("string"===typeof e){for(s=e.length;32===e.charCodeAt(s-1);)c++,s--;if(s)break;s=-1}else if(-2===e)o=!0,c++;else if(-1!==e){i++;break}}if(c){const a={type:n===e.length||o||c<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-c,offset:r.end.offset-c,_index:r.start._index+i,_bufferIndex:i?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},a.start),r.start.offset===r.end.offset?Object.assign(r,a):(e.splice(n,0,["enter",a,t],["exit",a,t]),n+=2)}n++}return e}function Ge(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const o=e[a].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}function Ke(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const a={},o=[];let i=[],s=[],c=!0;const l={consume:function(e){fe(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,w()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++));u.previous=e,c=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=m(),u.events.push(["enter",n,u]),s.push(n),n},exit:function(e){const t=s.pop();return t.end=m(),u.events.push(["exit",t,u]),t},attempt:y((function(e,t){b(e,t.from)})),check:y(v),interrupt:y(v,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const o=e[n];let i;if("string"===typeof o)i=o;else switch(o){case-5:i="\r";break;case-4:i="\n";break;case-3:i="\r\n";break;case-2:i=t?" ":"\t";break;case-1:if(!t&&a)continue;i=" ";break;default:i=String.fromCharCode(o)}a=-2===o,r.push(i)}return r.join("")}(f(e),t)},now:m,defineSkip:function(e){a[e.line]=e.column,w()},write:function(e){if(i=ve(i,e),h(),null!==i[i.length-1])return[];return b(t,0),u.events=Ge(o,u.events,u),u.events}};let d,p=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function f(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;let i;if(n===a)i=[e[n].slice(r,o)];else{if(i=e.slice(n,a),r>-1){const e=i[0];"string"===typeof e?i[0]=e.slice(r):i.shift()}o>0&&i.push(e[a].slice(0,o))}return i}(i,e)}function m(){const{line:e,column:t,offset:n,_index:a,_bufferIndex:o}=r;return{line:e,column:t,offset:n,_index:a,_bufferIndex:o}}function h(){let e;for(;r._index<i.length;){const t=i[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){c=void 0,d=e,p=p(e)}function v(e,t){t.restore()}function y(e,t){return function(n,a,o){let i,d,p,f;return Array.isArray(n)?h(n):"tokenize"in n?h([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return h([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function h(e){return i=e,d=0,0===e.length?o:g(e[d])}function g(e){return function(n){f=function(){const e=m(),t=u.previous,n=u.currentConstruct,a=u.events.length,o=Array.from(s);return{restore:i,from:a};function i(){r=e,u.previous=t,u.currentConstruct=n,u.events.length=a,s=o,w()}}(),p=e,e.partial||(u.currentConstruct=e);if(e.name&&u.parser.constructs.disable.null.includes(e.name))return y(n);return e.tokenize.call(t?Object.assign(Object.create(u),t):u,l,v,y)(n)}}function v(t){return c=!0,e(p,f),a}function y(e){return c=!0,f.restore(),++d<i.length?g(i[d]):o}}}function b(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&ge(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function w(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}const Je={name:"thematicBreak",tokenize:function(e,t,n){let r,a=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,o(e)}(t)};function o(o){return o===r?(e.enter("thematicBreakSequence"),i(o)):a>=3&&(null===o||Oe(o))?(e.exit("thematicBreak"),t(o)):n(o)}function i(t){return t===r?(e.consume(t),a++,i):(e.exit("thematicBreakSequence"),De(t)?Ce(e,o,"whitespace")(t):o(t))}}};const Ze={name:"list",tokenize:function(e,t,n){const r=this,a=r.events[r.events.length-1];let o=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0,i=0;return function(t){const a=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===a?!r.containerState.marker||t===r.containerState.marker:Te(t)){if(r.containerState.type||(r.containerState.type=a,e.enter(a,{_container:!0})),"listUnordered"===a)return e.enter("listItemPrefix"),42===t||45===t?e.check(Je,n,c)(t):c(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return Te(t)&&++i<10?(e.consume(t),s):(!r.interrupt||i<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),c(t)):n(t)}function c(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Ne,r.interrupt?n:l,e.attempt(Xe,d,u))}function l(e){return r.containerState.initialBlankLine=!0,o++,d(e)}function u(t){return De(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ne,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ce(e,t,"listItemIndent",r.containerState.size+1)(n)}),(function(n){if(r.containerState.furtherBlankLines||!De(n))return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(n);return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Ye,t,a)(n)}));function a(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ce(e,e.attempt(Ze,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}},exit:function(e){e.exit(this.containerState.type)}},Xe={tokenize:function(e,t,n){const r=this;return Ce(e,(function(e){const a=r.events[r.events.length-1];return!De(e)&&a&&"listItemPrefixWhitespace"===a[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Ye={tokenize:function(e,t,n){const r=this;return Ce(e,(function(e){const a=r.events[r.events.length-1];return a&&"listItemIndent"===a[1].type&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};const Qe={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),a}return n(t)};function a(n){return De(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(De(t))return Ce(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return a(t)};function a(r){return e.attempt(Qe,t,n)(r)}}},exit:function(e){e.exit("blockQuote")}};et(/[A-Za-z]/),et(/[\dA-Za-z]/),et(/[#-'*+\--9=?A-Z^-~]/);function $e(e){return null!==e&&(e<32||127===e)}et(/\d/),et(/[\dA-Fa-f]/),et(/[!-/:-@[-`{-~]/);et(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),et(/\s/);function et(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function tt(e,t,n,r,a,o,i,s,c){const l=c||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(r),e.enter(a),e.enter(o),e.consume(t),e.exit(o),d;if(null===t||32===t||41===t||$e(t))return n(t);return e.enter(r),e.enter(i),e.enter(s),e.enter("chunkString",{contentType:"string"}),m(t)};function d(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(n))}function p(t){return 62===t?(e.exit("chunkString"),e.exit(s),d(t)):null===t||60===t||function(e){return null!==e&&e<-2}(t)?n(t):(e.consume(t),92===t?f:p)}function f(t){return 60===t||62===t||92===t?(e.consume(t),p):p(t)}function m(a){return u||null!==a&&41!==a&&!function(e){return null!==e&&(e<0||32===e)}(a)?u<l&&40===a?(e.consume(a),u++,m):41===a?(e.consume(a),u--,m):null===a||32===a||40===a||$e(a)?n(a):(e.consume(a),92===a?h:m):(e.exit("chunkString"),e.exit(s),e.exit(i),e.exit(r),t(a))}function h(t){return 40===t||41===t||92===t?(e.consume(t),m):m(t)}}rt(/[A-Za-z]/),rt(/[\dA-Za-z]/),rt(/[#-'*+\--9=?A-Z^-~]/);rt(/\d/),rt(/[\dA-Fa-f]/),rt(/[!-/:-@[-`{-~]/);function nt(e){return null!==e&&e<-2}rt(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),rt(/\s/);function rt(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function at(e,t,n,r,a,o){const i=this;let s,c=0;return function(t){return e.enter(r),e.enter(a),e.consume(t),e.exit(a),e.enter(o),l};function l(d){return c>999||null===d||91===d||93===d&&!s||94===d&&!c&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):93===d?(e.exit(o),e.enter(a),e.consume(d),e.exit(a),e.exit(r),t):nt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||nt(t)||c++>999?(e.exit("chunkString"),l(t)):(e.consume(t),s||(s=!function(e){return-2===e||-1===e||32===e}(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),c++,u):u(t)}}it(/[A-Za-z]/),it(/[\dA-Za-z]/),it(/[#-'*+\--9=?A-Z^-~]/);it(/\d/),it(/[\dA-Fa-f]/),it(/[!-/:-@[-`{-~]/);function ot(e){return-2===e||-1===e||32===e}it(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),it(/\s/);function it(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}ct(/[A-Za-z]/),ct(/[\dA-Za-z]/),ct(/[#-'*+\--9=?A-Z^-~]/);ct(/\d/),ct(/[\dA-Fa-f]/),ct(/[!-/:-@[-`{-~]/);function st(e){return null!==e&&e<-2}ct(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),ct(/\s/);function ct(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function lt(e,t,n,r,a,o){let i;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(a),e.consume(t),e.exit(a),i=40===t?41:t,s;return n(t)};function s(n){return n===i?(e.enter(a),e.consume(n),e.exit(a),e.exit(r),t):(e.enter(o),c(n))}function c(t){return t===i?(e.exit(o),s(i)):null===t?n(t):st(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),function(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(r){return ot(r)?(e.enter(n),i(r)):t(r)};function i(r){return ot(r)&&o++<a?(e.consume(r),i):(e.exit(n),t(r))}}(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(t))}function l(t){return t===i||null===t||st(t)?(e.exit("chunkString"),c(t)):(e.consume(t),92===t?u:l)}function u(t){return t===i||92===t?(e.consume(t),l):l(t)}}dt(/[A-Za-z]/),dt(/[\dA-Za-z]/),dt(/[#-'*+\--9=?A-Z^-~]/);dt(/\d/),dt(/[\dA-Fa-f]/),dt(/[!-/:-@[-`{-~]/);function ut(e){return-2===e||-1===e||32===e}dt(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),dt(/\s/);function dt(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}pt(/[A-Za-z]/),pt(/[\dA-Za-z]/),pt(/[#-'*+\--9=?A-Z^-~]/);pt(/\d/),pt(/[\dA-Fa-f]/),pt(/[!-/:-@[-`{-~]/);pt(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),pt(/\s/);function pt(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function ft(e,t){let n;return function r(a){if(function(e){return null!==e&&e<-2}(a))return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r;if(function(e){return-2===e||-1===e||32===e}(a))return function(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(r){return ut(r)?(e.enter(n),i(r)):t(r)};function i(r){return ut(r)&&o++<a?(e.consume(r),i):(e.exit(n),t(r))}}(e,r,n?"linePrefix":"lineSuffix")(a);return t(a)}}function mt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ht={name:"definition",tokenize:function(e,t,n){const r=this;let a;return function(t){return e.enter("definition"),function(t){return at.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function o(t){return a=mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i):n(t)}function i(t){return Ae(t)?ft(e,s)(t):s(t)}function s(t){return tt(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function c(t){return e.attempt(gt,l,l)(t)}function l(t){return De(t)?Ce(e,u,"whitespace")(t):u(t)}function u(o){return null===o||Oe(o)?(e.exit("definition"),r.parser.defined.push(a),t(o)):n(o)}}},gt={tokenize:function(e,t,n){return function(t){return Ae(t)?ft(e,r)(t):n(t)};function r(t){return lt(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function a(t){return De(t)?Ce(e,o,"whitespace")(t):o(t)}function o(e){return null===e||Oe(e)?t(e):n(e)}},partial:!0};const vt={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),Ce(e,a,"linePrefix",5)(t)};function a(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?s(t):Oe(t)?e.attempt(yt,o,s)(t):(e.enter("codeFlowValue"),i(t))}function i(t){return null===t||Oe(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),i)}function s(n){return e.exit("codeIndented"),t(n)}}},yt={tokenize:function(e,t,n){const r=this;return a;function a(t){return r.parser.lazy[r.now().line]?n(t):Oe(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):Ce(e,o,"linePrefix",5)(t)}function o(e){const o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):Oe(e)?a(e):n(e)}},partial:!0};function bt(e,t,n,r){const a=e.length;let o,i=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function wt(e,t){return e.length>0?(bt(e,e.length,0,t),e):t}const xt={name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),a(t)}(t)};function a(t){return 35===t&&r++<6?(e.consume(t),a):null===t||Ae(t)?(e.exit("atxHeadingSequence"),o(t)):n(t)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),i(n)):null===n||Oe(n)?(e.exit("atxHeading"),t(n)):De(n)?Ce(e,o,"whitespace")(n):(e.enter("atxHeadingText"),s(n))}function i(t){return 35===t?(e.consume(t),i):(e.exit("atxHeadingSequence"),o(t))}function s(t){return null===t||35===t||Ae(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),s)}},resolve:function(e,t){let n,r,a=e.length-2,o=3;"whitespace"===e[o][1].type&&(o+=2);a-2>o&&"whitespace"===e[a][1].type&&(a-=2);"atxHeadingSequence"===e[a][1].type&&(o===a-1||a-4>o&&"whitespace"===e[a-2][1].type)&&(a-=o+1===a?2:4);a>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[a][1].end},r={type:"chunkText",start:e[o][1].start,end:e[a][1].end,contentType:"text"},bt(e,o,a-o+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};const Ct={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let a;return function(t){let i,s=r.events.length;for(;s--;)if("lineEnding"!==r.events[s][1].type&&"linePrefix"!==r.events[s][1].type&&"content"!==r.events[s][1].type){i="paragraph"===r.events[s][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||i))return e.enter("setextHeadingLine"),a=t,function(t){return e.enter("setextHeadingLineSequence"),o(t)}(t);return n(t)};function o(t){return t===a?(e.consume(t),o):(e.exit("setextHeadingLineSequence"),De(t)?Ce(e,i,"lineSuffix")(t):i(t))}function i(r){return null===r||Oe(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){let n,r,a,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(r=o)}else"content"===e[o][1].type&&e.splice(o,1),a||"definition"!==e[o][1].type||(a=o);const i={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",a?(e.splice(r,0,["enter",i,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[a][1].end)):e[n][1]=i;return e.push(["exit",i,t]),e}};const Et=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],St=["pre","script","style","textarea"],kt={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let a,o,i,s,c;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),l}(t)};function l(s){return 33===s?(e.consume(s),u):47===s?(e.consume(s),o=!0,f):63===s?(e.consume(s),a=3,r.interrupt?t:P):Ee(s)?(e.consume(s),i=String.fromCharCode(s),m):n(s)}function u(o){return 45===o?(e.consume(o),a=2,d):91===o?(e.consume(o),a=5,s=0,p):Ee(o)?(e.consume(o),a=4,r.interrupt?t:P):n(o)}function d(a){return 45===a?(e.consume(a),r.interrupt?t:P):n(a)}function p(a){const o="CDATA[";return a===o.charCodeAt(s++)?(e.consume(a),6===s?r.interrupt?t:T:p):n(a)}function f(t){return Ee(t)?(e.consume(t),i=String.fromCharCode(t),m):n(t)}function m(s){if(null===s||47===s||62===s||Ae(s)){const c=47===s,l=i.toLowerCase();return c||o||!St.includes(l)?Et.includes(i.toLowerCase())?(a=6,c?(e.consume(s),h):r.interrupt?t(s):T(s)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):o?g(s):v(s)):(a=1,r.interrupt?t(s):T(s))}return 45===s||Se(s)?(e.consume(s),i+=String.fromCharCode(s),m):n(s)}function h(a){return 62===a?(e.consume(a),r.interrupt?t:T):n(a)}function g(t){return De(t)?(e.consume(t),g):S(t)}function v(t){return 47===t?(e.consume(t),S):58===t||95===t||Ee(t)?(e.consume(t),y):De(t)?(e.consume(t),v):S(t)}function y(t){return 45===t||46===t||58===t||95===t||Se(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),w):De(t)?(e.consume(t),b):v(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),c=t,x):De(t)?(e.consume(t),w):C(t)}function x(t){return t===c?(e.consume(t),c=null,E):null===t||Oe(t)?n(t):(e.consume(t),x)}function C(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Ae(t)?b(t):(e.consume(t),C)}function E(e){return 47===e||62===e||De(e)?v(e):n(e)}function S(t){return 62===t?(e.consume(t),k):n(t)}function k(t){return null===t||Oe(t)?T(t):De(t)?(e.consume(t),k):n(t)}function T(t){return 45===t&&2===a?(e.consume(t),A):60===t&&1===a?(e.consume(t),D):62===t&&4===a?(e.consume(t),L):63===t&&3===a?(e.consume(t),P):93===t&&5===a?(e.consume(t),N):!Oe(t)||6!==a&&7!==a?null===t||Oe(t)?(e.exit("htmlFlowData"),_(t)):(e.consume(t),T):(e.exit("htmlFlowData"),e.check(Tt,R,_)(t))}function _(t){return e.check(_t,I,R)(t)}function I(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),O}function O(t){return null===t||Oe(t)?_(t):(e.enter("htmlFlowData"),T(t))}function A(t){return 45===t?(e.consume(t),P):T(t)}function D(t){return 47===t?(e.consume(t),i="",M):T(t)}function M(t){if(62===t){const n=i.toLowerCase();return St.includes(n)?(e.consume(t),L):T(t)}return Ee(t)&&i.length<8?(e.consume(t),i+=String.fromCharCode(t),M):T(t)}function N(t){return 93===t?(e.consume(t),P):T(t)}function P(t){return 62===t?(e.consume(t),L):45===t&&2===a?(e.consume(t),P):T(t)}function L(t){return null===t||Oe(t)?(e.exit("htmlFlowData"),R(t)):(e.consume(t),L)}function R(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},Tt={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Ne,t,n)}},partial:!0},_t={tokenize:function(e,t,n){const r=this;return function(t){if(Oe(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a;return n(t)};function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};const It={tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a};function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},Ot={name:"codeFenced",tokenize:function(e,t,n){const r=this,a={tokenize:function(e,t,n){let a=0;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),c}function c(t){return e.enter("codeFencedFence"),De(t)?Ce(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):l(t)}function l(t){return t===o?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===o?(a++,e.consume(t),u):a>=s?(e.exit("codeFencedFenceSequence"),De(t)?Ce(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||Oe(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0};let o,i=0,s=0;return function(t){return function(t){const n=r.events[r.events.length-1];return i=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,o=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(t)}(t)};function c(t){return t===o?(s++,e.consume(t),c):s<3?n(t):(e.exit("codeFencedFenceSequence"),De(t)?Ce(e,l,"whitespace")(t):l(t))}function l(n){return null===n||Oe(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(It,f,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||Oe(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),l(t)):De(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ce(e,d,"whitespace")(t)):96===t&&t===o?n(t):(e.consume(t),u)}function d(t){return null===t||Oe(t)?l(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||Oe(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),l(t)):96===t&&t===o?n(t):(e.consume(t),p)}function f(t){return e.attempt(a,y,m)(t)}function m(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),h}function h(t){return i>0&&De(t)?Ce(e,g,"linePrefix",i+1)(t):g(t)}function g(t){return null===t||Oe(t)?e.check(It,f,y)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||Oe(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),v)}function y(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const At={AElig:"Æ",AMP:"&",Aacute:"Á",Abreve:"Ă",Acirc:"Â",Acy:"А",Afr:"𝔄",Agrave:"À",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"𝔸",ApplyFunction:"⁡",Aring:"Å",Ascr:"𝒜",Assign:"≔",Atilde:"Ã",Auml:"Ä",Backslash:"∖",Barv:"⫧",Barwed:"⌆",Bcy:"Б",Because:"∵",Bernoullis:"ℬ",Beta:"Β",Bfr:"𝔅",Bopf:"𝔹",Breve:"˘",Bscr:"ℬ",Bumpeq:"≎",CHcy:"Ч",COPY:"©",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",Cayleys:"ℭ",Ccaron:"Č",Ccedil:"Ç",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"¸",CenterDot:"·",Cfr:"ℭ",Chi:"Χ",CircleDot:"⊙",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",Colon:"∷",Colone:"⩴",Congruent:"≡",Conint:"∯",ContourIntegral:"∮",Copf:"ℂ",Coproduct:"∐",CounterClockwiseContourIntegral:"∳",Cross:"⨯",Cscr:"𝒞",Cup:"⋓",CupCap:"≍",DD:"ⅅ",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",Darr:"↡",Dashv:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",Delta:"Δ",Dfr:"𝔇",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",Diamond:"⋄",DifferentialD:"ⅆ",Dopf:"𝔻",Dot:"¨",DotDot:"⃜",DotEqual:"≐",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",Downarrow:"⇓",Dscr:"𝒟",Dstrok:"Đ",ENG:"Ŋ",ETH:"Ð",Eacute:"É",Ecaron:"Ě",Ecirc:"Ê",Ecy:"Э",Edot:"Ė",Efr:"𝔈",Egrave:"È",Element:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"𝔼",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",Equilibrium:"⇌",Escr:"ℰ",Esim:"⩳",Eta:"Η",Euml:"Ë",Exists:"∃",ExponentialE:"ⅇ",Fcy:"Ф",Ffr:"𝔉",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",Fopf:"𝔽",ForAll:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",GT:">",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"𝔊",Gg:"⋙",Gopf:"𝔾",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",Gt:"≫",HARDcy:"Ъ",Hacek:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",HilbertSpace:"ℋ",Hopf:"ℍ",HorizontalLine:"─",Hscr:"ℋ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Iacute:"Í",Icirc:"Î",Icy:"И",Idot:"İ",Ifr:"ℑ",Igrave:"Ì",Im:"ℑ",Imacr:"Ī",ImaginaryI:"ⅈ",Implies:"⇒",Int:"∬",Integral:"∫",Intersection:"⋂",InvisibleComma:"⁣",InvisibleTimes:"⁢",Iogon:"Į",Iopf:"𝕀",Iota:"Ι",Iscr:"ℐ",Itilde:"Ĩ",Iukcy:"І",Iuml:"Ï",Jcirc:"Ĵ",Jcy:"Й",Jfr:"𝔍",Jopf:"𝕁",Jscr:"𝒥",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"𝔎",Kopf:"𝕂",Kscr:"𝒦",LJcy:"Љ",LT:"<",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Larr:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",LeftRightArrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",Leftarrow:"⇐",Leftrightarrow:"⇔",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",LessLess:"⪡",LessSlantEqual:"⩽",LessTilde:"≲",Lfr:"𝔏",Ll:"⋘",Lleftarrow:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",LongLeftRightArrow:"⟷",LongRightArrow:"⟶",Longleftarrow:"⟸",Longleftrightarrow:"⟺",Longrightarrow:"⟹",Lopf:"𝕃",LowerLeftArrow:"↙",LowerRightArrow:"↘",Lscr:"ℒ",Lsh:"↰",Lstrok:"Ł",Lt:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",MinusPlus:"∓",Mopf:"𝕄",Mscr:"ℳ",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",Nfr:"𝔑",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",Nscr:"𝒩",Ntilde:"Ñ",Nu:"Ν",OElig:"Œ",Oacute:"Ó",Ocirc:"Ô",Ocy:"О",Odblac:"Ő",Ofr:"𝔒",Ograve:"Ò",Omacr:"Ō",Omega:"Ω",Omicron:"Ο",Oopf:"𝕆",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",Or:"⩔",Oscr:"𝒪",Oslash:"Ø",Otilde:"Õ",Otimes:"⨷",Ouml:"Ö",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",PartialD:"∂",Pcy:"П",Pfr:"𝔓",Phi:"Φ",Pi:"Π",PlusMinus:"±",Poincareplane:"ℌ",Popf:"ℙ",Pr:"⪻",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",Prime:"″",Product:"∏",Proportion:"∷",Proportional:"∝",Pscr:"𝒫",Psi:"Ψ",QUOT:'"',Qfr:"𝔔",Qopf:"ℚ",Qscr:"𝒬",RBarr:"⤐",REG:"®",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",Rfr:"ℜ",Rho:"Ρ",RightAngleBracket:"⟩",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",Rightarrow:"⇒",Ropf:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",Rscr:"ℛ",Rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"𝔖",ShortDownArrow:"↓",ShortLeftArrow:"←",ShortRightArrow:"→",ShortUpArrow:"↑",Sigma:"Σ",SmallCircle:"∘",Sopf:"𝕊",Sqrt:"√",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",Sscr:"𝒮",Star:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",SuchThat:"∋",Sum:"∑",Sup:"⋑",Superset:"⊃",SupersetEqual:"⊇",Supset:"⋑",THORN:"Þ",TRADE:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"\t",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"𝔗",Therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",Topf:"𝕋",TripleDot:"⃛",Tscr:"𝒯",Tstrok:"Ŧ",Uacute:"Ú",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucirc:"Û",Ucy:"У",Udblac:"Ű",Ufr:"𝔘",Ugrave:"Ù",Umacr:"Ū",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",Uopf:"𝕌",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",UpEquilibrium:"⥮",UpTee:"⊥",UpTeeArrow:"↥",Uparrow:"⇑",Updownarrow:"⇕",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"𝒰",Utilde:"Ũ",Uuml:"Ü",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",Vopf:"𝕍",Vscr:"𝒱",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",Wfr:"𝔚",Wopf:"𝕎",Wscr:"𝒲",Xfr:"𝔛",Xi:"Ξ",Xopf:"𝕏",Xscr:"𝒳",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Yacute:"Ý",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"𝔜",Yopf:"𝕐",Yscr:"𝒴",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",ZeroWidthSpace:"​",Zeta:"Ζ",Zfr:"ℨ",Zopf:"ℤ",Zscr:"𝒵",aacute:"á",abreve:"ă",ac:"∾",acE:"∾̳",acd:"∿",acirc:"â",acute:"´",acy:"а",aelig:"æ",af:"⁡",afr:"𝔞",agrave:"à",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",amp:"&",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",aopf:"𝕒",ap:"≈",apE:"⩰",apacir:"⩯",ape:"≊",apid:"≋",apos:"'",approx:"≈",approxeq:"≊",aring:"å",ascr:"𝒶",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",auml:"ä",awconint:"∳",awint:"⨑",bNot:"⫭",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",beta:"β",beth:"ℶ",between:"≬",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxh:"─",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",bprime:"‵",breve:"˘",brvbar:"¦",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",bumpeq:"≏",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",caron:"ˇ",ccaps:"⩍",ccaron:"č",ccedil:"ç",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cedil:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",cfr:"𝔠",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledR:"®",circledS:"Ⓢ",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",conint:"∮",copf:"𝕔",coprod:"∐",copy:"©",copysr:"℗",crarr:"↵",cross:"✗",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dArr:"⇓",dHar:"⥥",dagger:"†",daleth:"ℸ",darr:"↓",dash:"‐",dashv:"⊣",dbkarow:"⤏",dblac:"˝",dcaron:"ď",dcy:"д",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",ddotseq:"⩷",deg:"°",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",dharl:"⇃",dharr:"⇂",diam:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",dot:"˙",doteq:"≐",doteqdot:"≑",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",downarrow:"↓",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eDDot:"⩷",eDot:"≑",eacute:"é",easter:"⩮",ecaron:"ě",ecir:"≖",ecirc:"ê",ecolon:"≕",ecy:"э",edot:"ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",eg:"⪚",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",equals:"=",equest:"≟",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",erarr:"⥱",escr:"ℯ",esdot:"≐",esim:"≂",eta:"η",eth:"ð",euml:"ë",euro:"€",excl:"!",exist:"∃",expectation:"ℰ",exponentiale:"ⅇ",fallingdotseq:"≒",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",forall:"∀",fork:"⋔",forkv:"⫙",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",gE:"≧",gEl:"⪌",gacute:"ǵ",gamma:"γ",gammad:"ϝ",gap:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",ge:"≥",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",gg:"≫",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",gl:"≷",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",grave:"`",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",hArr:"⇔",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",harr:"↔",harrcir:"⥈",harrw:"↭",hbar:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",horbar:"―",hscr:"𝒽",hslash:"ℏ",hstrok:"ħ",hybull:"⁃",hyphen:"‐",iacute:"í",ic:"⁣",icirc:"î",icy:"и",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",image:"ℑ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",intcal:"⊺",integers:"ℤ",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iocy:"ё",iogon:"į",iopf:"𝕚",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",isin:"∈",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",iukcy:"і",iuml:"ï",jcirc:"ĵ",jcy:"й",jfr:"𝔧",jmath:"ȷ",jopf:"𝕛",jscr:"𝒿",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",kcedil:"ķ",kcy:"к",kfr:"𝔨",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"𝕜",kscr:"𝓀",lAarr:"⇚",lArr:"⇐",lAtail:"⤛",lBarr:"⤎",lE:"≦",lEg:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",laquo:"«",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lceil:"⌈",lcub:"{",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leftarrow:"←",leftarrowtail:"↢",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",leftthreetimes:"⋋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",lessgtr:"≶",lesssim:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",lg:"≶",lgE:"⪑",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",ll:"≪",llarr:"⇇",llcorner:"⌞",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",longleftrightarrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",ltrie:"⊴",ltrif:"◂",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",measuredangle:"∡",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",mp:"∓",mscr:"𝓂",mstpos:"∾",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nGtv:"≫̸",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nLl:"⋘̸",nLt:"≪⃒",nLtv:"≪̸",nRightarrow:"⇏",nVDash:"⊯",nVdash:"⊮",nabla:"∇",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",ne:"≠",neArr:"⇗",nearhk:"⤤",nearr:"↗",nearrow:"↗",nedot:"≐̸",nequiv:"≢",nesear:"⤨",nesim:"≂̸",nexist:"∄",nexists:"∄",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",ngsim:"≵",ngt:"≯",ngtr:"≯",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",nlArr:"⇍",nlE:"≦̸",nlarr:"↚",nldr:"‥",nle:"≰",nleftarrow:"↚",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nlsim:"≴",nlt:"≮",nltri:"⋪",nltrie:"⋬",nmid:"∤",nopf:"𝕟",not:"¬",notin:"∉",notinE:"⋹̸",notindot:"⋵̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",oS:"Ⓢ",oacute:"ó",oast:"⊛",ocir:"⊚",ocirc:"ô",ocy:"о",odash:"⊝",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"𝔬",ogon:"˛",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",opar:"⦷",operp:"⦹",oplus:"⊕",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oscr:"ℴ",oslash:"ø",osol:"⊘",otilde:"õ",otimes:"⊗",otimesas:"⨶",ouml:"ö",ovbar:"⌽",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",pointint:"⨕",popf:"𝕡",pound:"£",pr:"≺",prE:"⪳",prap:"⪷",prcue:"≼",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",primes:"ℙ",prnE:"⪵",prnap:"⪹",prnsim:"⋨",prod:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",psi:"ψ",puncsp:" ",qfr:"𝔮",qint:"⨌",qopf:"𝕢",qprime:"⁗",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',rAarr:"⇛",rArr:"⇒",rAtail:"⤜",rBarr:"⤏",rHar:"⥤",race:"∽̱",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rarrw:"↝",ratail:"⤚",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rceil:"⌉",rcub:"}",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",rhov:"ϱ",rightarrow:"→",rightarrowtail:"↣",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",rightthreetimes:"⋌",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",rsaquo:"›",rscr:"𝓇",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",sbquo:"‚",sc:"≻",scE:"⪴",scap:"⪸",scaron:"š",sccue:"≽",sce:"⪰",scedil:"ş",scirc:"ŝ",scnE:"⪶",scnap:"⪺",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",seArr:"⇘",searhk:"⤥",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",sfrown:"⌢",sharp:"♯",shchcy:"щ",shcy:"ш",shortmid:"∣",shortparallel:"∥",shy:"­",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",subE:"⫅",subdot:"⪽",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",supE:"⫆",supdot:"⪾",supdsub:"⫘",supe:"⊇",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swarhk:"⤦",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",target:"⌖",tau:"τ",tbrk:"⎴",tcaron:"ť",tcedil:"ţ",tcy:"т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",there4:"∴",therefore:"∴",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",thinsp:" ",thkap:"≈",thksim:"∼",thorn:"þ",tilde:"˜",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uArr:"⇑",uHar:"⥣",uacute:"ú",uarr:"↑",ubrcy:"ў",ubreve:"ŭ",ucirc:"û",ucy:"у",udarr:"⇅",udblac:"ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",ugrave:"ù",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",uml:"¨",uogon:"ų",uopf:"𝕦",uparrow:"↑",updownarrow:"↕",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",upsi:"υ",upsih:"ϒ",upsilon:"υ",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"𝓊",utdot:"⋰",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",uwangle:"⦧",vArr:"⇕",vBar:"⫨",vBarv:"⫩",vDash:"⊨",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vcy:"в",vdash:"⊢",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",vert:"|",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",vprop:"∝",vrtri:"⊳",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",wedgeq:"≙",weierp:"℘",wfr:"𝔴",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",yacy:"я",ycirc:"ŷ",ycy:"ы",yen:"¥",yfr:"𝔶",yicy:"ї",yopf:"𝕪",yscr:"𝓎",yucy:"ю",yuml:"ÿ",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeetrf:"ℨ",zeta:"ζ",zfr:"𝔷",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",zscr:"𝓏",zwj:"‍",zwnj:"‌"},Dt={}.hasOwnProperty;const Mt={name:"characterReference",tokenize:function(e,t,n){const r=this;let a,o,i=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=Se,l(t))}function c(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=_e,l):(e.enter("characterReferenceValue"),a=7,o=Te,l(t))}function l(s){if(59===s&&i){const a=e.exit("characterReferenceValue");return o!==Se||function(e){return!!Dt.call(At,e)&&At[e]}(r.sliceSerialize(a))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)}return o(s)&&i++<a?(e.consume(s),l):n(s)}}};const Nt={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return Ie(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const Pt={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ce(e,t,"linePrefix")}}};function Lt(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const o=e[a].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Rt={name:"labelEnd",tokenize:function(e,t,n){const r=this;let a,o,i=r.events.length;for(;i--;)if(("labelImage"===r.events[i][1].type||"labelLink"===r.events[i][1].type)&&!r.events[i][1]._balanced){a=r.events[i][1];break}return function(t){if(!a)return n(t);if(a._inactive)return u(t);return o=r.parser.defined.includes(mt(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s};function s(t){return 40===t?e.attempt(Ft,l,o?l:u)(t):91===t?e.attempt(jt,l,o?c:u)(t):o?l(t):u(t)}function c(t){return e.attempt(Bt,l,u)(t)}function l(e){return t(e)}function u(e){return a._balanced=!0,n(e)}},resolveTo:function(e,t){let n,r,a,o,i=e.length,s=0;for(;i--;)if(n=e[i][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[i][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(a){if("enter"===e[i][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=i,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(a=i);const c={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[a][1].end)},u={type:"labelText",start:Object.assign({},e[r+s+2][1].end),end:Object.assign({},e[a-2][1].start)};return o=[["enter",c,t],["enter",l,t]],o=wt(o,e.slice(r+1,r+s+3)),o=wt(o,[["enter",u,t]]),o=wt(o,Lt(t.parser.constructs.insideSpan.null,e.slice(r+s+4,a-3),t)),o=wt(o,[["exit",u,t],e[a-2],e[a-1],["exit",l,t]]),o=wt(o,e.slice(a+1)),o=wt(o,[["exit",c,t]]),bt(e,r,e.length,o),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},Ft={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return Ae(t)?ft(e,a)(t):a(t)}function a(t){return 41===t?l(t):tt(e,o,i,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function o(t){return Ae(t)?ft(e,s)(t):l(t)}function i(e){return n(e)}function s(t){return 34===t||39===t||40===t?lt(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):l(t)}function c(t){return Ae(t)?ft(e,l)(t):l(t)}function l(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},jt={tokenize:function(e,t,n){const r=this;return function(t){return at.call(r,e,a,o,"reference","referenceMarker","referenceString")(t)};function a(e){return r.parser.defined.includes(mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function o(e){return n(e)}}},Bt={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const zt={name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),a};function a(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:Rt.resolveAll};Ut(/[A-Za-z]/),Ut(/[\dA-Za-z]/),Ut(/[#-'*+\--9=?A-Z^-~]/);Ut(/\d/),Ut(/[\dA-Fa-f]/),Ut(/[!-/:-@[-`{-~]/);const qt=Ut(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),Vt=Ut(/\s/);function Ut(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function Ht(e){return null===e||function(e){return null!==e&&(e<0||32===e)}(e)||Vt(e)?1:qt(e)?2:void 0}const Wt={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Ht(r);let o;return function(t){return o=t,e.enter("attentionSequence"),i(t)};function i(s){if(s===o)return e.consume(s),i;const c=e.exit("attentionSequence"),l=Ht(s),u=!l||2===l&&a||n.includes(s),d=!a||2===a&&l||n.includes(r);return c._open=Boolean(42===o?u:u&&(a||!d)),c._close=Boolean(42===o?d:d&&(l||!u)),t(s)}},resolveAll:function(e,t){let n,r,a,o,i,s,c,l,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d=Object.assign({},e[n][1].end),p=Object.assign({},e[u][1].start);Gt(d,-s),Gt(p,s),o={type:s>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[n][1].end)},i={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:p},a={type:s>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},i.end)},e[n][1].end=Object.assign({},o.start),e[u][1].start=Object.assign({},i.end),c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=wt(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=wt(c,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=wt(c,Lt(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),c=wt(c,[["exit",a,t],["enter",i,t],["exit",i,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(l=2,c=wt(c,[["enter",e[u][1],t],["exit",e[u][1],t]])):l=0,bt(e,n-1,u-n+3,c),u=n+c.length-l-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e}};function Gt(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Kt={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a};function a(t){return Ee(t)?(e.consume(t),o):c(t)}function o(e){return 43===e||45===e||46===e||Se(e)?(r=1,i(e)):c(e)}function i(t){return 58===t?(e.consume(t),r=0,s):(43===t||45===t||46===t||Se(t))&&r++<32?(e.consume(t),i):(r=0,c(t))}function s(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||function(e){return null!==e&&(e<32||127===e)}(r)?n(r):(e.consume(r),s)}function c(t){return 64===t?(e.consume(t),l):ke(t)?(e.consume(t),c):n(t)}function l(e){return Se(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,l):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||Se(t))&&r++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}};const Jt={name:"htmlText",tokenize:function(e,t,n){const r=this;let a,o,i;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s};function s(t){return 33===t?(e.consume(t),c):47===t?(e.consume(t),w):63===t?(e.consume(t),y):Ee(t)?(e.consume(t),E):n(t)}function c(t){return 45===t?(e.consume(t),l):91===t?(e.consume(t),o=0,f):Ee(t)?(e.consume(t),v):n(t)}function l(t){return 45===t?(e.consume(t),p):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):Oe(t)?(i=u,M(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),p):u(t)}function p(e){return 62===e?D(e):45===e?d(e):u(e)}function f(t){const r="CDATA[";return t===r.charCodeAt(o++)?(e.consume(t),6===o?m:f):n(t)}function m(t){return null===t?n(t):93===t?(e.consume(t),h):Oe(t)?(i=m,M(t)):(e.consume(t),m)}function h(t){return 93===t?(e.consume(t),g):m(t)}function g(t){return 62===t?D(t):93===t?(e.consume(t),g):m(t)}function v(t){return null===t||62===t?D(t):Oe(t)?(i=v,M(t)):(e.consume(t),v)}function y(t){return null===t?n(t):63===t?(e.consume(t),b):Oe(t)?(i=y,M(t)):(e.consume(t),y)}function b(e){return 62===e?D(e):y(e)}function w(t){return Ee(t)?(e.consume(t),x):n(t)}function x(t){return 45===t||Se(t)?(e.consume(t),x):C(t)}function C(t){return Oe(t)?(i=C,M(t)):De(t)?(e.consume(t),C):D(t)}function E(t){return 45===t||Se(t)?(e.consume(t),E):47===t||62===t||Ae(t)?S(t):n(t)}function S(t){return 47===t?(e.consume(t),D):58===t||95===t||Ee(t)?(e.consume(t),k):Oe(t)?(i=S,M(t)):De(t)?(e.consume(t),S):D(t)}function k(t){return 45===t||46===t||58===t||95===t||Se(t)?(e.consume(t),k):T(t)}function T(t){return 61===t?(e.consume(t),_):Oe(t)?(i=T,M(t)):De(t)?(e.consume(t),T):S(t)}function _(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),a=t,I):Oe(t)?(i=_,M(t)):De(t)?(e.consume(t),_):(e.consume(t),O)}function I(t){return t===a?(e.consume(t),a=void 0,A):null===t?n(t):Oe(t)?(i=I,M(t)):(e.consume(t),I)}function O(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||Ae(t)?S(t):(e.consume(t),O)}function A(e){return 47===e||62===e||Ae(e)?S(e):n(e)}function D(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function M(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),N}function N(t){return De(t)?Ce(e,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):P(t)}function P(t){return e.enter("htmlTextData"),i(t)}}};const Zt={name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),a};function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:Rt.resolveAll};const Xt={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return Oe(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Yt={name:"codeText",tokenize:function(e,t,n){let r,a,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),i(t)};function i(t){return 96===t?(e.consume(t),o++,i):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):96===t?(a=e.enter("codeTextSequence"),r=0,l(t)):Oe(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),c(t))}function c(t){return null===t||32===t||96===t||Oe(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),c)}function l(n){return 96===n?(e.consume(n),r++,l):r===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(a.type="codeTextData",c(n))}},resolve:function(e){let t,n,r=e.length-4,a=3;if(("lineEnding"===e[a][1].type||"space"===e[a][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=a;++t<r;)if("codeTextData"===e[t][1].type){e[a][1].type="codeTextPadding",e[r][1].type="codeTextPadding",a+=2,r-=2;break}t=a-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};const Qt={42:Ze,43:Ze,45:Ze,48:Ze,49:Ze,50:Ze,51:Ze,52:Ze,53:Ze,54:Ze,55:Ze,56:Ze,57:Ze,62:Qe},$t={91:ht},en={[-2]:vt,[-1]:vt,32:vt},tn={35:xt,42:Je,45:[Ct,Je],60:kt,61:Ct,95:Je,96:Ot,126:Ot},nn={38:Mt,92:Nt},rn={[-5]:Pt,[-4]:Pt,[-3]:Pt,33:zt,38:Mt,42:Wt,60:[Kt,Jt],91:Zt,92:[Xt,Nt],93:Rt,95:Wt,96:Yt},an={null:[Wt,ze]},on={null:[42,95]},sn={null:[]};function cn(e){const t={defined:[],lazy:{},constructs:function(e){const t={};let n=-1;for(;++n<e.length;)ce(t,e[n]);return t}([r,...(e||{}).extensions||[]]),content:n(he),document:n(ye),flow:n(Be),string:n(qe),text:n(Ve)};return t;function n(e){return function(n){return Ke(t,e,n)}}}const ln=/[\0\t\n\r]/g;function un(e,t,n,r){const a=e.length;let o,i=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function dn(e){const t={};let n,r,a,o,i,s,c,l=-1;for(;++l<e.length;){for(;l in t;)l=t[l];if(n=e[l],l&&"chunkFlow"===n[1].type&&"listItemPrefix"===e[l-1][1].type&&(s=n[1]._tokenizer.events,a=0,a<s.length&&"lineEndingBlank"===s[a][1].type&&(a+=2),a<s.length&&"content"===s[a][1].type))for(;++a<s.length&&"content"!==s[a][1].type;)"chunkText"===s[a][1].type&&(s[a][1]._isInFirstContentOfListItem=!0,a++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,pn(e,l)),l=t[l],c=!0);else if(n[1]._container){for(a=l,r=void 0;a--&&(o=e[a],"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(r&&(e[r][1].type="lineEndingBlank"),o[1].type="lineEnding",r=a);r&&(n[1].end=Object.assign({},e[r][1].start),i=e.slice(r,l),i.unshift(n),un(e,r,l-r+1,i))}}return!c}function pn(e,t){const n=e[t][1],r=e[t][2];let a=t-1;const o=[],i=n._tokenizer||r.parser[n.contentType](n.start),s=i.events,c=[],l={};let u,d,p=-1,f=n,m=0,h=0;const g=[h];for(;f;){for(;e[++a][1]!==f;);o.push(a),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),d&&i.defineSkip(f.start),f._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(u),f._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++p<s.length;)"exit"===s[p][0]&&"enter"===s[p-1][0]&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(h=p+1,g.push(h),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(i.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),p=g.length;p--;){const t=s.slice(g[p],g[p+1]),n=o.pop();c.unshift([n,n+t.length-1]),un(e,n,2,t)}for(p=-1;++p<c.length;)l[m+c[p][0]]=m+c[p][1],m+=c[p][1]-c[p][0]-1;return l}const fn={AElig:"Æ",AMP:"&",Aacute:"Á",Abreve:"Ă",Acirc:"Â",Acy:"А",Afr:"𝔄",Agrave:"À",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"𝔸",ApplyFunction:"⁡",Aring:"Å",Ascr:"𝒜",Assign:"≔",Atilde:"Ã",Auml:"Ä",Backslash:"∖",Barv:"⫧",Barwed:"⌆",Bcy:"Б",Because:"∵",Bernoullis:"ℬ",Beta:"Β",Bfr:"𝔅",Bopf:"𝔹",Breve:"˘",Bscr:"ℬ",Bumpeq:"≎",CHcy:"Ч",COPY:"©",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",Cayleys:"ℭ",Ccaron:"Č",Ccedil:"Ç",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"¸",CenterDot:"·",Cfr:"ℭ",Chi:"Χ",CircleDot:"⊙",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",Colon:"∷",Colone:"⩴",Congruent:"≡",Conint:"∯",ContourIntegral:"∮",Copf:"ℂ",Coproduct:"∐",CounterClockwiseContourIntegral:"∳",Cross:"⨯",Cscr:"𝒞",Cup:"⋓",CupCap:"≍",DD:"ⅅ",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",Darr:"↡",Dashv:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",Delta:"Δ",Dfr:"𝔇",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",Diamond:"⋄",DifferentialD:"ⅆ",Dopf:"𝔻",Dot:"¨",DotDot:"⃜",DotEqual:"≐",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",Downarrow:"⇓",Dscr:"𝒟",Dstrok:"Đ",ENG:"Ŋ",ETH:"Ð",Eacute:"É",Ecaron:"Ě",Ecirc:"Ê",Ecy:"Э",Edot:"Ė",Efr:"𝔈",Egrave:"È",Element:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"𝔼",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",Equilibrium:"⇌",Escr:"ℰ",Esim:"⩳",Eta:"Η",Euml:"Ë",Exists:"∃",ExponentialE:"ⅇ",Fcy:"Ф",Ffr:"𝔉",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",Fopf:"𝔽",ForAll:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",GT:">",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"𝔊",Gg:"⋙",Gopf:"𝔾",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",Gt:"≫",HARDcy:"Ъ",Hacek:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",HilbertSpace:"ℋ",Hopf:"ℍ",HorizontalLine:"─",Hscr:"ℋ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Iacute:"Í",Icirc:"Î",Icy:"И",Idot:"İ",Ifr:"ℑ",Igrave:"Ì",Im:"ℑ",Imacr:"Ī",ImaginaryI:"ⅈ",Implies:"⇒",Int:"∬",Integral:"∫",Intersection:"⋂",InvisibleComma:"⁣",InvisibleTimes:"⁢",Iogon:"Į",Iopf:"𝕀",Iota:"Ι",Iscr:"ℐ",Itilde:"Ĩ",Iukcy:"І",Iuml:"Ï",Jcirc:"Ĵ",Jcy:"Й",Jfr:"𝔍",Jopf:"𝕁",Jscr:"𝒥",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"𝔎",Kopf:"𝕂",Kscr:"𝒦",LJcy:"Љ",LT:"<",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Larr:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",LeftRightArrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",Leftarrow:"⇐",Leftrightarrow:"⇔",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",LessLess:"⪡",LessSlantEqual:"⩽",LessTilde:"≲",Lfr:"𝔏",Ll:"⋘",Lleftarrow:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",LongLeftRightArrow:"⟷",LongRightArrow:"⟶",Longleftarrow:"⟸",Longleftrightarrow:"⟺",Longrightarrow:"⟹",Lopf:"𝕃",LowerLeftArrow:"↙",LowerRightArrow:"↘",Lscr:"ℒ",Lsh:"↰",Lstrok:"Ł",Lt:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",MinusPlus:"∓",Mopf:"𝕄",Mscr:"ℳ",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",Nfr:"𝔑",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",Nscr:"𝒩",Ntilde:"Ñ",Nu:"Ν",OElig:"Œ",Oacute:"Ó",Ocirc:"Ô",Ocy:"О",Odblac:"Ő",Ofr:"𝔒",Ograve:"Ò",Omacr:"Ō",Omega:"Ω",Omicron:"Ο",Oopf:"𝕆",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",Or:"⩔",Oscr:"𝒪",Oslash:"Ø",Otilde:"Õ",Otimes:"⨷",Ouml:"Ö",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",PartialD:"∂",Pcy:"П",Pfr:"𝔓",Phi:"Φ",Pi:"Π",PlusMinus:"±",Poincareplane:"ℌ",Popf:"ℙ",Pr:"⪻",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",Prime:"″",Product:"∏",Proportion:"∷",Proportional:"∝",Pscr:"𝒫",Psi:"Ψ",QUOT:'"',Qfr:"𝔔",Qopf:"ℚ",Qscr:"𝒬",RBarr:"⤐",REG:"®",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",Rfr:"ℜ",Rho:"Ρ",RightAngleBracket:"⟩",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",Rightarrow:"⇒",Ropf:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",Rscr:"ℛ",Rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"𝔖",ShortDownArrow:"↓",ShortLeftArrow:"←",ShortRightArrow:"→",ShortUpArrow:"↑",Sigma:"Σ",SmallCircle:"∘",Sopf:"𝕊",Sqrt:"√",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",Sscr:"𝒮",Star:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",SuchThat:"∋",Sum:"∑",Sup:"⋑",Superset:"⊃",SupersetEqual:"⊇",Supset:"⋑",THORN:"Þ",TRADE:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"\t",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"𝔗",Therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",Topf:"𝕋",TripleDot:"⃛",Tscr:"𝒯",Tstrok:"Ŧ",Uacute:"Ú",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucirc:"Û",Ucy:"У",Udblac:"Ű",Ufr:"𝔘",Ugrave:"Ù",Umacr:"Ū",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",Uopf:"𝕌",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",UpEquilibrium:"⥮",UpTee:"⊥",UpTeeArrow:"↥",Uparrow:"⇑",Updownarrow:"⇕",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"𝒰",Utilde:"Ũ",Uuml:"Ü",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",Vopf:"𝕍",Vscr:"𝒱",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",Wfr:"𝔚",Wopf:"𝕎",Wscr:"𝒲",Xfr:"𝔛",Xi:"Ξ",Xopf:"𝕏",Xscr:"𝒳",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Yacute:"Ý",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"𝔜",Yopf:"𝕐",Yscr:"𝒴",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",ZeroWidthSpace:"​",Zeta:"Ζ",Zfr:"ℨ",Zopf:"ℤ",Zscr:"𝒵",aacute:"á",abreve:"ă",ac:"∾",acE:"∾̳",acd:"∿",acirc:"â",acute:"´",acy:"а",aelig:"æ",af:"⁡",afr:"𝔞",agrave:"à",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",amp:"&",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",aopf:"𝕒",ap:"≈",apE:"⩰",apacir:"⩯",ape:"≊",apid:"≋",apos:"'",approx:"≈",approxeq:"≊",aring:"å",ascr:"𝒶",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",auml:"ä",awconint:"∳",awint:"⨑",bNot:"⫭",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",beta:"β",beth:"ℶ",between:"≬",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxh:"─",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",bprime:"‵",breve:"˘",brvbar:"¦",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",bumpeq:"≏",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",caron:"ˇ",ccaps:"⩍",ccaron:"č",ccedil:"ç",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cedil:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",cfr:"𝔠",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledR:"®",circledS:"Ⓢ",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",conint:"∮",copf:"𝕔",coprod:"∐",copy:"©",copysr:"℗",crarr:"↵",cross:"✗",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dArr:"⇓",dHar:"⥥",dagger:"†",daleth:"ℸ",darr:"↓",dash:"‐",dashv:"⊣",dbkarow:"⤏",dblac:"˝",dcaron:"ď",dcy:"д",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",ddotseq:"⩷",deg:"°",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",dharl:"⇃",dharr:"⇂",diam:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",dot:"˙",doteq:"≐",doteqdot:"≑",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",downarrow:"↓",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eDDot:"⩷",eDot:"≑",eacute:"é",easter:"⩮",ecaron:"ě",ecir:"≖",ecirc:"ê",ecolon:"≕",ecy:"э",edot:"ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",eg:"⪚",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",equals:"=",equest:"≟",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",erarr:"⥱",escr:"ℯ",esdot:"≐",esim:"≂",eta:"η",eth:"ð",euml:"ë",euro:"€",excl:"!",exist:"∃",expectation:"ℰ",exponentiale:"ⅇ",fallingdotseq:"≒",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",forall:"∀",fork:"⋔",forkv:"⫙",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",gE:"≧",gEl:"⪌",gacute:"ǵ",gamma:"γ",gammad:"ϝ",gap:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",ge:"≥",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",gg:"≫",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",gl:"≷",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",grave:"`",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",hArr:"⇔",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",harr:"↔",harrcir:"⥈",harrw:"↭",hbar:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",horbar:"―",hscr:"𝒽",hslash:"ℏ",hstrok:"ħ",hybull:"⁃",hyphen:"‐",iacute:"í",ic:"⁣",icirc:"î",icy:"и",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",image:"ℑ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",intcal:"⊺",integers:"ℤ",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iocy:"ё",iogon:"į",iopf:"𝕚",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",isin:"∈",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",iukcy:"і",iuml:"ï",jcirc:"ĵ",jcy:"й",jfr:"𝔧",jmath:"ȷ",jopf:"𝕛",jscr:"𝒿",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",kcedil:"ķ",kcy:"к",kfr:"𝔨",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"𝕜",kscr:"𝓀",lAarr:"⇚",lArr:"⇐",lAtail:"⤛",lBarr:"⤎",lE:"≦",lEg:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",laquo:"«",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lceil:"⌈",lcub:"{",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leftarrow:"←",leftarrowtail:"↢",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",leftthreetimes:"⋋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",lessgtr:"≶",lesssim:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",lg:"≶",lgE:"⪑",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",ll:"≪",llarr:"⇇",llcorner:"⌞",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",longleftrightarrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",ltrie:"⊴",ltrif:"◂",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",measuredangle:"∡",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",mp:"∓",mscr:"𝓂",mstpos:"∾",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nGtv:"≫̸",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nLl:"⋘̸",nLt:"≪⃒",nLtv:"≪̸",nRightarrow:"⇏",nVDash:"⊯",nVdash:"⊮",nabla:"∇",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",ne:"≠",neArr:"⇗",nearhk:"⤤",nearr:"↗",nearrow:"↗",nedot:"≐̸",nequiv:"≢",nesear:"⤨",nesim:"≂̸",nexist:"∄",nexists:"∄",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",ngsim:"≵",ngt:"≯",ngtr:"≯",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",nlArr:"⇍",nlE:"≦̸",nlarr:"↚",nldr:"‥",nle:"≰",nleftarrow:"↚",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nlsim:"≴",nlt:"≮",nltri:"⋪",nltrie:"⋬",nmid:"∤",nopf:"𝕟",not:"¬",notin:"∉",notinE:"⋹̸",notindot:"⋵̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",oS:"Ⓢ",oacute:"ó",oast:"⊛",ocir:"⊚",ocirc:"ô",ocy:"о",odash:"⊝",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"𝔬",ogon:"˛",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",opar:"⦷",operp:"⦹",oplus:"⊕",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oscr:"ℴ",oslash:"ø",osol:"⊘",otilde:"õ",otimes:"⊗",otimesas:"⨶",ouml:"ö",ovbar:"⌽",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",pointint:"⨕",popf:"𝕡",pound:"£",pr:"≺",prE:"⪳",prap:"⪷",prcue:"≼",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",primes:"ℙ",prnE:"⪵",prnap:"⪹",prnsim:"⋨",prod:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",psi:"ψ",puncsp:" ",qfr:"𝔮",qint:"⨌",qopf:"𝕢",qprime:"⁗",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',rAarr:"⇛",rArr:"⇒",rAtail:"⤜",rBarr:"⤏",rHar:"⥤",race:"∽̱",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rarrw:"↝",ratail:"⤚",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rceil:"⌉",rcub:"}",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",rhov:"ϱ",rightarrow:"→",rightarrowtail:"↣",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",rightthreetimes:"⋌",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",rsaquo:"›",rscr:"𝓇",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",sbquo:"‚",sc:"≻",scE:"⪴",scap:"⪸",scaron:"š",sccue:"≽",sce:"⪰",scedil:"ş",scirc:"ŝ",scnE:"⪶",scnap:"⪺",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",seArr:"⇘",searhk:"⤥",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",sfrown:"⌢",sharp:"♯",shchcy:"щ",shcy:"ш",shortmid:"∣",shortparallel:"∥",shy:"­",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",subE:"⫅",subdot:"⪽",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",supE:"⫆",supdot:"⪾",supdsub:"⫘",supe:"⊇",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swarhk:"⤦",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",target:"⌖",tau:"τ",tbrk:"⎴",tcaron:"ť",tcedil:"ţ",tcy:"т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",there4:"∴",therefore:"∴",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",thinsp:" ",thkap:"≈",thksim:"∼",thorn:"þ",tilde:"˜",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uArr:"⇑",uHar:"⥣",uacute:"ú",uarr:"↑",ubrcy:"ў",ubreve:"ŭ",ucirc:"û",ucy:"у",udarr:"⇅",udblac:"ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",ugrave:"ù",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",uml:"¨",uogon:"ų",uopf:"𝕦",uparrow:"↑",updownarrow:"↕",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",upsi:"υ",upsih:"ϒ",upsilon:"υ",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"𝓊",utdot:"⋰",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",uwangle:"⦧",vArr:"⇕",vBar:"⫨",vBarv:"⫩",vDash:"⊨",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vcy:"в",vdash:"⊢",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",vert:"|",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",vprop:"∝",vrtri:"⊳",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",wedgeq:"≙",weierp:"℘",wfr:"𝔴",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",yacy:"я",ycirc:"ŷ",ycy:"ы",yen:"¥",yfr:"𝔶",yicy:"ї",yopf:"𝕪",yscr:"𝓎",yucy:"ю",yuml:"ÿ",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeetrf:"ℨ",zeta:"ζ",zfr:"𝔷",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",zscr:"𝓏",zwj:"‍",zwnj:"‌"},mn={}.hasOwnProperty;const hn=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gn(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return function(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"�":String.fromCharCode(n)}(n.slice(t?2:1),t?16:10)}return r=n,!!mn.call(fn,r)&&fn[r]||e;var r}function vn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const yn={AElig:"Æ",AMP:"&",Aacute:"Á",Abreve:"Ă",Acirc:"Â",Acy:"А",Afr:"𝔄",Agrave:"À",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"𝔸",ApplyFunction:"⁡",Aring:"Å",Ascr:"𝒜",Assign:"≔",Atilde:"Ã",Auml:"Ä",Backslash:"∖",Barv:"⫧",Barwed:"⌆",Bcy:"Б",Because:"∵",Bernoullis:"ℬ",Beta:"Β",Bfr:"𝔅",Bopf:"𝔹",Breve:"˘",Bscr:"ℬ",Bumpeq:"≎",CHcy:"Ч",COPY:"©",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",Cayleys:"ℭ",Ccaron:"Č",Ccedil:"Ç",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"¸",CenterDot:"·",Cfr:"ℭ",Chi:"Χ",CircleDot:"⊙",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",Colon:"∷",Colone:"⩴",Congruent:"≡",Conint:"∯",ContourIntegral:"∮",Copf:"ℂ",Coproduct:"∐",CounterClockwiseContourIntegral:"∳",Cross:"⨯",Cscr:"𝒞",Cup:"⋓",CupCap:"≍",DD:"ⅅ",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",Darr:"↡",Dashv:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",Delta:"Δ",Dfr:"𝔇",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",Diamond:"⋄",DifferentialD:"ⅆ",Dopf:"𝔻",Dot:"¨",DotDot:"⃜",DotEqual:"≐",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",Downarrow:"⇓",Dscr:"𝒟",Dstrok:"Đ",ENG:"Ŋ",ETH:"Ð",Eacute:"É",Ecaron:"Ě",Ecirc:"Ê",Ecy:"Э",Edot:"Ė",Efr:"𝔈",Egrave:"È",Element:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"𝔼",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",Equilibrium:"⇌",Escr:"ℰ",Esim:"⩳",Eta:"Η",Euml:"Ë",Exists:"∃",ExponentialE:"ⅇ",Fcy:"Ф",Ffr:"𝔉",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",Fopf:"𝔽",ForAll:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",GT:">",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"𝔊",Gg:"⋙",Gopf:"𝔾",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",Gt:"≫",HARDcy:"Ъ",Hacek:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",HilbertSpace:"ℋ",Hopf:"ℍ",HorizontalLine:"─",Hscr:"ℋ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Iacute:"Í",Icirc:"Î",Icy:"И",Idot:"İ",Ifr:"ℑ",Igrave:"Ì",Im:"ℑ",Imacr:"Ī",ImaginaryI:"ⅈ",Implies:"⇒",Int:"∬",Integral:"∫",Intersection:"⋂",InvisibleComma:"⁣",InvisibleTimes:"⁢",Iogon:"Į",Iopf:"𝕀",Iota:"Ι",Iscr:"ℐ",Itilde:"Ĩ",Iukcy:"І",Iuml:"Ï",Jcirc:"Ĵ",Jcy:"Й",Jfr:"𝔍",Jopf:"𝕁",Jscr:"𝒥",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"𝔎",Kopf:"𝕂",Kscr:"𝒦",LJcy:"Љ",LT:"<",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Larr:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",LeftRightArrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",Leftarrow:"⇐",Leftrightarrow:"⇔",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",LessLess:"⪡",LessSlantEqual:"⩽",LessTilde:"≲",Lfr:"𝔏",Ll:"⋘",Lleftarrow:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",LongLeftRightArrow:"⟷",LongRightArrow:"⟶",Longleftarrow:"⟸",Longleftrightarrow:"⟺",Longrightarrow:"⟹",Lopf:"𝕃",LowerLeftArrow:"↙",LowerRightArrow:"↘",Lscr:"ℒ",Lsh:"↰",Lstrok:"Ł",Lt:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",MinusPlus:"∓",Mopf:"𝕄",Mscr:"ℳ",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",Nfr:"𝔑",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",Nscr:"𝒩",Ntilde:"Ñ",Nu:"Ν",OElig:"Œ",Oacute:"Ó",Ocirc:"Ô",Ocy:"О",Odblac:"Ő",Ofr:"𝔒",Ograve:"Ò",Omacr:"Ō",Omega:"Ω",Omicron:"Ο",Oopf:"𝕆",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",Or:"⩔",Oscr:"𝒪",Oslash:"Ø",Otilde:"Õ",Otimes:"⨷",Ouml:"Ö",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",PartialD:"∂",Pcy:"П",Pfr:"𝔓",Phi:"Φ",Pi:"Π",PlusMinus:"±",Poincareplane:"ℌ",Popf:"ℙ",Pr:"⪻",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",Prime:"″",Product:"∏",Proportion:"∷",Proportional:"∝",Pscr:"𝒫",Psi:"Ψ",QUOT:'"',Qfr:"𝔔",Qopf:"ℚ",Qscr:"𝒬",RBarr:"⤐",REG:"®",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",Rfr:"ℜ",Rho:"Ρ",RightAngleBracket:"⟩",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",Rightarrow:"⇒",Ropf:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",Rscr:"ℛ",Rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"𝔖",ShortDownArrow:"↓",ShortLeftArrow:"←",ShortRightArrow:"→",ShortUpArrow:"↑",Sigma:"Σ",SmallCircle:"∘",Sopf:"𝕊",Sqrt:"√",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",Sscr:"𝒮",Star:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",SuchThat:"∋",Sum:"∑",Sup:"⋑",Superset:"⊃",SupersetEqual:"⊇",Supset:"⋑",THORN:"Þ",TRADE:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"\t",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"𝔗",Therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",Topf:"𝕋",TripleDot:"⃛",Tscr:"𝒯",Tstrok:"Ŧ",Uacute:"Ú",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucirc:"Û",Ucy:"У",Udblac:"Ű",Ufr:"𝔘",Ugrave:"Ù",Umacr:"Ū",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",Uopf:"𝕌",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",UpEquilibrium:"⥮",UpTee:"⊥",UpTeeArrow:"↥",Uparrow:"⇑",Updownarrow:"⇕",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"𝒰",Utilde:"Ũ",Uuml:"Ü",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",Vopf:"𝕍",Vscr:"𝒱",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",Wfr:"𝔚",Wopf:"𝕎",Wscr:"𝒲",Xfr:"𝔛",Xi:"Ξ",Xopf:"𝕏",Xscr:"𝒳",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Yacute:"Ý",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"𝔜",Yopf:"𝕐",Yscr:"𝒴",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",ZeroWidthSpace:"​",Zeta:"Ζ",Zfr:"ℨ",Zopf:"ℤ",Zscr:"𝒵",aacute:"á",abreve:"ă",ac:"∾",acE:"∾̳",acd:"∿",acirc:"â",acute:"´",acy:"а",aelig:"æ",af:"⁡",afr:"𝔞",agrave:"à",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",amp:"&",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",aopf:"𝕒",ap:"≈",apE:"⩰",apacir:"⩯",ape:"≊",apid:"≋",apos:"'",approx:"≈",approxeq:"≊",aring:"å",ascr:"𝒶",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",auml:"ä",awconint:"∳",awint:"⨑",bNot:"⫭",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",beta:"β",beth:"ℶ",between:"≬",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxh:"─",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",bprime:"‵",breve:"˘",brvbar:"¦",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",bumpeq:"≏",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",caron:"ˇ",ccaps:"⩍",ccaron:"č",ccedil:"ç",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cedil:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",cfr:"𝔠",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledR:"®",circledS:"Ⓢ",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",conint:"∮",copf:"𝕔",coprod:"∐",copy:"©",copysr:"℗",crarr:"↵",cross:"✗",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dArr:"⇓",dHar:"⥥",dagger:"†",daleth:"ℸ",darr:"↓",dash:"‐",dashv:"⊣",dbkarow:"⤏",dblac:"˝",dcaron:"ď",dcy:"д",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",ddotseq:"⩷",deg:"°",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",dharl:"⇃",dharr:"⇂",diam:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",dot:"˙",doteq:"≐",doteqdot:"≑",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",downarrow:"↓",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eDDot:"⩷",eDot:"≑",eacute:"é",easter:"⩮",ecaron:"ě",ecir:"≖",ecirc:"ê",ecolon:"≕",ecy:"э",edot:"ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",eg:"⪚",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",equals:"=",equest:"≟",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",erarr:"⥱",escr:"ℯ",esdot:"≐",esim:"≂",eta:"η",eth:"ð",euml:"ë",euro:"€",excl:"!",exist:"∃",expectation:"ℰ",exponentiale:"ⅇ",fallingdotseq:"≒",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",forall:"∀",fork:"⋔",forkv:"⫙",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",gE:"≧",gEl:"⪌",gacute:"ǵ",gamma:"γ",gammad:"ϝ",gap:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",ge:"≥",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",gg:"≫",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",gl:"≷",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",grave:"`",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",hArr:"⇔",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",harr:"↔",harrcir:"⥈",harrw:"↭",hbar:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",horbar:"―",hscr:"𝒽",hslash:"ℏ",hstrok:"ħ",hybull:"⁃",hyphen:"‐",iacute:"í",ic:"⁣",icirc:"î",icy:"и",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",image:"ℑ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",intcal:"⊺",integers:"ℤ",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iocy:"ё",iogon:"į",iopf:"𝕚",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",isin:"∈",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",iukcy:"і",iuml:"ï",jcirc:"ĵ",jcy:"й",jfr:"𝔧",jmath:"ȷ",jopf:"𝕛",jscr:"𝒿",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",kcedil:"ķ",kcy:"к",kfr:"𝔨",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"𝕜",kscr:"𝓀",lAarr:"⇚",lArr:"⇐",lAtail:"⤛",lBarr:"⤎",lE:"≦",lEg:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",laquo:"«",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lceil:"⌈",lcub:"{",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leftarrow:"←",leftarrowtail:"↢",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",leftthreetimes:"⋋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",lessgtr:"≶",lesssim:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",lg:"≶",lgE:"⪑",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",ll:"≪",llarr:"⇇",llcorner:"⌞",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",longleftrightarrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",ltrie:"⊴",ltrif:"◂",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",measuredangle:"∡",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",mp:"∓",mscr:"𝓂",mstpos:"∾",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nGtv:"≫̸",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nLl:"⋘̸",nLt:"≪⃒",nLtv:"≪̸",nRightarrow:"⇏",nVDash:"⊯",nVdash:"⊮",nabla:"∇",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",ne:"≠",neArr:"⇗",nearhk:"⤤",nearr:"↗",nearrow:"↗",nedot:"≐̸",nequiv:"≢",nesear:"⤨",nesim:"≂̸",nexist:"∄",nexists:"∄",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",ngsim:"≵",ngt:"≯",ngtr:"≯",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",nlArr:"⇍",nlE:"≦̸",nlarr:"↚",nldr:"‥",nle:"≰",nleftarrow:"↚",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nlsim:"≴",nlt:"≮",nltri:"⋪",nltrie:"⋬",nmid:"∤",nopf:"𝕟",not:"¬",notin:"∉",notinE:"⋹̸",notindot:"⋵̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",oS:"Ⓢ",oacute:"ó",oast:"⊛",ocir:"⊚",ocirc:"ô",ocy:"о",odash:"⊝",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"𝔬",ogon:"˛",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",opar:"⦷",operp:"⦹",oplus:"⊕",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oscr:"ℴ",oslash:"ø",osol:"⊘",otilde:"õ",otimes:"⊗",otimesas:"⨶",ouml:"ö",ovbar:"⌽",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",pointint:"⨕",popf:"𝕡",pound:"£",pr:"≺",prE:"⪳",prap:"⪷",prcue:"≼",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",primes:"ℙ",prnE:"⪵",prnap:"⪹",prnsim:"⋨",prod:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",psi:"ψ",puncsp:" ",qfr:"𝔮",qint:"⨌",qopf:"𝕢",qprime:"⁗",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',rAarr:"⇛",rArr:"⇒",rAtail:"⤜",rBarr:"⤏",rHar:"⥤",race:"∽̱",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rarrw:"↝",ratail:"⤚",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rceil:"⌉",rcub:"}",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",rhov:"ϱ",rightarrow:"→",rightarrowtail:"↣",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",rightthreetimes:"⋌",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",rsaquo:"›",rscr:"𝓇",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",sbquo:"‚",sc:"≻",scE:"⪴",scap:"⪸",scaron:"š",sccue:"≽",sce:"⪰",scedil:"ş",scirc:"ŝ",scnE:"⪶",scnap:"⪺",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",seArr:"⇘",searhk:"⤥",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",sfrown:"⌢",sharp:"♯",shchcy:"щ",shcy:"ш",shortmid:"∣",shortparallel:"∥",shy:"­",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",subE:"⫅",subdot:"⪽",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",supE:"⫆",supdot:"⪾",supdsub:"⫘",supe:"⊇",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swarhk:"⤦",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",target:"⌖",tau:"τ",tbrk:"⎴",tcaron:"ť",tcedil:"ţ",tcy:"т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",there4:"∴",therefore:"∴",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",thinsp:" ",thkap:"≈",thksim:"∼",thorn:"þ",tilde:"˜",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uArr:"⇑",uHar:"⥣",uacute:"ú",uarr:"↑",ubrcy:"ў",ubreve:"ŭ",ucirc:"û",ucy:"у",udarr:"⇅",udblac:"ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",ugrave:"ù",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",uml:"¨",uogon:"ų",uopf:"𝕦",uparrow:"↑",updownarrow:"↕",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",upsi:"υ",upsih:"ϒ",upsilon:"υ",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"𝓊",utdot:"⋰",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",uwangle:"⦧",vArr:"⇕",vBar:"⫨",vBarv:"⫩",vDash:"⊨",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vcy:"в",vdash:"⊢",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",vert:"|",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",vprop:"∝",vrtri:"⊳",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",wedgeq:"≙",weierp:"℘",wfr:"𝔴",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",yacy:"я",ycirc:"ŷ",ycy:"ы",yen:"¥",yfr:"𝔶",yicy:"ї",yopf:"𝕪",yscr:"𝓎",yucy:"ю",yuml:"ÿ",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeetrf:"ℨ",zeta:"ζ",zfr:"𝔷",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",zscr:"𝓏",zwj:"‍",zwnj:"‌"},bn={}.hasOwnProperty;function wn(e){return e&&"object"===typeof e?"position"in e||"type"in e?Cn(e.position):"start"in e||"end"in e?Cn(e):"line"in e||"column"in e?xn(e):"":""}function xn(e){return En(e&&e.line)+":"+En(e&&e.column)}function Cn(e){return xn(e&&e.start)+"-"+xn(e&&e.end)}function En(e){return e&&"number"===typeof e?e:1}const Sn={}.hasOwnProperty,kn=function(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ne),autolinkProtocol:_,autolinkEmail:_,atxHeading:s(Q),blockQuote:s(K),characterEscape:_,characterReference:_,codeFenced:s(J),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:s(J,c),codeText:s(Z,c),codeTextData:_,data:_,codeFlowValue:_,definition:s(X),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:s(Y),hardBreakEscape:s($),hardBreakTrailing:s($),htmlFlow:s(ee,c),htmlFlowData:_,htmlText:s(ee,c),htmlTextData:_,image:s(te),label:c,link:s(ne),listItem:s(ie),listItemValue:m,listOrdered:s(oe,f),listUnordered:s(oe),paragraph:s(se),reference:q,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:s(Q),strong:s(ce),thematicBreak:s(ue)},exit:{atxHeading:u(),atxHeadingSequence:E,autolink:u(),autolinkEmail:G,autolinkProtocol:W,blockQuote:u(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:H,codeFenced:u(y),codeFencedFence:v,codeFencedFenceInfo:h,codeFencedFenceMeta:g,codeFlowValue:I,codeIndented:u(b),codeText:u(N),codeTextData:I,data:I,definition:u(),definitionDestinationString:C,definitionLabelString:w,definitionTitleString:x,emphasis:u(),hardBreakEscape:u(A),hardBreakTrailing:u(A),htmlFlow:u(D),htmlFlowData:I,htmlText:u(M),htmlTextData:I,image:u(L),label:F,labelText:R,lineEnding:O,link:u(P),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:V,resourceDestinationString:j,resourceTitleString:B,resource:z,setextHeading:u(T),setextHeadingLineSequence:k,setextHeadingText:S,strong:u(),thematicBreak:u()}};_n(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let n={type:"root",children:[]};const r={stack:[n],tokenStack:[],config:t,enter:l,exit:d,buffer:c,resume:p,setData:o,getData:i},s=[];let u=-1;for(;++u<e.length;)if("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)if("enter"===e[u][0])s.push(u);else{u=a(e,s.pop(),u)}for(u=-1;++u<e.length;){const n=t[e[u][0]];Sn.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},r),e[u][1])}if(r.tokenStack.length>0){const e=r.tokenStack[r.tokenStack.length-1];(e[1]||On).call(r,void 0,e[0])}for(n.position={start:Tn(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Tn(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)n=t.transforms[u](n)||n;return n}function a(e,t,n){let r,a,o,i,s=t-1,c=-1,l=!1;for(;++s<=n;){const t=e[s];if("listUnordered"===t[1].type||"listOrdered"===t[1].type||"blockQuote"===t[1].type?("enter"===t[0]?c++:c--,i=void 0):"lineEndingBlank"===t[1].type?"enter"===t[0]&&(!r||i||c||o||(o=s),i=void 0):"linePrefix"===t[1].type||"listItemValue"===t[1].type||"listItemMarker"===t[1].type||"listItemPrefix"===t[1].type||"listItemPrefixWhitespace"===t[1].type||(i=void 0),!c&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===c&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let i=s;for(a=void 0;i--;){const t=e[i];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;a&&(e[a][1].type="lineEndingBlank",l=!0),t[1].type="lineEnding",a=i}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}o&&(!a||o<a)&&(r._spread=!0),r.end=Object.assign({},a?e[a][1].start:t[1].end),e.splice(a||s,0,["exit",r,t[2]]),s++,n++}"listItemPrefix"===t[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0},e.splice(s,0,["enter",r,t[2]]),s++,n++,o=void 0,i=!0)}}return e[t][1]._spread=l,n}function o(e,t){n[e]=t}function i(e){return n[e]}function s(e,t){return n;function n(n){l.call(this,e(n),n),t&&t.call(this,n)}}function c(){this.stack.push({type:"fragment",children:[]})}function l(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:Tn(t.start)},e}function u(e){return t;function t(t){e&&e.call(this,t),d.call(this,t)}}function d(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+wn({start:e.start,end:e.end})+"): it’s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||On).call(this,e,r[0])}return n.position.end=Tn(e.end),n}function p(){return function(e,t){const n=t||re;return ae(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function f(){o("expectingFirstListItemValue",!0)}function m(e){if(i("expectingFirstListItemValue")){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),o("expectingFirstListItemValue")}}function h(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function g(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function v(){i("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function y(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function b(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function w(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=vn(this.sliceSerialize(e)).toLowerCase()}function x(){const e=this.resume();this.stack[this.stack.length-1].title=e}function C(){const e=this.resume();this.stack[this.stack.length-1].url=e}function E(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function S(){o("setextHeadingSlurpLineEnding",!0)}function k(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function T(){o("setextHeadingSlurpLineEnding")}function _(e){const t=this.stack[this.stack.length-1];let n=t.children[t.children.length-1];n&&"text"===n.type||(n=le(),n.position={start:Tn(e.start)},t.children.push(n)),this.stack.push(n)}function I(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Tn(e.end)}function O(e){const n=this.stack[this.stack.length-1];if(i("atHardBreak")){return n.children[n.children.length-1].position.end=Tn(e.end),void o("atHardBreak")}!i("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(_.call(this,e),I.call(this,e))}function A(){o("atHardBreak",!0)}function D(){const e=this.resume();this.stack[this.stack.length-1].value=e}function M(){const e=this.resume();this.stack[this.stack.length-1].value=e}function N(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.stack[this.stack.length-1];if(i("inReference")){const t=i("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;o("referenceType")}function L(){const e=this.stack[this.stack.length-1];if(i("inReference")){const t=i("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;o("referenceType")}function R(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(hn,gn)}(t),n.identifier=vn(t).toLowerCase()}function F(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(o("inReference",!0),"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function j(){const e=this.resume();this.stack[this.stack.length-1].url=e}function B(){const e=this.resume();this.stack[this.stack.length-1].title=e}function z(){o("inReference")}function q(){o("referenceType","collapsed")}function V(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=vn(this.sliceSerialize(e)).toLowerCase(),o("referenceType","full")}function U(e){o("characterReferenceType",e.type)}function H(e){const t=this.sliceSerialize(e),n=i("characterReferenceType");let r;if(n)r=function(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"�":String.fromCharCode(n)}(t,"characterReferenceMarkerNumeric"===n?10:16),o("characterReferenceType");else{const e=function(e){return!!bn.call(yn,e)&&yn[e]}(t);r=e}const a=this.stack.pop();a.value+=r,a.position.end=Tn(e.end)}function W(e){I.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function G(e){I.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function K(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function Z(){return{type:"inlineCode",value:""}}function X(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Y(){return{type:"emphasis",children:[]}}function Q(){return{type:"heading",depth:void 0,children:[]}}function $(){return{type:"break"}}function ee(){return{type:"html",value:""}}function te(){return{type:"image",title:null,url:"",alt:null}}function ne(){return{type:"link",title:null,url:"",children:[]}}function oe(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function ie(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ce(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function ue(){return{type:"thematicBreak"}}}(n)(function(e){for(;!dn(e););return e}(cn(n).document().write(function(){let e,t=1,n="",r=!0;return function(a,o,i){const s=[];let c,l,u,d,p;for(a=n+a.toString(o),u=0,n="",r&&(65279===a.charCodeAt(0)&&u++,r=void 0);u<a.length;){if(ln.lastIndex=u,c=ln.exec(a),d=c&&void 0!==c.index?c.index:a.length,p=a.charCodeAt(d),!c){n=a.slice(u);break}if(10===p&&u===d&&e)s.push(-3),e=void 0;else switch(e&&(s.push(-5),e=void 0),u<d&&(s.push(a.slice(u,d)),t+=d-u),p){case 0:s.push(65533),t++;break;case 9:for(l=4*Math.ceil(t/4),s.push(-2);t++<l;)s.push(-1);break;case 10:s.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return i&&(e&&s.push(-5),n&&s.push(n),s.push(null)),s}}()(e,t,!0))))};function Tn(e){return{line:e.line,column:e.column,offset:e.offset}}function _n(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?_n(e,r):In(e,r)}}function In(e,t){let n;for(n in t)if(Sn.call(t,n))if("canContainEols"===n){const r=t[n];r&&e[n].push(...r)}else if("transforms"===n){const r=t[n];r&&e[n].push(...r)}else if("enter"===n||"exit"===n){const r=t[n];r&&Object.assign(e[n],r)}}function On(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+wn({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+wn({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+wn({start:t.start,end:t.end})+") is still open")}function An(e){Object.assign(this,{Parser:t=>{const n=this.data("settings");return kn(t,Object.assign({},n,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}const Dn=function(e,t,n){const r={type:String(e)};return void 0!==n&&null!==n||"string"!==typeof t&&!Array.isArray(t)?Object.assign(r,t):n=t,Array.isArray(n)?r.children=n:void 0!==n&&null!==n&&(r.value=String(n)),r},Mn=function(e){if(void 0===e||null===e)return Pn;if("string"===typeof e)return function(e){return Nn(t);function t(t){return t&&t.type===e}}(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Mn(e[n]);return Nn(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].call(this,...e))return!0;return!1}}(e):function(e){return Nn(t);function t(t){let n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"===typeof e)return Nn(e);throw new Error("Expected function, string, or object as test")};function Nn(e){return function(t,...n){return Boolean(t&&"object"===typeof t&&"type"in t&&Boolean(e.call(this,t,...n)))}}function Pn(){return!0}const Ln=!0,Rn=!1,Fn=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null);const a=Mn(t),o=r?-1:1;!function e(i,s,c){const l=i&&"object"===typeof i?i:{};if("string"===typeof l.type){const e="string"===typeof l.tagName?l.tagName:"string"===typeof l.name?l.name:void 0;Object.defineProperty(u,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return u;function u(){let l,u,d,p=[];if((!t||a(i,s,c[c.length-1]||null))&&(p=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[Ln,e];return[e]}(n(i,c)),p[0]===Rn))return p;if(i.children&&"skip"!==p[0])for(u=(r?i.children.length:-1)+o,d=c.concat(i);u>-1&&u<i.children.length;){if(l=e(i.children[u],u,d)(),l[0]===Rn)return l;u="number"===typeof l[1]?l[1]:u+o}return p}}(e,void 0,[])()};const jn=zn("start"),Bn=zn("end");function zn(e){return function(t){const n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}const qn=function(e){if(void 0===e||null===e)return Un;if("string"===typeof e)return function(e){return Vn(t);function t(t){return t&&t.type===e}}(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=qn(e[n]);return Vn(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].call(this,...e))return!0;return!1}}(e):function(e){return Vn(t);function t(t){let n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"===typeof e)return Vn(e);throw new Error("Expected function, string, or object as test")};function Vn(e){return function(t,...n){return Boolean(t&&"object"===typeof t&&"type"in t&&Boolean(e.call(this,t,...n)))}}function Un(){return!0}const Hn=!0,Wn=!1,Gn=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null);const a=qn(t),o=r?-1:1;!function e(i,s,c){const l=i&&"object"===typeof i?i:{};if("string"===typeof l.type){const e="string"===typeof l.tagName?l.tagName:"string"===typeof l.name?l.name:void 0;Object.defineProperty(u,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return u;function u(){let l,u,d,p=[];if((!t||a(i,s,c[c.length-1]||null))&&(p=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[Hn,e];return[e]}(n(i,c)),p[0]===Wn))return p;if(i.children&&"skip"!==p[0])for(u=(r?i.children.length:-1)+o,d=c.concat(i);u>-1&&u<i.children.length;){if(l=e(i.children[u],u,d)(),l[0]===Wn)return l;u="number"===typeof l[1]?l[1]:u+o}return p}}(e,void 0,[])()};const Kn={}.hasOwnProperty;function Jn(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null),Gn(e,t,(function(e,t){const r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)}(e,"definition",(e=>{const n=Zn(e.identifier);n&&!Kn.call(t,n)&&(t[n]=e)})),function(e){const n=Zn(e);return n&&Kn.call(t,n)?t[n]:null}}function Zn(e){return String(e||"").toUpperCase()}const Xn={}.hasOwnProperty;function Yn(e,t){const n=t.data||{};return"value"in t&&!(Xn.call(n,"hName")||Xn.call(n,"hProperties")||Xn.call(n,"hChildren"))?e.augment(t,Dn("text",t.value)):e(t,"div",er(e,t))}function Qn(e,t,n){const r=t&&t.type;let a;if(!r)throw new Error("Expected node, got `"+t+"`");return a=Xn.call(e.handlers,r)?e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?$n:e.unknownHandler,("function"===typeof a?a:Yn)(e,t,n)}function $n(e,t){return"children"in t?{...t,children:er(e,t)}:t}function er(e,t){const n=[];if("children"in t){const r=t.children;let a=-1;for(;++a<r.length;){const o=Qn(e,r[a],t);if(o){if(a&&"break"===r[a-1].type&&(Array.isArray(o)||"text"!==o.type||(o.value=o.value.replace(/^\s+/,"")),!Array.isArray(o)&&"element"===o.type)){const e=o.children[0];e&&"text"===e.type&&(e.value=e.value.replace(/^\s+/,""))}Array.isArray(o)?n.push(...o):n.push(o)}}}return n}function tr(e,t){return e(t,"hr")}function nr(e,t){const n=[];let r=-1;for(t&&n.push(Dn("text","\n"));++r<e.length;)r&&n.push(Dn("text","\n")),n.push(e[r]);return t&&e.length>0&&n.push(Dn("text","\n")),n}function rr(e,t){const n={},r=t.ordered?"ol":"ul",a=er(e,t);let o=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++o<a.length;){const e=a[o];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,nr(a,!0))}function ar(e,t){const n=e.footnoteOrder,r=String(t.identifier),a=n.indexOf(r),o=String(-1===a?n.push(r):a+1);return e(t,"a",{href:"#fn"+o,className:["footnote-ref"],id:"fnref"+o,role:"doc-noteref"},[e(t.position,"sup",[Dn("text",o)])])}var or=n(57),ir=n.n(or);function sr(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return Dn("text","!["+t.alt+r);const a=er(e,t),o=a[0];o&&"text"===o.type?o.value="["+o.value:a.unshift(Dn("text","["));const i=a[a.length-1];return i&&"text"===i.type?i.value+=r:a.push(Dn("text",r)),a}function cr(e){const t=e.spread;return void 0===t||null===t?e.children.length>1:t}const lr={blockquote:function(e,t){return e(t,"blockquote",nr(er(e,t),!0))},break:function(e,t){return[e(t,"br"),Dn("text","\n")]},code:function(e,t){const n=t.value?t.value+"\n":"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),a={};r&&(a.className=["language-"+r]);const o=e(t,"code",a,[Dn("text",n)]);return t.meta&&(o.data={meta:t.meta}),e(t.position,"pre",[o])},delete:function(e,t){return e(t,"del",er(e,t))},emphasis:function(e,t){return e(t,"em",er(e,t))},footnoteReference:ar,footnote:function(e,t){const n=e.footnoteById,r=e.footnoteOrder;let a=1;for(;a in n;)a++;const o=String(a);return r.push(o),n[o]={type:"footnoteDefinition",identifier:o,children:[{type:"paragraph",children:t.children}],position:t.position},ar(e,{type:"footnoteReference",identifier:o,position:t.position})},heading:function(e,t){return e(t,"h"+t.depth,er(e,t))},html:function(e,t){return e.dangerous?e.augment(t,Dn("raw",t.value)):null},imageReference:function(e,t){const n=e.definition(t.identifier);if(!n)return sr(e,t);const r={src:ir()(n.url||""),alt:t.alt};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(t,"img",r)},image:function(e,t){const n={src:ir()(t.url),alt:t.alt};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"img",n)},inlineCode:function(e,t){return e(t,"code",[Dn("text",t.value.replace(/\r?\n|\r/g," "))])},linkReference:function(e,t){const n=e.definition(t.identifier);if(!n)return sr(e,t);const r={href:ir()(n.url||"")};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(t,"a",r,er(e,t))},link:function(e,t){const n={href:ir()(t.url)};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"a",n,er(e,t))},listItem:function(e,t,n){const r=er(e,t),a=n?function(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=cr(n[r]);return Boolean(t)}(n):cr(t),o={},i=[];if("boolean"===typeof t.checked){let n;r[0]&&"element"===r[0].type&&"p"===r[0].tagName?n=r[0]:(n=e(null,"p",[]),r.unshift(n)),n.children.length>0&&n.children.unshift(Dn("text"," ")),n.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const e=r[s];(a||0!==s||"element"!==e.type||"p"!==e.tagName)&&i.push(Dn("text","\n")),"element"!==e.type||"p"!==e.tagName||a?i.push(e):i.push(...e.children)}const c=r[r.length-1];return!c||!a&&"tagName"in c&&"p"===c.tagName||i.push(Dn("text","\n")),e(t,"li",o,i)},list:rr,paragraph:function(e,t){return e(t,"p",er(e,t))},root:function(e,t){return e.augment(t,Dn("root",nr(er(e,t))))},strong:function(e,t){return e(t,"strong",er(e,t))},table:function(e,t){const n=t.children;let r=-1;const a=t.align||[],o=[];for(;++r<n.length;){const i=n[r].children,s=0===r?"th":"td";let c=t.align?a.length:i.length;const l=[];for(;c--;){const t=i[c];l[c]=e(t,s,{align:a[c]},t?er(e,t):[])}o[r]=e(n[r],"tr",nr(l,!0))}return e(t,"table",nr([e(o[0].position,"thead",nr([o[0]],!0))].concat(o[1]?e({start:jn(o[1]),end:Bn(o[o.length-1])},"tbody",nr(o.slice(1),!0)):[]),!0))},text:function(e,t){return e.augment(t,Dn("text",String(t.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))},thematicBreak:tr,toml:ur,yaml:ur,definition:ur,footnoteDefinition:ur};function ur(){return null}const dr={}.hasOwnProperty;function pr(e,t){const n=t||{},r=n.allowDangerousHtml||!1,a={};return i.dangerous=r,i.definition=Jn(e),i.footnoteById=a,i.footnoteOrder=[],i.augment=o,i.handlers={...lr,...n.handlers},i.unknownHandler=n.unknownHandler,i.passThrough=n.passThrough,function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null),Fn(e,t,(function(e,t){const r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)}(e,"footnoteDefinition",(e=>{const t=String(e.identifier).toUpperCase();dr.call(a,t)||(a[t]=e)})),i;function o(e,t){if(e&&"data"in e&&e.data){const n=e.data;n.hName&&("element"!==t.type&&(t={type:"element",tagName:"",properties:{},children:[]}),t.tagName=n.hName),"element"===t.type&&n.hProperties&&(t.properties={...t.properties,...n.hProperties}),"children"in t&&t.children&&n.hChildren&&(t.children=n.hChildren)}if(e){const r="type"in e?e:{position:e};(n=r)&&n.position&&n.position.start&&n.position.start.line&&n.position.start.column&&n.position.end&&n.position.end.line&&n.position.end.column&&(t.position={start:jn(r),end:Bn(r)})}var n;return t}function i(e,t,n,r){return Array.isArray(n)&&(r=n,n={}),o(e,{type:"element",tagName:t,properties:n||{},children:r||[]})}}function fr(e,t){const n=pr(e,t),r=Qn(n,e,null),a=function(e){const t=e.footnoteById,n=e.footnoteOrder;let r=-1;const a=[];for(;++r<n.length;){const e=t[n[r].toUpperCase()];if(!e)continue;const o=String(r+1),i=[...e.children],s={type:"link",url:"#fnref"+o,data:{hProperties:{className:["footnote-back"],role:"doc-backlink"}},children:[{type:"text",value:"↩"}]},c=i[i.length-1];c&&"paragraph"===c.type?c.children.push(s):i.push(s),a.push({type:"listItem",data:{hProperties:{id:"fn"+o,role:"doc-endnote"}},children:i,position:e.position})}return 0===a.length?null:e(null,"section",{className:["footnotes"],role:"doc-endnotes"},nr([tr(e),rr(e,{type:"list",ordered:!0,children:a})],!0))}(n);return a&&r.children.push(Dn("text","\n"),a),Array.isArray(r)?{type:"root",children:r}:r}var mr=function(e,t){return e&&"run"in e?function(e,t){return(n,r,a)=>{e.run(fr(n,t),r,(e=>{a(e)}))}}(e,t):function(e){return t=>fr(t,e)}(e)};var hr=n(20),gr=n.n(hr);class vr{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function yr(e,t){const n={},r={};let a=-1;for(;++a<e.length;)Object.assign(n,e[a].property),Object.assign(r,e[a].normal);return new vr(n,r,t)}function br(e){return e.toLowerCase()}vr.prototype.property={},vr.prototype.normal={},vr.prototype.space=null;class wr{constructor(e,t){this.property=e,this.attribute=t}}wr.prototype.space=null,wr.prototype.boolean=!1,wr.prototype.booleanish=!1,wr.prototype.overloadedBoolean=!1,wr.prototype.number=!1,wr.prototype.commaSeparated=!1,wr.prototype.spaceSeparated=!1,wr.prototype.commaOrSpaceSeparated=!1,wr.prototype.mustUseProperty=!1,wr.prototype.defined=!1;let xr=0;const Cr=Or(),Er=Or(),Sr=Or(),kr=Or(),Tr=Or(),_r=Or(),Ir=Or();function Or(){return 2**++xr}const Ar=Object.keys(a);class Dr extends wr{constructor(e,t,n,r){let o=-1;if(super(e,t),Mr(this,"space",r),"number"===typeof n)for(;++o<Ar.length;){const e=Ar[o];Mr(this,Ar[o],(n&a[e])===a[e])}}}function Mr(e,t,n){n&&(e[t]=n)}Dr.prototype.defined=!0;const Nr={}.hasOwnProperty;function Pr(e){const t={},n={};let r;for(r in e.properties)if(Nr.call(e.properties,r)){const a=e.properties[r],o=new Dr(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[br(r)]=r,n[br(o.attribute)]=r}return new vr(t,n,e.space)}const Lr=Pr({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Rr=Pr({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Fr(e,t){return t in e?e[t]:t}function jr(e,t){return Fr(e,t.toLowerCase())}const Br=Pr({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:jr,properties:{xmlns:null,xmlnsXLink:null}}),zr=Pr({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:Er,ariaAutoComplete:null,ariaBusy:Er,ariaChecked:Er,ariaColCount:kr,ariaColIndex:kr,ariaColSpan:kr,ariaControls:Tr,ariaCurrent:null,ariaDescribedBy:Tr,ariaDetails:null,ariaDisabled:Er,ariaDropEffect:Tr,ariaErrorMessage:null,ariaExpanded:Er,ariaFlowTo:Tr,ariaGrabbed:Er,ariaHasPopup:null,ariaHidden:Er,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Tr,ariaLevel:kr,ariaLive:null,ariaModal:Er,ariaMultiLine:Er,ariaMultiSelectable:Er,ariaOrientation:null,ariaOwns:Tr,ariaPlaceholder:null,ariaPosInSet:kr,ariaPressed:Er,ariaReadOnly:Er,ariaRelevant:null,ariaRequired:Er,ariaRoleDescription:Tr,ariaRowCount:kr,ariaRowIndex:kr,ariaRowSpan:kr,ariaSelected:Er,ariaSetSize:kr,ariaSort:null,ariaValueMax:kr,ariaValueMin:kr,ariaValueNow:kr,ariaValueText:null,role:null}}),qr=Pr({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:jr,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_r,acceptCharset:Tr,accessKey:Tr,action:null,allow:null,allowFullScreen:Cr,allowPaymentRequest:Cr,allowUserMedia:Cr,alt:null,as:null,async:Cr,autoCapitalize:null,autoComplete:Tr,autoFocus:Cr,autoPlay:Cr,blocking:Tr,capture:null,charSet:null,checked:Cr,cite:null,className:Tr,cols:kr,colSpan:null,content:null,contentEditable:Er,controls:Cr,controlsList:Tr,coords:kr|_r,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Cr,defer:Cr,dir:null,dirName:null,disabled:Cr,download:Sr,draggable:Er,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Cr,formTarget:null,headers:Tr,height:kr,hidden:Cr,high:kr,href:null,hrefLang:null,htmlFor:Tr,httpEquiv:Tr,id:null,imageSizes:null,imageSrcSet:null,inert:Cr,inputMode:null,integrity:null,is:null,isMap:Cr,itemId:null,itemProp:Tr,itemRef:Tr,itemScope:Cr,itemType:Tr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Cr,low:kr,manifest:null,max:null,maxLength:kr,media:null,method:null,min:null,minLength:kr,multiple:Cr,muted:Cr,name:null,nonce:null,noModule:Cr,noValidate:Cr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Cr,optimum:kr,pattern:null,ping:Tr,placeholder:null,playsInline:Cr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Cr,referrerPolicy:null,rel:Tr,required:Cr,reversed:Cr,rows:kr,rowSpan:kr,sandbox:Tr,scope:null,scoped:Cr,seamless:Cr,selected:Cr,shadowRootClonable:Cr,shadowRootDelegatesFocus:Cr,shadowRootMode:null,shape:null,size:kr,sizes:null,slot:null,span:kr,spellCheck:Er,src:null,srcDoc:null,srcLang:null,srcSet:null,start:kr,step:null,style:null,tabIndex:kr,target:null,title:null,translate:null,type:null,typeMustMatch:Cr,useMap:null,value:Er,width:kr,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Tr,axis:null,background:null,bgColor:null,border:kr,borderColor:null,bottomMargin:kr,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Cr,declare:Cr,event:null,face:null,frame:null,frameBorder:null,hSpace:kr,leftMargin:kr,link:null,longDesc:null,lowSrc:null,marginHeight:kr,marginWidth:kr,noResize:Cr,noHref:Cr,noShade:Cr,noWrap:Cr,object:null,profile:null,prompt:null,rev:null,rightMargin:kr,rules:null,scheme:null,scrolling:Er,standby:null,summary:null,text:null,topMargin:kr,valueType:null,version:null,vAlign:null,vLink:null,vSpace:kr,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Cr,disableRemotePlayback:Cr,prefix:null,property:null,results:kr,security:null,unselectable:null}}),Vr=Pr({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Fr,properties:{about:Ir,accentHeight:kr,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:kr,amplitude:kr,arabicForm:null,ascent:kr,attributeName:null,attributeType:null,azimuth:kr,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:kr,by:null,calcMode:null,capHeight:kr,className:Tr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:kr,diffuseConstant:kr,direction:null,display:null,dur:null,divisor:kr,dominantBaseline:null,download:Cr,dx:null,dy:null,edgeMode:null,editable:null,elevation:kr,enableBackground:null,end:null,event:null,exponent:kr,externalResourcesRequired:null,fill:null,fillOpacity:kr,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_r,g2:_r,glyphName:_r,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:kr,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:kr,horizOriginX:kr,horizOriginY:kr,id:null,ideographic:kr,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:kr,k:kr,k1:kr,k2:kr,k3:kr,k4:kr,kernelMatrix:Ir,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:kr,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:kr,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:kr,overlineThickness:kr,paintOrder:null,panose1:null,path:null,pathLength:kr,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Tr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:kr,pointsAtY:kr,pointsAtZ:kr,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ir,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ir,rev:Ir,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ir,requiredFeatures:Ir,requiredFonts:Ir,requiredFormats:Ir,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:kr,specularExponent:kr,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:kr,strikethroughThickness:kr,string:null,stroke:null,strokeDashArray:Ir,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:kr,strokeOpacity:kr,strokeWidth:null,style:null,surfaceScale:kr,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ir,tabIndex:kr,tableValues:null,target:null,targetX:kr,targetY:kr,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ir,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:kr,underlineThickness:kr,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:kr,values:null,vAlphabetic:kr,vMathematical:kr,vectorEffect:null,vHanging:kr,vIdeographic:kr,version:null,vertAdvY:kr,vertOriginX:kr,vertOriginY:kr,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:kr,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Ur=yr([Rr,Lr,Br,zr,qr],"html"),Hr=yr([Rr,Lr,Br,zr,Vr],"svg"),Wr=function(e){if(void 0===e||null===e)return Kr;if("string"===typeof e)return function(e){return Gr(t);function t(t){return t&&t.type===e}}(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Wr(e[n]);return Gr(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].call(this,...e))return!0;return!1}}(e):function(e){return Gr(t);function t(t){let n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"===typeof e)return Gr(e);throw new Error("Expected function, string, or object as test")};function Gr(e){return function(t,...n){return Boolean(t&&"object"===typeof t&&"type"in t&&Boolean(e.call(this,t,...n)))}}function Kr(){return!0}const Jr=!0,Zr=!1,Xr=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null);const a=Wr(t),o=r?-1:1;!function e(i,s,c){const l=i&&"object"===typeof i?i:{};if("string"===typeof l.type){const e="string"===typeof l.tagName?l.tagName:"string"===typeof l.name?l.name:void 0;Object.defineProperty(u,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return u;function u(){let l,u,d,p=[];if((!t||a(i,s,c[c.length-1]||null))&&(p=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[Jr,e];return[e]}(n(i,c)),p[0]===Zr))return p;if(i.children&&"skip"!==p[0])for(u=(r?i.children.length:-1)+o,d=c.concat(i);u>-1&&u<i.children.length;){if(l=e(i.children[u],u,d)(),l[0]===Zr)return l;u="number"===typeof l[1]?l[1]:u+o}return p}}(e,void 0,[])()};const Yr=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null),Xr(e,t,(function(e,t){const r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)};function Qr(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{Yr(t,"element",((t,n,r)=>{const a=r;let o;if(e.allowedElements?o=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(t.tagName)),!o&&e.allowElement&&"number"===typeof n&&(o=!e.allowElement(t,n,a)),o&&"number"===typeof n)return e.unwrapDisallowed&&t.children?a.children.splice(n,1,...t.children):a.children.splice(n,1),n}))}}var $r=n(184),ea=n.n($r);function ta(e){const t=e&&"object"===typeof e&&"text"===e.type?e.value||"":e;return"string"===typeof t&&""===t.replace(/[ \t\n\f\r]/g,"")}const na=/^data[-\w.:]+$/i,ra=/-[a-z]/g,aa=/[A-Z]/g;function oa(e){return"-"+e.toLowerCase()}function ia(e){return e.charAt(1).toUpperCase()}const sa={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var ca=n(185),la=n.n(ca);const ua={}.hasOwnProperty,da=new Set(["table","thead","tbody","tfoot","tr"]);function pa(e,t){const n=[];let r,a=-1;for(;++a<t.children.length;)r=t.children[a],"element"===r.type?n.push(fa(e,r,a,t)):"text"===r.type?"element"===t.type&&da.has(t.tagName)&&ta(r)||n.push(r.value):"raw"!==r.type||e.options.skipHtml||n.push(r.value);return n}function fa(e,t,n,r){const a=e.options,o=e.schema,i=t.tagName,s={};let l,u=o;if("html"===o.space&&"svg"===i&&(u=Hr,e.schema=u),t.properties)for(l in t.properties)ua.call(t.properties,l)&&ha(s,l,t.properties[l],e);"ol"!==i&&"ul"!==i||e.listDepth++;const d=pa(e,t);"ol"!==i&&"ul"!==i||e.listDepth--,e.schema=o;const p=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},f=a.components&&ua.call(a.components,i)?a.components[i]:i,m="string"===typeof f||f===c.a.Fragment;if(!ea.a.isValidElementType(f))throw new TypeError(`Component for name \`${i}\` not defined or is not renderable`);if(s.key=[i,p.start.line,p.start.column,n].join("-"),"a"===i&&a.linkTarget&&(s.target="function"===typeof a.linkTarget?a.linkTarget(String(s.href||""),t.children,"string"===typeof s.title?s.title:null):a.linkTarget),"a"===i&&a.transformLinkUri&&(s.href=a.transformLinkUri(String(s.href||""),t.children,"string"===typeof s.title?s.title:null)),m||"code"!==i||"element"!==r.type||"pre"===r.tagName||(s.inline=!0),m||"h1"!==i&&"h2"!==i&&"h3"!==i&&"h4"!==i&&"h5"!==i&&"h6"!==i||(s.level=Number.parseInt(i.charAt(1),10)),"img"===i&&a.transformImageUri&&(s.src=a.transformImageUri(String(s.src||""),String(s.alt||""),"string"===typeof s.title?s.title:null)),!m&&"li"===i&&"element"===r.type){const e=function(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if("element"===n.type&&"input"===n.tagName)return n}return null}(t);s.checked=e&&e.properties?Boolean(e.properties.checked):null,s.index=ma(r,t),s.ordered="ol"===r.tagName}var h;return m||"ol"!==i&&"ul"!==i||(s.ordered="ol"===i,s.depth=e.listDepth),"td"!==i&&"th"!==i||(s.align&&(s.style||(s.style={}),s.style.textAlign=s.align,delete s.align),m||(s.isHeader="th"===i)),m||"tr"!==i||"element"!==r.type||(s.isHeader=Boolean("thead"===r.tagName)),a.sourcePos&&(s["data-sourcepos"]=[(h=p).start.line,":",h.start.column,"-",h.end.line,":",h.end.column].map((e=>String(e))).join("")),!m&&a.rawSourcePos&&(s.sourcePosition=t.position),!m&&a.includeElementIndex&&(s.index=ma(r,t),s.siblingCount=ma(r)),m||(s.node=t),d.length>0?c.a.createElement(f,s,d):c.a.createElement(f,s)}function ma(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)"element"===e.children[n].type&&r++;return r}function ha(e,t,n,r){const a=function(e,t){const n=br(t);let r=t,a=wr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&na.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(ra,ia);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!ra.test(e)){let n=e.replace(aa,oa);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}a=Dr}return new a(r,t)}(r.schema,t);let o=n;null!==o&&void 0!==o&&o===o&&(Array.isArray(o)&&(o=a.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(o):o.join(" ").trim()),"style"===a.property&&"string"===typeof o&&(o=function(e){const t={};try{la()(e,n)}catch{}return t;function n(e,n){const r="-ms-"===e.slice(0,4)?`ms-${e.slice(4)}`:e;t[r.replace(/-([a-z])/g,ga)]=n}}(o)),a.space&&a.property?e[ua.call(sa,a.property)?sa[a.property]:a.property]=o:a.attribute&&(e[a.attribute]=o))}function ga(e,t){return t.toUpperCase()}const va={}.hasOwnProperty,ya="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ba={renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function wa(e){for(const t in ba)if(va.call(ba,t)&&va.call(e,t)){const e=ba[t];console.warn(`[react-markdown] Warning: please ${e.to?`use \`${e.to}\` instead of`:"remove"} \`${t}\` (see <${ya}#${e.id}> for more info)`),delete ba[t]}const t=J().use(An).use(e.remarkPlugins||e.plugins||[]).use(mr,{allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Qr,e),n=new x;"string"===typeof e.children?n.value=e.children:void 0!==e.children&&null!==e.children&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if("root"!==r.type)throw new TypeError("Expected a `root` node");let a=c.a.createElement(c.a.Fragment,{},pa({options:e,schema:Ur,listDepth:0},r));return e.className&&(a=c.a.createElement("div",{className:e.className},a)),a}wa.defaultProps={transformLinkUri:i},wa.propTypes={children:gr.a.string,className:gr.a.string,allowElement:gr.a.func,allowedElements:gr.a.arrayOf(gr.a.string),disallowedElements:gr.a.arrayOf(gr.a.string),unwrapDisallowed:gr.a.bool,remarkPlugins:gr.a.arrayOf(gr.a.oneOfType([gr.a.object,gr.a.func,gr.a.arrayOf(gr.a.oneOfType([gr.a.object,gr.a.func]))])),rehypePlugins:gr.a.arrayOf(gr.a.oneOfType([gr.a.object,gr.a.func,gr.a.arrayOf(gr.a.oneOfType([gr.a.object,gr.a.func]))])),sourcePos:gr.a.bool,rawSourcePos:gr.a.bool,skipHtml:gr.a.bool,includeElementIndex:gr.a.bool,transformLinkUri:gr.a.oneOfType([gr.a.func,gr.a.bool]),linkTarget:gr.a.oneOfType([gr.a.func,gr.a.string]),transformImageUri:gr.a.func,components:gr.a.object}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"MD5",(function(){return zt})),n.d(r,"murmurhash3",(function(){return qt})),n.d(r,"hashCode",(function(){return Vt}));n(214);var a=n(0),o=n.n(a),i=n(27),s=n.n(i),c=n(29),l=n.n(c),u=n(177),d=n.n(u),p=n(98),f=n.n(p),m=(n(215),n(5)),h=n.n(m),g=n(16),v=n.n(g),y=n(17),b=n.n(y),w=n(18),x=n.n(w),C=n(11),E=n.n(C),S=n(19),k=n.n(S),T=n(1),_=n.n(T),I=(n(217),n(3)),O=n(2),A=n(7),D=n(10),M=n(13),N=n(28),P=n.n(N),L=function(e,t){var n="";try{var r=(n=(new Date).toLocaleString("en-US",{timeZone:e})).split(",")[1];if(r){r=r.trim();var a=r.match(/(\d+):(\d+):(\d+)\s(AM|PM)/);if(a){var o=P()(a,5),i=(o[0],o[1]),s=o[2],c=o[3],l=o[4];switch(t){case"HH:mm":return"".concat(i,":").concat(s," ").concat(l);case"HH:mm:ss":return"".concat(i,":").concat(s,":").concat(c," ").concat(l);default:throw new Error("Invalid format provided")}}}}catch(e){n=""}return n};n(310);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}var B=I.Balloon.Tooltip,z=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),q=function(e){function t(e){var n,r,a,o;return v()(this,t),r=this,a=t,o=[e],a=E()(a),n=x()(r,j()?Reflect.construct(a,o||[],E()(r).constructor):a.apply(r,o)),_()(n,"doAction",(function(e){var t=n.props,r=t.contact,a=t.setSummaryData,o=t.EventBus;Object(O.default)("doAction".concat(e)),o.publish("im-weblite-list:changeAction",F({actionType:e,activeLoginIdEncrypt:r.loginIdEncrypt},r)),a({contact:F(F({},r),{},{stayTop:"top"===e||"untop"!==e&&r.stayTop,block:"block"===e||"unblock"!==e&&r.block,mute:"mute"===e||"unmute"!==e&&r.mute})}),"delete"===e&&n.onClose()})),_()(n,"onClick",(function(e){e.stopPropagation(),n.state.moreActionVisible?n.setState({moreActionVisible:!1}):(Object(O.default)("minimizeChatFromHeader"),n.props.EventBus.publish("im-weblite-list:toggleList",{show:!1}))})),_()(n,"onClose",(function(e){e&&e.stopPropagation(),Object(O.default)("closeChatFromHeader"),n.props.onClose()})),_()(n,"onMoreActionClk",(function(e){e&&Object(O.default)("2020MC_Lite_MoreOperation"),n.setState({moreActionVisible:e})})),_()(n,"jumpContact",(function(e){var t;e&&e.stopPropagation();var r=n.props.contact,a=r.accountIdEncrypt,o=r.accountId,i=r.chatToken,s=void 0===i?"":i;Object(O.default)("2020MC_Lite_OpenMessenger");var c=window.IcbuIM.UserUtil.currentUser,l="",u=null===c||void 0===c||null===(t=c())||void 0===t?void 0:t.isBuyer;l="boolean"===typeof u&&!1===u?"https://".concat(D.ONETALK_DOMAIN,"/message/weblitePWA.htm"):"https://".concat(D.MESSAGE_DOMAIN,"/message/messenger.htm"),window.open("".concat(l,"??activeAccountId=").concat(o,"&activeAccountIdEncrypt=").concat(a,"&chatToken=").concat(s))})),n.state={displayTime:"",timeZone:"",moreActionVisible:!1,isAssistantAccount:!1},n}return k()(t,e),b()(t,[{key:"componentDidMount",value:function(){var e,t,n,r,a,o,i=this;2!==(null===(e=this.props.contact)||void 0===e?void 0:e.conversationType)&&(Object(A.getContactDeviceTime)({contactUserAliId:(null===(t=this.props.contact)||void 0===t?void 0:t.aliId)||(null===(n=this.props.contact)||void 0===n||null===(r=n.contact)||void 0===r?void 0:r.aliId)}).then((function(e){if(null!==e&&void 0!==e&&e.timezone){var t=L(e.timezone,"HH:mm");i.setState({displayTime:t,timeZone:e.timezone}),i.timeZonerTimer=setInterval((function(){var e=i.state.timeZone;t=L(e,"HH:mm"),i.setState({displayTime:t})}),6e4)}else i.setState({displayTime:"",timeZone:""})})),this.setState({isAssistantAccount:!(null===(a=this.props.contact)||void 0===a||!a.aliId)&&M.a.includes(String(null===(o=this.props.contact)||void 0===o?void 0:o.aliId))}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeZonerTimer)}},{key:"componentWillReceiveProps",value:function(e){var t,n,r,a,o,i,s,c,l=this;e.contact&&this.props.contact&&e.contact.memberId!==this.props.contact.memberId&&2!==(null===(t=e.contact)||void 0===t?void 0:t.conversationType)&&Object(A.getContactDeviceTime)({contactUserAliId:(null===(a=e.contact)||void 0===a?void 0:a.aliId)||(null===(o=e.contact)||void 0===o||null===(i=o.contact)||void 0===i?void 0:i.aliId)}).then((function(e){if(null!==e&&void 0!==e&&e.timezone){var t=L(e.timezone,"HH:mm");l.setState({displayTime:t,timeZone:e.timezone})}else l.setState({displayTime:"",timeZone:""})}));(null===(n=this.props.contact)||void 0===n?void 0:n.aliId)!==(null===(r=e.contact)||void 0===r?void 0:r.aliId)&&this.setState({isAssistantAccount:!(null===(s=e.contact)||void 0===s||!s.aliId)&&M.a.includes(String(null===(c=e.contact)||void 0===c?void 0:c.aliId))})}},{key:"isPWA",value:function(e){return"pwa"===e}},{key:"render",value:function(){var e=this,t=this.props,n=t.contact,r=t.host,o=n.firstName,i=n.lastName,s=n.displayName,c=n.name,l=n.loginId,u=n.accountId,d=o||i?"".concat(o," ").concat(i):"",p=s||d||c||l||"".concat(u)||"",f=this.state,m=f.moreActionVisible,h=f.displayTime,g=f.isAssistantAccount;return a.createElement("div",{className:"message-header",onClick:this.onClick},a.createElement("h1",{className:"contact-name"},p),a.createElement("div",{className:"local-time ".concat(g&&h?"block-local-time":"")},g&&a.createElement("span",{className:"official-tag"},z.get("official.tag")||"officail"),a.createElement("span",{className:"time-wrapper",style:{marginLeft:"8px"}},h?"".concat(z.get("localTime")||"Local time",": ").concat(h):"")),a.createElement(a.Fragment,null,a.createElement(I.Dropdown,{visible:m,shouldUpdatePosition:!0,onVisibleChange:this.onMoreActionClk,triggerType:"click",trigger:a.createElement(B,{align:"b",className:"weblite-tips-wrapper",trigger:a.createElement("div",{className:"ellipsis-icon-wrapper",onClick:function(t){t&&t.stopPropagation(),Object(O.default)("2020MC_Chat_More_Click"),e.setState({moreActionVisible:!m})}},a.createElement("img",{alt:"ellipsis",src:"https://img.alicdn.com/tfs/TB1R23hBW61gK0jSZFlXXXDKFXa-42-9.png"})),text:z.get("lite.tips.more")}),offset:[-70,-3]},a.createElement(I.Menu,{className:"weblite-contact-action-list",onItemClick:this.doAction},n.stayTop?a.createElement(I.Menu.Item,{key:"untop"},a.createElement("img",{className:"menu-icon",src:"https://img.alicdn.com/tfs/TB1Xc04BkY2gK0jSZFgXXc5OFXa-36-39.png"}),z.get("list.action.unPin")||"Unpin"):a.createElement(I.Menu.Item,{key:"top"},a.createElement("img",{className:"menu-icon",src:"https://img.alicdn.com/tfs/TB1Xc04BkY2gK0jSZFgXXc5OFXa-36-39.png"}),z.get("list.action.pin")||"Pin to Top"),"us1534071751xgym"!==n.memberId&&(n.block?a.createElement(I.Menu.Item,{key:"unblock"},a.createElement("img",{className:"menu-icon",src:"https://img.alicdn.com/tfs/TB1gF41Boz1gK0jSZLeXXb9kVXa-36-36.png"}),z.get("list.action.unblock")||"Unblock"):a.createElement(I.Menu.Item,{key:"block"},a.createElement("img",{className:"menu-icon",src:"https://img.alicdn.com/tfs/TB1gF41Boz1gK0jSZLeXXb9kVXa-36-36.png"}),z.get("list.action.block")||"Block")),a.createElement(I.Menu.Item,{key:"delete"},a.createElement("img",{className:"menu-icon",src:"https://img.alicdn.com/tfs/TB1g982Bbr1gK0jSZFDXXb9yVXa-36-36.png"}),z.get("list.action.remove")||"Remove"),n.mute?a.createElement(I.Menu.Item,{key:"unmute"},a.createElement("img",{className:"menu-icon",src:"https://img.alicdn.com/tfs/TB106N5Bhv1gK0jSZFFXXb0sXXa-33-39.png"}),z.get("list.action.unmute")||"UnMute"):a.createElement(I.Menu.Item,{key:"mute"},a.createElement("img",{className:"menu-icon",src:"https://img.alicdn.com/tfs/TB106N5Bhv1gK0jSZFFXXb0sXXa-33-39.png"}),z.get("list.action.mute")||"Mute"))),!this.isPWA(r)&&a.createElement(B,{align:"b",className:"weblite-tips-wrapper",trigger:a.createElement("div",{className:"jump-icon-wrapper",onClick:this.jumpContact},a.createElement("img",{src:"https://img.alicdn.com/tfs/TB17heZBBr0gK0jSZFnXXbRRXXa-15-15.png"})),text:z.get("lite.tips.goContact")})))}}])}(a.Component),V=n(4),U=n.n(V),H={50:{name:"Inquiry"},52:{name:"Quotation"},53:{name:"File"},54:{name:"Product"},57:{name:"Business Card"},59:{name:"Order"},60:{name:"Image"},61:{name:"File"},62:{name:"Video"},63:{name:"Rich Text"},65:{name:"Business Card"},66:{name:"Business Card"},2e3:{name:"Product"},2001:{name:"Quotation"},2002:{name:"Order"},2003:{name:"Rich Text"},2013:{name:"Address"},2015:{name:"Live"},2017:{name:"Quotation"},urlProduct:{name:"Product"},urlOrder:{name:"Order"},other:{name:"Card"}},W=(n(311),n(40));function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}var K=[60,62];function J(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a="[".concat(H[t]?H[t].name:H.other.name,"]");if(r&&K.includes(t))return function(e,t){if(!e)return"";switch(t){case 60:var n=e.match(/src=["']?([^"'\s]+)["']?/i);if(n&&n[1])return"<img src=".concat(n[1],' style="height:28px;width:28px" />');break;case 62:var r=e.match(/poster=["']?([^"'\s]+)["']?/i);if(r&&r[1])return"<img src=".concat(r[1],' style="height:28px;width:28px" />');break;default:return""}}(e,t)||a;var o=e;if(1===t)W.c.isUrlValid(e)&&W.c.canTransfer(e)?(o="[".concat(H.other.name,"]"),W.c.canTransferProduct(e)?o="[".concat(H.urlProduct.name,"]"):W.c.canTransferOrder(e)&&(o="[".concat(H.urlOrder.name,"]"))):r&&(o=function(e){if(!e)return e;var t=e.indexOf("<br/>");return-1!==t?e.substring(0,t)+"...":e}(o));else{if(2022===t)return o;if(100015===t)return n();o=a}return o}var Z=function(e){function t(e){var n,r,a,o;return v()(this,t),r=this,a=t,o=[e],a=E()(a),n=x()(r,G()?Reflect.construct(a,o||[],E()(r).constructor):a.apply(r,o)),_()(n,"close",(function(){var e=n.props.quoteItem,t=e.subType,r=e.messageId;Object(O.default)("2020MC_InputBoxQuoteCard_Close&messageId=".concat(r,"&messageType=").concat(t)),n.props.onClose()})),n}return k()(t,e),b()(t,[{key:"render",value:function(){var e,t=this.props,n=t.groupMembers,r=t.quoteItem,o=t.generateStructQuoteContent,i=t.isGGS,s=r.contact,c=r.owner,l=r.messageType,u=r.abstract,d=r.content,p=r.subType,f=r.sender,m=(void 0===f?{}:f).targetId,h=2===r.conversationType,g=J(u||d,p,o,i);return console.log("yu quote===",g),a.createElement("div",{className:"quote-message-container ".concat(i?"ggs-quote-message-container":"")},a.createElement("div",{className:"message-content"},a.createElement("span",{className:"name"},"rec"===l?h?(null===(e=n[m])||void 0===e?void 0:e.displayName)||m:s.name:c.name,":"),a.createElement("p",{className:"content ".concat(K.includes(p)?"media-content":""),dangerouslySetInnerHTML:{__html:g}})),i?a.createElement(I.Icon,{type:"close",size:"xs",onClick:this.close,style:{marginLeft:8,color:"#808080",cursor:"pointer"}}):a.createElement("div",{className:"close",onClick:this.close},"✕"))}}])}(a.Component),X=n(31),Y=n(32),Q=n.n(Y),$=n(186),ee=window.IcbuIM.CommonUtil.getHashCode,te={getAvatarBackground:function(e){return["#50E3C2","#FE5D59","#FF9A59","#FFDD59","#59DBFF","#5966FF","#59ABFD","#FE5977","#5A8EFF","#A559FF","#50E3C2","#D84C4C"][Math.abs(ee(e)%12)]},sortMembersFunction:function(e,t){var n=e.displayName,r=e.uid,a=t.displayName,o=t.uid,i=n||r+"",s=a||o+"";return i.toUpperCase()<s.toUpperCase()?-1:i.toUpperCase()>s.toUpperCase()?1:0},dictionaryOrderSort:function(e){return!Array.isArray(e)||e.length<1?[]:e.sort(this.sortMembersFunction)}};n(340);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var re=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),ae=Object(a.forwardRef)((function(e,t){var n=e.alignTarget,r=e.groupMembers,i=e.addSelectAtMember,s=Object(a.useRef)(0),c=Object(a.useState)(!1),l=P()(c,2),u=l[0],d=l[1];Object(a.useImperativeHandle)(t,(function(){return{activeAtMemberBox:function(){u||d(!0)},hideAtMemberBox:function(){u&&d(!1)}}}));return o.a.createElement(I.Overlay,{visible:u,offset:[10,0],target:function(){return n},safeNode:function(){return n},onRequestClose:function(){d(!1)}},o.a.createElement("div",{className:"at-container"},o.a.createElement("div",{className:"members-wrapper"},function(e){var t=[];return Object.keys(e).forEach((function(n){n!==window.aliId&&t.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e[n]))})),s.current=t.length,[{displayName:re.get("groupchat.all")||"所有人",uid:"toAll"}].concat(Q()(te.dictionaryOrderSort(t)))}(r).map((function(e){var t,n=e.displayName,r=e.companyName,a=e.fullPortrait,c=e.userNewLevel,l=e.complianceCountryCode,u=e.userNewLevelIcon,p=e.uid,f="toAll"===p?"@".concat(n," (").concat(s.current,")"):n||p+"";return o.a.createElement("div",{className:"contact-item",onClick:(t=e,function(){var e=t.displayName,n=t.uid;i({uid:n,defaultNick:e}),d(!1)})},a?o.a.createElement("img",{src:a,className:"contact-avator"}):o.a.createElement("span",{className:"contact-avator default",style:{backgroundColor:te.getAvatarBackground(f)}},f.slice(0,1)),o.a.createElement("div",{className:"right-container"},o.a.createElement("div",{className:"contact-info"},o.a.createElement("div",{className:"contact-name"},f),c&&o.a.createElement("img",{className:"level-tag-icon",src:u}),l&&o.a.createElement($.FlagIcon,{type:l,size:"medium",className:"country-flag"})),o.a.createElement("div",{className:"company-name"},r)))})))))})),oe=ae,ie=n(8),se=(n(365),window.IcbuIM.IMBaaSSDK.default),ce=window.IcbuIM.IMBaaSSDK.EventNameEnum,le=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","chat")}),ue=function(e,t){if(!t||"/"===t)return e;if(0===e.length)return e;var n=t.replace(/^\//,"");return e.reduce((function(e,t){var r,a;return((null===(r=t.content)||void 0===r?void 0:r.indexOf(n))>-1||(null===(a=t.code)||void 0===a?void 0:a.indexOf(n))>-1)&&e.push(t),e}),[])};var de=Object(c.connect)((function(e){return{phrases:e.quickPhrase.phrases}}),(function(e){return{getPhrases:function(t){e({type:"quickPhrase/getQuickPhrase",payload:t})},selectPhrase:function(t){e({type:"quickPhrase/selectPhrase",payload:t})}}}))((function(e){var t=e.onChange||function(){},n=e.phrases,r=void 0===n?[]:n,i=e.keyword,s=Object(a.useState)(ue(r,i)),c=P()(s,2),l=c[0],u=c[1];return Object(a.useEffect)((function(){e.getPhrases(),se.getEventService().addListener(ce.PHRASE_CHANGE,(function(){e.getPhrases()}))}),[]),Object(a.useEffect)((function(){var e=ue(r,i);u(e),t(e)}),[r]),Object(a.useEffect)((function(){var e=ue(r,i);u(e),t(e)}),[i]),l&&0!==l.length?o.a.createElement("div",{className:"phrase-wrapper"},o.a.createElement("div",{className:"phrase-title"},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i1/O1CN01XT1X511OrDAKLhH5v_!!6000000001758-55-tps-20-20.svg"}),o.a.createElement("span",{className:"tip"},le.get("phrase.title")||"快捷回复")),l.map((function(t,n){return o.a.createElement("div",{className:"phrase-content",key:n,onClick:function(){e.selectPhrase(t.content)}},t.code&&o.a.createElement("span",{className:"phrase-code"},"[",t.code,"]"),o.a.createElement("span",{className:"phrase-c",title:t.content},t.content))}))):""})),pe=n(21),fe=function(){return/surportPhrase=enable/gi.test(location.href)&&window.aiCrmTextOptimization};function me(){return["tp","hkgs","twgs"].includes(Object(pe.c)().toLowerCase())}function he(){return me()&&window.ggsTranslateTest}var ge=n(53),ve=(n(366),(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","chat")})),ye=Object(ie.checkSellerCommandSupported)();var be=Object(c.connect)((function(e){return{summaryData:e.messageBox.summaryData,globalGenerateLangs:e.globalEnv.globalGenerateLangs,chatExtend:e.chatExtend.chatExtend,globalGrayMap:e.globalEnv.globalGrayMap}}),(function(e){return{setAiReceptionLang:function(t){e({type:"chatExtend/setAiReceptionLang",payload:t})}}}))((function(e){var t;if(!ye)return null;var n=e.globalGenerateLangs,r=void 0===n?[]:n,a=e.setAiReceptionLang,i=e.summaryData,s=e.chatExtend;if(!!!e.globalGrayMap[ge.GLOBAL_GRAY_KEYS.aiReceptionAccessSmallLangGray])return null;var c=i.contact.aliId,l=null===(t=s[c])||void 0===t?void 0:t.aiReceptionLang,u=r.map((function(e){var t="generate.translate.lang.".concat(e);return{label:ve.get(t)||e,value:e}}));u.push({label:ie.COPY.moreLang,value:"",disabled:!0});return o.a.createElement("div",{className:"commands-set-lang",id:"commands-set-lang-wrap"},o.a.createElement("span",{className:"tips"},ie.COPY.setLang),o.a.createElement(I.Select,{hasBorder:!1,dataSource:u,onChange:function(e){return Object(O.default)({ext:"setAiReceptionLang",bizData:{lang:e}}),a({contactAliId:c,lang:e}),!1},defaultValue:l,popupClassName:"commands-lang-select",popupProps:{target:"commands-set-lang-wrap",align:"tl bl"}}))})),we=n(73),xe=(n(367),["im-next-menu-item-inner","im-next-menu-item-text"]),Ce=Object(ie.checkSellerCommandSupported)(),Ee=Ce?"commands-wrap-seller":"commands-wrap",Se=Ce?ie.COPY.sellerCommandsTitle:ie.COPY.commandsTitle,ke=Ce&&fe();var Te=Object(c.connect)((function(e){return{aiEnableCommandMap:e.messageBox.aiEnableCommandMap}}),(function(e){}))((function(e){var t,n=e.alignTarget,r=e.safeNode,i=e.searchKeyword,s=i.keyword,c=i.timeStamp,l=e.onCommandSelect,u=e.aiEnableCommandMap,d=e.commandExtraProps,p=Object(a.useState)(!0),f=P()(p,2),m=f[0],h=f[1],g=Object(a.useState)(ke),v=P()(g,2),y=v[0],b=v[1];if(Object(a.useEffect)((function(){h(!0),b(Object(ie.checkSellerCommandSupported)()&&fe())}),[c]),!s)return null;var w=s.substring(1).trim(),x=he()||window.cgsTranslateTest?-10:40,C=[];u&&(C=Object.values(ie.ALL_COMMANDS).filter((function(e){return u[e.code]}))),w&&C.length>0&&(C=Object.values(ie.ALL_COMMANDS).filter((function(e){return e.title.toLowerCase().indexOf(w.toLowerCase())>-1})));var E=Object(X.a)()?C.length>0&&!u.summaryHide:C.length>0,S=m&&(E||y),k=!0;null!==(t=e.safeNode)&&void 0!==t&&t.getContent&&(k=e.safeNode.getContent({format:"text"}).trim()===s.trim());var T={matchCommands:C.map((function(e){return e.code})),contentNull:k};return s&&c&&(S||Object(O.default)({ext:"command_dialog_show_error",bizData:{keyword:s,show:S,visible:m,hasCommand:E,phraseShow:y,matchCommands:JSON.stringify(C)}})),o.a.createElement(I.Overlay,{className:"commands-dialog-wrap-overlay",visible:S,offset:[15,x],target:function(){return n},align:"bl tl",safeNode:function(){return r||n},onRequestClose:function(e,t){h(function(e){return!!xe.includes(null===e||void 0===e?void 0:e.className)}(t.target))}},o.a.createElement("div",{className:Ee,"data-exp":"im-command-exp","data-expInfo":JSON.stringify(T)},E&&o.a.createElement("div",{className:"command-items-wrap"},o.a.createElement("div",{className:"title"},o.a.createElement("div",null,o.a.createElement("img",{className:"icon",src:"https://img.alicdn.com/imgextra/i3/O1CN01UZFTZx1tLNiZ2hdse_!!6000000005885-55-tps-17-16.svg"}),o.a.createElement("span",{className:"title-text"},Se)),o.a.createElement(be,null)),C.map((function(e){var t=e.CommandItem,n=void 0===t?we.a:t;return o.a.createElement(n,U()({command:e,onCommandSelect:l},d))}))),E&&y&&o.a.createElement("div",{className:"divider-wrap"},o.a.createElement(I.Divider,null)),ke&&o.a.createElement(de,{keyword:s,onChange:function(e){b(e.length>0)}})))})),_e=n(100),Ie=n(101),Oe=n(102),Ae=n(103),De=n(42);n(431);function Me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Me=function(){return!!e})()}var Ne=function(){var e=[];for(var t in De.a)if(De.a.hasOwnProperty(t)){var n={code:t,id:De.a[t].id,text:De.a[t].t};e[n.id]=n}return e}(),Pe=function(e){function t(){var e,n,r,a;v()(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=this,r=t,a=[].concat(i),r=E()(r),e=x()(n,Me()?Reflect.construct(r,a||[],E()(n).constructor):r.apply(n,a)),_()(e,"onSelected",(function(t){e.props.onSelected(t)})),e}return k()(t,e),b()(t,[{key:"render",value:function(){var e=this;return a.createElement("div",{className:"emotion-box"},a.createElement("div",{className:"emotion-board"},Ne.map((function(t,n){return a.createElement("div",{className:"emotion-cell","data-id":t.id,onClick:e.onSelected.bind(e,t),key:n})}))))}}])}(a.Component),Le=n(131),Re=n.n(Le);function Fe(e,t){var n=document.createElement("a");n.href=e;for(var r=n.search.substring(1).split("&"),a=0;a<r.length;a++){var o=r[a].split("=");if(o[0]==t)return o[1]}return!1}function je(e,t){var n=document.createElement("a");n.href=e;var r=n.search.substring(1).split("&");return t&&(r=r.filter((function(e){return e.split("=")[0]!==t}))),r.join("&")}function Be(e){var t={};return e.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,n,r){t[n]=decodeURIComponent(r)})),t}var ze=n(81),qe="exhibition";function Ve(e,t){var n=t.actions;return e===qe?a.createElement("div",null,n.map((function(e,t){var n={type:"primary"};return"href"===e.type?(n.component="a",n.href=e.href,n.type="normal",n.target="_blank"):n.onClick=e.handler(e.params),a.createElement(I.Button,U()({className:"action",key:t},n),e.actionName)}))):null}var Ue,He=n(15),We=n(14),Ge=n(22),Ke=n(9);n(167);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xe=function(){return!!e})()}var Ye=window.IcbuIM.UserUtil,Qe=Ye.getLocale,$e=Ye.getBuyerLocale,et=Ye.currentUser,tt=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),nt=$e().lang,rt=Qe().lang,at=null!==(Ue=et())&&void 0!==Ue&&Ue.isBuyer?nt:rt,ot="zh"===at?"https://terms.alicdn.com/legal-agreement/terms/suit_bu1_other/suit_bu1_other202102181618_32990.html":"https://terms.alicdn.com/legal-agreement/terms/suit_bu1_other/suit_bu1_other202102232033_50513.html",it=function(e){function t(e){var n,r,a,o,i,s,c;return v()(this,t),i=this,s=t,c=[e],s=E()(s),o=x()(i,Xe()?Reflect.construct(s,c||[],E()(i).constructor):s.apply(i,c)),_()(o,"textArea",document.createElement("textarea")),_()(o,"setValue",(function(e,t){var n=(o.props.languageInfo||{}).supportTranslatePairs;switch(e){case"sendTranslateOpen":Object(O.default)("2021MC_TranslateSetting_Send_".concat(t?"Open":"Close"));break;case"receiveTranslateOpen":Object(O.default)("2021MC_TranslateSetting_Receive_".concat(t?"Open":"Close"));break;case"sendTranslateOriginLang":Object(O.default)("2021MC_TranslateSetting_SendFromLanChange&FromLan=".concat(o[e],"&ToLan=").concat(t));break;case"sendTranslateTargetLang":Object(O.default)("2021MC_TranslateSetting_SendTargetLanChange&FromLan=".concat(o[e],"&ToLan=").concat(t));break;case"receiveTargetLang":Object(O.default)("2021MC_TranslateSetting_ReceiveLanChange&FromLan=".concat(o[e],"&ToLan=").concat(t))}if(["sendTranslateOpen","sendTranslateOriginLang","sendTranslateTargetLang"].includes(e)){if(o.setState(_()({},e,t)),"sendTranslateOriginLang"===e){var r=n[t];r.includes(o.state.sendTranslateTargetLang)||o.setState({sendTranslateTargetLang:r[0]})}}else o[e]=t,"receiveTranslateOpen"===e&&o.setState({recvTransSelectDisable:!t});o.handleChangeEditStatus(!0)})),_()(o,"confirm",(function(){var e={receiveTargetLang:o.receiveTargetLang,receiveTranslateOpen:o.receiveTranslateOpen,sendTranslateOpen:o.state.sendTranslateOpen,sendTranslateOriginLang:o.state.sendTranslateOriginLang,sendTranslateTargetLang:o.state.sendTranslateTargetLang,receiveTranslateAgreement:o.receiveTranslateAgreement};o.receiveTranslateAgreement=!0,e.receiveTranslateAgreement=o.receiveTranslateAgreement,o.props.onConfirm(e)})),_()(o,"close",(function(){Object(O.default)("2021MC_TranslateSetting_CloseClick"),o.setDefaultValue();var e=o.props,t=e.source,n=e.reportFatigue;"sysMessage"===t&&n({aliId:window.aliId,time:Date.now()-o.startVisibleTime}),o.startVisibleTime=null,o.props.onClose(),o.handleChangeEditStatus(!1)})),_()(o,"decodeHtmlEntities",(function(e){return e?(o.textArea.innerHTML=e,o.textArea.value):""})),_()(o,"handleChangeEditStatus",(function(e){o.state.isEdit!==e&&o.setState({isEdit:Boolean(e)})})),o.receiveTranslateOpen=e.languageInfo.receiveTranslateOpen,o.receiveTargetLang=e.languageInfo.receiveTargetLang,o.receiveTranslateAgreement=e.languageInfo.receiveTranslateAgreement,o.state={sendTranslateOpen:e.languageInfo.sendTranslateOpen,sendTranslateOriginLang:e.languageInfo.sendTranslateOriginLang,sendTranslateTargetLang:e.languageInfo.sendTranslateTargetLang,recvTransSelectDisable:!e.languageInfo.receiveTranslateOpen,isEdit:!1},o.finalSupportLangsArray=null===(n=e.languageInfo)||void 0===n||null===(r=n.supportLangs)||void 0===r||null===(a=r.map)||void 0===a?void 0:a.call(r,(function(e){return Ze(Ze({},null!==e&&void 0!==e?e:{}),{},{langFullName:o.decodeHtmlEntities(e.langFullName)||e.langFullName})})),o.startVisibleTime=null,o}return k()(t,e),b()(t,[{key:"componentDidMount",value:function(){this.setDefaultValue()}},{key:"componentWillUnmount",value:function(){this.textArea=null}},{key:"componentWillReceiveProps",value:function(e){this.state.sendTranslateOriginLang===e.languageInfo.sendTranslateOriginLang&&this.state.sendTranslateTargetLang===e.languageInfo.sendTranslateTargetLang||this.setDefaultValue(),"sysMessage"!==e.source&&"toolbar"!==e.source||this.setDefaultValue()}},{key:"setDefaultValue",value:function(){var e=this.props.languageInfo||{},t=e.receiveTargetLang,n=e.receiveTranslateOpen,r=e.receiveTranslateAgreement,a=e.sendTranslateOpen,o=e.sendTranslateOriginLang,i=e.sendTranslateTargetLang,s=e.supportTranslatePairs,c=this.props,l=c.source,u=c.sellerLang;this.receiveTranslateOpen="sysMessage"===l&&!r||n,this.receiveTargetLang=r?t:at,this.receiveTranslateAgreement=r;var d=r?o:he()?"auto":at,p="";r?p=i:"sysMessage"===l?(p=u,s&&(s[d].includes(p)||(p="en"))):p=he()?"en":i;this.setState({sendTranslateOpen:!r&&"sysMessage"===l||a,sendTranslateOriginLang:d,sendTranslateTargetLang:p,recvTransSelectDisable:!this.receiveTranslateOpen,isEdit:!1})}},{key:"render",value:function(){return""}}])}(a.Component);function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lt=function(){return!!e})()}var ut=function(e){function t(){return v()(this,t),e=this,n=t,r=arguments,n=E()(n),x()(e,lt()?Reflect.construct(n,r||[],E()(e).constructor):n.apply(e,r));var e,n,r}return k()(t,e),b()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.visible,r=t.languageInfo,o=t.source,i=t.sellerLang,s=r.supportLangs,c=void 0===s?[]:s,l=r.supportTranslatePairs,u=r.receiveTargetLang,d=r.receiveTranslateOpen,p=r.receiveTranslateAgreement,f=r.sendTranslateOpen,m=this.state,h=m.sendTranslateOriginLang,g=m.sendTranslateTargetLang;this.finalSupportLangsArray&&this.finalSupportLangsArray.length||(this.finalSupportLangsArray=c.map((function(t){return ct(ct({},null!==t&&void 0!==t?t:{}),{},{langFullName:e.decodeHtmlEntities(t.langFullName)||t.langFullName})})));var v="sysMessage"===o?i:"en";return a.createElement(I.Overlay,{visible:n,align:"cc cc",hasMask:!0,disableScroll:!0},a.createElement("div",{className:"translate-setting-wrapper","data-exp":"2021MC_TranslateSetting_Exp"},a.createElement("div",{className:"title"},tt.get("translate.settingTitle")||"翻译设置"),a.createElement(I.Icon,{className:"close",type:"close",size:"small",onClick:this.close}),a.createElement("div",{className:"row"},a.createElement("h2",{className:"new-sub-title"},tt.get("translate.recvMessage")||"Translate received messages"),a.createElement(I.Switch,{className:"opt-switch",defaultChecked:p?d:"sysMessage"===o,onChange:this.setValue.bind(this,"receiveTranslateOpen"),size:"small"})),a.createElement("div",{className:"row"},a.createElement("span",{className:"new-opt-name ".concat(this.state.recvTransSelectDisable?"disable-opt-name":"")},tt.get("translate.translateTo")||"Translate to"),a.createElement(I.Select,{className:"opt-select",onChange:this.setValue.bind(this,"receiveTargetLang"),defaultValue:u||at,disabled:this.state.recvTransSelectDisable,placeholder:tt.get("common.pleaseSelect")||"Please Select"},this.finalSupportLangsArray.map((function(e,t){return a.createElement(I.Select.Option,{value:e.lang,key:t},e.langFullName)})))),a.createElement("p",{className:"new-opt-tip"},tt.get("translate.recvMessageTip")),a.createElement("div",{className:"row no-mb"},a.createElement("h2",{className:"new-sub-title"},tt.get("translate.sendMessage")||"Translate sent messages"),a.createElement(I.Switch,{className:"opt-switch",defaultChecked:p?f:"sysMessage"===o,onChange:this.setValue.bind(this,"sendTranslateOpen"),size:"small"})),a.createElement("div",{className:"row"},a.createElement("span",{className:"new-opt-name ".concat(this.state.sendTranslateOpen?"":"disable-opt-name")},tt.get("translate.sndFrom")||"Translate from"),a.createElement("div",{className:"select-box"},a.createElement(I.Select,{className:"opt-select small",onChange:this.setValue.bind(this,"sendTranslateOriginLang"),value:h||at,disabled:!this.state.sendTranslateOpen,placeholder:tt.get("common.pleaseSelect")||"Please Select"},this.finalSupportLangsArray.map((function(e,t){return a.createElement(I.Select.Option,{value:e.lang,key:t},e.langFullName)}))),a.createElement("span",{className:"".concat(this.state.sendTranslateOpen?"":"disable-opt-name")},tt.get("translate.sndTo")||"to"),a.createElement(I.Select,{className:"opt-select small",onChange:this.setValue.bind(this,"sendTranslateTargetLang"),value:g||v,disabled:!this.state.sendTranslateOpen,placeholder:tt.get("common.pleaseSelect")||"Please Select"},(c.length&&l[h]||[]).map((function(t,n){var r=e.finalSupportLangsArray.filter((function(e){return e.lang===t}));return a.createElement(I.Select.Option,{value:t,key:n},r&&r[0]&&r[0].langFullName||t)}))))),a.createElement("p",{className:"new-opt-tip"},tt.get("translate.sendMessageTip")||"Your messages will be automatically translated as you type into the language you select or into English if that language is unavailable"),!p&&a.createElement("p",{className:"agreement textCenter"},tt.get("translate.agreeCondition")||'By clicking “Save and apply", I agree to',"  ",a.createElement("a",{className:"agreement-link",href:ot,rel:"noreferrer",target:"_blank"},tt.get("translate.condition")||"Alibaba Translate terms and conditions")),a.createElement(I.Button,{type:"primary",className:"confirm-btn",onClick:this.confirm,disabled:!p&&!this.receiveTranslateOpen&&!this.state.sendTranslateOpen||!this.state.isEdit},tt.get("translate.saveButton")||"Save and apply"),p&&a.createElement("p",{className:"agreement textCenter"},a.createElement("a",{className:"agreement-link",href:ot,rel:"noreferrer",target:"_blank"},tt.get("translate.Condition")||"Alibaba Translate terms and conditions"))))}}])}(it);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ft=function(){return!!e})()}var mt=function(e){function t(){return v()(this,t),e=this,n=t,r=arguments,n=E()(n),x()(e,ft()?Reflect.construct(n,r||[],E()(e).constructor):n.apply(e,r));var e,n,r}return k()(t,e),b()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.visible,r=t.languageInfo,o=t.source,i=t.sellerLang,s=r.supportLangs,c=void 0===s?[]:s,l=r.receiveTargetLang,u=r.receiveTranslateOpen,d=r.receiveTranslateAgreement,p=r.sendTranslateOpen,f=this.state,m=f.sendTranslateOriginLang,h=f.sendTranslateTargetLang,g=f.recvTransSelectDisable;this.finalSupportLangsArray&&this.finalSupportLangsArray.length||(this.finalSupportLangsArray=c.map((function(t){return pt(pt({},null!==t&&void 0!==t?t:{}),{},{langFullName:e.decodeHtmlEntities(t.langFullName)||t.langFullName})})));var v="sysMessage"===o?i:"en";return a.createElement(I.Overlay,{V2:!0,visible:n,align:"cc cc",hasMask:!0,disableScroll:!0,style:{width:640}},a.createElement("div",{className:"translate-setting-wrapper ggs","data-exp":"2021MC_TranslateSetting_Exp"},a.createElement("div",{className:"title"},tt.get("translate.settingTitle")||"翻译设置"),a.createElement(I.Icon,{className:"close",type:"close",size:"small",onClick:this.close}),a.createElement("div",{className:"row no-mb"},a.createElement("h2",{className:"new-sub-title"},tt.get("translate.recvMessage")||"Translate received messages"),a.createElement(I.Switch,{className:"opt-switch",defaultChecked:d?u:"sysMessage"===o,onChange:this.setValue.bind(this,"receiveTranslateOpen"),size:"medium"})),a.createElement("p",{className:"new-opt-tip"},tt.get("translate.recvMessageTip")),!g&&a.createElement("div",{className:"row no-flex"},a.createElement("div",{className:"new-opt-name mb ".concat(this.state.recvTransSelectDisable?"disable-opt-name":"")},tt.get("translate.translateTo")||"Translate to"),a.createElement(I.Select,{className:"opt-select",onChange:this.setValue.bind(this,"receiveTargetLang"),defaultValue:l||at,disabled:this.state.recvTransSelectDisable,placeholder:tt.get("common.pleaseSelect")||"Please Select"},this.finalSupportLangsArray.filter((function(e){return"auto"!==e.lang})).map((function(e,t){return a.createElement(I.Select.Option,{value:e.lang,key:t},e.langFullName)})))),a.createElement("div",{className:"split-line"}),a.createElement("div",{className:"row no-mb"},a.createElement("h2",{className:"new-sub-title"},tt.get("translate.sendMessage")||"Translate sent messages"),a.createElement(I.Switch,{className:"opt-switch",defaultChecked:d?p:"sysMessage"===o,onChange:this.setValue.bind(this,"sendTranslateOpen"),size:"medium"})),a.createElement("p",{className:"new-opt-tip"},tt.get("translate.sendMessageTip")||"Your messages will be automatically translated as you type into the language you select or into English if that language is unavailable"),this.state.sendTranslateOpen&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row no-flex"},a.createElement("div",{className:"new-opt-name mb no-flex ".concat(this.state.sendTranslateOpen?"":"disable-opt-name")},tt.get("translate.sndFrom")||"Translate from"),a.createElement(I.Select,{className:"opt-select small",onChange:this.setValue.bind(this,"sendTranslateOriginLang"),value:m||at,disabled:!this.state.sendTranslateOpen,placeholder:tt.get("common.pleaseSelect")||"Please Select"},this.finalSupportLangsArray.map((function(e,t){return a.createElement(I.Select.Option,{value:e.lang,key:t},e.langFullName)})))),a.createElement("div",{className:"row no-flex"},a.createElement("div",{className:"new-opt-name mb no-flex ".concat(this.state.sendTranslateOpen?"":"disable-opt-name")},tt.get("translate.sndTo")||"into"),a.createElement(I.Select,{className:"opt-select small",onChange:this.setValue.bind(this,"sendTranslateTargetLang"),value:h||v,disabled:!this.state.sendTranslateOpen,placeholder:tt.get("common.pleaseSelect")||"Please Select"},this.finalSupportLangsArray.filter((function(e){return"auto"!==e.lang})).map((function(e,t){return a.createElement(I.Select.Option,{value:e.lang,key:t},e.langFullName)}))))),a.createElement("div",{className:"split-line"}),a.createElement("p",{className:"new-opt-tip mt"},tt.get("translate.languageSupportTip")||"Supports 18 languages: Chinese, Spanish, French, Russian, Vietnamese, Thai, Indonesian, Arabic, and Turkish."),d?a.createElement("p",{className:"agreement"},a.createElement("a",{className:"agreement-link",href:ot,rel:"noreferrer",target:"_blank"},tt.get("translate.condition")||"Alibaba Translate terms and conditions")):a.createElement("p",{className:"agreement"},tt.get("translate.agreeCondition")||'By clicking “Save and apply", I agree to',"  ",a.createElement("a",{className:"agreement-link",href:ot,rel:"noreferrer",target:"_blank"},tt.get("translate.condition")||"Alibaba Translate terms and conditions")),a.createElement("div",{className:"button-footor"},a.createElement(I.Button,{onClick:this.close},tt.get("common.cancel")||"Cancel"),a.createElement(I.Button,{type:"primary",onClick:this.confirm,disabled:!d&&!this.receiveTranslateOpen&&!this.state.sendTranslateOpen||!this.state.isEdit},tt.get("translate.saveButton")||"Save and apply"))))}}])}(it);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vt=function(){return!!e})()}var yt=window.IcbuIM.UserUtil,bt=yt.getLocale,wt=yt.getBuyerLocale,xt=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),Ct=wt().lang,Et="zh"===bt().lang?"https://terms.alicdn.com/legal-agreement/terms/suit_bu1_other/suit_bu1_other202102181618_32990.html":"https://terms.alicdn.com/legal-agreement/terms/suit_bu1_other/suit_bu1_other202102232033_50513.html",St=Object(ie.getAPLUSABRATEResult)("buyer_im_translate_setting_msg"),kt=(Object(ie.getAPLUSABRATEResult)("im_translate_setting_dialog"),"test1"===St),Tt=function(e){function t(e){var n,r,a,o,i,s,c;return v()(this,t),i=this,s=t,c=[e],s=E()(s),o=x()(i,vt()?Reflect.construct(s,c||[],E()(i).constructor):s.apply(i,c)),_()(o,"textArea",document.createElement("textarea")),_()(o,"setValue",(function(e,t){var n=(o.props.languageInfo||{}).supportTranslatePairs;switch(e){case"sendTranslateOpen":Object(O.default)("2021MC_TranslateSetting_Send_".concat(t?"Open":"Close"));break;case"receiveTranslateOpen":Object(O.default)("2021MC_TranslateSetting_Receive_".concat(t?"Open":"Close"));break;case"sendTranslateOriginLang":Object(O.default)("2021MC_TranslateSetting_SendFromLanChange&FromLan=".concat(o[e],"&ToLan=").concat(t));break;case"sendTranslateTargetLang":Object(O.default)("2021MC_TranslateSetting_SendTargetLanChange&FromLan=".concat(o[e],"&ToLan=").concat(t));break;case"receiveTargetLang":Object(O.default)("2021MC_TranslateSetting_ReceiveLanChange&FromLan=".concat(o[e],"&ToLan=").concat(t))}if(["sendTranslateOpen","sendTranslateOriginLang","sendTranslateTargetLang"].includes(e)){if(o.setState(_()({},e,t)),"sendTranslateOriginLang"===e){var r=n[t];r.includes(o.state.sendTranslateTargetLang)||o.setState({sendTranslateTargetLang:r[0]})}}else o[e]=t,"receiveTranslateAgreement"===e&&t&&o.setState({showAgreementTip:!1}),"receiveTranslateOpen"===e&&kt&&o.setState({recvTransSelectDisable:!t})})),_()(o,"confirm",(function(){var e={receiveTargetLang:o.receiveTargetLang,receiveTranslateOpen:o.receiveTranslateOpen,sendTranslateOpen:o.state.sendTranslateOpen,sendTranslateOriginLang:o.state.sendTranslateOriginLang,sendTranslateTargetLang:o.state.sendTranslateTargetLang,receiveTranslateAgreement:o.receiveTranslateAgreement};if(kt)return o.receiveTranslateAgreement=!0,e.receiveTranslateAgreement=o.receiveTranslateAgreement,void o.props.onConfirm(e);o.receiveTranslateAgreement?o.props.onConfirm(e):o.setState({showAgreementTip:!0})})),_()(o,"close",(function(){Object(O.default)("2021MC_TranslateSetting_CloseClick"),o.setDefaultValue();var e=o.props,t=e.source,n=e.reportFatigue;"sysMessage"===t&&n({aliId:window.aliId,time:Date.now()-o.startVisibleTime}),o.startVisibleTime=null,o.props.onClose()})),_()(o,"decodeHtmlEntities",(function(e){return e?(o.textArea.innerHTML=e,o.textArea.value):""})),o.receiveTranslateOpen=e.languageInfo.receiveTranslateOpen,o.receiveTargetLang=e.languageInfo.receiveTargetLang,o.receiveTranslateAgreement=e.languageInfo.receiveTranslateAgreement,o.state={sendTranslateOpen:e.languageInfo.sendTranslateOpen,sendTranslateOriginLang:e.languageInfo.sendTranslateOriginLang,sendTranslateTargetLang:e.languageInfo.sendTranslateTargetLang,showAgreementTip:!1,recvTransSelectDisable:!e.languageInfo.receiveTranslateOpen},o.finalSupportLangsArray=null===(n=e.languageInfo)||void 0===n||null===(r=n.supportLangs)||void 0===r||null===(a=r.map)||void 0===a?void 0:a.call(r,(function(e){return gt(gt({},null!==e&&void 0!==e?e:{}),{},{langFullName:o.decodeHtmlEntities(e.langFullName)||e.langFullName})})),o.startVisibleTime=null,o}return k()(t,e),b()(t,[{key:"componentDidMount",value:function(){this.setDefaultValue()}},{key:"componentWillUnmount",value:function(){this.textArea=null}},{key:"componentWillReceiveProps",value:function(e){this.state.sendTranslateOriginLang===e.languageInfo.sendTranslateOriginLang&&this.state.sendTranslateTargetLang===e.languageInfo.sendTranslateTargetLang||this.setDefaultValue(),"sysMessage"!==e.source&&"toolbar"!==e.source||this.setDefaultValue()}},{key:"setDefaultValue",value:function(){var e=this.props.languageInfo||{},t=e.receiveTargetLang,n=e.receiveTranslateOpen,r=e.receiveTranslateAgreement,a=e.sendTranslateOpen,o=e.sendTranslateOriginLang,i=e.sendTranslateTargetLang,s=e.supportTranslatePairs,c=this.props,l=c.source,u=c.sellerLang;if(this.receiveTranslateOpen="sysMessage"===l&&!r||n,this.receiveTargetLang=kt&&!r?Ct:t,this.receiveTranslateAgreement=r,kt){var d=r?o:Ct,p="";if(r)p=i;else if("sysMessage"===l){if(p=u,s)s[d].includes(p)||(p="en")}else p="en";this.setState({sendTranslateOpen:!r&&"sysMessage"===l||a,sendTranslateOriginLang:d,sendTranslateTargetLang:p,recvTransSelectDisable:!this.receiveTranslateOpen})}else this.setState({sendTranslateOpen:a,sendTranslateOriginLang:o,sendTranslateTargetLang:i})}},{key:"render",value:function(){var e=this,t=this.props,n=t.visible,r=t.languageInfo,o=t.source,i=t.sellerLang,s=r.supportLangs,c=void 0===s?[]:s,l=r.supportTranslatePairs,u=r.receiveTargetLang,d=r.receiveTranslateOpen,p=r.receiveTranslateAgreement,f=r.sendTranslateOpen,m=this.state,h=m.sendTranslateOriginLang,g=m.sendTranslateTargetLang;this.finalSupportLangsArray&&this.finalSupportLangsArray.length||(this.finalSupportLangsArray=c.map((function(t){return gt(gt({},null!==t&&void 0!==t?t:{}),{},{langFullName:e.decodeHtmlEntities(t.langFullName)||t.langFullName})})));var v="sysMessage"===o?i:"en";return a.createElement(I.Overlay,{V2:!0,visible:n,align:"cc cc",hasMask:!0,disableScroll:!0},a.createElement("div",{className:"translate-setting-wrapper old","data-exp":"2021MC_TranslateSetting_Exp"},a.createElement("h1",{className:"title"},xt.get("translate.settingTitle")||"翻译设置"),a.createElement(I.Icon,{className:"close",type:"close",size:"small",onClick:this.close}),kt?a.createElement("div",{className:"row"},a.createElement("h2",{className:"new-sub-title"},xt.get("translate.recvMessage")||"Translate received messages"),a.createElement(I.Switch,{className:"opt-switch",defaultChecked:p?d:"sysMessage"===o,onChange:this.setValue.bind(this,"receiveTranslateOpen"),size:"small"})):a.createElement("h2",{className:"sub-title"},xt.get("translate.translateIncoming")||"Translate Incoming Messages"),a.createElement("div",{className:"row"},a.createElement("span",{className:"opt-name"},xt.get("translate.translateTo")||"Translate into"),a.createElement(I.Select,{className:"opt-select",onChange:this.setValue.bind(this,"receiveTargetLang"),defaultValue:kt?u||Ct:u,disabled:kt&&this.state.recvTransSelectDisable,placeholder:xt.get("common.pleaseSelect")||"Please Select"},this.finalSupportLangsArray.map((function(e,t){return a.createElement(I.Select.Option,{value:e.lang,key:t},e.langFullName)})))),!kt&&a.createElement("div",{className:"row"},a.createElement("span",{className:"opt-name"},xt.get("translate.autoTranslate")||"Auto Translate"),a.createElement(I.Switch,{className:"opt-switch",defaultChecked:d,onChange:this.setValue.bind(this,"receiveTranslateOpen"),size:"small"})),a.createElement("p",{className:"".concat(kt?"new-opt-tip":"opt-tip")},kt?xt.get("translate.recvMessageTip"):xt.get("translate.incomingTip")||"When enabled, the messages you receive will be automatically translated. Currently, this feature supports translations between English and 11 other languages."),a.createElement("div",{className:"row no-mb"},a.createElement("h2",{className:"".concat(kt?"new-sub-title":"sub-title")},kt?xt.get("translate.sendMessage")||"Translate sent messages":xt.get("translate.translateOutgoing")||"Translate Outgoing Messages"),a.createElement(I.Switch,{className:"opt-switch",defaultChecked:p?f:!(!kt||"sysMessage"!==o),onChange:this.setValue.bind(this,"sendTranslateOpen"),size:"small"})),!kt&&a.createElement("p",{className:"opt-tip"},xt.get("translate.outgoingTip")||"When enabled, messages you send will be translated automatically."),a.createElement("div",{className:"row"},a.createElement("span",{className:"".concat(kt?"new-opt-name":"opt-name")},kt?xt.get("translate.sndFrom")||"Translate from":xt.get("translate.sendTranslate")||"Translate"),a.createElement("div",{className:"select-box"},a.createElement(I.Select,{className:"opt-select small",onChange:this.setValue.bind(this,"sendTranslateOriginLang"),value:h||Ct,disabled:!this.state.sendTranslateOpen,placeholder:xt.get("common.pleaseSelect")||"Please Select"},this.finalSupportLangsArray.map((function(e,t){return a.createElement(I.Select.Option,{value:e.lang,key:t},e.langFullName)}))),kt?a.createElement("span",null,xt.get("translate.sndTo")||"into"):a.createElement(I.Icon,{type:"arrow-right",size:"small"}),a.createElement(I.Select,{className:"opt-select small",onChange:this.setValue.bind(this,"sendTranslateTargetLang"),value:g||v,disabled:!this.state.sendTranslateOpen,placeholder:xt.get("common.pleaseSelect")||"Please Select"},(c.length&&l[h]||[]).map((function(t,n){var r=e.finalSupportLangsArray.filter((function(e){return e.lang===t}));return a.createElement(I.Select.Option,{value:t,key:n},r&&r[0]&&r[0].langFullName||t)}))))),kt&&a.createElement("p",{className:"new-opt-tip"},xt.get("translate.sendMessageTip")||"Your messages will be automatically translated as you type into the language you select or into English if that language is unavailable"),!p&&a.createElement("p",{className:"agreement ".concat(kt?"textCenter":"")},kt?xt.get("translate.agreeCondition")||'By clicking “Save and apply", I agree to':a.createElement(I.Checkbox,{defaultChecked:this.receiveTranslateAgreement,onChange:this.setValue.bind(this,"receiveTranslateAgreement")}),"  ",!kt&&(xt.get("translate.agreementContent")||"I accept the "),a.createElement("a",{className:"agreement-link",href:Et,rel:"noreferrer",target:"_blank"},kt?xt.get("translate.condition")||"Alibaba Translate terms and conditions":xt.get("translate.agreementLink")||"Alibaba Translate User Agreement")),this.state.showAgreementTip&&!kt&&a.createElement("p",{className:"agreement-tip"},xt.get("translate.acceptAgreement")||"Please accept the agreemen"),a.createElement(I.Button,{type:"primary",className:"confirm-btn",onClick:this.confirm,disabled:!p&&!this.receiveTranslateOpen&&!this.state.sendTranslateOpen&&kt},kt?xt.get("translate.saveButton")||"Save and apply":xt.get("translate.confirm")||"Confirm"),kt&&p&&a.createElement("p",{className:"agreement textCenter"},a.createElement("a",{className:"agreement-link",href:Et,rel:"noreferrer",target:"_blank"},xt.get("translate.Condition")||"Alibaba Translate terms and conditions"))))}}])}(a.Component),_t=n(26),It=n(132),Ot=n(65);n.p=Object(pe.e)("im-weblite-chat");var At=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,567))}));var Dt=function(e){return o.a.createElement(a.Suspense,null,o.a.createElement(At,e))},Mt=function(e){return e[e.LessThan=-1]="LessThan",e[e.EqualTo=0]="EqualTo",e[e.GreaterThan=1]="GreaterThan",e}({});function Nt(e,t){for(var n=String(e).split("."),r=String(t).split("."),a=0;a<Math.min(n.length,r.length);a++){var o=Number(n[a]),i=Number(r[a]);if(o>i)return Mt.GreaterThan;if(i>o)return Mt.LessThan;if(!isNaN(o)&&isNaN(i))return Mt.GreaterThan;if(isNaN(o)&&!isNaN(i))return Mt.LessThan}return Mt.EqualTo}var Pt=n(190),Lt=n.n(Pt),Rt=n(105),Ft=n.n(Rt),jt=n(191),Bt=1e3;function zt(e){var t=Lt()(e);return Ft()(t,16).abs().mod(Bt)}function qt(e,t){var n=Object(jt.murmur3)(e,t);return Ft()(n).abs().mod(Bt)}function Vt(e){e=""+e;var t,n=0;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)&4294967295;return Ft()(n).abs().mod(Bt)}var Ut="https://s.alicdn.com/@xconfig/dataphant",Ht="MD5";function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function Gt(e,t){return e+"_"+t}function Kt(){return Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kt.apply(this,arguments)}var Jt={segmentID:null,remainder:null,treatment:"",treatmentID:null,variantId:null,params:{},message:""};function Zt(e,t,n){var r=e.experiments,a=e.trafficSourceExperiments,o=void 0===a?[]:a,i=e.whiteList,s=e.launchConfig,c=r.find((function(e){return e.testKey===n}));return c?Xt({expConfig:c,trafficSourceExperiments:o,whiteList:i,launchConfig:s,userInfo:t}):function(e,t){var n,r=Kt({},Jt),a=t.launchExperiments,o=void 0===a?{}:a,i=t.launchParams,s=void 0===i?[]:i,c=o[e];if(!c)return r.message="Experiment: "+this.testKey+" not found. Please confirm the experiment is launched.",r;r.treatment=null!=(n=c.launchGroupName)?n:"";var l=s.find((function(e){return e.gatingKeyId===c.gatingKeyId}));l&&(r.params=l.params||{});return r.message="experiment: "+e+" has been full pushed",r}(n,s)}function Xt(e){var t=e.expConfig,n=e.trafficSourceExperiments,a=e.whiteList,o=e.launchConfig,i=e.userInfo,s=e.loopCount,c=void 0===s?0:s,l=Kt({},Jt);if(c>10)return l.message="experiment config invalid, there is a loop call",l;var u=i.diversionKey,d=t.gatingKey,p=t.variants,f=void 0===p?[]:p;if(a){var m=a.gatingKeyWhitelist,h=((void 0===m?{}:m)[d.id]||{}).members;if(h){var g=h[u];if(g){var v=f.find((function(e){return e.id===g}));return v&&v.name?(l.treatment=v.name,l.variantId=v.id,l.params=v.params||{},l.message="current user hit whiteList config",l):(l.message="hit exclusive experiment whitelist",l)}}}var y=d.trafficSourceExpTestKey,b=d.trafficSourceVariantId;if(y){var w=n.find((function(e){return e.testKey===y}));if(!w)return l.message="can not found parent experiment:"+y+" config",l;var x=Xt({expConfig:w,trafficSourceExperiments:n,userInfo:i,whiteList:a,launchConfig:o,loopCount:c++}),C=x.variantId,E=x.segmentID;if(b!==C)return E?(l.message="can not hit parent experiment:"+y+" variant",l):(l.message="can not hit parent experiment:"+y+" segment",l)}if(d){var S=function(e,t){var n=e.hashId,a=e.id,o=Gt(t.diversionKey,n||a);return r[Ht](o)}(d,i);if(!d.ratioRanges.some((function(e){var t=Math.min.apply(null,e),n=Math.max.apply(null,e);return S>=t&&S<=n})))return l.message="can not hit experiment gatingKey",l}var k=function(e,t){var n=e.segments,r=Wt({},t.DiversionCondition,{whitelist:t.diversionKey});return n.find((function(e){return e.filterConditions.every((function(e){var t=e.fieldName,n=e.type,a=e.fieldValues;if(!r.hasOwnProperty(t))return!1;var o=r[t];switch(n){case"$in":return a.includes(o);case"$re":return new RegExp("^"+a[0]).test(o);case"$eq":return o===a[0];case"$gt":return Nt(o,a[0])>0;case"$gte":return Nt(o,a[0])>=0;case"$lt":return Nt(o,a[0])<0;case"$lte":return Nt(o,a[0])<=0;case"$nin":return!a.includes(o);case"$neq":return o!==a[0]}return!1}))}))}(t,i);if(k){var T=k.id,_=k.groups;l.segmentID=T;var I=parseInt(function(e,t){var n=e.hashId,a=Gt(t.diversionKey,n);return r[Ht](a)}(t,i));l.remainder=I;var O=function(e,t){return e.find((function(e){var n=e.ratioRanges,r=e.ratioRangesWithVersion;return r?r.some((function(e){return t>=e.low&&t<=e.high})):n.some((function(e){var n=Math.min.apply(null,e),r=Math.max.apply(null,e);return t>=n&&t<=r}))}))}(_,I);if(O&&O.name){l.treatment=O.name,l.treatmentID=O.id;var A=O.ratioRangesWithVersion;A&&(l.rangeInfo=function(e,t){return e.find((function(e){return t>=e.low&&t<=e.high}))}(A,I));var D=f.find((function(e){return e.name===O.name}));return D&&(l.variantId=D.id,l.params=D.params||{}),l.message="experiment group allocate succeed",l}return l.message="can not hit experiment group",l}return l.message="can not hit experiment segment",l}function Yt(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")}function Qt(e,t){void 0===e&&(e=""),void 0===t&&(t=!1);var n={};return e.replace(/([^?&]+)=([^?&]+)/g,(function(e,r,a){return t?n[decodeURIComponent(r)]=decodeURIComponent(a):n[r]=a,a+"="+r})),n}var $t=3e5,en="dp_abtest_config_",tn="/sc.dataphant.abtest.track",nn={sdkInvoked:"exp_invoked",resultSucceed:"exp_treatment",resultFailed:"exp_failed"},rn="__DP_ABTEST__",an="dp_abtest_params";function on(e,t){if(void 0===e&&(e=""),void 0===t&&(t=null),e){var n,r,a;t&&(e+="&"+Yt(t));var o="ext="+encodeURIComponent(e),i=null!=(n=null==(r=window)||null==(a=r.goldlog)?void 0:a.record)?n:null;if(i)i(tn,"EXP",o,"GET");else(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[tn,"CLK",o,"GET"]})}}var sn=function(){var e,t,n;return!!Qt(null!=(e=null==(t=window)||null==(n=t.location)?void 0:n.search)?e:"",!0).debug},cn={getItem:function(e){return localStorage.getItem(e)},setItem:function(e,t){return localStorage.setItem(e,t)}},ln=n(192),un=n.n(ln);function dn(e,t){return void 0===t&&(t={}),un()(e,t)}function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pn.apply(this,arguments)}var fn=n(193),mn=n(194);function hn(){var e="",t="",n="",r="",a="",o="",i=document.cookie,s=fn.parse(i),c=s.cna,l=s.sc_g_cfg_f,u=s.intl_locale,d=s.xman_us_f,p=s.xman_us_t,f=s.xman_i,m=s.ali_apache_track;if(m){var h=Qt(m.replace(/\|/g,"&")).mid;e=void 0===h?"":h}else if(p){var g=Qt(p).x_lid;e=void 0===g?"":g}if(f){var v=Qt(f).aid;n=void 0===v?"":v}if(l){var y=Qt(l).sc_b_locale;o=void 0===y?"":y}else u&&(o=u);if(d){var b=Qt(d),w=b.x_user,x=void 0===w?"":w,C=b.x_locale,E=void 0===C?"":C;if(x){var S=x.split("|");t=S[S.length-1]||"",a=S[0]||""}o||(o=E)}o&&(r=o.split("_")[0]||"",/^zh/.test(o)&&(r="zh-Hans",/(hk|tw)$/gi.test(o)&&(r="zh-Hant")),/^iw/.test(o)&&(r="he"));return{cna:c,loginId:e,accountId:t,aliId:n,language:r,country:a,platform:"web",channel:"",version:""}}function gn(e){return new Promise((function(t){return e?mn.request({api:"mtop.alibaba.uicservice.queryIdMsg",v:"1.0",appKey:"24889839",data:{hid:e},dataType:"json"}).then((function(n){var r=(n.data||{}).aliMemberHid;t(r||e)}),(function(){t(e)})):t(e)}))}var vn={code:0,message:"success"},yn={code:1,message:"illegal argument"},bn={code:3,message:"xs client internal error"};function wn(e){var t="function"===typeof Map?new Map:void 0;return wn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return xn(e,arguments,En(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Cn(r,e)},wn(e)}function xn(){return(xn=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Cn(a,n.prototype),a}).apply(null,arguments)}function Cn(e,t){return Cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cn(e,t)}function En(e){return En=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},En(e)}var Sn,kn=function(e){var t,n;function r(t,n){var r=e.call(this,t)||this;return r.code=void 0,r.code=n||yn.code,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Cn(t,n),r}(wn(Error)),Tn=n(195),_n=n.n(Tn),In=n(77),On=function(){var e=hn().cna;(Sn=new _n.a({bid:"dataphant-js-sdk",uid:e,rel:In.version,plugins:[]})).install()},An=function(e){var t=hn(),n=t.loginId,r=t.aliId,a=t.cna,o=e,i=o.category,s=o.msg,c=o.w_succ,l=o.resInfo,u=o.userInfo,d=l,p=d.appName,f=d.testKey,m=d.expVer,h=d.segmentID,g=d.bucketName,v={category:i||100,msg:s,w_succ:c,c1:f,c2:d.sdkVer,c3:n,c4:r,c5:a,c6:p,c7:m,c8:h,c9:g,bl1:JSON.stringify(l),bl2:JSON.stringify(u),bl3:JSON.stringify(t)};Sn&&Sn.report(v)},Dn=function(e){return e.BUYER_ID="buyerId",e.SELLER_ID="sellerId",e.BUYER_ALI_ID="buyerAliId",e.SELLER_ALI_ID="sellerAliId",e.DEVICE_ID="deviceId",e.COOKIE_ID="cookieId",e.SALE_ID="saleId",e.REQUEST_ID="requestId",e.USER_ID="userId",e}({}),Mn=function(e){return e.ACCOUNT_ID="accountId",e.ALI_ID="aliId",e.DEVICE_ID="deviceId",e.COOKIE_ID="cookieId",e.REQUEST_ID="eachRequest",e}({});function Nn(){Nn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),s=new k(a||[]);return r(i,"_invoke",{value:x(e,n,s)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function f(){}function m(){}var h={};c(h,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(T([])));v&&v!==t&&n.call(v,o)&&(h=v);var y=m.prototype=p.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,s)}),(function(e){a("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=C(i,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return f.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:f,configurable:!0}),f.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pn.apply(this,arguments)}function Ln(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Rn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ln(o,r,a,i,s,"next",e)}function s(e){Ln(o,r,a,i,s,"throw",e)}i(void 0)}))}}var Fn=function(){function e(e){this.appName=void 0,this.testKey=void 0,this.diversionKey=void 0,this.DiversionCondition=void 0,this.appExpConfig=void 0,this.expConfig=void 0,this.userInfo=void 0,this.expResult=void 0,this.Storage=void 0,this.Request=void 0,this.appName=e.appName,this.testKey=e.testKey,this.diversionKey=e.diversion||"",this.DiversionCondition=e.filters||{},this.Storage=cn,this.Request=dn,On()}var t=e.prototype;return t.getTreatment=function(){var e=Rn(Nn().mark((function e(){var t,n,r,a,o,i,s,c;return Nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},n={},e.prev=2,this.validateRequest(),this.recordExpInvoked(),e.next=7,Promise.all([this.getAppExpConfig(),this.getWhiteList(),this.getLaunchConfig()]);case 7:return r=e.sent,this.appExpConfig=Pn({},r[0],{whiteList:r[1],launchConfig:r[2]}),this.validateExpConfig(),e.next=12,this.getUserInfo();case 12:this.userInfo=e.sent,n=Zt(this.appExpConfig,this.userInfo,this.testKey),o=(a=n).treatment,i=a.message,s=void 0===i?"":i,o?(t=this.setExpSucceedResult(n),this.recordExpResultSucceed(t)):(t=this.setExpFailedResult(vn.code,s),this.recordExpFailed(t)),this.saveGlobalExpResult(t),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),c=e.t0 instanceof kn?e.t0.code:bn.code,t=this.setExpFailedResult(c,e.t0.message),this.recordExpFailed(t);case 24:return this.expResult=t,this.afterAllocate(),e.abrupt("return",t);case 27:case"end":return e.stop()}}),e,this,[[2,19]])})));return function(){return e.apply(this,arguments)}}(),t.validateRequest=function(){if(!this.appName)throw new kn("Missing required parameter: appName");if(!this.testKey)throw new kn("Missing required parameter: testKey")},t.validateExpConfig=function(){var e=this,t=this.appExpConfig,n=t.experiments,r=t.launchConfig,a=void 0===r?{}:r;if(!n)throw new kn("appName: "+this.appName+" not found.");this.expConfig=n.find((function(t){return t.testKey===e.testKey}));var o=a.launchExperiments,i=(void 0===o?{}:o)[this.testKey];if(!this.expConfig&&!i)throw new kn("Experiment: "+this.testKey+" not found. Please check if the experiment exists or launched.")},t.getAppExpConfig=function(){var e=Rn(Nn().mark((function e(){var t,n,r,a;return Nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},n=$t,!((r=this.getExpConfigFromCache())&&Date.now()-r.updateAt<n)){e.next=5;break}return e.abrupt("return",r);case 5:return e.next=7,this.getExpConfigFromRemote();case 7:return(t=e.sent).updateAt=Date.now(),a=this.getExpLocalKey(),this.Storage.setItem(a,JSON.stringify(t)),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getExpConfigFromCache=function(){var e=this.getExpLocalKey(),t=this.Storage.getItem(e);return t?JSON.parse(t):null},t.getExpLocalKey=function(){return""+en+this.appName},t.getExpConfigFromRemote=function(){var e=Rn(Nn().mark((function e(){var t,n=this;return Nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={appName:this.appName},a=void 0,a=r.appName,t=a?Ut+"/"+a:""){e.next=3;break}throw new kn("Failed to get experiment remote url",bn.code);case 3:return e.next=5,dn(t).then((function(e){if(e){if(200===e.status)return e.json();throw new kn("Failed to get experiment:"+n.testKey+" configuration from remote",e.status)}}),(function(){throw new kn("Failed to get experiment:"+n.testKey+" configuration from remote",bn.code)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}var r,a}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getWhiteList=function(){var e=Rn(Nn().mark((function e(){var t,n;return Nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={appName:this.appName},a=void 0,a=r.appName,t=a?Ut+"/whitelist/"+a:"",e.next=4,dn(t);case 4:if(!(n=e.sent)){e.next=8;break}if(200!==n.status){e.next=8;break}return e.abrupt("return",n.json());case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.abrupt("return",{});case 13:case"end":return e.stop()}var r,a}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),t.getLaunchConfig=function(){var e=Rn(Nn().mark((function e(){var t,n;return Nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={appName:this.appName},a=void 0,a=r.appName,t=a?Ut+"/launch/"+a:"",e.next=4,dn(t);case 4:if(!(n=e.sent)){e.next=8;break}if(200!==n.status){e.next=8;break}return e.abrupt("return",n.json());case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.abrupt("return",{});case 13:case"end":return e.stop()}var r,a}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),t.getUserInfo=function(){var e=Rn(Nn().mark((function e(){var t,n,r,a,o,i,s,c,l,u,d,p,f,m;return Nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.expConfig){e.next=2;break}return e.abrupt("return",{});case 2:if(t=hn(),n=t.platform,r=t.country,a=t.channel,o=t.language,i=t.version,s=t.loginId,c=t.aliId,l=t.cna,u=null,d=this.expConfig,p=d.keyType,f=d.sampleType,!this.diversionKey){e.next=10;break}u=""+this.diversionKey,e.next=33;break;case 10:e.t0=f,e.next=e.t0===Mn.ACCOUNT_ID?13:e.t0===Mn.ALI_ID?15:e.t0===Mn.DEVICE_ID||e.t0===Mn.COOKIE_ID?23:(e.t0,Mn.REQUEST_ID,29);break;case 13:return u=s,e.abrupt("break",31);case 15:if(p!==Dn.SELLER_ALI_ID){e.next=21;break}return e.next=18,gn(c);case 18:u=e.sent,e.next=22;break;case 21:u=c;case 22:return e.abrupt("break",31);case 23:if(u=l){e.next=28;break}return e.next=27,new Promise((function(e){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.aplus_pubsub.subscribe",arguments:["CNA",function(t){var n=t.value;e(n||"")}]})}));case 27:u=e.sent;case 28:return e.abrupt("break",31);case 29:return u=null,e.abrupt("break",31);case 31:if(u){e.next=33;break}throw new kn("Missing keyType: ["+p+"] required parameter: [diversion]");case 33:return m={platform:n,country:r,channel:a,language:o,version:i},e.abrupt("return",{diversionKey:u,DiversionCondition:Pn({},m,this.DiversionCondition)});case 35:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.saveGlobalExpResult=function(e){var t,n,r,a=rn,o=an,i=window[a]||{},s=e.treatment;s&&(window[a]=Pn({},i,((t={})[this.testKey]=s,t)),(n={})[o]=encodeURIComponent(Yt(window[a])),r=n,(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.appendMetaInfo",arguments:["aplus-exdata",pn({},r)]}))},t.setExpSucceedResult=function(e){return Pn({success:!0,code:vn.code,message:vn.message},e)},t.setExpFailedResult=function(e,t){return{success:!1,code:e,message:t}},t.afterAllocate=function(){sn()&&(console.group("%c实验名称"+this.testKey,"color: #CC3300"),console.log("%c实验配置%c"+JSON.stringify(this.expConfig),"color: #339966",""),console.log("%c用户信息%c"+JSON.stringify(this.userInfo),"color: #3366CC",""),console.log("%c分流结果%c"+JSON.stringify(this.expResult),"color: #990099",""),console.groupEnd())},t.recordExpInvoked=function(){var e={appName:this.appName,testKey:this.testKey,sdkVer:In.version};on(nn.sdkInvoked,e)},t.recordExpResultSucceed=function(e){if(this.expConfig){var t=e.segmentID,n=void 0===t?null:t,r=e.treatmentID,a=void 0===r?null:r,o=e.treatment,i=void 0===o?"":o,s=e.rangeInfo,c=this.appExpConfig.envType,l=void 0===c?"":c,u=this.expConfig,d=u.id,p=u.releaseId,f=u.keyType,m=this.userInfo.diversionKey,h=s?s.releaseId:p,g=s?s.version:"",v={expID:d,expVer:h,segmentID:n,bucketID:a,diverKey:m,keyType:f,expTime:+new Date,sdkVer:In.version,appName:this.appName,testKey:this.testKey,bucketName:i,releaseVer:g,envType:l};null!==n&&null!==a&&on(nn.resultSucceed,v),An({category:100,msg:"experiment allocated succeed",w_succ:1,resInfo:v,userInfo:this.userInfo||{}})}},t.recordExpFailed=function(e){var t,n,r,a,o=e.code,i=void 0===o?-1:o,s=e.message,c=void 0===s?"":s;if(this.expConfig){var l={code:i,message:c,appName:this.appName,testKey:this.testKey,expID:null!=(t=null==(n=this.expConfig)?void 0:n.id)?t:"",expVer:null!=(r=null==(a=this.expConfig)?void 0:a.releaseId)?r:"",sdkVer:In.version};on(nn.resultFailed,l),An({category:100,msg:c,w_succ:0,resInfo:l,userInfo:this.userInfo||{}})}},e}();function jn(e){return new Fn(e).getTreatment()}window.Dataphant={getTreatment:jn};var Bn=jn;function zn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zn=function(){return!!e})()}var qn=window.IcbuIM.lib.Utils,Vn=window.IcbuIM.lib.I18N.createI18N,Un=Vn({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),Hn=Vn({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),Wn=window.IcbuIM.IMBaaSSDK.default,Gn=["emotionVisible","screenshotVisible","sendImageBallonVisible","sendFileBallonVisible","cloudDriveVisible"],Kn="pre"===window.env?"https://pre-air.alibaba.com/":"https://air.alibaba.com/",Jn="".concat(Kn,"app/alimsc/IcbuLiveSellerTool/livecalendar.html?referrer=IMChatPage&wx_navbar_transparent=true&receiveId={0}&senderId={1}"),Zn=null,Xn="POLISH_FIRST_TIP_FLAG",Yn="SHOW_ASK_ADDRESS_GUIDE",Qn="SHOW_DRAFT_ORDER_GUIDE",$n=localStorage.getItem(Xn),er=!1,tr=!1,nr=null,rr=Object(ie.getAPLUSABRATEResult)("buyer_im_translate_setting_msg"),ar=window.recAddress,or=I.Balloon.Tooltip,ir=function(e){function t(e){var n,r,a,i;return v()(this,t),r=this,a=t,i=[e],a=E()(a),n=x()(r,zn()?Reflect.construct(a,i||[],E()(r).constructor):a.apply(r,i)),_()(n,"handleExpDraftOrder",(function(){Bn({appName:"im-messenger",testKey:"im_toolbar_draft_order_entry"}).then((function(e){var t,r,a,o=(null!==e&&void 0!==e?e:{}).treatment;"exp"===o&&Object(O.default)({ext:"expDraftOrder",bizData:{sellerId:null===(t=window)||void 0===t?void 0:t.aliId,buyerId:null===(r=n.props.contact)||void 0===r||null===(a=r.contact)||void 0===a?void 0:a.aliId}});n.setState({isDraftOrderExp:"exp"===o})})).catch((function(){}))})),_()(n,"handleAssistantTipShow",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3,t="REPLY_FIRST_TIP_FLAG",r=t&&!localStorage.getItem(t);if(r){n.hideAssistantTipLater(!0);var a=null;r&&localStorage.setItem(t,!0),e&&(a=setTimeout((function(){n.hideAssistantTipLater(!1)}),e)),a&&(a=null)}else n.hideAssistantTipLater(!1)})),_()(n,"onToolbarItemClick",Object(pe.a)((function(e){Object(O.default)({ext:"toolbarClick",bizData:{type:e}});var t=n.handleGetInputContent(n.props.getContent({format:"text"}));if("merchant_assistant"===e)if(!t)return n.setState({polishTipText:Ot.default.polishEntryEmpty,polishTipTextShow:!0}),void n.hidePolishTipLater();n.props.EventBus.publish(It.default.startCommand,{commandName:e,content:t,isSimpleEditor:n.props.isSimpleEditor(),from:"toolbar",time:Object(ie.getHighPrecisionTimestamp)()})}))),_()(n,"getTplList",(function(){n.props.operateTpls({data:{params:{},cmd:"list"},callback:function(e){n.setTplList(e.list||[])}})})),_()(n,"openSaveTpl",(function(){Object(O.default)("saveTemplate"),n.props.hasContent()&&n.setState({saveTplVisible:!0})})),_()(n,"saveTpl",(function(){n.tplName?n.props.operateTpls({data:{params:{templateName:n.tplName,content:qn.encodeHTML(n.props.getContent())},cmd:"add"},callback:function(){We.default.success(Hn.get("common.success")),n.closeSaveTpl()}}):We.default.error(Hn.get("session.verify.tplNoEmpty"))})),_()(n,"tplNameChange",(function(e){n.tplName=e})),_()(n,"selectTpl",(function(e){Object(O.default)("2020MC_Template_Send_Click"),n.props.operateTpls({data:{params:{id:e[0]},cmd:"find"},callback:function(e){var t,r,a,o=e.list&&e.list[0]&&e.list[0].content||"";"rich"!==n.props.inputType&&(o=null===(t=Object(pe.b)(o))||void 0===t||null===(r=t.replace(/↵/g,"\n"))||void 0===r||null===(a=r.replace(/<br *\/?>/gi,"\n"))||void 0===a?void 0:a.replace(/<.*?>/g,""));n.props.setContent(o),n.closeSaveTpl()}})})),_()(n,"handleTmplVisibleChange",(function(e){n.setState({tmplVisible:e})})),_()(n,"handleScreenshotVisible",(function(e){n.setState({screenshotVisible:e})})),_()(n,"closeSaveTpl",(function(){n.setState({saveTplVisible:!1,tmplVisible:!1})})),_()(n,"handleEmotionVisibleChange",(function(e){n.setState({emotionVisible:e})})),_()(n,"screenShot",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setState({screenshotVisible:!1},(function(){setTimeout(h()(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wn.getMessageService().startScreenShot({hideChatWindow:e});case 2:return r=t.sent,a=r.Base64ImageData,o=Object(_t.d)(a),t.next=7,n.props.doubleConfirmSendPic(o);case 7:case"end":return t.stop()}}),t)}))),300)}))})),_()(n,"quickTemplate",(function(){Object(O.default)("activeQuickPhase"),Wn.getMessageService().openQuickPhase()})),_()(n,"selectVideo",(function(){Object(O.default)("selectVideo"),n.setState({showVideo:!0,sendImageBallonVisible:!1})})),_()(n,"onPhotoBankSelected",(function(e){Object(O.default)("onPhotoBankSelected"),n.sendPhotos(e),n.setState({showPhotoBank:!1})})),_()(n,"sendPhotos",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(O.default)({ext:"fileSelected",bizData:{type:"photobank"}}),r=n.props.contact,t.forEach(function(){var e=h()(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ge.a.buildImageInfo(t),Object.assign(a,{accountIdEncrypt:(null===r||void 0===r?void 0:r.accountIdEncrypt)||"",accountId:(null===r||void 0===r?void 0:r.accountId)||""}),n.props.buildRelationAndSend(a,r,"photoBank",a.mediaInfo.materialType);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.setState({sendImageBallonVisible:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"handleSendFileBallonVisibleChange",(function(e){n.setState({sendFileBallonVisible:e})})),_()(n,"handleSendImageBallonVisibleChange",(function(e){n.setState({sendImageBallonVisible:e})})),_()(n,"selectFromPhotoBank",(function(){Object(O.default)("selectFromPhotoBank"),n.setState({showPhotoBank:!0,sendImageBallonVisible:!1})})),_()(n,"selectProduct",(function(){n.props.toolIconLog("SelectProduct"),n.setState({showProduct:!0})})),_()(n,"selectCatalog",(function(){n.props.toolIconLog("SelectCatalog"),n.setState({showCatalogVisible:!0})})),_()(n,"showLiveDialog",(function(){var e=n.props.contact,t="weblite"===window.host,r=Jn.replace("{0}",e.aliId).replace("{1}",window.aliId);I.Dialog.show({width:594,height:t?400:600,overflowScroll:!0,title:"",footer:!1,content:o.a.createElement("iframe",{src:r,width:t?400:550,height:t?350:550})})})),_()(n,"showCloudDrive",(function(e){switch(n.setState({cloudDriveVisible:!0,cloudDriveFileType:e,sendImageBallonVisible:!1,sendFileBallonVisible:!1}),"weblite"===window.host&&n.props.EventBus.publish("weblite:windowResize",{type:"show"}),e){case"document":Object(O.default)("2020MC_SendFile_CloudDriveFiles_Click");break;case"media":Object(O.default)("2020MC_SendPhotos_CloudDrivePhotos_Click")}})),_()(n,"contactNotify",(function(e){var t=e.videoSettingImInfo;!t.black&&t.open&&t.existTimeInner?n.setState({disableMeeting:!1}):n.setState({disableMeeting:!0})})),_()(n,"editPersonCard",(function(){return function(){Object(O.default)("2020MC_BusinessCard_Edit"),window.open("https://".concat(D.PROFILE_DOMAIN,"/profile/my_profile.htm?tracelog=catalog"))}})),_()(n,"addressClick",(function(){n.props.showAddress(!0)})),_()(n,"setVisibleOf",(function(e,t){n.setState(_()({},e,t))})),_()(n,"toggleTranslateSettingVisible",(function(e){n.setState({translateSettingVisible:e})})),_()(n,"setTranslateSettingSource",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n.setState({transSettingSource:e,sellerLang:t})})),_()(n,"onProductSelected",(function(e){var t,r;if((null===(t=Zn)||void 0===t?void 0:t.callback)&&"function"===typeof(null===(r=Zn)||void 0===r?void 0:r.callback))return Zn.callback(e),void(Zn=null);n.props.sendProduct(e)})),_()(n,"onProductSelectClose",(function(){n.setState({showProduct:!1,sendImageBallonVisible:!1}),Zn=null})),_()(n,"onPhotoBankClose",(function(){n.setState({showPhotoBank:!1,sendImageBallonVisible:!1})})),_()(n,"onClickTransSetting",(function(){n.setTranslateSettingSource("toolbar",""),Object(O.default)("2020MC_Translate_Toolbar_Click&source=toolbar&bucket=".concat(rr)),n.props.showTranslateSetting()})),_()(n,"onClickAskForAddress",(function(){Object(O.default)({ext:"clickAskForAddress"}),n.props.askAddress()})),_()(n,"closeAskAddressGuide",(function(){n.setState({showAskAddressGuide:!1}),localStorage.setItem(Yn,!0)})),_()(n,"onClickDraftOrder",(function(){var e,t,r,a;Object(O.default)({ext:"clickDraftOrder",bizData:{sellerId:null===(e=window)||void 0===e?void 0:e.aliId,buyerId:null===(t=n.props.contact)||void 0===t||null===(r=t.contact)||void 0===r?void 0:r.aliId}});var o=(null===(a=n.props.contact)||void 0===a?void 0:a.contact)||{},i=o.loginId,s=o.accountIdEncrypt;window.open("https://biz.alibaba.com/contract/aliClientTaSell.htm?targetLoginId=".concat(i,"&accountIdEncrypt=").concat(s,"&tracelog=onepage"),"_blank")})),_()(n,"closeDraftOrderGuide",(function(){Object(O.default)({ext:"closeDraftOrderGuide"}),n.setState({showDraftOrderGuide:!1}),localStorage.setItem("".concat(Qn,"_").concat(window.aliId),1)})),n.state={emotionVisible:!1,tplList:[],saveTplVisible:!1,sendImageBallonVisible:!1,showPhotoBank:!1,showVideo:!1,showProduct:!1,tmplVisible:!1,mediaCallVisible:!1,sendFileBallonVisible:!1,cloudDriveVisible:!1,cloudDriveFileType:"media",disableMeeting:!1,translateSettingVisible:!1,screenshotVisible:!1,showCatalogVisible:!1,showLive:!1,polishTipText:"",polishTipTextShow:!1,assistantTipTextShow:!1,transSettingSource:"toolbar",sellerLang:"",showAskAddressGuide:!localStorage.getItem(Yn),showDraftOrderGuide:!1,isDraftOrderExp:!1},n.askAddressTimer=null,n.assistantShowTimer=null,n.draftOrderGuideTimer=null,n}return k()(t,e),b()(t,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props.contact.conversationType;this.props.onRef(this),Object(A.isSellerLiver)().then((function(e){t.setState({showLive:e})})),this.props.EventBus.on("im-weblite-chat:richTextFocus",(function(){Gn.forEach((function(e){t.setVisibleOf(e,!1)}))})),this.props.EventBus.on("commonSelectProduct",(function(e){var n=e.callback;n&&"function"===typeof n&&(Zn=e,t.setState({showProduct:!0}))})),this.props.EventBus.on("im-weblite-chat:transSysMsgClick",(function(e){t.setTranslateSettingSource("sysMessage",null===e||void 0===e?void 0:e.language),t.toggleTranslateSettingVisible(!0)})),2!==n&&Ke.isSellerPWA&&ar&&(this.state.showAskAddressGuide&&(this.askAddressTimer=setTimeout(this.closeAskAddressGuide,5e3)),Object(O.default)({ext:"expAskForAddress"})),this.assistantShowTimer=setTimeout((function(){t.handleAssistantTipShow()}),2e3),!me()&&this.handleExpDraftOrder();var r=localStorage.getItem("".concat(Qn,"_").concat(null===(e=window)||void 0===e?void 0:e.aliId));Number(r)||(this.setState({showDraftOrderGuide:!0}),this.draftOrderGuideTimer=setTimeout(this.closeDraftOrderGuide,5e3))}},{key:"componentWillUnmount",value:function(){this.dxSceneMountDOM=null,clearTimeout(this.askAddressTimer),clearTimeout(this.assistantShowTimer),clearTimeout(this.draftOrderGuideTimer)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.canReply,r=t.commandEnable;Ke.isSellerPWA&&r&&!n&&e.canReply&&!$n&&(er=!0,$n=!0,localStorage.setItem(Xn,!0))}},{key:"handleGetInputContent",value:function(e){return e&&e.replace(/<[^>]*>/g,"")||""}},{key:"hidePolishTipLater",value:function(){var e=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!nr){nr=setTimeout((function(){t&&(tr=!0),e.setState({polishTipTextShow:!1}),setTimeout((function(){e.setState({polishTipText:""})}),200),nr=null,null}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3)}}},{key:"hideAssistantTipLater",value:function(e){this.setState({assistantTipTextShow:e})}},{key:"setTplList",value:function(e){this.setState({tplList:e})}},{key:"deleteTpl",value:function(e,t){var n=this;t.stopPropagation(),this.props.operateTpls({data:{params:{ids:[e.id.toString()]},cmd:"delete"},callback:function(){n.getTplList()}})}},{key:"render",value:function(){var e,t,n=this,r=window.IcbuIM.classnames,a=null===(e=this.props.contact)||void 0===e?void 0:e.complianceCountryCode,i=Ke.isSellerPWA?"seller":"buyer",s=r({"media-call-list":!0,messenger:Ke.isMessenger,weblite:Ke.isWeblite}),c=this.props,l=c.contact,u=c.toolbarConfig,d=c.languageInfo,p=c.hideCloudDrive,f=c.onCloudDriveConfirm,m=c.disabledInput,h=c.canReply,g=c.focusTranslate,v=c.sendTranslateOpen,y=this.state,b=y.tplList,w=y.cloudDriveFileType,x=y.cloudDriveVisible,C=y.transSettingSource,E=y.showAskAddressGuide,S=y.showDraftOrderGuide,k=y.isDraftOrderExp,T=2===l.conversationType,_=r({"scene-layer":!0,messenger:Ke.isMessenger,groupChat:T}),O=Ke.isSellerPWA&&this.props.commandEnable,A=this.state.polishTipText;er&&!tr&&(A=Ot.default.polishFirstTip,this.hidePolishTipLater(5e3,!0));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"send-toolbar",style:{pointerEvents:m?"none":"auto",borderBottom:g&&v?"1px solid #e7e7e7":""}},-1!==u.indexOf("quickTemplate")&&o.a.createElement("div",{className:"send-tool-icon",onClick:this.quickTemplate},o.a.createElement("span",{className:"tool-icon-tip icon-tip-first"},Un.get("sendBox.quickPhase")||"快捷短语"),o.a.createElement("div",{className:"icon-wrapper"},He.default.quickTemplate)),-1!==u.indexOf("emotion")&&o.a.createElement(I.Balloon,{triggerType:"hover",align:"t",closable:!1,popupClassName:"tool-icon-tip",offset:[0,8],style:{zIndex:9},trigger:o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement(I.Dropdown,{autoClose:!0,shouldUpdatePosition:!0,afterOpen:this.getTplList,triggerType:"click",visible:this.state.emotionVisible,onVisibleChange:this.handleEmotionVisibleChange,trigger:o.a.createElement("div",{className:"icon-wrapper ".concat(this.state.emotionVisible?"active":""),onClick:this.props.toolIconLog.bind(this,"emotion")},He.default.emoticon),offset:[-3,-3]},o.a.createElement("div",{className:"send-tool-emotion-box"},o.a.createElement(Pe,{onSelected:this.props.onEmotionSelected}))))},o.a.createElement("span",{style:{color:"#fff",backgroundColor:"#333"}},Un.get("sendBox.emotionTip"))),-1!==u.indexOf("screenshot")&&o.a.createElement(I.Balloon,{trigger:o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.screenShot")||"截屏"),o.a.createElement("div",{className:"icon-wrapper"},He.default.screenShot)),shouldUpdatePosition:!0,visible:this.state.screenshotVisible,onVisibleChange:this.handleScreenshotVisible,triggerType:"click",closable:!1,offset:[0,10],style:{padding:0}},o.a.createElement(I.Menu,null,o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.screenShot.bind(this,!1)},Un.get("sendBox.screenshot.show")||"开始屏幕截图"),o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.screenShot.bind(this,!0)},Un.get("sendBox.screenshot.hide")||"截图时隐藏聊天窗口"))),-1!==u.indexOf("media")&&o.a.createElement(I.Balloon,{trigger:o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.mediaTip")),o.a.createElement("div",{className:"icon-wrapper ".concat(this.state.sendImageBallonVisible?"active":""),onClick:this.props.toolIconLog.bind(this,"Picture")},He.default.picture)),shouldUpdatePosition:!0,visible:this.state.sendImageBallonVisible,onVisibleChange:this.handleSendImageBallonVisibleChange,align:"t",alignEdge:!0,triggerType:"click",closable:!1,offset:[0,10],style:{padding:0}},o.a.createElement(I.Menu,null,Ke.isSellerPWA&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.selectVideo},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.videoBank),Un.get("sendBox.selectFromVideo")||"select from videobank"),Ke.isSellerPWA&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.selectFromPhotoBank},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.photoBank),Un.get("sendBox.selectFromPhotoBank")||"Choose a photo from the photo bank."),o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.props.attachmentClick},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.fromComputer),Un.get("sendBox.selectFromLocalFolder")||"Upload a photo from the computer."),o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.showCloudDrive.bind(this,"media")},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.cloudDrive),Un.get("sendBox.sendCloudDrivePhotos")||"Send AliCloud Drive photos"))),-1!==u.indexOf("image")&&o.a.createElement(I.Balloon,{trigger:o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.imageTip")),o.a.createElement("div",{className:"icon-wrapper icon-picture ".concat(this.state.sendImageBallonVisible?"active":"")},He.default.picture)),shouldUpdatePosition:!0,visible:this.state.sendImageBallonVisible,onVisibleChange:this.handleSendImageBallonVisibleChange,align:"weblite"===window.host?"tr":"t",triggerType:"click",closable:!1,offset:[0,10],style:{padding:0}},o.a.createElement(I.Menu,null,o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.props.attachmentClick.bind(this,"Picture")},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.picture),Un.get("sendBox.sendLocalPhotos")||"Send local photos"),o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.showCloudDrive.bind(this,"media")},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.cloudDrive),Un.get("sendBox.sendCloudDrivePhotos")||"Send AliCloud Drive photos"))),-1!==u.indexOf("attachment")&&o.a.createElement(I.Balloon,{trigger:o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.fileTip")),o.a.createElement("div",{className:"icon-wrapper icon-picture ".concat(this.state.sendFileBallonVisible?"active":"")},He.default.folder)),visible:this.state.sendFileBallonVisible,onVisibleChange:this.handleSendFileBallonVisibleChange,align:"weblite"===window.host?"tr":"t",triggerType:"click",closable:!1,offset:[0,10],style:{padding:0}},o.a.createElement(I.Menu,null,o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.props.attachmentClick.bind(this,"File")},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.localFile),Un.get("sendBox.sendLocalFiles")||"Send local files"),o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.showCloudDrive.bind(this,"document")},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.cloudDrive),Un.get("sendBox.sendCloudDriveFiles")||"Send AliCloud Drive files"))),!T&&-1!==u.indexOf("template")&&o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.templateTip")),o.a.createElement(I.Dialog,{visible:this.state.saveTplVisible,locale:{ok:Hn.get("common.ok"),cancel:Hn.get("common.cancel")},onOk:this.saveTpl,title:Hn.get("chat.saveTpl.title"),onCancel:this.closeSaveTpl,onClose:this.closeSaveTpl,centered:!0},o.a.createElement(I.Input,{size:"large",onChange:this.tplNameChange,placeholder:Hn.get("chat.saveTpl.tip")})),o.a.createElement(I.Dropdown,{shouldUpdatePosition:!0,afterOpen:this.getTplList,triggerType:"click",visible:this.state.tmplVisible,onVisibleChange:this.handleTmplVisibleChange,trigger:o.a.createElement("div",{className:"icon-wrapper icon-tmpl ".concat(this.state.tmplVisible?"active":""),onClick:this.props.toolIconLog.bind(this,"Template")},He.default.template),offset:[-3,-3]},o.a.createElement("div",{className:"send-tool-tpl-box"},o.a.createElement(I.Menu,{className:"tpl-list",selectMode:"single",onSelect:this.selectTpl,hasSelectedIcon:!1},b.length?b.map((function(e){return o.a.createElement(I.Menu.Item,{className:"tpl-item",key:e.id},o.a.createElement("span",{className:"tpl-name",dangerouslySetInnerHTML:{__html:e.templateName}}),o.a.createElement(I.Icon,{className:"close-tpl",type:"close",size:"xxs",onClick:n.deleteTpl.bind(n,e)}))})):o.a.createElement("p",{className:"tpl-no-data"},Un.get("sendBox.noTpl"))),o.a.createElement("div",{className:"tpl-save ".concat(this.props.hasContent()?"":"gray"),onClick:this.openSaveTpl},Un.get("sendBox.saveTpl"))))),!T&&this.props.ifShowCallingInlet()&&!Ke.isSellerPWA&&o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.mediaCallTip")||"Voice/Video meeting"),o.a.createElement(I.Dropdown,{className:s,shouldUpdatePosition:!0,align:"bc tc",triggerType:"click",visible:this.state.mediaCallVisible,offset:[Ke.isMessenger?100:Ke.isWeblite?-93:-120,-10],onVisibleChange:this.props.handleMediaCallVisibleChange,trigger:o.a.createElement("div",{className:"icon-wrapper icon-media-call ".concat(this.state.mediaCallVisible?"active":""),onClick:this.props.toolIconLog.bind(this,"MediaCall")},He.default.call)},o.a.createElement("div",{className:"content"},o.a.createElement(I.Icon,{className:"close",type:"close",size:"xs",onClick:this.props.handleMediaCallVisibleChange.bind(this,!1)}),o.a.createElement(Re.a,{contact:l,complexMode:!0,role:i,notify:this.contactNotify.bind(this)}),o.a.createElement(I.Menu,{className:"media-call-menu",selectMode:"single",hasSelectedIcon:!1},o.a.createElement(I.Menu.Item,{disabled:this.state.disableMeeting,onClick:this.props.createOnlineMeeting.bind(this,"video")},o.a.createElement("img",{src:"https://img.alicdn.com/tfs/TB1XySAIFP7gK0jSZFjXXc5aXXa-56-56.png"}),o.a.createElement("span",null,Un.get("meeting_video_call")||"Video call")),o.a.createElement(I.Menu.Item,{disabled:this.state.disableMeeting,onClick:this.props.createOnlineMeeting.bind(this,"audio")},o.a.createElement("img",{src:"https://img.alicdn.com/tfs/TB1bFOzIUz1gK0jSZLeXXb9kVXa-56-56.png"}),o.a.createElement("span",null,Un.get("meeting_voice_call")||"Voice call")),o.a.createElement(I.Menu.Item,{onClick:this.props.createOnlineMeeting.bind(this,"schedule")},o.a.createElement("img",{src:"https://img.alicdn.com/tfs/TB1dj5AIQP2gK0jSZPxXXacQpXa-56-56.png"}),o.a.createElement("span",null,Un.get("meeting_schedule_call")||"Schedule")))))),!T&&-1!==u.indexOf("sendproduct")&&o.a.createElement("div",{className:"send-tool-icon",onClick:this.selectProduct},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.selectFromProduct")),o.a.createElement("div",{className:"icon-wrapper"},He.default.productCard)),!T&&-1!==u.indexOf("catelog")&&o.a.createElement("div",{className:"send-tool-icon",onClick:this.selectCatalog},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.selectCatalog")||"发送产品目录"),o.a.createElement("div",{className:"icon-wrapper"},He.default.catalog)),!T&&this.state.showLive&&Ke.isSellerPWA&&o.a.createElement("div",{className:"send-tool-icon",onClick:this.showLiveDialog},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.showlive")||"直播分享"),o.a.createElement("div",{className:"icon-wrapper"},He.default.liveShare)),-1===location.href.indexOf("weblitePWA")&&o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.personCard")),o.a.createElement(I.Dropdown,{autoClose:!0,className:_,shouldUpdatePosition:!0,align:"bl tc",triggerType:"click",visible:this.props.sceneLayerVisible,offset:[-10,-10],onVisibleChange:this.props.handleSceneVisibleChange,trigger:o.a.createElement("div",{className:"icon-wrapper ".concat(this.props.sceneLayerVisible?"active":""),onClick:this.props.toolIconLog.bind(this,"BusinessCard")},He.default.businessCard)},o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"dx-dom",ref:function(e){return n.dxSceneMountDOM=e}}),o.a.createElement(I.Icon,{type:"close",className:"close",size:"xs",onClick:this.props.handleSceneVisibleChange.bind(this,!1)}),o.a.createElement("div",{className:"actions"},Ve(qe,{actions:[{params:{},actionName:"Edit",handler:this.editPersonCard},{params:{contactLoginId:this.props.contact.memberId,contactAccountIdEncrypt:this.props.contact.loginIdEncrypt,chatScene:"exhibition"===Fe(location.href,"bizType")?"EXHIBITION":""},actionName:"Send",handler:this.props.sendPersonCard}]}))))),!T&&-1===location.href.indexOf("weblitePWA")&&o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.address")),o.a.createElement("div",{className:"icon-wrapper",onClick:this.addressClick},He.default.address)),o.a.createElement("div",{className:"send-tool-icon",onClick:this.onClickTransSetting},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.translateTip")),o.a.createElement("div",{id:"tool-icon-translate",className:"icon-wrapper"},He.default.translate)),!T&&Ke.isSellerPWA&&ar&&o.a.createElement("div",{className:"send-tool-icon",onClick:this.onClickAskForAddress},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.askForAddress")||"获取买家地址"),E&&!this.props.isAssistantAccount&&o.a.createElement("div",{className:"tool-icon-guide",onClick:function(e){return e.stopPropagation()}},o.a.createElement("p",null,Un.get("askForAddress.guide")||"点击可向买家获取物流地址"),o.a.createElement(I.Icon,{type:"close",size:"xs",className:"close",onClick:this.closeAskAddressGuide})),o.a.createElement("div",{className:"icon-wrapper"},He.default.askForAddress)),!T&&Ke.isSellerPWA&&!me()&&k&&o.a.createElement("div",{className:"send-tool-icon",onClick:this.onClickDraftOrder},o.a.createElement("span",{className:"tool-icon-tip"},Un.get("sendBox.draftOrder")||"起草订单"),S&&!this.props.isAssistantAccount&&o.a.createElement("div",{className:"tool-icon-guide",onClick:function(e){return e.stopPropagation()}},o.a.createElement("p",null,Un.get("draftOrder.guide")||"点击可向买家起草订单"),o.a.createElement(I.Icon,{type:"close",size:"xs",className:"close",onClick:this.closeDraftOrderGuide})),o.a.createElement("div",{className:"icon-wrapper",style:{height:"20px",width:"20px"}},He.default.draftOrder)),O&&o.a.createElement(o.a.Fragment,null,o.a.createElement(or,{trigger:o.a.createElement("div",{className:"send-tool-icon",onClick:this.onToolbarItemClick.bind(this,"merchant_assistant")},o.a.createElement("span",{className:"tool-icon-tip"},Ot.default.polishEntryTip),o.a.createElement("div",{className:"icon-wrapper"},h?He.default.polishLight:He.default.polish)),triggerType:"click",popupProps:{visible:this.state.polishTipTextShow}},A),o.a.createElement(or,{trigger:o.a.createElement("div",{id:"assistant-entry-icon",className:"send-tool-icon",onClick:this.onToolbarItemClick.bind(this,"merchant_assistant_reception")},o.a.createElement("span",{className:"tool-icon-tip"},Ot.default.replyEntryTip),o.a.createElement("div",{className:"icon-wrapper"},He.default.reply)),popupProps:{visible:!this.props.isAssistantAccount&&this.state.assistantTipTextShow}},Ot.default.replyFirstTip))),window.cgsTranslateTest?o.a.createElement(ut,{visible:this.state.translateSettingVisible,onClose:this.toggleTranslateSettingVisible.bind(this,!1),onConfirm:this.props.translateSettingConfirm,languageInfo:d,source:C,sellerLang:this.state.sellerLang,reportFatigue:this.props.reportFatigue}):o.a.createElement(Tt,{visible:this.state.translateSettingVisible,onClose:this.toggleTranslateSettingVisible.bind(this,!1),onConfirm:this.props.translateSettingConfirm,languageInfo:d,source:C,sellerLang:this.state.sellerLang,reportFatigue:this.props.reportFatigue}),x&&o.a.createElement("div",{className:"im-cloud-drive"},o.a.createElement(Dt,{channel:"messenger",isGroupChat:T,fileType:w,onOk:f,onClose:p,visible:x,showOptions:!1,showSelection:!0,maxSelectCount:9})),o.a.createElement(Oe,{isPopup:!0,visible:this.state.showCatalogVisible,onClose:function(){return n.setState({showCatalogVisible:!1})},callback:this.props.sendCatalog}),o.a.createElement(Ae,{visible:this.state.showVideo,isWidescreen:!0,config:{availableStatus:"approved",videoMappingLimit:!1},title:"只有审核通过可选",callback:this.props.sendVideo,onClose:function(){n.setState({showVideo:!1})}},o.a.createElement("span",null)),o.a.createElement(_e,{visible:this.state.showPhotoBank,callback:this.onPhotoBankSelected,onClose:this.onPhotoBankClose,config:{limit:6}},o.a.createElement("span",null)),o.a.createElement(Ie,{visible:this.state.showProduct,config:{mostSelectNum:(null===(t=Zn)||void 0===t?void 0:t.maxSelectCount)||9,asyncQueryUrl:"/product/managementproducts/asyQueryProductsList.do",params:{ignoreMember:"yes",displayStatus:"on"}},filters:{status:{value:"approved"},boutiqueTag:{visible:!0},isPrivate:{value:"false"},isPublic:{value:"false"},repositoryType:{value:"public"},displayStatus:{value:"on"},trafficId:{value:a||""},showRiskProduct:{value:"true"}},title:Hn.get("chat.sendProduct"),callback:this.onProductSelected,onClose:this.onProductSelectClose},o.a.createElement("span",null)))}}])}(o.a.Component),sr=ir,cr=n(72);function lr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lr=function(){return!!e})()}var ur=window.IcbuIM.lib.Utils,dr=window.IcbuIM.lib.I18N.createI18N,pr=window.IcbuIM.IMSDKHelper.isAlisupplier,fr=dr({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),mr=function(e){function t(e){var n,r,a,i;return v()(this,t),r=this,a=t,i=[e],a=E()(a),n=x()(r,lr()?Reflect.construct(a,i||[],E()(r).constructor):a.apply(r,i)),_()(n,"listenHotKey",(function(e){var t=n.props,r=(t.send,t.keyDownSubscriber);t.hotKeyEnter;r(e)})),_()(n,"insertContent",(function(e){var t=n.getContent(),r=n.textarea.selectionStart;n.setContent("".concat(t.slice(0,r),"[").concat(e.code,"]").concat(t.slice(r))),n.textarea.focus(),n.props.onInput()})),_()(n,"onTextChange",(function(e){n.textareaPre.innerText=e.target.value,n.props.onInput()})),_()(n,"setContent",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.textarea.value=t?n.textarea.value+ur.decodeHTML(e):ur.decodeHTML(e),n.textareaPre.innerText=e})),_()(n,"focus",(function(){n.textarea.focus()})),_()(n,"focusEnd",(function(){n.textarea.value&&(n.textarea.selectionStart=n.textarea.value.length,n.textarea.selectionEnd=n.textarea.value.length)})),_()(n,"hasContent",(function(){return n.textarea&&!!n.textarea.value})),_()(n,"getSelection",(function(){})),_()(n,"getContent",(function(){return n.textarea.value})),n.textarea=o.a.createRef(),n.textareaPre=o.a.createRef(),n}return k()(t,e),b()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onRef(this),this.textarea.onfocus=function(){window.addEventListener("keydown",e.listenHotKey,!1)},this.textarea.onblur=function(){window.removeEventListener("keydown",e.listenHotKey,!1)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.contact,n=e.contact;t.accountId!==n.accountId&&n.accountId&&this.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.handlePaste,r=t.host,a=t.onMaximize,i=t.hasRichTextDraft,s=t.contact,c=t.placeholder,l=t.disabledInput,u=t.isOldStyle,d=t.readOnly,p=t.isAssistantAccount,f=t.isGGS,m=p?fr.get("assistant.sendBox.placeHolder")||"接待助理Eva暂不支持输入":u?c||fr.get("sendBox.placeHolder"):fr.get("new.translationPlaceholder")||c,h=!pr&&2!==s.conversationType&&u&&!f;return o.a.createElement("div",{className:"".concat(u?"send-textarea-box":"new-send-textarea-box"," ").concat(r," ").concat(f?"ggs-send-textarea-box":"")},o.a.createElement("pre",{ref:function(t){return t&&(e.textareaPre=t)},className:"".concat(u?"send-textarea-pre":"new-send-textarea-pre")}),o.a.createElement("textarea",{className:"".concat(u?"send-textarea":"new-send-textarea"),ref:function(t){return t&&(e.textarea=t)},placeholder:m,onPaste:n,onKeyUp:this.onTextChange,disabled:l,readOnly:d}),h?o.a.createElement(cr.default,{onMaximize:a,hasRichTextDraft:i}):null)}}])}(o.a.Component),hr=mr,gr=(n(442),(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","chat")}));var vr=Object(c.connect)((function(e){}),(function(e){return{changeGenerateProduct:function(t){e({type:"messageBox/changeGenerateProduct",payload:t})}}}))((function(e){var t=e.generateExt,n=void 0===t?{}:t,r=n.productPic;if(!r)return null;var a=gr.get("generate.product.tip")||"基于当前商品回复";return o.a.createElement("div",{className:"product-info","data-exp":"generateProductInfo"},o.a.createElement("span",{className:"tip"},a),o.a.createElement("img",{className:"img",src:r}),o.a.createElement(I.Button,{text:!0,className:"action",onClick:function(){var e;Object(O.default)({ext:"changeGenerateProduct"});var t=n.productId;null===(e=window.EventBus)||void 0===e||e.publish("commonSelectProduct",{maxSelectCount:1,callback:function(e){var n,r=e&&e[0]&&+e[0],a=+r!==+t;a&&(null===(n=window.EventBus)||void 0===n||n.publish("ai-restartQuery",{scene:"changeGenerateProduct",params:{productId:r}}));Object(O.default)({ext:"changeGenerateProductConfirm",bizData:{isProductChanged:a}})}})}},gr.get("generate.product.change")||"更换商品"))})),yr=(n(443),n(97)),br=n(82),wr=n(34);function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Er=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.")}),Sr="use_generate",kr="use_generate_by_copy",Tr="adjust_btn_show",_r="adjust_btn_hover",Ir="adjust_btn_click",Or="generate_input_show",Ar="generate_content_show",Dr="generate_content_loading",Mr="ability_applyMaterial",Nr=_()(_()({},ie.ALL_COMMAND_KEY_MAP.polish,"/sc.ai-helper-center.chat-polish"),ie.ALL_COMMAND_KEY_MAP.reply,"/sc.ai-helper-center.chat-reception"),Pr="generating";var Lr=Object(c.connect)((function(e){return{generateSession:e.messageBox.generateSession,summaryData:e.messageBox.summaryData,triggerAutoReply:e.messageBox.triggerAutoReply}}),(function(e){return{cancelGenerate:function(t){e({type:"messageBox/cancelGenerate",payload:t})},useGenerate:function(t){e({type:"messageBox/useGenerate",payload:t})},leaveGenerate:function(t){e({type:"messageBox/leaveGenerate",payload:t})},selectOneStrategy:function(t){e({type:"messageBox/selectOneStrategy",payload:t})},setAiTriggerAutoReply:function(t){e({type:"messageBox/setAiTriggerAutoReply",payload:t})}}}))((function(e){var t,n,r,i,s,c=e.generateSession,l=e.summaryData,u=e.useGenerate,d=e.leaveGenerate,p=e.setContent,f=e.cancelGenerateContent,m=e.restartAIQuery,h=e.cancelGenerate,g=e.selectOneStrategy,v=l.contact,y=void 0===v?{}:v,b=l.owner,w=(void 0===b?{}:b).aliId,x=y.aliId,C=y.extraInfo,E=c[x],S=null!==C&&void 0!==C?C:{},k=S.actionName,T=S.content,_=Object(a.useState)(!0),A=P()(_,2),D=A[0],M=A[1],N=Object(a.useState)(ie.AdjustMenuType.initial),L=P()(N,2),R=L[0],F=L[1];if(E){var j=E.generateText,B=E.generateExt,z=void 0===B?{}:B,q=E.generateState,V=E.selectedIndex,U=void 0===V?0:V,H=E.errorMessage,W=E.requestId,G=E.executeCommand,K=E.fromScene,J=Object(a.useState)({top:"0px",left:"0px",visible:"none"}),Z=P()(J,2),X=Z[0],Y=Z[1],Q=Object(a.useState)(""),$=P()(Q,2),ee=$[0],te=$[1],ne=Object(a.useRef)(null),re=Object(a.useRef)(null),ae=Object(a.useRef)(null),oe=Object(a.useState)(!1),se=P()(oe,2),ce=se[0],le=se[1],ue=Object(a.useState)(0),de=P()(ue,2),pe=de[0],fe=de[1],me=Object(a.useState)(0),he=P()(me,2),ge=he[0],ve=he[1],ye=Object(a.useState)(""),be=P()(ye,2),we=be[0],xe=be[1],Ce=Object(a.useState)(!1),Ee=P()(Ce,2),Se=Ee[0],ke=Ee[1],Te={sellerId:(null===y||void 0===y||null===(t=y.owner)||void 0===t?void 0:t.aliId)||w,buyerId:x,scene:K,multiTurnReqId:null===(n=window)||void 0===n?void 0:n.__multiTurnReqId__};Object(a.useEffect)((function(){var e=function(){var e=window.getSelection(),t=e.toString(),n=ne.current,r=e&&"Range"===e.type&&""!==t,a=n.contains(e.anchorNode)||n.contains(e.focusNode),o=ae.current.contains(e.focusNode),i=wr.EVA_TRIGGER_SCENE.includes(K);if(r&&a){var s=n.getBoundingClientRect(),c=e.getRangeAt(0).getClientRects()[0],l="autoTrigger"===K?18:58,u="".concat(i?Math.floor(c.top-s.top+20):Math.floor(c.top-s.top-l),"px"),d="".concat(Math.floor(c.left-s.left-30),"px");Y({top:u,left:d,visible:"inline-flex"}),te(t)}else""===t&&(o||(Y(Cr(Cr({},X),{},{visible:"none"})),te("")))};return document.addEventListener("selectionchange",e),function(){document.removeEventListener("selectionchange",e)}}),[]),Object(a.useEffect)((function(){q!==Pr&&pe<1?(_e(Or,{generateState:q,multiTurnReqId:window.__multiTurnReqId__}),fe(1),ve(ge+1),xe(j)):q!==Pr&&pe>ge&&pe>1&&(j!==we||!j&&!we)&&(_e(Ar,{generateState:q,multiTurnReqId:window.__multiTurnReqId__}),ve(ge+1),xe(j))}),[q,pe,ge,j,we,window.__multiTurnReqId__]),Object(a.useEffect)((function(){q===Pr&&(_e(Dr,{generateState:q,multiTurnReqId:window.__multiTurnReqId__}),xe(j))}),[q,j,window.__multiTurnReqId__]),Object(a.useEffect)((function(){wr.EVA_TRIGGER_SCENE.includes(K)?(ke(!0),F(wr.EVA_REQUEST_TYPE)):ke(!1)}),[K,k]);var _e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(O.default)({ext:e,bizData:Cr(Cr({requestId:W,generateText:j},t),null!==Te&&void 0!==Te?Te:{})})};Object(a.useEffect)((function(){Bn({appName:"im-alitalk",testKey:"ai_reception_ui_optimize"}).then((function(e){(null!==e&&void 0!==e?e:{}).treatment===ie.DataphantGroupType.testGroup?(M(!0),_e(Tr)):M(!1)}))}),[]);var Ie,Oe,Ae=function(){var e,t;(null===z||void 0===z||null===(e=z.contentWithAnalyse)||void 0===e||null===(t=e.solutionAnswerList)||void 0===t?void 0:t.length)>0?(Object(O.default)({ext:Sr,bizData:Cr({requestId:W,content:z.contentWithAnalyse.solutionAnswerList[U].answer,current:U,count:z.contentWithAnalyse.solutionAnswerList.length},null!==Te&&void 0!==Te?Te:{})}),Object(O.default)({clickId:G?null===Nr||void 0===Nr?void 0:Nr[G]:"",actionType:Mr,resultKey:W,code:Sr,result:z.contentWithAnalyse.solutionAnswerList[U].answer})):(Object(O.default)({ext:Sr,bizData:Cr({requestId:W,generateText:j},null!==Te&&void 0!==Te?Te:{})}),Object(O.default)({clickId:G?null===Nr||void 0===Nr?void 0:Nr[G]:"",actionType:Mr,resultKey:W,code:Sr,result:j})),u({callback:p})},De=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O.default)({ext:"change_generate",bizData:Cr({requestId:W,generateText:j},null!==Te&&void 0!==Te?Te:{})}),m(e),fe(pe+1)}),[pe]),Me=function(){Object(O.default)({ext:"leave_generate",bizData:Cr({requestId:W,generateText:j},null!==Te&&void 0!==Te?Te:{})}),f(),d()},Ne=function(){Object(O.default)({ext:kr,bizData:Cr({requestId:W,selectedText:ee},null!==Te&&void 0!==Te?Te:{})}),Object(O.default)({clickId:G?null===Nr||void 0===Nr?void 0:Nr[G]:"",actionType:Mr,resultKey:W,code:kr,result:ee}),function(e){if(navigator.clipboard&&navigator.permissions)navigator.clipboard.writeText(e);else{var t=document.createElement("textArea");t.value=e,t.style.width=0,t.style.position="fixed",t.style.left="-999px",t.style.top="10px",t.setAttribute("readonly","readonly"),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}(ee),u({callback:p,selectedContent:ee})},Pe=null===z||void 0===z?void 0:z.contentForUser,Le=function(){le(!1),Me()},Re=Object(a.useMemo)((function(){return[{key:ie.AdjustMenuType.refresh,name:Er.get("chat.ai.change")||"换一换",visible:G===(null===ie.ALL_COMMAND_KEY_MAP||void 0===ie.ALL_COMMAND_KEY_MAP?void 0:ie.ALL_COMMAND_KEY_MAP.reply)},{key:ie.AdjustMenuType.colloquialize,name:Er.get("chat.ai.colloquialize")||"口语化",visible:!0},{key:ie.AdjustMenuType.simplify,name:Er.get("chat.ai.simplify")||"精简化",visible:!0}]}),[G]),Fe=function(){try{var t=window.tinyMCE.activeEditor.selection.getContent();return t=t.replace(/<[^>]*>/g,"")}catch(t){var n,r;return null===(n=e.getContent)||void 0===n||null===(r=n.call(e))||void 0===r?void 0:r.replace(/<[^>]*>/g,"")}},je=o.a.createElement(I.Menu,{onItemClick:function(t){var n,r,a,o,i,s,c,l,u,d=((null===e||void 0===e||null===(n=e.divideContentUsingCommandPrefix)||void 0===n?void 0:n.call(e))||{}).contentParts;d&&(d.contentBefore=null===(l=d.contentBefore)||void 0===l||null===(u=l.replace)||void 0===u?void 0:u.call(l,"/",""));F(t),De({questionDesc:Cr({lastSummary:null!==(r=null===z||void 0===z||null===(a=z.contentWithAnalyse)||void 0===a?void 0:a.summary)&&void 0!==r?r:"",lastSolution:null!==(o=null===z||void 0===z||null===(i=z.contentWithAnalyse)||void 0===i||null===(s=i.solutionAnswerList)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.solution)&&void 0!==o?o:"",lastContent:null!==j&&void 0!==j?j:"",requestType:t},Se?{evaContext:{hintContent:T}}:{}),polishText:(null===d||void 0===d?void 0:d.contentBefore)||Fe()||""}),_e(Ir,{changeType:t})}},null===Re||void 0===Re?void 0:Re.map((function(e){return e.visible?o.a.createElement(I.Menu.Item,{key:e.key},e.name):null}))),Be={padding:"2px 17.5px",height:"32px",backgroundColor:"#f0f3ff",borderColor:"#f0f3ff",color:"#5341E3"};return o.a.createElement("div",{className:"generate-input".concat("generating"===q?" ai-border-animation":"").concat(null!==(r=ie.ALL_COMMANDS[G])&&void 0!==r&&r.panelPosition?" "+ie.ALL_COMMANDS[G].panelPosition:"")},"error"===q&&o.a.createElement("div",{className:"generate-input-error"},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN01S7bu8n1bsfQcIb3Ml_!!6000000003521-55-tps-18-18.svg"}),o.a.createElement("p",{className:"generate-input-errortext"},(Ie=H.code,Oe=H.errorMessage,1*Ie===207&&(Oe=Er.get("chat.ai.message.lastest.30day.null")),Oe))),"finish"===q&&Se&&o.a.createElement("div",{className:"generate-header-info-wrapper"},o.a.createElement("div",{className:"identity-info-wrapper"},o.a.createElement("div",{className:"identity-info-left"},o.a.createElement("img",{className:"identity-info-avatar",src:wr.EVA_ASSISTANT_AVATAR}),o.a.createElement("span",{className:"identity-name"},Er.get("chat.ai.identity.text")||"智能接待助理Eva"),o.a.createElement(I.Tag,{color:"#FFF5ED",size:"small",style:{marginLeft:"8px",color:"#E56000"}},Er.get("messenger.official.tag")||"Official")),o.a.createElement("div",{className:"identity-info-right"},o.a.createElement(I.Icon,{type:"close",size:"small",onClick:Me}))),o.a.createElement("div",{className:"generateText-desc-wrapper"},o.a.createElement("span",null,Er.get("chat.ai.generateText.desc.title.".concat(K))||""," "),o.a.createElement("span",null,Er.get("chat.ai.generateText.desc.text")||"Eva帮您快速生成回复内容。您可以试试这样回复："))),"finish"===q&&o.a.createElement(o.a.Fragment,null,e.triggerAutoReply&&"autoTrigger"===K&&o.a.createElement("div",{className:"auto-trigger-title"},o.a.createElement("span",{className:"icon"},He.default.autoTriggerTitleIcon),Er.get("chat.ai.trigger.title")||"Get smart response suggestions for buyer questions"),o.a.createElement("div",{className:"tooltip",style:{display:X.visible,top:X.top,left:X.left},ref:ae,onClick:Ne},o.a.createElement("div",{className:"text"},o.a.createElement(I.Icon,{type:"copy"}),o.a.createElement("span",null,Er.get("chat.ai.copyAndUse")||"复制并使用"))),Se&&o.a.createElement("div",{className:"divider-line"}),o.a.createElement("div",{className:"generate-input-text",onCopy:function(){Object(O.default)({ext:"copy_generate",bizData:{requestId:W}})},ref:ne},function(){if(null!==z&&void 0!==z&&z.contentWithAnalyse){var e=z.contentWithAnalyse.solutionAnswerList.length>1;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"strategy-list"},z.contentWithAnalyse.solutionAnswerList.map((function(t,n){return o.a.createElement("div",{key:n,className:"strategy-item"},e&&o.a.createElement("input",{type:"radio",name:"radioBtn",checked:U===n,onClick:function(){return function(e){g({selectedIndex:e})}(n)}}),o.a.createElement("div",{className:"content"},o.a.createElement("p",{className:"strategy-answer"},t.answer),t.answerForUser&&o.a.createElement("p",{className:"strategy-answer-translate"},t.answerForUser)))}))))}return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,j),Pe&&o.a.createElement("p",{className:"desc-text"},Pe))}(),o.a.createElement(vr,{generateExt:z}))),"generating"===q?o.a.createElement(o.a.Fragment,null,!Se&&o.a.createElement("p",{className:"generate-loading animateBg"}),o.a.createElement("div",{className:"generate-input-cancel ".concat(Se?"generate-input-cancel-margin":""),ref:re},Se&&o.a.createElement("div",{className:"identity-info"},o.a.createElement("img",{className:"avatar",src:wr.EVA_ASSISTANT_AVATAR}),o.a.createElement("span",{className:"generateing-text",style:{width:null!==re&&void 0!==re&&null!==(i=re.current)&&void 0!==i&&i.offsetWidth?"".concat((null===re||void 0===re||null===(s=re.current)||void 0===s?void 0:s.offsetWidth)-154,"px"):"auto"}},Er.get("chat.ai.generating.desc")||"接待助理Eva内容生成中...")),o.a.createElement("div",{className:"cancel-btn-wrapper",onClick:function(){var e;Object(O.default)({ext:"cancel_generate",bizData:Cr({requestId:W,generateText:j},null!==Te&&void 0!==Te?Te:{})}),h(),j?"on-send-box-inner"===(null===(e=ie.ALL_COMMANDS[G])||void 0===e?void 0:e.panelPosition)&&Ae():Me()}},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i1/O1CN012TuGgz1EpFIqLeucM_!!6000000000400-55-tps-14-14.svg"}),o.a.createElement("span",{style:{margin:"5.5px"}},Er.get("chat.ai.cancel")||"Cancel")))):o.a.createElement("div",{className:"generate-input-tool display-slow"},o.a.createElement("div",{className:"tips-info-wrap"},o.a.createElement("span",{className:"generate-input-hint"},e.triggerAutoReply&&"autoTrigger"===K?o.a.createElement("span",null,Er.get("chat.ai.point")||"使用点数"," ",o.a.createElement("span",{className:"button",onClick:function(){var e=localStorage.getItem("first_close_autoTrigger_".concat(w));e||(le(!0),localStorage.setItem("first_close_autoTrigger_".concat(w),!0)),Object(yr.AutoTriggerSetting)(!1),e&&Me()}},Er.get("chat.ai.trigger.off")||"关闭自动触发")):Er.get("chat.ai.generate")||"以上内容由AI生成")),o.a.createElement("div",{className:"generate-input-btn"},"error"===q?o.a.createElement(o.a.Fragment,null,H.canRetry?o.a.createElement(o.a.Fragment,null,o.a.createElement(I.Button,{className:"im-ai-button-primary",type:"primary",style:{marginRight:"29px",padding:"0 17.5px"},onClick:function(){var t,n,r,a,o,i,s,c,l,u=((null===e||void 0===e||null===(t=e.divideContentUsingCommandPrefix)||void 0===t?void 0:t.call(e))||{}).contentParts;u&&(u.contentBefore=null===(c=u.contentBefore)||void 0===c||null===(l=c.replace)||void 0===l?void 0:l.call(c,"/",""));De({questionDesc:Cr({lastSummary:null!==(n=null===z||void 0===z||null===(r=z.contentWithAnalyse)||void 0===r?void 0:r.summary)&&void 0!==n?n:"",lastSolution:null!==(a=null===z||void 0===z||null===(o=z.contentWithAnalyse)||void 0===o||null===(i=o.solutionAnswerList)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.solution)&&void 0!==a?a:"",lastContent:null!==j&&void 0!==j?j:"",requestType:R},Se?{evaContext:{hintContent:T},requestType:wr.EVA_REQUEST_TYPE}:{}),polishText:(null===u||void 0===u?void 0:u.contentBefore)||Fe()||""})}},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01GaI5wV1jWExcHB73y_!!6000000004555-55-tps-15-16.svg"}),o.a.createElement("span",{style:{marginLeft:"6.8px"}},Er.get("chat.ai.retry")||"重试")),o.a.createElement(I.Button,{text:!0,onClick:function(){Me()}},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01hijus31RF95eWBYVt_!!6000000002081-55-tps-16-16.svg"}),o.a.createElement("span",{style:{marginLeft:"6.8px"}},Er.get("chat.ai.quit")||"放弃"))):o.a.createElement(I.Button,{text:!0,onClick:function(){Me()},style:{marginLeft:"13px"}},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01hijus31RF95eWBYVt_!!6000000002081-55-tps-16-16.svg"}),o.a.createElement("span",{style:Cr({marginLeft:"6.8px",display:"inline-flex",alignItems:"center",justifyContent:"center"},D?Be:{})},Er.get("chat.ai.throw")||"放弃"))):o.a.createElement(o.a.Fragment,null,o.a.createElement(I.Button,{type:"primary",onClick:function(){Ae()},style:Cr({padding:"0 17.5px"},{padding:"2px 17.5px",height:"32px",backgroundColor:"#6e55d8",borderColor:"#6e55d8",color:"#fff"})},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01ICid3T1eIQwKqWOZm_!!6000000003848-55-tps-15-12.svg"}),o.a.createElement("span",{style:{marginLeft:"6.8px"}},Er.get(G===ie.ALL_COMMAND_KEY_MAP.reply?"chat.ai.apply":"chat.ai.use"))),D?o.a.createElement(I.Dropdown,{align:"bc tc",offset:[0,-6],shouldUpdatePosition:!0,onVisibleChange:function(e){e&&_e(_r)},triggerType:"hover",trigger:o.a.createElement(I.Button,{type:"primary",style:Cr({marginLeft:"16px"},Be)},o.a.createElement("img",{src:br.AI_INPUT_CHANGE}),o.a.createElement("span",{style:{marginLeft:"4px"}},Er.get("chat.ai.adjust")||"调整"))},je):null,Se?null:o.a.createElement(I.Button,{text:!D,style:Cr({marginLeft:"16px"},D?Be:{}),onClick:function(){Me()}},o.a.createElement("img",{src:D?br.AI_INPUT_DELETE_NEW:br.AI_INPUT_DELETE_OLD}),o.a.createElement("span",{style:{marginLeft:"6.8px"}},Er.get("chat.ai.leave")||"弃用"))))),o.a.createElement(I.Dialog,{width:"532",title:Er.get("chat.ai.off.title")||"Title",visible:ce,locale:{ok:Er.get("chat.ai.off.confirm")||"Got it"},onOk:Le,onClose:Le,onCancel:Le,footerActions:["ok"],centered:!0},o.a.createElement("p",null,Er.get("chat.ai.off.content")||"To re-enable, go to Settings -> Reply Card Setting."),o.a.createElement("div",{style:{borderRadius:"8px",width:"532px",backgroundColor:"#D9D9D9"}},o.a.createElement("img",{style:{borderRadius:"8px",width:"100%"},src:"https://img.alicdn.com/imgextra/i1/O1CN01HYvU2U1RlfHgf0v1R_!!6000000002152-2-tps-2559-1224.png"}))))}})),Rr=n(59),Fr=n.n(Rr),jr=n(75),Br=n(23);n(446);function zr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zr=function(){return!!e})()}var qr=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),Vr=function(e){function t(){return v()(this,t),e=this,n=t,r=arguments,n=E()(n),x()(e,zr()?Reflect.construct(n,r||[],E()(e).constructor):n.apply(e,r));var e,n,r}return k()(t,e),b()(t,[{key:"render",value:function(){var e=this.props.data||{},t=e.extraData||{},n=e.percent,r=Br.a.getFileIcon(t.fileType),a=t.fileType,i=Br.a.isVideo(a),s=Br.a.isImg(a),c=s?"img-card":i?"video-item":"";return o.a.createElement("div",{className:"file-fake-card"},o.a.createElement("div",{"data-exp":"card-file",className:"im-unify-service-card inquiry-file-item ".concat(c),"data-query":JSON.stringify(t)},s?o.a.createElement("div",{className:"file-img-wrapper"},e.fromMsite?o.a.createElement("img",{src:t.previewUrl}):o.a.createElement("a",{href:t.downloadUrl,target:"_blank"},o.a.createElement("img",{src:t.previewUrl,style:{maxWidth:"300px"}}))):null,i?o.a.createElement("div",{className:"file-video-wrapper"},o.a.createElement("video",{style:{backgroundColor:"#222",border:"solid 1px #ccc",maxWidth:"100%"},src:t.previewUrl,controls:"controls"})):null,s||i?null:o.a.createElement("span",{className:"link-wrapper","data-clk":"card-attachment","data-need-attachment-scan":t.downloadUrl},o.a.createElement("div",{className:"file-type",style:{backgroundImage:"url(".concat(r,")")}}),o.a.createElement("div",{className:"file-info"},o.a.createElement("p",{className:"file-name"},function(e){var t=e;try{t=decodeURIComponent(e)}catch(t){console.log("URI Component not decodable: "+e)}return t}(t.fileName)),o.a.createElement("p",{className:"file-size"},Br.a.formatFileSize(t.fileSize))))),n<1?o.a.createElement("div",null,o.a.createElement("div",{style:{width:"calc(100% - 23px)",height:"2px",background:"#eee",borderRadius:"5px",display:"inline-block",verticalAlign:"middle"}},o.a.createElement("div",{style:{width:"".concat(100*n,"%"),height:"2px",borderRadius:"5px",background:"#1890FF",transition:"width 0.2s"}})),o.a.createElement("div",{className:"opt-icon",style:{display:"inline-block"}},o.a.createElement("span",{className:"tool-icon-tip"},qr.get("uploadfile.cancel")),o.a.createElement(I.Icon,{onClick:this.props.cancelCb,type:"error",size:"xs",style:{cursor:"pointer",color:"#999",marginLeft:"10px"}}))):null,e.error?o.a.createElement("div",{className:"opt-icon",style:{position:"absolute",top:"calc(50% - 10px)",left:-20}},o.a.createElement("span",{className:"tool-icon-tip"},qr.get("uploadfile.retry")),o.a.createElement(I.Icon,{size:"xs",style:{color:"#F33200",cursor:"pointer",verticalAlign:"middle"},type:"prompt",onClick:this.props.resend})):null)}}])}(a.Component),Ur=Vr,Hr=window.IcbuIM.Constants.CONST.PAGESIZE,Wr={summary:5};function Gr(e){var t=e.aiSettings,n=void 0===t?{}:t,r=e.aiABTest,a=void 0===r?{}:r,o=e.items,i=void 0===o?[]:o,s=e.contact,c=void 0===s?{}:s,l={};return Object.values(ie.ALL_COMMANDS).forEach((function(e){var t=e.code;if(l[t]=n[t],l[t])if(null===e||void 0===e||!e.grayName||(l[t]=!!window[e.grayName],l[t]))if(2!==(null===c||void 0===c?void 0:c.conversationType)||(l[t]=e.enableInGroupChat,l[t])){var r;if(null!==e&&void 0!==e&&e.aiABTest)if(l[t]=null===e||void 0===e||null===(r=e.aiABTest)||void 0===r?void 0:r.includes(a[t]),!l[t])return void Object(O.consoleLog)("abtest skip:",t);l[t]=Kr.checkMessageMinCountLimit(i,t)}else Object(O.consoleLog)("groupchat skip:",t);else Object(O.consoleLog)("gray skip:",t);else Object(O.consoleLog)("settings skip:",t)})),l}var Kr={patchSummaryData:function(e){var t,n,r=e.cid||(null===e||void 0===e||null===(t=e.contact)||void 0===t?void 0:t.cid);if(r){var a=r.split("#")[0].split("-"),o=window.aliId===a[0]?a[1]:a[0];e.cid?e.aliId=o:null!==e&&void 0!==e&&null!==(n=e.contact)&&void 0!==n&&n.cid&&(e.contact.aliId=o)}},removeOutermostPTag:function(e){var t=e.match(/^<p>(.*)<\/p>$/);return t?t[1]:e},checkMessageMinCountLimit:function(e,t){if(location.href.indexOf("aiTest")>=0)return!0;var n=Wr[t];return void 0===n||!(!e||e.length<=n)},needInsertAISummary:function(e,t){if(location.href.indexOf("aiTest")>=0)return!0;if(Ke.isSellerPWA||Object(pe.i)())return!1;if(!e||e.length<20)return!1;if(Object(X.a)()&&"msgAdded"===t)return e.length>=40&&(e.length>=40+Hr?e.slice(0,40+Hr):e).findIndex((function(e,t){return 40<=t&&t<=40+Hr&&[9408,9409].includes(e.subType)}))>0;for(var n=e.length>=20?e.slice(0,20):e,r=0;r<n.length-1;r++){var a,o;if(9408===n[r].subType||9409===n[r].subType)return!1;if((null===(a=n[r+1])||void 0===a?void 0:a.sendTime)-(null===(o=n[r])||void 0===o?void 0:o.sendTime)>2592e6)return!1}return!0},extractAtsignMatches:function(e){var t=[],n=0;return e.replace(/([^`]*?)(@+)([^@`]*?)`/g,(function(e,r,a,o,i){r&&t.push(r);for(var s=0;s<a.length;s++)t.push("");t.push(o),n=i+e.length})),n<e.length?t.push(e.substring(n)):e.endsWith("`")&&t.push(""),t}},Jr=n(50),Zr=n.n(Jr);function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yr=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.database,a=t.version,o=t.table,i=t.keyPath,s=t.autoIncrement,c=t.mode,l=t.success,u=t.error,d=t.indexList,p=void 0===d?[]:d;if(this.table=o,this.mode=c,!window.indexedDB)return this.request={},void this.error({message:"indexedDB not supported!"});this.request=window.indexedDB.open(r,a),this.request.addEventListener("success",(function(e){n.db=e.target.result,"function"===typeof l&&l(e)})),this.request.addEventListener("error",(function(e){"function"===typeof u&&u(e)})),this.request.addEventListener("upgradeneeded",(function(e){var t=e.target.result;if(!t.objectStoreNames.contains(o)){var r={};i?(r.keyPath=i,r.autoIncrement=!!s):r.autoIncrement=!0,n.objectStore=t.createObjectStore(o,r),p.forEach((function(e){n.objectStore.createIndex(e.name,e.name,e.config||{unique:!1})}))}}))}var t,n,r;return t=e,(n=[{key:"error",value:function(e){console.error("==== indexedDB error ====: ",e.message)}},{key:"add",value:function(e){return this.promiseWrapper(e,(function(e,t){return e.add(t)}))}},{key:"put",value:function(e){return this.promiseWrapper(e,(function(e,t){return e.put(t)}))}},{key:"getByKey",value:function(e){return this.promiseWrapper(e,(function(e,t){return e.get(t)}))}},{key:"getByIndex",value:function(e,t){return this.promiseWrapper(e,(function(e,n){return e.index(t).get(n)}))}},{key:"iterate",value:function(e){var t=e.key,n=e.index,r=e.prefix,a=e.filter,o=void 0===a?function(){return!0}:a,i=e.callback,s=this.db.transaction(this.table,this.mode),c=s.objectStore(this.table),l=t?IDBKeyRange.only(t):null,u=r?IDBKeyRange.bound(r,r+"￿"):null,d=function(e){var t=e.target.result;t?(o(t.value)&&i(t.value),t.continue()):i(null)};return n?c.index(n).openCursor(l||u).addEventListener("success",d):c.openCursor(l||u).addEventListener("success",d),s}},{key:"delete",value:function(e){return this.promiseWrapper(e,(function(e,t){return e.delete(t)}))}},{key:"promiseWrapper",value:function(e,t){e=Array.isArray(e)?e:[e];var n=this.db.transaction(this.table,this.mode).objectStore(this.table);return Promise.all(e.map((function(e){return r=t(n,e),new Promise((function(e,t){r.addEventListener("success",(function(t){e(t.target.result)})),r.addEventListener("error",(function(e){t(e)}))}));var r}))).catch((function(e){return e}))}}])&&Xr(t.prototype,n),r&&Xr(t,r),e}(),Qr={db:new Yr({database:"translation-saas",version:1,table:"translation",keyPath:"messageId",mode:"readwrite",success:function(){console.log("==== indexedDB connect success! ====")},error:function(){return console.error("==== messenger indexedDB connect failed! ====")}})},$r=b()((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v()(this,e),_()(this,"setMediaMessageRenderer",(function(e,n){e&&n&&"string"===typeof e&&"function"===typeof n&&(t.mediaMessageRenderMap[e]||(t.mediaMessageRenderMap[e]=n))})),_()(this,"mediaMessageRenderer",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.mediaMessageRenderMap[e]&&t.mediaMessageRenderMap[e](n)})),this.mediaMessageRenderMap=n})),ea=new $r({});n(447);function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ra={surveyTitle:"To continue, please complete your business information so that the supplier can serve you better.",navTitle:"Complete business info",agreementRequire:"Please check the authorization agreement",optionsRequire:"Please answer all the questions before you submit",submitSucceed:"Successfully Submitted!",submit:"Submit",agreementTips:"I confirm that I have read, understood, and agreed to the Alibaba.com Buyers Club Terms & Conditions and Pro Buyer Terms","question.businessType.title":"Which of the following best describes your company?","question.businessType.option.2000":"Retailer: online store","question.businessType.option.2004":"Retailer: offline store","question.businessType.option.2003":"Wholesaler/distributor","question.businessType.option.2002":"Trading company","question.businessType.option.2001":"Manufacturer/factory","question.businessType.option.2007":"Individual","question.businessType.option.2009":"Buying for business use","question.businessType.option.2008":"Others","question.volume.title":"How much does your company spend on purchases each year?","question.volume.option.4001":"Less than US $10,000","question.volume.option.4002":"US $10,001-US $100,000","question.volume.option.4003":"US $100,001-US $500,000","question.volume.option.4004":"US $500,001-US $5,000,000","question.volume.option.4005":"More than US $5,000,000"};function aa(e){var t=Object(a.useState)({businessTypeId:null,volumeId:null}),n=P()(t,2),r=n[0],i=n[1],s=Object(a.useState)({}),c=P()(s,2),l=c[0],u=c[1],d=Object(a.useState)(!1),p=P()(d,2),f=p[0],m=p[1],h=function(e){return l["businessInfoSurvey.".concat(e)]||ra[e]},g=[{title:h("question.businessType.title"),field:"businessTypeId",options:[{title:h("question.businessType.option.2000"),value:2e3},{title:h("question.businessType.option.2004"),value:2004},{title:h("question.businessType.option.2003"),value:2003},{title:h("question.businessType.option.2002"),value:2002},{title:h("question.businessType.option.2001"),value:2001},{title:h("question.businessType.option.2007"),value:2007},{title:h("question.businessType.option.2009"),value:2009},{title:h("question.businessType.option.2008"),value:2008}]},{title:h("question.volume.title"),field:"volumeId",options:[{title:h("question.volume.option.4001"),value:4001},{title:h("question.volume.option.4002"),value:4002},{title:h("question.volume.option.4003"),value:4003},{title:h("question.volume.option.4004"),value:4004},{title:h("question.volume.option.4005"),value:4005}]}];Object(a.useEffect)((function(){Object(O.default)("2022MC_VisitBusinessInfoPage");var e="im-app-inquiry_survey",t=document.cookie.match(/sc_b_locale=(\w+)/),n=t&&t[1]?t[1]:"en_US";(function(e){var t=e.namespace,n=e.language,r="https://s.alicdn.com/@mcms/combine?name=".concat(t,"&language=").concat(n,"&type=json");return fetch(r,{method:"GET",credentials:"omit",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},mode:"cors",cache:"no-cache"}).then((function(e){return e.json()}))})({namespace:e,language:n}).then((function(t){var n=t&&t[e]||{};u(n)}))}),[]);return o.a.createElement("div",{className:"survey-wrapper","data-exp":"2022MC_BusinessInfoSurvey_Exp"},o.a.createElement("div",{className:"survey-title"},h("navTitle")),o.a.createElement("div",{className:"survey-subtitle"},h("surveyTitle")),o.a.createElement("div",{className:"question-list"},g.map((function(e,t){return o.a.createElement("div",{className:"question-item",key:t},o.a.createElement("h3",{className:"question-title"},"".concat(t+1,". ").concat(e.title)),e.options.map((function(t,n){return o.a.createElement("div",{className:"option"},o.a.createElement(I.Radio,{className:"radio",checked:r[e.field]===t.value,onChange:function(){var n,a;n=e.field,a=t.value,i(na(na({},r),{},_()({},n,a)))}},t.title))})))}))),o.a.createElement("div",{className:"footer"},o.a.createElement(I.Button,{type:"primary",size:"large",className:"btn-submit",disabled:f,onClick:function(){!function(){if(!r.businessTypeId||!r.volumeId)return I.Message.notice({title:h("optionsRequire"),duration:1500});Object(O.default)("2022MC_SubmitBusinessInfo"),Object(A.mtopRequest)("mtop.alibaba.icbu.im.buyer.quality.commitIdentityInfo",r).then((function(t){Object(O.default)("2022MC_SubmitBusinessInfoSucceed"),m(!0),I.Message.success({title:h("submitSucceed"),duration:1e3,afterClose:function(){e.onSubmit&&e.onSubmit()}})}))}()}},h("submit"))))}var oa={},ia=function(e){if(!e)return"clouddisk";var t="fileCard";switch(e.slice(0,5)){case"image":t="imageCard";break;case"video":t="videoCard"}return t},sa=function(e,t){Object(O.default)({ext:"MsgBeforeUpload",bizData:{size:e.size,type:ia(e.type)}}),oa[t]=Date.now()},ca=function(e,t){oa[t]&&Object(O.default)({ext:"MsgAfterUpload",bizData:{size:e.size,type:ia(e.type)},costTime:Date.now()-oa[t]})},la=function(e,t,n){oa[n]&&Object(O.default)({ext:"MsgSendFile",bizData:{contentType:e,fileName:t},costTime:Date.now()-oa[n]})},ua=n(39);var da=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){!function(t){var n=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,r=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),a=r&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),o=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,i=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(r||o)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,n,s,c,l,u,d,p,f;if(!(t=e.match(i)))throw new Error("invalid data URI");for(n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),s=!!t[4],c=e.slice(t[0].length),l=s?atob(c):decodeURIComponent(c),u=new ArrayBuffer(l.length),d=new Uint8Array(u),p=0;p<l.length;p+=1)d[p]=l.charCodeAt(p);return r?new Blob([a?d:u],{type:n}):((f=new o).append(u),f.getBlob(n))};t.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(e,t,r){var a=this;setTimeout((function(){r&&n.toDataURL&&s?e(s(a.toDataURL(t,r))):e(a.mozGetAsFile("blob",t))}))}:n.toDataURL&&s&&(n.toBlob=function(e,t,n){var r=this;setTimeout((function(){e(s(r.toDataURL(t,n)))}))})),e.exports?e.exports=s:t.dataURLtoBlob=s}(window)})),pa=Object.prototype.toString,fa={checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},ma=/^image\/.+$/;function ha(e){return ma.test(e)}var ga=String.fromCharCode;var va=window.btoa;function ya(e,t){var n=new Uint8Array(e),r="";if("function"===typeof n.forEach)n.forEach((function(e){r+=ga(e)}));else for(var a=n.length,o=0;o<a;o+=1)r+=ga(n[o]);return"data:"+t+";base64,"+va(r)}function ba(e){var t=new DataView(e),n=void 0,r=void 0,a=void 0,o=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(var i=t.byteLength,s=2;s<i;){if(255===t.getUint8(s)&&225===t.getUint8(s+1)){a=s;break}s+=1}if(a){var c=a+10;if("Exif"===function(e,t,n){var r="",a=void 0;for(n+=t,a=t;a<n;a+=1)r+=ga(e.getUint8(a));return r}(t,a+4,4)){var l=t.getUint16(c);if(((r=18761===l)||19789===l)&&42===t.getUint16(c+2,r)){var u=t.getUint32(c+4,r);u>=8&&(o=c+u)}}}if(o){var d=t.getUint16(o,r),p=void 0,f=void 0;for(f=0;f<d;f+=1)if(p=o+12*f+2,274===t.getUint16(p,r)){p+=8,n=t.getUint16(p,r),t.setUint16(p,1,r);break}}return n}var wa=/\.\d*(?:0|9){12}\d*$/i;function xa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return wa.test(e)?Math.round(e*t)/t:e}var Ca=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sa=window,ka=Sa.ArrayBuffer,Ta=Sa.FileReader,_a=window.URL||window.webkitURL,Ia=/\.\w+$/,Oa=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.result=null,t&&this.compress(t,n)}return Ca(e,[{key:"compress",value:function(e,t){var n=this,r=new Image;return t=Ea({},fa,t),ka||(t.checkOrientation=!1),new Promise((function(n,r){if((a=e)instanceof Blob||"[object Blob]"===pa.call(a)){var a,o=e.type;if(ha(o))if(_a||Ta){if(_a&&!t.checkOrientation)n({url:_a.createObjectURL(e)});else if(Ta){var i=new Ta,s=t.checkOrientation&&"image/jpeg"===o;i.onload=function(e){var t=e.target.result;n(s?Ea({url:ya(t,o)},function(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:r}}(ba(t))):{url:t})},i.onabort=function(){r(new Error("Aborted to load the image with FileReader."))},i.onerror=function(){r(new Error("Failed to load the image with FileReader."))},s?i.readAsArrayBuffer(e):i.readAsDataURL(e)}}else r(new Error("The current browser does not support image compression."));else r(new Error("The first argument must be an image File or Blob object."))}else r(new Error("The first argument must be a File or Blob object."))})).then((function(t){return new Promise((function(n,a){r.onload=function(){return n(Ea({},t,{naturalWidth:r.naturalWidth,naturalHeight:r.naturalHeight}))},r.onabort=function(){a(new Error("Aborted to load the image."))},r.onerror=function(){a(new Error("Failed to load the image."))},r.alt=e.name,r.src=t.url}))})).then((function(a){var o=a.naturalWidth,i=a.naturalHeight,s=a.rotate,c=void 0===s?0:s,l=a.scaleX,u=void 0===l?1:l,d=a.scaleY,p=void 0===d?1:d;return new Promise((function(a){var s=document.createElement("canvas"),l=s.getContext("2d"),d=o/i,f=Math.max(t.maxWidth,0)||1/0,m=Math.max(t.maxHeight,0)||1/0,h=Math.max(t.minWidth,0)||0,g=Math.max(t.minHeight,0)||0,v=o,y=i;if(f<1/0&&m<1/0?m*d>f?m=f/d:f=m*d:f<1/0?m=f/d:m<1/0&&(f=m*d),h>0&&g>0?g*d>h?g=h/d:h=g*d:h>0?g=h/d:g>0&&(h=g*d),t.width>0)y=(v=t.width)/d;else if(t.height>0){v=(y=t.height)*d}var b=-(v=Math.min(Math.max(v,h),f))/2,w=-(y=Math.min(Math.max(y,g),m))/2,x=v,C=y;if(Math.abs(c)%180===90){var E={width:y,height:v};v=E.width,y=E.height}s.width=xa(v),s.height=xa(y),ha(t.mimeType)||(t.mimeType=e.type);var S="transparent";e.size>t.convertSize&&"image/png"===t.mimeType&&(S="#fff",t.mimeType="image/jpeg"),l.fillStyle=S,l.fillRect(0,0,v,y),l.save(),l.translate(v/2,y/2),l.rotate(c*Math.PI/180),l.scale(u,p),t.beforeDraw&&t.beforeDraw.call(n,l,s),l.drawImage(r,Math.floor(xa(b)),Math.floor(xa(w)),Math.floor(xa(x)),Math.floor(xa(C))),t.drew&&t.drew.call(n,l,s),l.restore();var k=function(e){a({naturalWidth:o,naturalHeight:i,result:e})};s.toBlob?s.toBlob(k,t.mimeType,t.quality):k(da(s.toDataURL(t.mimeType,t.quality)))}))})).then((function(a){var o=a.naturalWidth,i=a.naturalHeight,s=a.result;if(_a&&!t.checkOrientation&&_a.revokeObjectURL(r.src),s)if(s.size>e.size&&t.mimeType===e.type&&!(t.width>o||t.height>i||t.minWidth>o||t.minHeight>i))s=e;else{var c=new Date;s.lastModified=c.getTime(),s.lastModifiedDate=c,s.name=e.name,s.name&&s.type!==e.type&&(s.name=s.name.replace(Ia,function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=ha(e)?e.substr(6):"";return"jpeg"===n&&(n="jpg"),n&&t&&(n="."+n),n}(s.type)))}else s=e;return n.result=s,t.success&&t.success.call(n,s),Promise.resolve(s)})).catch((function(e){if(!t.error)throw e;t.error.call(n,e)}))}}]),e}(),Aa=Oa;var Da={compressImg:function(e){return new Promise((function(t,n){var r=e;if(!(e instanceof File)){var a=new Blob([e],{type:e.type});r=new File([a],e.name,{type:e.type})}new Aa(r,{maxHeight:4e3,maxWidth:4e3,checkOrientation:!1,success:function(e){t(e)},error:function(e){n(e)}})}))}};n(94),n(95);function Ma(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Na(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Na(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Pa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pa=function(){return!!e})()}function La(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?La(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fa,ja=window.IcbuIM.IMBaaSSDK.default,Ba=window.IcbuIM.PCSDK,za=window.IcbuIM.IMBaaSSDK.EventNameEnum,qa=window.IcbuIM.IMSDKHelper,Va=qa.isWorkbench,Ua=qa.getMessageId,Ha=qa.isAlisupplier,Wa=qa.getChannel,Ga=qa.isMac,Ka=window.IcbuIM.UserUtil,Ja=Ka.currentUser,Za=Ka.getLocale,Xa=Ka.getLoginIdAsync,Ya=Ka.getAccountId,Qa=window.IcbuIM.CommonUtil.safetyStringify,$a=window.IcbuIM.lib,eo=$a.Utils,to=$a.generateTraceId,no=window.IcbuIM.lib.I18N.createI18N,ro=no({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),ao=no({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),oo=no({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","chat")}),io="image/png, image/jpg, image/jpeg, image/gif, image/bmp, image/webp",so=".mp4, .mpg, .mpeg, .avi, .wmv, .mov, .swf",co={prefix:"next-",method:"post",multiple:!0,maxSize:52428800,withCredentials:!0,accept:"".concat(io,",").concat(so,",").concat("application/pdf, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation,.doc, .docx, .xls, .xlsx, .ppt, .pptx, .txt, .rar, .zip,.dwg, .dwt, .dxf, .arj, .igs, .stl, .slprt, .numbers, .key, .wps, .page, .fdf, .frt, .mar, .jpe, .tif, .fax, .mp3, .rm, .rmvb, .ram, .fla, .flc, .flv, .gl, .m3d, .mkv, .mpe, .psd, .ai, .7z, .iso, .cad, .cdr, .drw, .mpp, .2d, .3d, .sketch, .csv, .xml, .step")},lo=Ra(Ra({},co),{},{accept:io});Xa().then((function(e){Fa=e}));var uo,po,fo,mo,ho=2e3,go=eo.getBrowser(),vo=100015,yo=10011,bo={richTextCard:2030,fileCard:2031,richSnippetsCard:63},wo=!0,xo=null,Co=null,Eo=null,So=window.__APLUS_ABRATE__||{},ko="messenger_send_draft_",To="messenger_send_rich_text_draft_",_o="simple",Io="rich",Oo="/",Ao="onTranslateInput",Do=null,Mo=function(e){function t(e){var n,r,a,i,c,l;return v()(this,t),r=this,a=t,i=[e],a=E()(a),n=x()(r,Pa()?Reflect.construct(a,i||[],E()(r).constructor):a.apply(r,i)),_()(n,"handleMediaCallVisibleChange",(function(e,t){var r=n.props.extraInfo,a=(void 0===r?{}:r).source,o=void 0===a?"":a;"fromContent"!==t&&(n.toolbarComp.setVisibleOf("mediaCallVisible",e),e&&Object(O.default)("2020MC_CallMenu_Show&from=".concat(o)))})),_()(n,"isSimpleEditor",(function(){return n.state.inputType===_o})),_()(n,"selectPhrase",(function(e){Object(O.default)({ext:"receiveQuickPhaseSearch",bizData:{hasContent:!!e,hasRange:!!n.quickTemplateRange,content:e}});var t=e;n.quickTemplateRange?n.quickTemplateRange.deleteContents():(n.quickTemplateRange=new Range,Object(O.default)({ext:"receiveQuickPhaseError",bizData:{hasRange:!1,content:e}})),Do&&(t=t.replace(/[\r\n]/g,'<br class="quick-phase-br">')),n.setContent(t,!0,!0),n.textarea.focus(),n.clearMatchCommand()})),_()(n,"insertPhraseContent",(function(e){var t=n.props,r=t.generateSession,a=e;((void 0===r?{}:r)[t.summaryData.contact.aliId]||{}).generateVisible||(Object(O.default)({ext:"receiveQuickPhase",bizData:{hasContent:!!e,hasRange:!!n.quickTemplateRange,focusTranslateDesc:Do,content:e,scene:2}}),Do&&(a=a.replace(/[\r\n]/g,'<br class="quick-phase-br">')),a=Ge.a.converEmoIdToImageInContent(a),n.setContent(a,!0,!0))})),_()(n,"handleResizeInput",(function(e){fo=e.clientY,mo=uo.clientHeight,document.addEventListener("mousemove",n.resize)})),_()(n,"resize",(function(e){document.querySelectorAll("iframe").forEach((function(e){return e.classList.add("__pointer-events-none")}));var t=mo-e.clientY+fo;t>400||t<100||(uo.style.height=t+"px",window.EventBus.publish("resize",uo.style.height))})),_()(n,"stopResize",(function(){document.querySelectorAll("iframe").forEach((function(e){return e.classList.remove("__pointer-events-none")})),document.removeEventListener("mousemove",n.resize)})),_()(n,"sendFileFromXiaoman",(function(e){(e||{}).data.map((function(e){return{size:+e.nodeSize,name:e.nodeName,materialType:e.materialType,uid:e.md5,md5:e.md5}})).forEach((function(e){n.beforeUpload(e,!0)}))})),_()(n,"sendCardFromXiaoman",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("richSnippetsCard"===e.type){var r,a=to(),o=n.props.summaryData.contact;return Ke.isSellerPWA&&(r="pwa_s","xiaoman"===eo.getUrlVars().from&&(r="pwa_xiaoman")),void n.props.sendMessage({data:{content:e.data.content,msgType:bo.richSnippetsCard,accountId:o.accountId,accountIdEncrypt:o.accountIdEncrypt,clientVersion:r},traceId:a,contentType:"richText",callback:function(e){1*e.code===200?null===t||void 0===t||t.resolve(e):null===t||void 0===t||t.reject(e)}})}n.props.sendMessage({data:{cardType:bo[e.type],mediaInfo:Object.assign({type:bo[e.type]},e.data),msgTrigger:"xiaoman_rich_text_button"}})})),_()(n,"showAcceptDialog",(function(){var e=n.props.EventBus,t=I.Dialog.show({style:{width:"490px"},needWrapper:!1,title:ao.get("translate.alibabaTranslte")||"Alibaba Translation",content:o.a.createElement("p",{className:"accept-content"},ao.get("translate.pleaseAccept")||"Please accept the ",o.a.createElement("a",{className:"agreement-link",href:"https://m.alibaba.com/mobile/zh-Hans/alibaba_real_time_translation.html",rel:"noreferrer",target:"_blank",style:{color:"#1047f5"}},ao.get("translate.agreementLink")||"Alibaba Translate User Agreement")),footer:o.a.createElement("div",{className:"accept-footer"},o.a.createElement(I.Button,{type:"primary",size:"medium",onClick:function(){n.translateSettingConfirm({receiveTranslateAgreement:!0},(function(){e.publish("agreement-accepted")})),t.hide()}},ao.get("translate.accept")||"accept"))})})),_()(n,"handleSendTranslateOpen",(function(){var e;return Boolean(null===(e=n.props.languageInfo)||void 0===e?void 0:e.sendTranslateOpen)})),_()(n,"handleAfterSetContent",(function(){var e,t,r,a,o,i;(null===(e=n.textarea)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e),null!==(r=n.textarea)&&void 0!==r&&null!==(a=r.getContent)&&void 0!==a&&a.call(r))&&(null===(o=n.textarea)||void 0===o||null===(i=o.focusEnd)||void 0===i||i.call(o))})),_()(n,"triggerAutoReply",(function(e,t){var r,a=(null!==(r=null===t||void 0===t?void 0:t.extraInfo)&&void 0!==r?r:{}).fromScene;Object(A.autoTriggerReplyGeneration)({contactAliId:e,scene:a}).then((function(e){var r=e.data,o=r.data;if(0===r.code){var i,s=(null===wr.EVA_TRIGGER_SCENE||void 0===wr.EVA_TRIGGER_SCENE?void 0:wr.EVA_TRIGGER_SCENE.includes(a))?n.state.isEvaAssistantExp&&o:o;n.props.setAiTriggerAutoReply(s);var c=n.getContent({format:"text"});s&&window.EventBus.publish("im-weblite-chat:startCommand",{commandName:"merchant_assistant_reception",content:c,isSimpleEditor:n.isSimpleEditor(),from:a&&"locateConv"!==a?a:"autoTrigger",time:Object(ie.getHighPrecisionTimestamp)()||1e3*Date.now(),extraInfo:null!==(i=null===t||void 0===t?void 0:t.extraInfo)&&void 0!==i?i:{}})}}))})),_()(n,"addSelectAtMember",(function(e){var t=e.uid,r=e.defaultNick;n.selectAtMembers[r||t]=Ra({},e),n.setContent("".concat(r||t,"`"),!0,!0),setTimeout((function(){n.textarea.focusEnd()}),300)})),_()(n,"clearSelectAtMember",(function(){n.selectAtMembers={}})),_()(n,"canReply",(function(){return n.hasContent()})),_()(n,"hasContent",(function(){var e;return n.props.languageInfo.sendTranslateOpen&&((null===(e=n.autoTranslateInput)||void 0===e?void 0:e.getInputNode().value)||n.state.translateSourceText)||n.textarea&&n.textarea.hasContent()})),_()(n,"getContent",(function(){return n.textarea.getContent()})),_()(n,"setContent",(function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null===(t=n.textarea)||void 0===t||t.setContent(eo.decodeHTML(e),a),Boolean(null===o||void 0===o?void 0:o.translateDisable))n.setState({translateSourceText:eo.decodeHTML(e)});else if(n.handleSendTranslateOpen()){var i,s;n.onNewTranslateInput(null===(i=eo.decodeHTML(e))||void 0===i||null===(s=i.replace)||void 0===s?void 0:s.call(i,/<[^>]*>/g,""),{},{saveDraft:r,append:a})}r&&n.saveDraft(),n.setState({canReply:Boolean(e)}),n.handleAfterSetContent()})),_()(n,"setContentWithTranslate",(function(e){e.value;var t=e.translatedValue,r=void 0===t?"":t,a=e.saveDraft,o=void 0===a||a;e.append;r&&n.setState({translateSourceText:eo.decodeHTML(r)}),o&&n.saveDraft(),n.setState({canReply:n.canReply()})})),_()(n,"cleanContent",(function(){n.setContent("",!1),n.autoTranslateInput&&(n.setState({translateSourceText:""}),n.autoTranslateInput.getInputNode().value="")})),_()(n,"onInput",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.canReply();r!==n.state.canReply&&n.setState({canReply:r}),e&&n.saveDraft(),n.textarea.getContent()&&n.props.clearDelayTimeout(),n.onNewTranslateInput(n.handleGetPureContent(),{},{translateDisable:t})})),_()(n,"keyDownSubscriber",(function(e){var t,r,a=e.nativeEvent||e,o=a.code,i=a.shiftKey,s="sendTransTextArea"===(null===e||void 0===e||null===(t=e.nativeEvent)||void 0===t||null===(r=t.target)||void 0===r?void 0:r.id);Do=!s;var c="Digit2"===o;n.atMemberBoxController(i&&c);var l=/Slash|NumpadDivide|Divide/.test(o);n.startMatchCommand(!i&&l,s)})),_()(n,"blurSubscriber",(function(){Object(ie.checkSellerCommandSupported)()||n.clearMatchCommand()})),_()(n,"atMemberBoxController",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];2===n.props.summaryData.contact.conversationType&&(e?n.atMemberBox.activeAtMemberBox():n.atMemberBox.hideAtMemberBox())})),_()(n,"checkOldQuickPhaseSupported",(function(){return Ha&&n.state.inputType===Io&!fe()})),_()(n,"clearMatchCommand",(function(){n.quickTemplateRange=null,Object(ie.checkBuyerCommandSupported)()||Object(ie.checkSellerCommandSupported)()?n.setState({matchedCommandKeyword:{keyword:"",timeStamp:Date.now()}}):n.checkOldQuickPhaseSupported()&&ja.getMessageService().searchQuickPhase({action:"hide",content:""})})),_()(n,"getContact",(function(e){var t,n;return null!==(t=null===e||void 0===e||null===(n=e.summaryData)||void 0===n?void 0:n.contact)&&void 0!==t?t:{}})),_()(n,"restartAIQuery",h()(regeneratorRuntime.mark((function e(){var t,r,a,o,i,s,c,l,u,d,p,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:{},r=n.props,a=r.startGenerate,o=r.summaryData,i=r.generateSession,s=void 0===i?{}:i,c=o.contact,l=(void 0===c?{}:c).aliId,u=s[l]){e.next=7;break}return e.abrupt("return");case 7:return d=u.executeCommand,p=u.queryId,e.next=10,n.checkAIPay(d);case 10:if(e.sent){e.next=13;break}return e.abrupt("return");case 13:a({params:t,queryId:p,commandName:d});case 14:case"end":return e.stop()}}),e)})))),_()(n,"divideContentUsingCommandPrefix",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo,t=n.state.inputType===_o,r="",a=n.textarea.getContent();if(-1===a.indexOf(e))return{contentParts:{contentBefore:a,contentAfter:r}};if(t){var o=a.lastIndexOf(e);return{contentParts:{contentBefore:a.substring(0,o),contentAfter:r=a.substring(o+1)}}}var i=new Range;if(n.quickTemplateRange){var s=n.quickTemplateRange.endContainer;i.setStart(s,n.quickTemplateRange.endOffset),n.textarea.focusEnd();var c=n.textarea.getSelection();i.setEnd(c.endContainer,c.endOffset)}return window.tinyMCE.activeEditor.selection.setRng(i),r=(r=window.tinyMCE.activeEditor.selection.getContent()).replace(/<br *\/?>/gi,"\n").replace(/<p>|<\/p>/g,""),{contentParts:{contentBefore:(a=a.replace(/<br *\/?>/gi,"\n").replace(/<p>|<\/p>/g,"")).replace(r,""),contentAfter:r}}})),_()(n,"onCommandSelect",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props.summaryData.contact,a=void 0===r?{}:r,console.log("onCommandSelect",t),e.t0=t,e.next=e.t0===ie.ALL_COMMAND_KEY_MAP.summary?5:10;break;case 5:return n.clearMatchCommand(),n.cleanContent(),n.cleanDraft(a.accountId),n.props.generateAIFakeMsg(null,{},"command"),e.abrupt("break",10);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"setMatchCommandKeyword",(function(e,t,r){var a=n.state.inputType===_o;if(Object(ie.checkBuyerCommandSupported)()){if(0!==t)return;n.setState({matchedCommandKeyword:{keyword:e,timeStamp:Date.now()}})}else{if(Object(ie.checkSellerCommandSupported)()){var o=e;return a&&e.indexOf(Oo)>-1&&(o=Oo),void n.setState({matchedCommandKeyword:{keyword:o,timeStamp:Date.now()}})}n.checkOldQuickPhaseSupported()&&ja.getMessageService().searchQuickPhase({action:"active",content:e.slice(1),position:n.sendInputAreaNode.getBoundingClientRect()})}})),_()(n,"startMatchCommand",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(){};r=n.state.inputType===_o?function(){var e=t?n.state.translateSourceText.trim():n.textarea.getContent().trim(),r=e.indexOf(Oo),a=e.substring(r);-1!==r?n.setMatchCommandKeyword(a,r,e):n.clearMatchCommand()}:function(){var t=n.textarea.getSelection();if(t){if(e)return n.quickTemplateRange=new Range,n.quickTemplateRange.setStart(t.startContainer,t.startOffset-1),n.quickTemplateRange.setEnd(t.endContainer,t.endOffset),void n.setMatchCommandKeyword(Oo);if(n.quickTemplateRange){var r=t.endContainer,a=t.endOffset,o=t.commonAncestorContainer,i=n.quickTemplateRange,s=i.endContainer,c=i.startContainer,l=i.startOffset,u=i.commonAncestorContainer;if(r===c&&a===l)return void n.clearMatchCommand();if(n.quickTemplateRange.setEnd(r,a),o===u&&r===s){var d=n.quickTemplateRange.toString();d[0]===Oo?n.setMatchCommandKeyword(d):n.clearMatchCommand()}else n.clearMatchCommand()}}},n.throttle(r,200)})),_()(n,"isInSANegotiation",(function(){var e,t,r,a;return null===(e=n.props)||void 0===e||null===(t=e.summaryData)||void 0===t||null===(r=t.contact)||void 0===r||null===(a=r.tagInfoDetail)||void 0===a?void 0:a.some((function(e){return 10===e.tagType}))})),_()(n,"handleGetPureContent",(function(){var e,t,r,a=n.getContent();return a=null===(e=a=Ge.a.convertImageToEmoKey(a))||void 0===e||null===(t=e.replace(/<br *\/?>/gi,"\n"))||void 0===t||null===(r=t.replace(/<br\s+class="quick-phase-br"\s*\/?>/g,"\n"))||void 0===r?void 0:r.replace(/<p>|<\/p>/g,""),a=n.replaceImg(a)})),_()(n,"send",(function(){var e,t,r=n.props,a=r.referData,o=r.summaryData,i=o.contact||{},s=i.contact,c=void 0===s?{}:s,l=i.owner,u=void 0===l?{}:l,d=n;if(Object(O.default)({ext:"2020MC_Messange_Send_Click",index2:c.aliId,index1:u.aliId,operateType:"send",bizData:{translateSourceEdit:n.state.translateSourceEdit}}),n.canReply()){var p;if(n.isInSANegotiation()&&wo)return xo=I.Dialog.show({title:oo.get("sa_negotiation.stop.task")||"Do you want to end the communication process with this supplier?",content:oo.get("sa_negotiation.stop.note")||"The SA is helping with negotiating between you Nana. If you send  message, your TANDAN task will be terminated.",locale:{ok:oo.get("sa_negotiation.cancel")||"Continue",cancel:oo.get("sa_negotiation.send")||"Leave"},onOk:function(){var e;wo=!1,n.send(),Object(O.default)({ext:"SA_NEGOTIATION_STOP_PUPUP_OK",index2:c.aliId,index1:u.aliId,bizData:{cid:null===o||void 0===o||null===(e=o.contact)||void 0===e?void 0:e.cid}})},onCancel:function(){var e;Object(O.default)({ext:"SA_NEGOTIATION_STOP_PUPUP_CANCEL",index2:c.aliId,index1:u.aliId,bizData:{cid:null===o||void 0===o||null===(e=o.contact)||void 0===e?void 0:e.cid}})},footerActions:["cancel","ok"]}),Object(O.default)({ext:"SA_NEGOTIATION_STOP_PUPUP_SHOW",index2:c.aliId,index1:u.aliId,bizData:{cid:null===o||void 0===o||null===(p=o.contact)||void 0===p?void 0:p.cid}}),void(wo=!1);null===(e=xo)||void 0===e||e.hide();var f="";if(f=null!==(t=n.props.languageInfo)&&void 0!==t&&t.sendTranslateOpen&&n.getTranslateSrcContent()||n.handleGetPureContent()){if(Ge.a.onlySpace(f))return n.setState({canReply:!1}),void We.default.error(ao.get("session.verify.onlySpace")||"不允许发送空内容");if(Ge.a.getPureText(f).length>3e3)return void We.default.error(ro.get("session.verify.overLimit")||"字符数不超过3000");n.sending||(n.sending=!0,n.sendText(f))}if(a){var m=54==a.msgType?3:9;a.fromOrder?Object(O.default)("2020MC_InviteSellerStartOrder_Send&".concat(a.bizId,"&cardType=").concat(m)):Object(O.default)("2020MC_InputBoxQuoteCard_Send&bizId=".concat(a.bizId,"&cardType=").concat(m)),Ke.isSellerPWA&&"xiaoman"===eo.getUrlVars().from&&(a.clientVersion="pwa_xiaoman");var h=Object.assign({},a),g={cardType:3===m?ho:m,mediaInfo:Ra({ids:a.content,ctime:Date.now(),country:Za().country},a.cardParams||{})};h=Object.assign({},a,g),a.strategy&&a.strategy.length>0&&Object(O.default)("sendMessageWithStrategy&strategy=".concat(a.strategy)),n.props.sendMessage({data:h,callback:function(e){d.sendMessageCallback(e,a.content)}})}n.requestNotificationPermission()}})),_()(n,"afterTranslateMsgSend",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.messageId||e.opId;t&&n.handleGetPureContent()&&(Qr.db.add([{messageId:1*t,content:n.handleGetPureContent()}]),n.setState({translateSourceText:""}),n.textarea.setContent(""))})),_()(n,"generateStructQuoteContent",(function(){var e=n.props,t=e.quoteItem,r=(void 0===t?{}:t).originalData,a=void 0===r?{}:r;return(0,e.transferStructMsgToTextContent)(a)})),_()(n,"saveDraft",(function(){var e=n.props.summaryData.contact;if(e.accountId){var t="".concat(e.accountId);localStorage.setItem("".concat(ko).concat(t),n.getContent()),n.syncRichDraft(t)}})),_()(n,"syncRichDraft",(function(e){localStorage.setItem("".concat(To).concat(e),n.getContent())})),_()(n,"getUploadParams",(function(){var e=n.props,t=e.summaryData.contact,r=e.cloudCsrf;return _()({sceneType:1,idType:103,to:t&&t.accountIdEncrypt},r.parameterName,r.token)})),_()(n,"fakeCardStyleFix",(function(e){var t=document.getElementById(e);if(t&&"true"!==t.getAttribute("fake-render")){var n=t.parentElement;n.className=n.className.replace("text","media"),n.style.overflow="initial",n.style["box-shadow"]="none"}})),_()(n,"renderUploadFileCard",(function(e){var t=e.id,r=e.file,a=e.previewUrl,i=e.downloadUrl,c=e.percent,l=e.error,u=e.cancelCb,d=e.resend,p=document.getElementById(t);if(p){n.fakeCardStyleFix(t);var f=o.a.createElement(Ur,{data:{fromMsite:!1,extraData:{fileType:r.materialType||Br.a.getType(r),downloadUrl:i,previewUrl:a,fileName:r.name,fileSize:r.size},error:l,percent:c},resend:d,cancelCb:u});s.a.render(f,p)}})),_()(n,"writeRealCardInfoAfterSwitchPerson",(function(){var e=n;e.props.EventBus.on("im-weblite-list:setSummaryData",(function(){Object.keys(e.currentUploadItems).forEach((function(t){var n=e.currentUploadItems[t];e.props.updateItemByKey({accountId:n.accountId,key:t,data:n}),delete e.currentUploadItems[t]}))}))})),_()(n,"cancelSend",(function(e){var t=e.file,r=e.accountId,a=e.tmpKey,o=n;_t.b(t),o.props.removeItemByKey({accountId:r,key:a}),delete o.currentUploadItems[a]})),_()(n,"sendFileToOss",(function(e){var t=n,r=e.file,a=e.fromTo,o=e.tmpKey,i=e.contact,s=e.previewUrl,c=void 0===s?"":s,l=e.traceId,u=i.accountId,d=2===i.conversationType,p=ia(r.type);new Promise(function(){var n=h()(regeneratorRuntime.mark((function n(s,f){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_t.f(r,a,(function(e){t.renderUploadFileCard({id:o,file:r,previewUrl:c,downloadUrl:"",percent:e,error:!1,cancelCb:t.cancelSend.bind(t,{file:r,accountId:u,tmpKey:o})})}),(function(e,n){Object(O.default)({ext:"ossUploadCompleteCb",success:"YES",resultCode:"200",resultMsg:"upload success",traceId:l,index1:a.fromAliId,index2:a.toAliId,operateType:"send",bizData:{info:e&&e.fileCardUrl,fileType:p}}),t.sendFile(e,o,i,(function(e){t.renderUploadFileCard({id:o,file:r,previewUrl:c,downloadUrl:n,percent:1,error:!1,cancelCb:t.cancelSend.bind(t,{file:r,accountId:u,tmpKey:o})}),ca(r,l)})),We.default.success(ro.get("common.success"))}),(function(n){var i=n.data,s=void 0===i?{}:i,d=s.code,f=s.msg;Object(O.default)({ext:"ossUploadErrorCb",success:"NO",resultCode:d||M.d.UPLOAD_ERR,resultMsg:"".concat(f," ").concat(Qa(n)),traceId:l,index1:a.fromAliId,index2:a.toAliId,operateType:"send",fileType:p}),"maxsize"===n.name&&t.cancelSend({file:r,accountId:u,tmpKey:o}),We.default.error(f||n.message),t.renderUploadFileCard({id:o,file:r,previewUrl:c,downloadUrl:"",percent:1,error:!0,cancelCb:t.cancelSend.bind(t,{file:r,accountId:u,tmpKey:o}),resend:t.sendFileToOss.bind(t,e)})}),l,d,!1);case 2:t.props.setCompressRatio(0);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})),_()(n,"retryBatchUpload",(function(e){var t=e.file,r=e.contact,a=e.retryCount,o=Date.now();return new Promise((function(e,i){n.batchUpload({file:t,contact:r}).then((function(t){e(t)})).catch((function(s){Object(O.default)({ext:"BatchSendFile",operateType:"retryBatchUpload",index1:window.aliId,costTime:Date.now()-o,bizData:{fileSize:(null===t||void 0===t?void 0:t.size)||1,retryCount:a,fileName:null===t||void 0===t?void 0:t.name,errMsg:null===s||void 0===s?void 0:s.message,toAliId:null===r||void 0===r?void 0:r.aliId,fromAliId:window.aliId}}),a<5?n.retryBatchUpload({file:Eo,contact:Co,retryCount:a+1}).then(e).catch(i):i(s)}))}))})),_()(n,"batchUpload",(function(e){var t=e.file,n=e.contact,r=n.aliId,a=window.aliId,o={from:Ja().accountId,to:n.accountId,toAliId:r,fromAliId:a};try{_t.c(t)}catch(e){return We.default.error(e.message),Promise.reject({contact:n})}var i=Br.a.getType(t),s=to();return Object(O.default)({ext:"groupFileSelected",index2:r,index1:a,operateType:"send",traceId:s,bizData:{fileType:i,traceId:s}}),new Promise((function(e,r){_t.f(t,o,(function(e){}),(function(t){Object(O.default)({ext:"ossUploadCompleteCb",success:"YES",resultCode:"200",resultMsg:"upload success",traceId:s,index1:o.fromAliId,index2:o.toAliId,operateType:"batchSend",bizData:{info:t&&t.fileCardUrl,fileType:i}});var r="fileCard",a=t.materialType||"";so.indexOf(a.toLocaleLowerCase())>=0&&(r="videoCard"),io.indexOf(a.toLocaleLowerCase())>=0&&(r="imageCard");var c={mediaInfo:Ra({},t),baasMsgType:Ge.a.getMsgType(r),msgType:Ge.a.getPaaSCompatibleType(r)};"fileCard"===r&&(c.cardType=12),e({data:c,contact:n,contentType:r,traceId:s})}),(function(e){var a=e.data,c=void 0===a?{}:a,l=c.code,u=c.msg;Object(O.default)({ext:"ossUploadErrorCb",success:"NO",resultCode:l||M.d.UPLOAD_ERR,resultMsg:"".concat(u," ").concat(Qa(e)),traceId:s,index1:o.fromAliId,index2:o.toAliId,operateType:"send",fileType:i}),"maxsize"===e.name&&_t.b(t),r({contact:n})}),s,!1,!0)}))})),_()(n,"batchFileCompress",(function(e){var t=Br.a.getType(e);return new Promise((function(n,r){var a=(new Date).getTime();if(Br.a.isVideo(t)&&window.SharedArrayBuffer&&self.props.ffmpegLoaded&&!Ha&&e.size>=5e6)try{self.props.compressVideo({file:e,callback:function(r){Object(O.default)({ext:"videoBatchCompressSuccess",bizData:{file:e,data:r,fileType:t,costTime:Date.now()-a}}),n(r)}})}catch(r){Object(O.default)({ext:"videoBatchCompressFail",bizData:{file:e,err:null===r||void 0===r?void 0:r.message,fileType:t,costTime:Date.now()-a}}),n(e)}else Br.a.isImg(t)&&e.size>=1e6?(Object(O.default)({ext:"imageBatchCompressStart",bizData:{fileSize:e.size,fileName:e.name}}),Da.compressImg(e).then((function(t){if(t){var r=new File([t],e.name,{type:e.type,uid:e.uid});r.uid=e.uid,Object(O.default)({ext:"imageBatchCompressSuccess",bizData:{newSize:r.size,originalSize:e.size,fileName:e.name,costTime:Date.now()-a}}),n(r)}else Object(O.default)({ext:"imageBatchCompressFail",bizData:{originalSize:e.size,fileName:e.name,costTime:Date.now()-a}}),n(e)})).catch((function(t){Object(O.default)({ext:"imageBatchCompressErr",bizData:{newSize:e.size,fileName:e.name,err:null===t||void 0===t?void 0:t.message,costTime:Date.now()-a}}),n(e)}))):n(e)}))})),_()(n,"batchUploadNew",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a,o,i,s,c,l,u,d,p,f,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.file,a=t.batchSize,o=t.selectedList,i=[],s=Date.now(),e.next=5,n.batchFileCompress(r);case 5:return c=e.sent,Co=o[0],Eo=c,l="",e.prev=9,e.next=12,_t.e(Eo);case 12:l=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),Object(O.default)({ext:"BatchSendFile",operateType:"md5Error",index1:window.aliId,costTime:Date.now()-s,bizData:{selectedCount:o.length,fileSize:(null===r||void 0===r?void 0:r.size)||1,md5:l,error:null===e.t0||void 0===e.t0?void 0:e.t0.message,fileName:null===r||void 0===r?void 0:r.name}});case 18:return u=n.retryBatchUpload({file:Eo,contact:Co,retryCount:0}),e.next=21,Promise.allSettled([u]);case 21:if(d=e.sent,i.push.apply(i,Q()(d)),"rejected"!==d[0].status){e.next=27;break}return Object(O.default)({ext:"BatchSendFile",operateType:"uploadFail",index1:window.aliId,costTime:Date.now()-s,bizData:{selectedCount:o.length,fileSize:(null===r||void 0===r?void 0:r.size)||1,md5:l,fileName:null===r||void 0===r?void 0:r.name,newSize:(null===c||void 0===c?void 0:c.size)||1}}),window.EventBus.publish("im-weblite-chat:groupSendFileResult",{promiseData:i}),e.abrupt("return");case 27:p=1;case 28:if(!(p<o.length)){e.next=38;break}return f=Math.min(p+a,o.length),m=o.slice(p,f).map((function(e){return n.batchUploadBuildRelationShip({file:c,contact:e,md5:l,isGroupChat:!1})})),e.next=33,Promise.allSettled(m);case 33:h=e.sent,i.push.apply(i,Q()(h));case 35:p+=a,e.next=28;break;case 38:Object(O.default)({ext:"BatchSendFile",operateType:"batchSend",index1:window.aliId,costTime:Date.now()-s,bizData:{selectedCount:o.length,fileSize:(null===r||void 0===r?void 0:r.size)||1,md5:l,fileName:null===r||void 0===r?void 0:r.name,newSize:(null===c||void 0===c?void 0:c.size)||1}}),window.EventBus.publish("im-weblite-chat:groupSendFileResult",{promiseData:i});case 40:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}()),_()(n,"batchUploadBuildRelationShip",(function(e){var t=e.file,n=e.contact,r=e.md5,a=e.isGroupChat,o=n.aliId,i=window.aliId,s=Date.now(),c="".concat(s,"-").concat(t.uid),l=Ja(),u=to(),d=Br.a.getType(t),p={from:l.accountId,to:n.accountId,toAliId:o,fromAliId:i};return new Promise(function(){var e=h()(regeneratorRuntime.mark((function e(o,i){var s,l,f,m,h,g,v,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.a(r,t,p,a);case 2:s=e.sent,l=s.data||{},f=l.result,m=void 0===f?{}:f,h=l.code,g=l.msg,Object(O.default)({ext:"BatchSendFile",success:200===h?"YES":"NO",resultCode:"200",resultMsg:g||"",traceId:u,index1:p.fromAliId,index2:p.toAliId,operateType:"batchSendBuildRelationShip",bizData:{info:m&&m.fileCardUrl,msg:g,fileType:d,tmpKey:c,md5:r}}),v="fileCard",y=m.materialType||"",so.indexOf(y.toLocaleLowerCase())>=0&&(v="videoCard"),io.indexOf(y.toLocaleLowerCase())>=0&&(v="imageCard"),b={mediaInfo:Ra({},m),baasMsgType:Ge.a.getMsgType(v),msgType:Ge.a.getPaaSCompatibleType(v)},"fileCard"===v&&(b.cardType=12),200===h?o({data:b,contact:n,contentType:v,traceId:u}):i(n);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})),_()(n,"beforeUpload",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a,o,i,s,c,l,u,d,p,f,m,h,g,v,y,b,w,x,C,E,S,k,T,_,I,A,D,M,N,P,L,R,F,j,B,z,q,V,U,H,W,G,K=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G=function(){return Br.a.isImg(T)&&t.size>=1e6},W=function(){return Br.a.isVideo(T)&&window.SharedArrayBuffer&&a.props.ffmpegLoaded&&!Ha&&t.size>=5e6},H=function(){a.props.buildItems({session:{list:b},order:"header",accountId:d}),a.props.onSend()},r=K.length>1&&void 0!==K[1]&&K[1],a=n,o=n.props,i=o.summaryData.contact,s=o.sessionData,c=o.fetchMessages,l=i.name,u=i.fullPortrait,d=i.accountId,p=i.contact,f=i.owner,m=i.conversationType,h=2===m,g=p&&p.aliId||"",v=f&&f.aliId||"",y=i&&s[i.accountId]||[],b=[],w=Date.now(),x="".concat(w,"-").concat(t.uid),C=Ja(),E={from:C.accountId||Ya(),to:i.accountId,toAliId:g,fromAliId:v},(S=document.createElement("div")).id=x,e.prev=18,_t.c(t),e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(18),We.default.error(e.t0.message),e.abrupt("return",!1);case 26:if(k=window.URL||window.webkitURL,T=Br.a.getType(t),I=to(),sa(t,I),!r){e.next=42;break}return A=t.md5,D=t.previewUrl,M=t.downloadUrl,N=Date.now(),e.next=35,_t.a(A,t,E,h);case 35:P=e.sent,L=P.data||{},R=L.result,F=void 0===R?{}:R,j=L.code,B=L.msg,z=F,Object(O.default)({ext:"endBuildSendFileRelation",success:200===j?"YES":"NO",resultCode:j,resultMsg:B,bizData:{code:j,from:E.from,to:E.to,uid:t.uid},costTime:Date.now()-N}),200===j&&(z.downloadUrl=z.redirectFileUrl,a.sendFile(z,x,i,(function(e){n.renderUploadFileCard({id:x,file:t,previewUrl:D,downloadUrl:M,percent:1,error:!1})}))),e.next=45;break;case 42:if(Object(O.default)({ext:"fileSelected",index2:g,index1:v,operateType:"send",traceId:I,bizData:{fileType:T,traceId:I}}),_=Br.a.isImg(T)||Br.a.isVideo(T)?k.createObjectURL(t):"",W()){setInterval((function(){a.renderUploadFileCard({id:x,file:t,previewUrl:_,downloadUrl:"",percent:a.props.compressRatio,error:!1,cancelCb:a.cancelSend.bind(a,{file:t,accountId:d,tmpKey:x})})}),100);try{a.props.compressVideo({file:t,callback:function(e){a.sendFileToOss({file:e,fromTo:E,tmpKey:x,contact:Ra({},i),previewUrl:_,traceId:I})}})}catch(e){Object(O.default)({ext:"videoCompressFail",bizData:{file:t,err:e}}),a.sendFileToOss({file:t,fromTo:E,tmpKey:x,contact:Ra({},i),previewUrl:_,traceId:I})}}else G()?(q={fileSize:t.size,fileName:t.name,tmpKey:x,bizData:{fileType:T,traceId:I}},V=(new Date).getTime(),Object(O.default)({ext:"imageCompressStart",bizData:q}),Da.compressImg(t).then((function(e){if(e){var n=new File([e],t.name,{type:t.type,uid:t.uid});n.uid=t.uid,a.sendFileToOss({file:n,fromTo:E,tmpKey:x,contact:Ra({},i),previewUrl:_,traceId:I}),Object(O.default)({ext:"imageCompressSuccess",bizData:{newSize:n.size,originalSize:t.size,tmpKey:x,fileName:t.name,costTime:Date.now()-V,traceId:I}})}else Object(O.default)({ext:"imageCompressFail",bizData:q}),a.sendFileToOss({file:t,fromTo:E,tmpKey:x,contact:Ra({},i),previewUrl:_,traceId:I})})).catch((function(e){console.warn("图片压缩出现错误",t.name,t,e),Object(O.default)({ext:"imageCompressErr",bizData:{newSize:t.size,tmpKey:x,fileName:t.name,err:null===e||void 0===e?void 0:e.message,traceId:I}}),a.sendFileToOss({file:t,fromTo:E,tmpKey:x,contact:Ra({},i),previewUrl:_,traceId:I})}))):a.sendFileToOss({file:t,fromTo:E,tmpKey:x,contact:Ra({},i),previewUrl:_,traceId:I});case 45:return U={content:S.outerHTML,messageType:"send",contactRead:!1,sendTime:w,tmpKey:x,owner:{name:l,fullPortrait:u},subType:53,type:1,fake:!0,isLocalUploaded:!1},r||(U.isLocalUploaded=!0,ea.setMediaMessageRenderer(x,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.renderUploadFileCard(Ra({id:x,file:t,previewUrl:_,downloadUrl:"",percent:1,error:!1,cancelCb:function(){}},e))}))),b.push(U),y.fromSearch?c((function(){return H()}),"reset"):H(),e.abrupt("return",!1);case 50:case"end":return e.stop()}}),e,null,[[18,22]])})));return function(t){return e.apply(this,arguments)}}()),_()(n,"uploadFormatter",(function(e){return{code:1*e.code===200?"0":"1",data:e.data}})),_()(n,"beforeUploadHandle",(function(e){var t=n.state.uploadConfig;if((null===t||void 0===t?void 0:t.callback)&&"function"===typeof(null===t||void 0===t?void 0:t.callback)){try{_t.c(e)}catch(e){return We.default.error(e.message),!1}var r=window.URL||window.webkitURL,a=Br.a.getType(e),o=Br.a.isImg(a)||Br.a.isVideo(a)?r.createObjectURL(e):"";return t.callback({file:e,previewUrl:o}),!1}return n.beforeUpload(e),!1})),_()(n,"onEmotionSelected",(function(e){var t=e;if("simple"!==n.state.inputType&&(t=Ge.a.converEmoIdToImage(e.code)),n.props.languageInfo.sendTranslateOpen){var r=n.state.translateSourceText+e.code;n.setState({translateSourceText:r},(function(){n.setState({canReply:Boolean(n.canReply())})}))}n.textarea.insertContent(t),n.textarea.focus()})),_()(n,"selectProduct",(function(){n.toolbarComp.setVisibleOf("showProduct",!0)})),_()(n,"selectCatalog",(function(){n.toolIconLog("SelectCatalog"),n.toolbarComp.setVisibleOf("showCatalogVisible",!0)})),_()(n,"sendCustomize3d",(function(e){var t=n.props.summaryData.contact,r=e.detail,a=JSON.parse(r),o=Ra(Ra({},a),{},{accountId:t&&t.accountId||"",accountIdEncrypt:t&&t.accountIdEncrypt||""});n.props.sendMessage({data:o,callback:function(e){n.sendMessageCallback(e,a.content)}})})),_()(n,"askAddress",(function(){var e=n.props.summaryData,t=e.contact,r=e.secTradeId,a=n,o="qaType=BUYER_ADDRESS&subType=5&title=".concat(ao.get("ai.settting.question.buyer_address.question_content")||"What is your shipping address?"),i={content:o,msgType:2014,cardType:2014,mediaInfo:{qaType:"BUYER_ADDRESS",subType:5,type:2014,title:ao.get("ai.settting.question.buyer_address.question_content")||"What is your shipping address?"},secTradeId:r,accountIdEncrypt:t&&t.accountIdEncrypt||"",accountId:t&&t.accountId||"",editMode:"normal"};n.props.sendMessage({data:i,callback:function(e){a.sendMessageCallback(e,o)}})})),_()(n,"sendCatalog",(function(e){var t=n.props.summaryData,r=t.contact,a=t.secTradeId,o=e.id,i={content:o,cardType:2008,msgType:2008,mediaInfo:{catalogId:e.id,ctime:Date.now()},secTradeId:a,accountIdEncrypt:r&&r.accountIdEncrypt||"",accountId:r&&r.accountId||"",editMode:"normal"};n.props.sendMessage({data:i,callback:function(e){n.sendMessageCallback(e,o),n.toolbarComp.setVisibleOf("showCatalogVisible",!1)}})})),_()(n,"sendProduct",(function(e){Object(O.default)("sendProduct");var t=e.join("_");n.sendText(t,null,{msgType:ho,cardType:ho,mediaInfo:{ids:t,ctime:Date.now(),country:Za().country}}),n.toolbarComp.setVisibleOf("showProduct",!1)})),_()(n,"sendVideo",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(O.default)({ext:"fileSelected",bizData:{type:"videobank"}}),r=n.props.summaryData.contact,a=Ge.a.buildVideoInfo(t),Object.assign(a,{accountIdEncrypt:(null===r||void 0===r?void 0:r.accountIdEncrypt)||"",accountId:(null===r||void 0===r?void 0:r.accountId)||""}),n.buildRelationAndSend(a,r,"videobank","mp4"),n.toolbarComp.setVisibleOf("sendImageBallonVisible",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"showTranslateSetting",(function(){var e=n.props.summaryData.contact;n.toolIconLog("Translate"),n.toolbarComp.setTranslateSettingSource("toolbar"),n.props.getLanguageInfo({data:{contactLoginId:e.memberId},conversationType:e.conversationType,callback:function(){n.toolbarComp.toggleTranslateSettingVisible(!0)}})})),_()(n,"translateSettingConfirm",(function(e,t){var r=n.props,a=r.languageInfo,o=r.summaryData.contact,i=r.saveLanguageInfo,s=0;for(var c in e)if(void 0!==e[c]&&e[c]!==a[c]){s=1;break}Object(O.default)("2021MC_TranslateSetting_ConfirmClick&changed=".concat(s)),i({data:Ra(Ra({},e),{},{contactLoginId:o.memberId,type:"lang"}),conversationType:o.conversationType,callback:t}),n.toolbarComp.toggleTranslateSettingVisible(!1)})),_()(n,"onLangTranslateClick",(function(){Object(O.default)("2021MC_Translate_Input_Lang_Click"),n.toolbarComp.setTranslateSettingSource("toolbar"),n.toolbarComp.toggleTranslateSettingVisible(!0)})),_()(n,"handleTranslateLoading",(function(e){n.setState({isInputTranslating:e})})),_()(n,"onNewTranslateInput",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.saveDraft,o=void 0===a||a,i=r.translateDisable,s=void 0!==i&&i,c=r.append,l=n.props.summaryData.contact,u=c?n.state.translateSourceText+eo.decodeHTML(e):eo.decodeHTML(e);if(s||n.autoTranslateInput&&(n.autoTranslateInput.getInputNode().value=e),o&&localStorage.setItem("".concat(ko).concat(l.accountId),e),!e)return n.autoTranslateInput&&(n.autoTranslateInput.getInputNode().value=""),n.textarea.focus(),n.setState({translateSourceText:"",canReply:!1}),void(o&&localStorage.setItem("messenger_send_translate_draft_".concat(l.accountId),""));!s&&n.props.languageInfo.sendTranslateOpen&&(n.handleTranslateLoading(!0),n.throttle((function(){n.handleNewTranslate(o,u)}),500,Ao))})),_()(n,"onTranslateInputChange",(function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).append?n.state.translateSourceText+eo.decodeHTML(e):eo.decodeHTML(e);n.setState({translateSourceText:r,translateSourceEdit:!0},(function(){n.setState({canReply:n.canReply()})})),n.autoTranslateInput&&(n.autoTranslateInput.getInputNode().value=e);var a=n.props.summaryData.contact;localStorage.setItem("messenger_send_translate_draft_".concat(a.accountId),r)})),_()(n,"onTranslateInputBlur",(function(){var e=n.props.summaryData.contact||{},t=e.contact,r=void 0===t?{}:t,a=e.owner,o=void 0===a?{}:a;n.state.translateSourceEdit&&Object(O.default)({ext:"editTranslateSourceText",bizData:{buyer_id:r.aliId,seller_id:o.aliId}})})),_()(n,"handleTranslate",(function(e){var t=n.state.translateSourceText,r=n.props.languageInfo,a=r.sendTranslateOriginLang,o=r.sendTranslateTargetLang,i=r.receiveTranslateOpen;n.setState({isInputTranslating:!0});var s=+new Date,c=t;if(2===n.props.summaryData.contact.conversationType)try{c=c.replace(/(@[\w\s]+`)/g,'<ALIMT srcout=\\"true\\">$1</ALIMT>')}catch(e){Object(O.default)({ext:"translateSrcReplaceError",bizData:{translateSourceText:t}})}Object(A.sendTranslate)({sourceLanguage:a,targetLanguage:o,bizLine:"sc",sourceText:c,format:"text"}).then((function(t){var r,a,c=null!==(r=null===(a=t.data)||void 0===a?void 0:a.result)&&void 0!==r?r:{},l=c.translateText,u=c.logId;l&&("simple"!==n.state.inputType&&(l=l.replace(/[\r\n]/g,"<br />")),n.textarea.setContent(l),n.onInput(e,!0),n.inputTranslateText=l,n.inputTranslateLogId=u),n.setState({isInputTranslating:!1});var d=c.resultCode||{},p=d.code,f=d.message;Object(O.default)({ext:"Translate",success:"YES",resultCode:p,resultMsg:f,costTime:+new Date-s,bizData:{TargetLan:o,AutoTran:i,translateType:"send"}})}),(function(e){var t,r,a;n.setState({isInputTranslating:!1});var c=null!==(t=null===(r=e.data)||void 0===r||null===(a=r.result)||void 0===a?void 0:a.resultCode)&&void 0!==t?t:{},l=c.code,u=c.message;Object(O.default)({ext:"Translate",success:"NO",resultCode:l,resultMsg:u,costTime:+new Date-s,bizData:{TargetLan:o,AutoTran:i,translateType:"send"}})}))})),_()(n,"handleNewTranslate",(function(e,t){var r=n.props.languageInfo,a=r.sendTranslateOriginLang,o=r.sendTranslateTargetLang,i=r.receiveTranslateOpen;n.handleTranslateLoading(!0);var s=+new Date,c=t,l=n.props.summaryData.contact;if(2===l.conversationType)try{c=c.replace(/(@[\w\s]+`)/g,'<ALIMT srcout=\\"true\\">$1</ALIMT>')}catch(e){Object(O.default)({ext:"translateSrcReplaceError",bizData:{translateSourceText:t}})}Object(A.sendTranslate)({sourceLanguage:a,targetLanguage:o,bizLine:"sc",sourceText:c,format:"text"}).then((function(t){var r,a,c=null!==(r=null===(a=t.data)||void 0===a?void 0:a.result)&&void 0!==r?r:{},u=c.translateText,d=c.logId;u&&(n.autoTranslateInput&&(n.autoTranslateInput.getInputNode().value=u),n.setState({translateSourceText:u}),n.onInput(e,!0),n.inputTranslateText=u,n.inputTranslateLogId=d,e&&localStorage.setItem("messenger_send_translate_draft_".concat(l.accountId),u)),n.handleTranslateLoading(!1);var p=c.resultCode||{},f=p.code,m=p.message;Object(O.default)({ext:"Translate",success:"YES",resultCode:f,resultMsg:m,costTime:+new Date-s,bizData:{TargetLan:o,AutoTran:i,translateType:"send"}})}),(function(e){var t,r,a;n.handleTranslateLoading(!1);var c=null!==(t=null===(r=e.data)||void 0===r||null===(a=r.result)||void 0===a?void 0:a.resultCode)&&void 0!==t?t:{},l=c.code,u=c.message;Object(O.default)({ext:"Translate",success:"NO",resultCode:l,resultMsg:u,costTime:+new Date-s,bizData:{TargetLan:o,AutoTran:i,translateType:"send"}})}))})),_()(n,"throttle",(c=null,l={},function(e,t,n){var r=this,a=arguments;if(n){var o=l[n];return o&&clearTimeout(o),void(l[n]=setTimeout((function(){e.apply(r,a),l[n]=null}),t))}c&&clearTimeout(c),c=setTimeout((function(){e.apply(r,a),c=null}),t)})),_()(n,"toolIconLog",(function(e){var t=n.props.summaryData.contact||{},r=t.contact,a=void 0===r?{}:r,o=t.owner,i=void 0===o?{}:o,s={index2:a.aliId,index1:i.aliId,operateType:"send",bizData:{}};switch(e){case"Picture":Object(O.default)(Ra({ext:"2020MC_SendPhotos_LocalPhotos_Click"},s));break;case"File":Object(O.default)(Ra({ext:"2020MC_SendFile_LocalFiles_Click"},s));break;default:Object(O.default)("2020MC_".concat(e,"_Icon_Click"))}})),_()(n,"attachmentClick",(function(e){window.vipSuperUser?I.Dialog.show({title:"免登改造",content:"免登用户禁止发送内容以及音视频通话！"}):("string"===typeof e&&n.toolIconLog(e),n.setState({uploadConfig:"File"===e?co:lo},(function(){return n.uploadIcon.click()})))})),_()(n,"closeQuoteMessage",(function(){n.props.setPlaceholder(""),n.props.closeQuoteMessage()})),_()(n,"handleSceneVisibleChange",(function(e){n.setState({sceneLayerVisible:e},(function(){e&&n.showSceneLayerInfo()}))})),_()(n,"ifShowCallingInlet",(function(){if(!n.state.showMeetingMenu)return!1;var e=n.props.extraInfo;return(void 0===e?{}:e).action||window.aliyunMeetingBuyerFunctionGray||Ke.isSellerPWA})),_()(n,"closeLayer",(function(){Object(O.default)("2020MC_PersonCard_Close"),n.setState({showSceneLayer:!1})})),_()(n,"handleIdentityCheck",(function(){return n.showSurvey?(n.surveyDialog=I.Dialog.show({className:"business-info-survey",content:o.a.createElement(aa,{onSubmit:n.onSurveySubmit}),footer:!1}),!1):!window.vipSuperUser||(I.Dialog.show({title:"免登改造",content:"免登用户禁止发送内容以及音视频通话！"}),!1)})),_()(n,"onSurveySubmit",(function(){n.surveyDialog&&(n.surveyDialog.hide(),n.showSurvey=!1)})),_()(n,"createOnlineMeeting",h()(regeneratorRuntime.mark((function e(){var t,r,a,o,i,s,c,l,u,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:"video",n.handleIdentityCheck()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Object(A.mtopRequest)("mtop.alibaba.icbu.im.validationContactByLoginId",{loginId:Fa});case 5:if((r=e.sent).data&&r.data.object){e.next=11;break}Object(O.default)("2020MC_CallMenu_ToVerify"),window.open("https://".concat(D.ACCOUNT_DOMAIN,"/user/validation/resend_verification_email.htm?return=https://").concat(D.ACCOUNT_DOMAIN,"/user/validation/email_verification.htm"),"__blank"),e.next=27;break;case 11:n.toolbarComp.setVisibleOf("mediaCallVisible",!1),a={audio:"Voice",video:"Video",schedule:"Schedule"}[t],o=n.props.extraInfo,i=(void 0===o?{}:o).source,s=void 0===i?"":i,c=n.props.summaryData.contact,Object(O.default)("2020MC_".concat(a,"Call_Click&from=").concat(s||"chat")),l=ao.get("meeting_call_schedule")||"I'd like to schedule a call with you",e.t0=t,e.next="video"===e.t0||"audio"===e.t0?21:"schedule"===e.t0?24:26;break;case 21:return Ke.isSellerPWA||window.aliyunMeetingBuyerFunctionGray||(Object(O.default)("2020MC_".concat(a,"Call_Send&from=").concat(s)),n.sendText(l)),Ha?ja.getMessageService().openAudioVideo({meetingType:t,toAliId:null===(u=c.contact)||void 0===u?void 0:u.aliId}):n.showOfflineMeeting(),e.abrupt("break",27);case 24:return Ke.isSellerPWA||window.aliyunMeetingBuyerFunctionGray?n.setContent(l):(Object(O.default)("2020MC_".concat(a,"Call_Send&from=").concat(s)),n.sendText(l),n.leadToDownloadApp()),e.abrupt("break",27);case 26:return e.abrupt("break",27);case 27:case"end":return e.stop()}}),e)})))),_()(n,"leadToDownloadApp",(function(){var e=n.props.summaryData.contact;n.props.createMeetingAndUser({aliYunMeetingType:"video",meetingName:"web_".concat(Fa,"_").concat(e.memberId),contactLoginId:e.memberId,source:"web"})})),_()(n,"handlePaste",(function(e){var t=(e.clipboardData||{}).items;if(!t)return!1;for(var r=0;r<t.length;r++){var a=t[r];if("file"===a.kind){Object(O.default)("2020MC_PASTE_FILE");var o=a.getAsFile();o&&(t.length>1||!/^image/i.test(o.type)?n.uploadPasteFile(o):n.doubleConfirmSendPic(o),e.preventDefault())}}})),_()(n,"uploadPasteFile",(function(e){var t=n.props.summaryData.contact,r=void 0===t?{}:t;try{n.beforeUpload(e),n.cleanContent(),n.cleanDraft(null===r||void 0===r?void 0:r.accountId)}catch(e){Object(O.default)("2020MC_PASTE_IMG_SEND_FAILED&error=".concat(e.message))}})),_()(n,"doubleConfirmSendPic",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props.summaryData.contact,a=void 0===r?{}:r,/^image/i.test(t.type)&&(Object(O.default)("2020MC_PASTE_IMG"),(i=new FileReader).readAsDataURL(t),i.onload=function(e){I.Dialog.confirm({className:"icbu-messenger-confirm paste-img",title:ao.get("sendBox.paste_img_send_title")||"发送图片",content:o.a.createElement("div",{className:"content"},o.a.createElement("img",{src:e.target.result})),locale:{ok:ao.get("sendBox.paste_img_send_confirm")||"发送",cancel:ao.get("sendBox.paste_img_send_cancel")||"取消"},hasMask:!0,onOk:function(){Object(O.default)("2020MC_PASTE_IMG_SEND_CONFIRM"),n.uploadPasteFile(t)},onCancel:function(){try{n.cleanContent(),n.cleanDraft(null===a||void 0===a?void 0:a.accountId)}catch(e){Object(O.default)("2020MC_PASTE_IMG_SEND_CANCEL_ERR&error=".concat(e.message))}Object(O.default)("2020MC_PASTE_IMG_SEND_CANCEL")},onClose:function(){Object(O.default)("2020MC_PASTE_IMG_SEND_CLOSE");try{n.cleanContent(),n.cleanDraft(null===a||void 0===a?void 0:a.accountId)}catch(e){Object(O.default)("2020MC_PASTE_IMG_SEND_CLOSE_ERR&error=".concat(e.message))}}})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"sendPersonCard",(function(e){return function(){Object(O.default)("2020MC_BusinessCard_Send"),n.props.sendMessage({data:{cardType:1,msgType:57,mediaInfo:{type:1,showCertification:!0,showCompanyName:!0,showEmailAddress:!0}}})}})),_()(n,"getIconStatusColor",(function(e){return e?"#ff6600":"#999"})),_()(n,"hideCloudDrive",(function(){n.toolbarComp.setVisibleOf("cloudDriveVisible",!1),"weblite"===window.host&&n.props.EventBus.publish("weblite:windowResize",{type:"hide"})})),_()(n,"onCloudDriveConfirm",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.hideCloudDrive(),!window.vipSuperUser){e.next=4;break}return I.Dialog.show({title:"免登改造",content:"免登用户禁止发送内容以及音视频通话！"}),e.abrupt("return");case 4:for(r=0;r<t.length;r++)a=t[r],n.beforeUpload(Ra(Ra({},a),{},{size:a.nodeSize,name:a.nodeName,materialType:a.materialType,uid:a.id}),!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"sendEvaluationCard",(function(e,t){var r=n.props,a=r.sendEvaluationCard,o=r.buyerEvaluation,i=Ja(),s=t.memberId;if(i.isBuyer&&!Va&&e.length&&e.length>=20&&s&&!o.rateFormValue&&!function(e){var t,n=Ma(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(2===r.type&&9601===r.subType)return r}}catch(e){n.e(e)}finally{n.f()}return!1}(e)){var c,l=0,u=0,d=Ma(e);try{for(d.s();!(c=d.n()).done;){var p=c.value;p.messageType&&"send"===p.messageType?u+=1:p.messageType&&"rec"===p.messageType&&(l+=1)}}catch(e){d.e(e)}finally{d.f()}l>=3&&u>=3&&a({data:{toLoginId:s}})}})),_()(n,"showRichInput",(function(){return"simple"!==n.state.inputType})),_()(n,"onToolbarRef",(function(e){n.toolbarComp=e})),_()(n,"onSendRef",(function(e){n.textarea=e})),_()(n,"degrade",(function(){n.setState({inputType:"simple"})})),_()(n,"replaceImg",(function(e){if(!e)return e;if(/<img[^>]*>/.test(e)){var t=e.replace(/<img[^>]*>/,"");return n.replaceImg(t)}return e})),_()(n,"setGenerateContent",(function(e){var t,r=n.props,a=r.summaryData,o=r.generateSession,i=void 0===o?{}:o,s=a.contact,c=i[(void 0===s?{}:s).aliId];if(c){var l=c.executeCommand,u=c.inputText,d=n.textarea.getContent({format:"text"});d=d.replace(/[\r\n]/g,"<br>");var p=null===(t=ua.extendCommands[l])||void 0===t?void 0:t.onConfirm;if(p){var f=u.contentBefore,m=u.contentAfter;d=p.call(n,{contentBefore:f,contentAfter:m,generateText:e})}n.setContent(d,!0,!1,{translateDisable:!0})}})),_()(n,"cancelGenerateContent",(function(){var e,t=n.props,r=t.summaryData,a=t.generateSession,o=void 0===a?{}:a,i=r.contact,s=o[(void 0===i?{}:i).aliId];if(s){var c=s.executeCommand,l=s.inputText,u=s.generateText,d=null===(e=ua.extendCommands[c])||void 0===e?void 0:e.onCancel;if(d){var p=l.contentBefore,f=l.contentAfter,m=d.call(n,{contentBefore:p,contentAfter:f,generateText:u});null!==m&&void 0!==m&&n.setContent(m)}}})),_()(n,"onKeyDown",(function(e){var t=n.state,r=t.hotKeyEnter,a=t.isInputTranslating;13!==e.keyCode&&10!==e.keyCode||(r&&e.ctrlKey?e.target.value=e.target.value+"\n":(r&&!e.ctrlKey&&!e.shiftKey&&!a||!r&&(e.ctrlKey||e.shiftKey))&&(e.preventDefault(),n.send())),n.keyDownSubscriber(e)})),_()(n,"showOfflineMeeting",(function(){I.Message.notice({duration:4500,align:"cc cc",title:ro.get("meeting_web_offline_guide")||"Please use the calling function on the mobile version of alibaba.com app."})})),n.sending=!1,n.urlParams={},n.shouldUpdateDraft=!1,n.shouldMarketLog=!0,n.showInitText=!0,n.inputTranslateText="",n.inputTranslateLogId="",n.currentUploadItems={},n.quickTemplateRange=null,n.selectAtMembers={},n.state={canReply:!1,uploadConfig:co,sceneLayerVisible:!1,showMeetingMenu:!0,translateSourceText:"",isInputTranslating:!1,cloudDriveVisible:!1,cloudDriveFileType:"media",showSceneLayer:!1,inputType:Ha?Io:_o,matchedCommandKeyword:{keyword:"",timeStamp:0},hotKeyEnter:!0,focusTranslate:!1,isAssistantAccount:!1,translateSourceEdit:!1,isEvaAssistantExp:!1},n.showSurvey="test1"===So.low_quality_buyer_send_call,n}return k()(t,e),b()(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){Ha&&!window.tinyMCE.activeEditor&&(e.degrade(),Object(O.default)("2023MC_tinymce_fail"))}),15e3);var t=this.props,n=t.summaryData.contact,r=t.extraInfo,a=void 0===r?{}:r,o=t.EventBus,i=a.action;if(this.urlParams=eo.getParamsFromUrl(),this.writeRealCardInfoAfterSwitchPerson(),"callMeeting"===i&&this.handleMediaCallVisibleChange(!0),this.ifShowCallingInlet()&&Object(O.default)("2020MC_Calls_CallsICON_Show"),this.props.showSceneLayer){var s=n.memberId;Object(A.getExpoUserInfo)({loginId:Fa}).then((function(t){if(t.data&&t.data.value){var n=t.data.value;n.vip&&n.autoSendCard||(e.props.getDXCard("https://".concat(D.WORKSPACE_DOMAIN,"?type=1&from=").concat(Fa,"&to=").concat(s,"&showCompanyName=true&showEmailAddress=true&showCertifications=true"),Fa,e.toolbarComp.dxSceneMountDOM),e.setState({sceneLayerVisible:!0}))}}))}this.setState({isAssistantAccount:!(null===n||void 0===n||!n.aliId)&&M.a.includes(String(null===n||void 0===n?void 0:n.aliId))}),Bn({appName:"im-messenger",testKey:"im_eva_autotrigger_assistant"}).then((function(t){var n=(null!==t&&void 0!==t?t:{}).treatment;e.setState({isEvaAssistantExp:"exp"===n})})).catch((function(){})),o.on("common-send",(function(t){var n=t.type,r=void 0===n?"setContent":n,a=t.content;"setContent"===r&&e.setContent(a)})),o.on("message-flow:not-agree",(function(){return e.showAcceptDialog()})),o.on("message-flow:result-tip-click",(function(){e.showTranslateSetting()})),o.on("message-flow:revert-msg-reEdit",(function(t){if("richText"!==t.contentType){var n,r,a,o=null===t||void 0===t||null===(n=t.msg)||void 0===n||null===(r=n.replace)||void 0===r||null===(a=r.call(n,/<br *\/?>/gi,"\n"))||void 0===a?void 0:a.replace(/<p><\/p>/gi,"\n");e.setContent(Ge.a.convertImageToEmoKey(o))}})),o.on("draft-change",(function(t){e.setContent(t)})),o.on("messenger:createMeeting",(function(t){e.createOnlineMeeting(t)})),o.on("im-weblite-chat:meetingPush",(function(){e.showOfflineMeeting()})),window.addEventListener("send-product",this.selectProduct),window.addEventListener("send-catalog",this.selectCatalog),window.addEventListener("askfor-address",this.askAddress),window.addEventListener("sendCustomize3d",this.sendCustomize3d),o.on("im-weblite-chat:sendCallback",(function(t){var n=(t||{}).messageId;n&&e.alitalkLog(n),e.afterTranslateMsgSend(t)})),o.on("im-ames:send",(function(t,n){var r=(t||{}).type;"file"!==r?"message"===r?e.setContent(t.content||"",!0,!0):["richSnippetsCard","richTextCard","fileCard"].includes(r)&&e.sendCardFromXiaoman(t,n):e.sendFileFromXiaoman(t,n)})),ja.getEventService().addListener(za.SelectedQuickPhaseSearch,(function(t){e.selectPhrase(t.content)})),ja.getEventService().addListener(za.SelectedQuickPhase,(function(t){e.insertPhraseContent(t.content)})),o.on("selectPhrase",(function(t){e.selectPhrase(t)})),o.on("im-address-book:selectFile",(function(t){var n=t.multipleSelect,r=void 0!==n&&n,a=t.callback,o=t.type;if(a&&"function"===typeof a){var i="image"===o?lo:co;e.setState({uploadConfig:Ra(Ra({},i),{},{multiple:r,callback:a})},(function(){return e.uploadIcon.click()}))}})),o.on("im-address-book:groupSendFile",function(){var t=h()(regeneratorRuntime.mark((function t(n){var r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.file,a=n.selectedList,o=10,!(a.length<=0)){t.next=4;break}return t.abrupt("return");case 4:e.batchUploadNew({file:r,batchSize:o,selectedList:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o.on("im-weblite-list:setSummaryData",(function(){wo=!0})),ja.getEventService().addListener(za.COPY_IMAGE_SHORTCUT,(function(t){h()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("rich-text-dragger_ifr"!==document.activeElement.id&&"send-textarea"!==document.activeElement.class){n.next=10;break}if(r=_t.d(t.Base64ImageData),!(t.picTotalCnt>1)){n.next=6;break}e.uploadPasteFile(r),n.next=8;break;case 6:return n.next=8,e.doubleConfirmSendPic(r);case 8:n.next=11;break;case 10:We.default.error(ao.get("pastePictureFail")||"unable to paste picture here.");case 11:case"end":return n.stop()}}),n)})))()})),Ha&&(uo=document.querySelector("#super_text_wrapper"),(po=document.querySelector(".resize_controller"))&&(po.addEventListener("mousedown",this.handleResizeInput),document.addEventListener("mouseup",this.stopResize)),Ga||(Ba.invoke("im.uiutil.getSendMessageShortcutKey").then((function(t){e.setState({hotKeyEnter:t?t.useEnter:e.state.hotKeyEnter})})),Ba.on("im.uiutil.sendMsgByShortcutKey",(function(t){e.setState({hotKeyEnter:t?t.useEnter:e.state.hotKeyEnter})})))),o.on("ai-restartQuery",(function(t){t.scene;var n=t.params;e.restartAIQuery(n)}))}},{key:"componentWillUnmount",value:function(){this.toolbarComp=null,this.sendBoxNode=null,this.autoTranslateInput=null,this.atMemberBox=null,this.sendInputAreaNode=null,this.translateSendInputAreaNode=null,window.removeEventListener("send-product",this.selectProduct),window.removeEventListener("send-catalog",this.selectCatalog),window.removeEventListener("askfor-address",this.askAddress),window.removeEventListener("sendCustomize3d",this.sendCustomize3d),po&&po.removeEventListener("mousedown",this.handleResizeInput),window.EventBus.callbacks["im-ames:send"]=[],document.removeEventListener("mousemove",this.resize)}},{key:"showSceneLayerInfo",value:function(){var e=this.props.summaryData.contact.memberId;this.props.getDXCard("https://".concat(D.WORKSPACE_DOMAIN,"?type=1&from=").concat(Fa,"&to=").concat(e,"&showCompanyName=true&showEmailAddress=true&showCertifications=true"),Fa,this.toolbarComp.dxSceneMountDOM)}},{key:"componentWillReceiveProps",value:function(e){var t,n,r=this,a=this.props,o=a.summaryData.contact,i=a.sendContent,s=a.quoteItem,c=a.getLanguageInfo,l=e.summaryData.contact,u=e.sendContent,d=e.quoteItem;o.accountId!==l.accountId&&l.accountId&&(this.shouldUpdateDraft=!0,c({data:{contactLoginId:l.memberId},conversationType:l.conversationType}),l.memberId&&Object(A.mtopRequest)("mtop.alibaba.icbu.im.queryMembersInfoByLoginId",{queryType:"get_seller_member_info",contactLoginId:l.memberId}).then((function(e){e.data&&e.data.object&&r.setState({showMeetingMenu:e.data.object.videoSettingImInfo.open&&!1!==e.data.object.supportVideo})})),this.inputTranslateText="",this.inputTranslateLogId="",this.clearSelectAtMember(),this.props.generateSession[l.aliId]&&(this.shouldUpdateDraft=!1),this.clearMatchCommand()),i!==u&&null!==u&&this.setContent(u,!1),(!s&&d||s&&d&&s.uuid!==d.uuid)&&setTimeout((function(){r.textarea.focus(),r.textarea.getContent()&&r.textarea.focusEnd()}),500),o.accountId&&o.accountId!==l.accountId&&(this.urlParams={});var p=(this.props.referData||"").textContent;null!==(t=this.props.referData)&&void 0!==t&&null!==(n=t.textContent)&&void 0!==n&&n.length&&this.setContent(p),l.aliId!==o.aliId&&this.setState({isAssistantAccount:!(null===l||void 0===l||!l.aliId)&&M.a.includes(String(null===l||void 0===l?void 0:l.aliId))}),l.aliId===o.aliId||1!==l.conversationType||M.a.includes(String(null===l||void 0===l?void 0:l.aliId))||this.triggerAutoReply(l.aliId,l)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.summaryData.contact,r=t.extraInfo,a=void 0===r?{}:r,o=t.languageInfo,i=a.loginIdEncrypt,s=a.sceneData,c=void 0===s?{}:s;(this.shouldUpdateDraft||JSON.stringify(o)!==JSON.stringify(e.languageInfo))&&(c.initText&&i===n.loginIdEncrypt&&this.showInitText?(this.setContent(c.initText),this.showInitText=!1):(this.cleanContent(),this.showDraft(n.accountId)),this.shouldUpdateDraft=!1)}},{key:"getTranslateSrcContent",value:function(){var e,t,n;return(null===(e=this.autoTranslateInput)||void 0===e||null===(t=e.getInputNode)||void 0===t||null===(n=t.call(e))||void 0===n?void 0:n.value)||this.state.translateSourceText||""}},{key:"showInputTip",value:function(e){I.Message.show({iconType:!1,content:o.a.createElement("span",{className:"black-tip-content"},e),duration:2e3,align:"tl bl",className:"black-tip",overlayProps:{target:this.sendBoxNode}})}},{key:"showConfirm",value:function(){return new Promise((function(e){I.Dialog.confirm({closeMode:["esc","mask"],className:"command-confirm",content:o.a.createElement("span",{className:"command-confrim-content"},ie.COPY.polishTargetLanguageTip),footerActions:["cancel","ok"],footerAlign:"center",locale:{ok:ie.COPY.polishTargetLanguageConfirmN,cancel:ie.COPY.polishTargetLanguageConfirmY},onOk:function(){e(!1)},onCancel:function(){e(!0)}})}))}},{key:"checkTargetLanguage",value:(a=h()(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.languageInfo,n=!0,!(null===t||void 0===t?void 0:t.sendTranslateOpen)||!(null===t||void 0===t?void 0:t.sendTranslateTargetLang)||"en"===(null===t||void 0===t?void 0:t.sendTranslateTargetLang)){e.next=7;break}return e.next=6,this.showConfirm();case 6:n=e.sent;case 7:return Object(O.default)({ext:"polishLanguageCheck",bizData:{targetLanguage:null===t||void 0===t?void 0:t.sendTranslateTargetLang,result:n}}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"checkAIPay",value:(r=h()(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.summaryData.contact,r=(void 0===n?{}:n).owner,a=void 0===r?{}:r,o=ua.extendCommands[t],i=null===o||void 0===o?void 0:o.aiPaySceneCode){e.next=6;break}throw new Error("checkAiPay scene null");case 6:return e.next=8,Object(A.AIPayCheckService)({aliId:a.aliId,scene:i});case 8:return(s=e.sent)||jr.a.show({sceneAbility:i}),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"alitalkLog",value:function(e){Object(O.logAb)();var t=this.props,n=t.summaryData.contact,r=t.extraInfo;if("weblite"!==this.props.host)return Zr.a.pageId=window.dmtrack_pageid,void Zr.a.logMsg({toId:n.accountId,opId:Ua(e)});var a=r.productId,o=r.marketData,i={toId:n.accountId,toLoginIdEncrypt:n.loginIdEncrypt,toLoginId:n.memberId,productId:a};this.props.EventBus.publish("im-weblite-chat:sendMessage",{userInfo:i,marketData:o,opId:e})}},{key:"sendText",value:function(e,t,n){var r=this,a=this.props,o=a.summaryData.contact,i=a.sessionData,s=a.fetchMessages;function c(){var a=t&&t.contact||r.props.summaryData.contact,o=r.props.extraInfo||{},i=o.productId,s=o.loginIdEncrypt,c="weblite"===r.props.host&&s===a.loginIdEncrypt,l=r.props.host;Ke.isBuyerPWA&&(l="pwa_b"),Ke.isSellerPWA&&(l="pwa_s","xiaoman"===eo.getUrlVars().from&&(l="pwa_xiaoman")),Ha&&(l="alisupplier");var u={content:e,msgType:n?n.msgType:t?Ge.a.getPaaSCompatibleType("imageCard"):Ge.a.isRichContent(e)?63:1,accountId:a.accountId,accountIdEncrypt:a.accountIdEncrypt,bizType:c?"product":null,bizId:c?i:r.urlParams.tradeId||null,clientVersion:l,referMessage:r.getReferMessage()};n&&n.msgType===ho&&Object.assign(u,{cardType:ho,mediaInfo:{ids:e,ctime:Date.now(),country:Za().country}}),r.inputTranslateLogId&&(u.traceId=r.inputTranslateLogId,u.isEdited=r.inputTranslateText===e?"0":"1");var d=function(e,t){return e?M.c.IMAGE_CARD:Ge.a.isRichContent(t)?M.c.NO_SPLIT_RICH_TEXT:M.c.TEXT}(t,e);if(d===M.c.NO_SPLIT_RICH_TEXT){var p=a.conversationType;1===p&&(u.receiverAliId=[a.aliId,Number(window.aliId)]),u.conversationId=a.cid.split("@")[0],u.messageType=63,u.chatType=p,u.extParam={}}if("{}"!==JSON.stringify(r.selectAtMembers)){var f=r.generateStructMsgInfo(Kr.removeOutermostPTag(e),r.selectAtMembers);(f.length>1||1===f.length&&1!==f[0].elementType)&&(u.msgType=vo,u.structInfo=f,u.baasMsgType=yo)}"simple"!==r.state.inputType&&(u.entranceSource="onepage"),r.props.sendMessage({data:u,contentType:d,imgInfo:t,translateSourceText:r.handleGetPureContent(),callback:function(n){r.sendMessageCallback(n,e,t)}})}(o&&i[o.accountId]||[]).fromSearch?s((function(){return c()}),"reset"):c()}},{key:"generateStructMsgInfo",value:function(e,t){var n=[],r="",a=Kr.extractAtsignMatches(e)||[];return a.forEach((function(e,o){if(e in t){var i=t[e],s=i.uid,c=i.defaultNick;r&&n.push({text:r,elementType:1}),r="","toAll"===s?n.push({atAll:!0,defaultNick:c,elementType:4}):n.push({atAll:!1,atAliId:s,defaultNick:c,elementType:4})}else o===a.length-1||a[o+1]&&a[o+1]in t?r+=e:r+=e||"@",o===a.length-1&&(r&&n.push({text:r,elementType:1}),r="")})),n}},{key:"requestNotificationPermission",value:function(){var e=this,t=localStorage.getItem("request_notification_permission_after_send"),n=window.Notification&&window.Notification.permission;if(!t&&"default"===n&&"messenger"===this.props.host){Object(O.default)("2020MC_NotificationGuideSystem_Show_".concat(this.props.host,"&browser=").concat(go.type,"&browserVersion=").concat(go.versions));try{var r;null===I.Notification||void 0===I.Notification||null===(r=I.Notification.requestPermission())||void 0===r||r.then((function(t){Object(O.default)("2020MC_NotificationGuideSystem_".concat(t,"_").concat(e.props.host,"&browser=").concat(go.type,"&browserVersion=").concat(go.versions)),localStorage.setItem("request_notification_permission_after_send","done")}))}catch(e){}}}},{key:"sendMessageCallback",value:function(e,t,n){var r=this,a=this,o=n&&n.contact||a.props.summaryData.contact,i=a.props.sessionData,s=(o&&i[o.accountId],1*e.code);if(200===s)setTimeout((function(){r.cleanContent(),a.cleanDraft(o.accountId),r.textarea.focus(),a.sending=!1}),0),a.alitalkLog(e.data&&e.data.opId),!n&&a.props.onSend(),"messenger"===a.props.host&&window.mcToImInquiry&&a.props.EventBus.publish("messenger:removeMC2IM"),a.closeQuoteMessage(),a.clearSelectAtMember(),"http"===Wa()&&this.afterTranslateMsgSend(e.data);else{if(3006===s)return Object(O.default)("ifmupgrade"),Fr.a.Dialog({content:ao.get("ifmupgrade"),variable:!0,upgradeUrl:"//seller.alibaba.com/ggs/productLanding.html?tracelog=IM"}),void(a.sending=!1);a.sending=!1,We.default.error("".concat(e.message,"(").concat(e.code,")")),n&&a.props.updateItem({accountId:o.accountId,listIndex:n.listIndex,data:{percent:null},remove:!0})}a.updateList(t,1)}},{key:"sendFile",value:function(e,t,n,r){var a=this,o=this.props,i=o.sessionData,s=o.fetchMessages,c=o.host,l=this.props.extraInfo||{},u=l.productId,d=l.loginIdEncrypt,p="weblite"===c&&d===n.loginIdEncrypt,f=n&&i[n.accountId]||[],m=c;function h(){var o="fileCard",i=e.materialType||"";so.indexOf(i.toLocaleLowerCase())>=0&&(o="videoCard"),io.indexOf(i.toLocaleLowerCase())>=0&&(o="imageCard");var s=e.fileCardUrl,l=e.nodeName;delete e.nodeName;var d={cid:n.cid,mediaInfo:Ra(Ra({},e),{},{nodeName:l}),baasMsgType:Ge.a.getMsgType(o),content:s,msgType:Ge.a.getPaaSCompatibleType(o),accountId:n.accountId,accountIdEncrypt:n.accountIdEncrypt,bizType:p?"product":null,bizId:p?u:a.urlParams.tradeId||null,clientVersion:m};"fileCard"===o&&(d.cardType=12),a.props.sendMessage({sendType:"file",tmpKey:t,data:d,traceId:e.traceId,contentType:o,callback:function(n){var i=1*n.code;if(200===i)a.alitalkLog(n.data&&n.data.opId),a.props.onSend(),"messenger"===c&&window.mcToImInquiry&&a.props.EventBus.publish("messenger:removeMC2IM"),a.closeQuoteMessage(),r(n),a.currentUploadItems[t]=d,la(o,l,e.traceId);else{if(3006===i)return Object(O.default)("ifmupgrade"),void Fr.a.Dialog({content:ao.get("ifmupgrade"),variable:!0,upgradeUrl:"//seller.alibaba.com/ggs/productLanding.html?tracelog=IM"});We.default.error("".concat(n.message,"(").concat(n.code,")"))}a.updateList(s,Ge.a.getPaaSCompatibleType(o))}})}f.fromSearch?s((function(){return h()}),"reset"):h(),Ke.isSellerPWA&&"xiaoman"===eo.getUrlVars().from&&(m="pwa_xiaoman")}},{key:"buildRelationAndSend",value:(n=h()(regeneratorRuntime.mark((function e(t,n,r,a){var o,i,s,c,l,u,d,p,f,m,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.conversationType,i=2===o,s=Date.now(),c=Ja(),l={from:c.accountId||Ya(),to:n.accountId},e.next=7,_t.a(t.mediaInfo.fileId,{name:t.mediaInfo.fileId,size:t.mediaInfo.size,bucket:r,materialType:a},l,i);case 7:u=e.sent,d=u.data||{},p=d.result,f=void 0===p?{}:p,m=d.code,h=d.msg,g=f,200===m?(g.downloadUrl=null===f||void 0===f?void 0:f.redirectFileUrl,this.sendFile(g,"".concat(s,"-").concat(t.mediaInfo.fileId),n,(function(){}))):Object(O.default)({ext:"ossBuildFileRelationErrorCb",success:"NO",resultCode:m||"",resultMsg:h||"",index1:l.from,index2:l.to,operateType:"send",bucket:r||""});case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r,a){return n.apply(this,arguments)})},{key:"getReferMessage",value:function(){var e=this.props,t=e.quoteItem,n=e.groupMembersCache;if(t){var r,a=t.messageType,o=t.messageId,i=t.contact,s=t.owner,c=t.sender,l=t.receiver,u=t.subType,d=t.originalData,p=t.content,f=t.abstract,m=t.msgType,h=t.conversationType,g=t.referData,v=void 0===g?{}:g;-1!==[2004,2005].indexOf(u)&&Object(O.default)("2020MC_InputBoxQuoteCard_Send&messageId=".concat(o,"&messageType=").concat(u));var y="[Details of this message cannot be displayed, please update version]",b=u;return 1===u?y=d&&d.text||p:2022===u||2014===u?y=f||p:100015===u&&(y=this.generateStructQuoteContent(),b=m),Ra({msgId:o&&o+".PNM",contentDisplay:f||p,msgType:m,subType:b,senderAliId:null===c||void 0===c?void 0:c.targetId,receiverAliId:null===l||void 0===l?void 0:l.targetId,contentAbstract:y,originalData:d,senderName:"rec"===a?2===h?(null===(r=n[null===c||void 0===c?void 0:c.targetId])||void 0===r?void 0:r.displayName)||targetId:i.name:s.name},v)}return null}},{key:"updateList",value:function(e,t){this.props.EventBus.publish("im-weblite-list:updateList",{content:e,imMessageType:t})}},{key:"showDraft",value:function(e){var t=this,n=localStorage.getItem("".concat(ko).concat(e)),r=localStorage.getItem("messenger_send_translate_draft_".concat(e));n&&(this.setContent(n,!1),setTimeout((function(){t.textarea.focusEnd()}),200)),this.handleSendTranslateOpen()&&r&&this.setContentWithTranslate({value:n,translatedValue:r})}},{key:"cleanDraft",value:function(e){localStorage.removeItem("".concat(ko).concat(e)),localStorage.removeItem("".concat(To).concat(e)),localStorage.removeItem("messenger_send_translate_draft_".concat(e))}},{key:"logBeforeUpload",value:function(e){var t="fileCard";switch(e.type.slice(0,5)){case"image":t="imageCard";break;case"video":t="videoCard"}e.fileType=t,e.startTime=+new Date,Object(O.default)("MsgStartUpload&type=original&totalSize=".concat(e.size,"&msgType=").concat(t))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null)}}]);var n,r,a}(o.a.Component),No=Mo;function Po(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Po=function(){return!!e})()}n.p=Object(pe.e)("im-weblite-chat");var Lo=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,565))})),Ro=window.IcbuIM.IMSDKHelper.isAlisupplier,Fo=window.IcbuIM.lib.I18N.createI18N,jo=Fo({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),Bo=Fo({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),zo=window.clouddiskServerDomain||D.CLOUDDISK_DOMAIN,qo="//".concat(zo,"/file/uploadFile.htm"),Vo=function(e){function t(){return v()(this,t),e=this,n=t,r=arguments,n=E()(n),x()(e,Po()?Reflect.construct(n,r||[],E()(e).constructor):n.apply(e,r));var e,n,r}return k()(t,e),b()(t,[{key:"render",value:function(){var e,t,n,r,i=this,s=this.props,c=s.host,l=s.quoteItem,u=s.languageInfo,d=s.groupMembersCache,p=s.aiEnableCommandMap,f=s.generateSession,m=void 0===f?{}:f,h=this.props.toolbar,g=u.sendTranslateOriginLang,v=u.sendTranslateTargetLang,y=u.sendTranslateOpen,b=this.state,w=b.canReply,x=b.uploadConfig,C=b.translateSourceText,E=b.isInputTranslating,S=b.hotKeyEnter,k=b.isAssistantAccount,T=this.props.summaryData.contact,_=m[T.aliId]||{},O=_.generateVisible,A=_.executeCommand,D=O||k,M=!1;if(p){var N=Object.values(p).filter((function(e){return e}));M=Object(X.a)()?N.length>0&&!p.summaryHide:N.length>0}var P=!w&&M,L=w&&M,R=Object(ie.COMMAND_ENABLE_PLACEHOLDER)(),F=k?Bo.get("assistant.sendBox.placeHolder")||"接待助理Eva暂不支持输入":P?R:"";null!==(e=this.textarea)&&void 0!==e&&e.setPlaceholder&&this.textarea.setPlaceholder(F);var j={textarea:this.textarea,sendBoxNode:this.sendInputAreaNode,isSimpleEditor:this.isSimpleEditor,quickTemplateRange:this.quickTemplateRange,divideContentUsingCommandPrefix:this.divideContentUsingCommandPrefix,checkAIPay:this.checkAIPay.bind(this),clearMatchCommand:this.clearMatchCommand,getContent:this.getContent},B=o.a.createElement(hr,{isOldStyle:!0,commandEnable:M,placeholder:F,contact:T,onRef:this.onSendRef,onInput:this.onInput,send:this.send,handlePaste:this.handlePaste,hasRichTextDraft:this.props.hasRichTextDraft,onMaximize:this.props.onMaximize,keyDownSubscriber:this.onKeyDown,disabledInput:D,readOnly:k,hotKeyEnter:S,isAssistantAccount:k,host:this.props.host});return o.a.createElement("div",{className:"send-box-wrapper ".concat(this.props.className||""),ref:function(e){i.sendBoxNode=e}},O&&"on-send-box-top"===(null===(t=ie.ALL_COMMANDS[A])||void 0===t?void 0:t.panelPosition)&&o.a.createElement(Lr,{setContent:this.setGenerateContent,cancelGenerateContent:this.cancelGenerateContent,restartAIQuery:this.restartAIQuery,getContent:this.getContent,divideContentUsingCommandPrefix:this.divideContentUsingCommandPrefix}),l&&o.a.createElement(Z,{quoteItem:l,generateStructQuoteContent:this.generateStructQuoteContent,onClose:this.closeQuoteMessage,groupMembers:d}),o.a.createElement(sr,{onRef:this.onToolbarRef,sceneLayerVisible:this.state.sceneLayerVisible,toolbarConfig:h,operateTpls:this.props.operateTpls,setContent:this.setContent,hasContent:this.hasContent,toolIconLog:this.toolIconLog,onEmotionSelected:this.onEmotionSelected,sendVideo:this.sendVideo,sendFile:this.sendFile.bind(this),buildRelationAndSend:this.buildRelationAndSend.bind(this),sendMessage:this.props.sendMessage,sendProduct:this.sendProduct,ifShowCallingInlet:this.ifShowCallingInlet,contact:T,handleSceneVisibleChange:this.handleSceneVisibleChange,sendPersonCard:this.sendPersonCard,showAddress:this.props.showAddress,attachmentClick:this.attachmentClick,handleMediaCallVisibleChange:this.handleMediaCallVisibleChange,createOnlineMeeting:this.createOnlineMeeting,showTranslateSetting:this.showTranslateSetting,translateSettingConfirm:this.translateSettingConfirm,languageInfo:u,EventBus:this.props.EventBus,hideCloudDrive:this.hideCloudDrive,onCloudDriveConfirm:this.onCloudDriveConfirm,getContent:this.getContent,onMaximize:this.props.onMaximize,sendCatalog:this.sendCatalog,beforeUpload:this.beforeUpload,doubleConfirmSendPic:this.doubleConfirmSendPic,disabledInput:D,isSimpleEditor:this.isSimpleEditor,canReply:this.state.canReply,commandEnable:M,focusTranslate:this.state.focusTranslate,sendTranslateOpen:y,reportFatigue:this.props.reportFatigue,askAddress:this.askAddress,isAssistantAccount:k,inputType:this.state.inputType}),o.a.createElement(o.a.Fragment,null,y&&o.a.createElement("div",{className:"translate-container new-translate-container"},o.a.createElement("div",{className:"input-content ".concat(this.props.host),ref:function(e){i.translateSendInputAreaNode=e}},o.a.createElement(I.Input.TextArea,{ref:function(e){return i.autoTranslateInput=e},rows:null,placeholder:Bo.get("translate.input.placeholder")||"Translate to",value:C,onChange:this.onTranslateInputChange,disabled:D,onBlur:this.onTranslateInputBlur}),o.a.createElement("pre",{className:"textarea-fake"},C)),o.a.createElement(I.Button,{ghost:"light",className:"translate-status",onClick:this.onLangTranslateClick},o.a.createElement("div",{className:"status"},"".concat(g),o.a.createElement(I.Icon,{type:"arrow-right",size:"xxs",style:{margin:"0 2px"}}),"".concat(v)))),o.a.createElement("div",{className:"send-input-areas",style:{display:O&&"on-send-box-inner"===(null===(n=ie.ALL_COMMANDS[A])||void 0===n?void 0:n.panelPosition)?"none":"block"},ref:function(e){i.sendInputAreaNode=e}},this.showRichInput()?o.a.createElement(a.Suspense,{fallback:B},o.a.createElement(Lo,{degrade:this.degrade,contact:T,onRef:this.onSendRef,beforeUpload:this.beforeUpload,onInput:this.onInput,send:this.send,handlePaste:this.handlePaste,keyDownSubscriber:this.keyDownSubscriber,blurSubscriber:this.blurSubscriber,EventBus:this.props.EventBus,placeholder:F,hotKeyEnter:S,disabledInput:D})):B,o.a.createElement("div",{className:"send-btn-bar"},o.a.createElement("p",{className:"enter-tip ".concat(L?"":"hide")},R),o.a.createElement("div",{className:"send-btn-wrapper"},"messenger"===c&&o.a.createElement("p",{className:"enter-tip"},Ro?S?Bo.get("chat.seller.enterTip"):Bo.get("chat.seller.enterTip2"):Bo.get("chat.enterTip")),o.a.createElement(I.Button,{type:"primary",size:"medium",className:"send-tool-button ".concat(w&&!D?"":"gray"),disabled:E||D||!w,loading:E,onClick:this.send},jo.get("chat.send")))))),O&&"on-send-box-inner"===(null===(r=ie.ALL_COMMANDS[A])||void 0===r?void 0:r.panelPosition)&&o.a.createElement("div",{className:"ai-pannel-inner-wrapper"},o.a.createElement(Lr,{setContent:this.setGenerateContent})),2===T.conversationType&&o.a.createElement(oe,{ref:function(e){return i.atMemberBox=e},alignTarget:this.sendBoxNode,groupMembers:d,addSelectAtMember:this.addSelectAtMember}),o.a.createElement(Te,{safeNode:this.textarea,alignTarget:this.sendInputAreaNode,searchKeyword:this.state.matchedCommandKeyword,onCommandSelect:function(e){i.onCommandSelect(e)},commandExtraProps:j}),o.a.createElement(I.Upload,U()({style:{display:"none"},ref:function(e){return i.upload=e},action:qo,data:this.getUploadParams(),beforeUpload:this.beforeUploadHandle,formatter:this.uploadFormatter},x),o.a.createElement("button",{ref:function(e){return i.uploadIcon=e},style:{display:"none"}})),k?o.a.createElement("div",{className:"disable-mask"}):null)}}])}(No);var Uo=Object(c.connect)((function(e){return{sessionData:e.messageBox.sessionData,summaryData:e.messageBox.summaryData,cloudCsrf:e.messageBox.cloudCsrf,placeholder:e.messageBox.inputPlaceholder,languageInfo:e.translate.languageInfo,buyerEvaluation:e.messageBox.buyerEvaluation,groupMembersCache:e.messageBox.groupMembersCache,ffmpegLoaded:e.messageBox.ffmpegLoaded,compressRatio:e.messageBox.compressRatio,aiEnableCommandMap:e.messageBox.aiEnableCommandMap,generateSession:e.messageBox.generateSession,globalGrayMap:e.globalEnv.globalGrayMap,transABTest:e.translate.transABTest}}),(function(e){return{sendMessage:function(t){e({type:"messageBox/sendMessage",payload:t})},operateTpls:function(t){e({type:"messageBox/operateTpls",payload:t})},buildItems:function(t){e({type:"messageBox/buildItems",payload:t})},updateItem:function(t){e({type:"messageBox/updateItem",payload:t})},updateItemByKey:function(t){e({type:"messageBox/updateItemByKey",payload:t})},setPlaceholder:function(t){e({type:"messageBox/setPlaceholder",payload:t})},removeItemByKey:function(t){e({type:"messageBox/removeItemByKey",payload:t})},createMeetingAndUser:function(t){e({type:"messageBox/createMeetingAndUser",payload:t})},saveLanguageInfo:function(t){e({type:"translate/saveLanguageInfo",payload:t})},sendEvaluationCard:function(t){e({type:"messageBox/sendEvaluationCard",payload:t})},setCompressRatio:function(t){e({type:"messageBox/setCompressRatio",payload:t})},compressVideo:function(t){e({type:"messageBox/compressVideo",payload:t})},generatingText:function(t){e({type:"messageBox/generatingText",payload:t})},startGenerate:function(t){e({type:"messageBox/startGenerate",payload:t})},endGenerate:function(t){e({type:"messageBox/endGenerate",payload:t})},getPhrase:function(t){e({type:"quickPhrase/getQuickPhrase",payload:t})},reportFatigue:function(t){e({type:"translate/reportFatigue",payload:t})},setAiTriggerAutoReply:function(t){e({type:"messageBox/setAiTriggerAutoReply",payload:t})}}}))(Vo),Ho=n(139);n(454);function Wo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Wo=function(){return!!e})()}var Go,Ko=window.IcbuIM.lib.Utils,Jo=window.IcbuIM.lib.I18N.createI18N,Zo=Jo({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),Xo=Jo({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),Yo=window.IcbuIM.IMSDKHelper.isWorkbench,Qo=window.IcbuIM.IMBaaSSDK.default,$o=["emotionVisible","screenshotVisible","sendImageBallonVisible","sendFileBallonVisible","cloudDriveVisible","moreMenuVisible"],ei="pre"===window.env?"https://pre-air.alibaba.com/":"https://air.alibaba.com/",ti="".concat(ei,"app/alimsc/IcbuLiveSellerTool/livecalendar.html?referrer=IMChatPage&wx_navbar_transparent=true&receiveId={0}&senderId={1}");Yo||(Go=Object(Ho.createMicroService)({appGroup:"icbu-im",appName:"im-cloud-drive-cdn",name:"micro-service/buyer-dialog"}));var ni=null,ri="SHOW_ASK_ADDRESS_GUIDE",ai=Object(ie.getAPLUSABRATEResult)("buyer_im_translate_setting_msg"),oi=window.recAddress,ii=function(e){function t(e){var n,r,a,i;return v()(this,t),r=this,a=t,i=[e],a=E()(a),n=x()(r,Wo()?Reflect.construct(a,i||[],E()(r).constructor):a.apply(r,i)),_()(n,"getTplList",(function(){n.props.operateTpls({data:{params:{},cmd:"list"},callback:function(e){n.setTplList(e.list||[])}})})),_()(n,"openSaveTpl",(function(){Object(O.default)("saveTemplate"),n.props.hasContent()&&n.setState({saveTplVisible:!0})})),_()(n,"saveTpl",(function(){n.tplName?n.props.operateTpls({data:{params:{templateName:n.tplName,content:Ko.encodeHTML(n.props.getContent())},cmd:"add"},callback:function(){We.default.success(Xo.get("common.success")),n.closeSaveTpl()}}):We.default.error(Xo.get("session.verify.tplNoEmpty"))})),_()(n,"tplNameChange",(function(e){n.tplName=e})),_()(n,"selectTpl",(function(e){Object(O.default)("2020MC_Template_Send_Click"),n.props.operateTpls({data:{params:{id:e[0]},cmd:"find"},callback:function(e){var t,r,a,o=e.list&&e.list[0]&&e.list[0].content||"";o=null===(t=Object(pe.b)(o))||void 0===t||null===(r=t.replace(/↵/g,"\n"))||void 0===r||null===(a=r.replace(/<br *\/?>/gi,"\n"))||void 0===a?void 0:a.replace(/<.*?>/g,""),n.props.setContent(o),n.closeSaveTpl()}})})),_()(n,"handleTmplVisibleChange",(function(e){n.setState({tmplVisible:e})})),_()(n,"handleScreenshotVisible",(function(e){n.setState({screenshotVisible:e})})),_()(n,"handleMoreMenuVisible",(function(e){n.setState({moreMenuVisible:e})})),_()(n,"closeSaveTpl",(function(){n.setState({saveTplVisible:!1,tmplVisible:!1})})),_()(n,"handleEmotionVisibleChange",(function(e){n.setState({emotionVisible:e})})),_()(n,"screenShot",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setState({screenshotVisible:!1},(function(){setTimeout(h()(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qo.getMessageService().startScreenShot({hideChatWindow:e});case 2:return r=t.sent,a=r.Base64ImageData,o=Object(_t.d)(a),t.next=7,n.props.doubleConfirmSendPic(o);case 7:case"end":return t.stop()}}),t)}))),300)}))})),_()(n,"quickTemplate",(function(){Object(O.default)("activeQuickPhase"),Qo.getMessageService().openQuickPhase()})),_()(n,"selectVideo",(function(){Object(O.default)("selectVideo"),n.setState({showVideo:!0,sendImageBallonVisible:!1})})),_()(n,"onPhotoBankSelected",(function(e){Object(O.default)("onPhotoBankSelected"),n.sendPhotos(e),n.setState({showPhotoBank:!1})})),_()(n,"sendPhotos",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(O.default)({ext:"fileSelected",bizData:{type:"photobank"}}),r=n.props.contact,t.forEach(function(){var e=h()(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ge.a.buildImageInfo(t),Object.assign(a,{accountIdEncrypt:(null===r||void 0===r?void 0:r.accountIdEncrypt)||"",accountId:(null===r||void 0===r?void 0:r.accountId)||""}),n.props.buildRelationAndSend(a,r,"photoBank",a.mediaInfo.materialType);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.setState({sendImageBallonVisible:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"handleSendFileBallonVisibleChange",(function(e){n.setState({sendFileBallonVisible:e})})),_()(n,"handleSendImageBallonVisibleChange",(function(e){n.setState({sendImageBallonVisible:e})})),_()(n,"selectFromPhotoBank",(function(){Object(O.default)("selectFromPhotoBank"),console.log("yu click"),n.setState({showPhotoBank:!0,sendImageBallonVisible:!1})})),_()(n,"selectProduct",(function(){n.props.toolIconLog("SelectProduct"),n.setState({showProduct:!0})})),_()(n,"selectCatalog",(function(){n.props.toolIconLog("SelectCatalog"),n.setState({showCatalogVisible:!0})})),_()(n,"showLiveDialog",(function(){var e=n.props.contact,t="weblite"===window.host,r=ti.replace("{0}",e.aliId).replace("{1}",window.aliId);I.Dialog.show({height:t?400:600,overflowScroll:!0,title:"",footer:!1,content:o.a.createElement("iframe",{src:r,width:t?400:550,height:t?350:550})})})),_()(n,"showCloudDrive",(function(e){switch(n.setState({cloudDriveVisible:!0,cloudDriveFileType:e,sendImageBallonVisible:!1,sendFileBallonVisible:!1}),"weblite"===window.host&&n.props.EventBus.publish("weblite:windowResize",{type:"show"}),e){case"document":Object(O.default)("2020MC_SendFile_CloudDriveFiles_Click");break;case"media":Object(O.default)("2020MC_SendPhotos_CloudDrivePhotos_Click")}})),_()(n,"contactNotify",(function(e){var t=e.videoSettingImInfo;!t.black&&t.open&&t.existTimeInner?n.setState({disableMeeting:!1}):n.setState({disableMeeting:!0})})),_()(n,"editPersonCard",(function(){return function(){Object(O.default)("2020MC_BusinessCard_Edit"),window.open("https://".concat(D.PROFILE_DOMAIN,"/profile/my_profile.htm?tracelog=catalog"))}})),_()(n,"addressClick",(function(){n.props.showAddress(!0)})),_()(n,"setVisibleOf",(function(e,t){n.setState(_()({},e,t))})),_()(n,"toggleTranslateSettingVisible",(function(e){n.setState({translateSettingVisible:e})})),_()(n,"setTranslateSettingSource",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n.setState({transSettingSource:e,sellerLang:t})})),_()(n,"onProductSelected",(function(e){var t,r;if((null===(t=ni)||void 0===t?void 0:t.callback)&&"function"===typeof(null===(r=ni)||void 0===r?void 0:r.callback))return ni.callback(e),void(ni=null);n.props.sendProduct(e)})),_()(n,"onProductSelectClose",(function(){n.setState({showProduct:!1,sendImageBallonVisible:!1}),ni=null})),_()(n,"onPhotoBankClose",(function(){n.setState({showPhotoBank:!1,sendImageBallonVisible:!1})})),_()(n,"onClickTransSetting",(function(){n.setTranslateSettingSource("toolbar",""),Object(O.default)("2020MC_Translate_Toolbar_Click&source=toolbar&bucket=".concat(ai)),n.props.showTranslateSetting()})),_()(n,"onClickAskForAddress",(function(){Object(O.default)({ext:"clickAskForAddress"}),n.props.askAddress()})),_()(n,"closeAskAddressGuide",(function(){n.setState({showAskAddressGuide:!1}),localStorage.setItem(ri,!0)})),n.state={emotionVisible:!1,tplList:[],saveTplVisible:!1,sendImageBallonVisible:!1,showPhotoBank:!1,showVideo:!1,showProduct:!1,tmplVisible:!1,mediaCallVisible:!1,sendFileBallonVisible:!1,cloudDriveVisible:!1,cloudDriveFileType:"media",disableMeeting:!1,translateSettingVisible:!1,screenshotVisible:!1,moreMenuVisible:!1,showCatalogVisible:!1,showLive:!1,polishTipText:"",polishTipTextShow:!1,assistantTipTextShow:!1,transSettingSource:"toolbar",sellerLang:"",showAskAddressGuide:!localStorage.getItem(ri)},n.askAddressTimer=null,n}return k()(t,e),b()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.contact.conversationType;this.props.onRef(this),Object(A.isSellerLiver)().then((function(t){e.setState({showLive:t})})),this.props.EventBus.on("im-weblite-chat:richTextFocus",(function(){$o.forEach((function(t){e.setVisibleOf(t,!1)}))})),this.props.EventBus.on("commonSelectProduct",(function(t){var n=t.callback;n&&"function"===typeof n&&(ni=t,e.setState({showProduct:!0}))})),this.props.EventBus.on("im-weblite-chat:transSysMsgClick",(function(t){e.setTranslateSettingSource("sysMessage",null===t||void 0===t?void 0:t.language),e.toggleTranslateSettingVisible(!0)})),this.props.EventBus.on("im-weblite-chat:openTranslateSetting",(function(){e.onClickTransSetting()})),2!==t&&Ke.isSellerPWA&&oi&&(this.state.showAskAddressGuide&&(this.askAddressTimer=setTimeout(this.closeAskAddressGuide,5e3)),Object(O.default)({ext:"expAskForAddress"}))}},{key:"componentWillUnmount",value:function(){this.dxSceneMountDOM=null,clearTimeout(this.askAddressTimer)}},{key:"handleGetInputContent",value:function(e){return e&&e.replace(/<[^>]*>/g,"")||""}},{key:"setTplList",value:function(e){this.setState({tplList:e})}},{key:"deleteTpl",value:function(e,t){var n=this;t.stopPropagation(),this.props.operateTpls({data:{params:{ids:[e.id.toString()]},cmd:"delete"},callback:function(){n.getTplList()}})}},{key:"render",value:function(){var e,t,n=this,r=window.IcbuIM.classnames,a=null===(e=this.props.contact)||void 0===e?void 0:e.complianceCountryCode,i=(Ke.isSellerPWA,r({"media-call-list":!0,messenger:Ke.isMessenger,weblite:Ke.isWeblite}),this.props),s=i.contact,c=i.toolbarConfig,l=i.languageInfo,u=i.hideCloudDrive,d=i.onCloudDriveConfirm,p=i.disabledInput,f=i.focusTranslate,m=i.sendTranslateOpen,h=this.state,g=h.tplList,v=h.cloudDriveFileType,y=h.cloudDriveVisible,b=h.transSettingSource,w=(h.showAskAddressGuide,2===s.conversationType),x=r({"scene-layer":!0,messenger:Ke.isMessenger,groupChat:w});return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"send-toolbar ggs-send-toolbar",style:{pointerEvents:p?"none":"auto",borderBottom:f&&m?"1px solid #e7e7e7":""}},-1!==c.indexOf("attachment")&&o.a.createElement("div",{className:"send-tool-icon",onClick:this.props.attachmentClick.bind(this,"File")},o.a.createElement("span",{className:"tool-icon-tip"},Zo.get("sendBox.sendLocalFile.ggs")||"Upload local files and pictures"),o.a.createElement("div",{id:"tool-icon-translate",className:"icon-wrapper"},He.default.ggsUploadIcon)),-1!==c.indexOf("media")&&o.a.createElement(I.Balloon,{trigger:o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("div",{className:"icon-wrapper ".concat(this.state.sendImageBallonVisible?"active":""),onClick:this.props.toolIconLog.bind(this,"Picture")},He.default.ggsCloudDrive)),shouldUpdatePosition:!0,visible:this.state.sendImageBallonVisible,onVisibleChange:this.handleSendImageBallonVisibleChange,align:"t",alignEdge:!0,triggerType:"hover",closable:!1,offset:[0,6],style:{padding:0}},o.a.createElement(I.Menu,null,o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.showCloudDrive.bind(this,"media")},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.ggsDrivePicture),Zo.get("sendBox.sendCloudDrivePhotos.ggs")||"AliCloud drive pictures"),-1!==c.indexOf("attachment")&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.showCloudDrive.bind(this,"document")},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.ggsDriveFile),Zo.get("sendBox.sendCloudDriveFiles.ggs")||"AliCloud Drive files"),Ke.isSellerPWA&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.selectFromPhotoBank},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.ggsPictureBank),Zo.get("sendBox.selectFromPhotoBank.ggs")||"Pictures bank"),Ke.isSellerPWA&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.selectVideo},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.ggsVideoBank),Zo.get("sendBox.selectFromVideo.ggs")||"Video bank"))),-1!==c.indexOf("image")&&o.a.createElement(I.Balloon,{trigger:o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("span",{className:"tool-icon-tip"},Zo.get("sendBox.imageTip")),o.a.createElement("div",{className:"icon-wrapper icon-picture ".concat(this.state.sendImageBallonVisible?"active":"")},He.default.picture)),shouldUpdatePosition:!0,visible:this.state.sendImageBallonVisible,onVisibleChange:this.handleSendImageBallonVisibleChange,align:"weblite"===window.host?"tr":"t",triggerType:"click",closable:!1,offset:[0,6],style:{padding:0}},o.a.createElement(I.Menu,null,o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.props.attachmentClick.bind(this,"Picture")},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.picture),Zo.get("sendBox.sendLocalPhotos")||"Send local photos"),o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.showCloudDrive.bind(this,"media")},o.a.createElement("span",{className:"toolbar-menu-item-icon"},He.default.cloudDrive),Zo.get("sendBox.sendCloudDrivePhotos")||"Send AliCloud Drive photos"))),!w&&-1!==c.indexOf("template")&&o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("span",{className:"tool-icon-tip"},Zo.get("sendBox.templateTip")),o.a.createElement(I.Dialog,{visible:this.state.saveTplVisible,locale:{ok:Xo.get("common.ok"),cancel:Xo.get("common.cancel")},onOk:this.saveTpl,title:Xo.get("chat.saveTpl.title"),onCancel:this.closeSaveTpl,onClose:this.closeSaveTpl},o.a.createElement(I.Input,{size:"large",onChange:this.tplNameChange,placeholder:Xo.get("chat.saveTpl.tip")})),o.a.createElement(I.Dropdown,{shouldUpdatePosition:!0,afterOpen:this.getTplList,triggerType:"click",visible:this.state.tmplVisible,onVisibleChange:this.handleTmplVisibleChange,trigger:o.a.createElement("div",{className:"icon-wrapper icon-tmpl ".concat(this.state.tmplVisible?"active":""),onClick:this.props.toolIconLog.bind(this,"Template")},He.default.ggsQuickReply),offset:[-3,-3]},o.a.createElement("div",{className:"send-tool-tpl-box"},o.a.createElement(I.Menu,{className:"tpl-list",selectMode:"single",onSelect:this.selectTpl,hasSelectedIcon:!1},g.length?g.map((function(e){return o.a.createElement(I.Menu.Item,{className:"tpl-item",key:e.id},o.a.createElement("span",{className:"tpl-name",dangerouslySetInnerHTML:{__html:e.templateName}}),o.a.createElement(I.Icon,{className:"close-tpl",type:"close",size:"xxs",onClick:n.deleteTpl.bind(n,e)}))})):o.a.createElement("p",{className:"tpl-no-data"},Zo.get("sendBox.noTpl"))),o.a.createElement("div",{className:"tpl-save ".concat(this.props.hasContent()?"":"gray"),onClick:this.openSaveTpl},Zo.get("sendBox.saveTpl"))))),-1!==c.indexOf("emotion")&&o.a.createElement(I.Balloon,{triggerType:"hover",align:"t",closable:!1,popupClassName:"tool-icon-tip",offset:[0,6],style:{zIndex:9},trigger:o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement(I.Dropdown,{autoClose:!0,shouldUpdatePosition:!0,afterOpen:this.getTplList,triggerType:"click",visible:this.state.emotionVisible,onVisibleChange:this.handleEmotionVisibleChange,trigger:o.a.createElement("div",{className:"icon-wrapper ".concat(this.state.emotionVisible?"active":""),onClick:this.props.toolIconLog.bind(this,"emotion")},He.default.ggsEmotion),offset:[-3,-3]},o.a.createElement("div",{className:"send-tool-emotion-box"},o.a.createElement(Pe,{onSelected:this.props.onEmotionSelected}))))},o.a.createElement("span",{style:{color:"#fff",backgroundColor:"#333"}},Zo.get("sendBox.emotionTip"))),o.a.createElement(I.Balloon,{trigger:o.a.createElement("div",{className:"send-tool-icon"},o.a.createElement("div",{className:"icon-wrapper"},He.default.ggsMoreMenu)),shouldUpdatePosition:!0,visible:this.state.moreMenuVisible,onVisibleChange:this.handleMoreMenuVisible,triggerType:"hover",align:"t",closable:!1,offset:[0,10],style:{padding:0}},o.a.createElement(I.Menu,null,-1!==c.indexOf("quickTemplate")&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.quickTemplate},o.a.createElement("span",{className:"toolbar-menu-item-icon",style:{marginRight:4}},He.default.ggsQuickPhrase),Zo.get("sendBox.quickPhase")||"快捷短语"),!w&&-1!==c.indexOf("sendproduct")&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.selectProduct},o.a.createElement("span",{className:"toolbar-menu-item-icon",style:{marginRight:4}},He.default.ggsProductCard),Zo.get("sendBox.selectFromProduct")),!w&&-1!==c.indexOf("catelog")&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.selectCatalog},o.a.createElement("span",{className:"toolbar-menu-item-icon",style:{marginRight:4}},He.default.ggsCatalog),Zo.get("sendBox.selectCatalog")||"发送产品目录"),!w&&this.state.showLive&&Ke.isSellerPWA&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.showLiveDialog},o.a.createElement("span",{className:"toolbar-menu-item-icon",style:{marginRight:4}},He.default.ggsLiveShare),Zo.get("sendBox.showlive")||"直播分享"),o.a.createElement("div",{style:{backgroundColor:"#DDD",height:"1px",margin:"4px 6px"}}),-1===location.href.indexOf("weblitePWA")&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item"},o.a.createElement("span",{className:"toolbar-menu-item-icon",style:{marginRight:4}},He.default.ggsBussinessCard),o.a.createElement(I.Dropdown,{autoClose:!0,className:x,shouldUpdatePosition:!0,align:"bl tc",triggerType:"click",visible:this.props.sceneLayerVisible,offset:[-10,-10],onVisibleChange:this.props.handleSceneVisibleChange,trigger:o.a.createElement("div",{className:"icon-wrapper ".concat(this.props.sceneLayerVisible?"active":""),onClick:this.props.toolIconLog.bind(this,"BusinessCard")},Zo.get("sendBox.personCard"))},o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"dx-dom",ref:function(e){return n.dxSceneMountDOM=e}}),o.a.createElement(I.Icon,{type:"close",className:"close",size:"xs",onClick:this.props.handleSceneVisibleChange.bind(this,!1)}),o.a.createElement("div",{className:"actions"},Ve(qe,{actions:[{params:{},actionName:"Edit",handler:this.editPersonCard},{params:{contactLoginId:this.props.contact.memberId,contactAccountIdEncrypt:this.props.contact.loginIdEncrypt,chatScene:"exhibition"===Fe(location.href,"bizType")?"EXHIBITION":""},actionName:"Send",handler:this.props.sendPersonCard}]}))))),!w&&-1===location.href.indexOf("weblitePWA")&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.addressClick},o.a.createElement("span",{className:"toolbar-menu-item-icon",style:{marginRight:4}},He.default.address),Zo.get("sendBox.address")),!w&&Ke.isSellerPWA&&oi&&o.a.createElement(I.Menu.Item,{className:"toolbar-menu-item",onClick:this.onClickAskForAddress},o.a.createElement("span",{className:"toolbar-menu-item-icon",style:{marginRight:4}},He.default.ggsAskForAddress),Zo.get("sendBox.askForAddress")||"获取买家地址")))),o.a.createElement(I.Dialog,{visible:this.state.saveTplVisible,locale:{ok:Xo.get("common.ok"),cancel:Xo.get("common.cancel")},onOk:this.saveTpl,title:Xo.get("chat.saveTpl.title"),onCancel:this.closeSaveTpl,onClose:this.closeSaveTpl},o.a.createElement(I.Input,{size:"large",onChange:this.tplNameChange,placeholder:Xo.get("chat.saveTpl.tip")})),o.a.createElement(mt,{visible:this.state.translateSettingVisible,onClose:this.toggleTranslateSettingVisible.bind(this,!1),onConfirm:this.props.translateSettingConfirm,languageInfo:l,source:b,sellerLang:this.state.sellerLang,reportFatigue:this.props.reportFatigue}),o.a.createElement("div",{className:"im-cloud-drive"},o.a.createElement(Go,{channel:"messenger",isGroupChat:w,fileType:v,onOk:d,onClose:u,visible:y,showOptions:!1,showSelection:!0,maxSelectCount:9})),o.a.createElement(Oe,{isPopup:!0,visible:this.state.showCatalogVisible,onClose:function(){return n.setState({showCatalogVisible:!1})},callback:this.props.sendCatalog}),o.a.createElement(Ae,{visible:this.state.showVideo,isWidescreen:!0,config:{availableStatus:"approved",videoMappingLimit:!1},title:"只有审核通过可选",callback:this.props.sendVideo,onClose:function(){n.setState({showVideo:!1})}},o.a.createElement("span",null)),o.a.createElement(_e,{visible:this.state.showPhotoBank,callback:this.onPhotoBankSelected,onClose:this.onPhotoBankClose,config:{limit:6}},o.a.createElement("span",null)),o.a.createElement(Ie,{visible:this.state.showProduct,config:{mostSelectNum:(null===(t=ni)||void 0===t?void 0:t.maxSelectCount)||9,asyncQueryUrl:"/product/managementproducts/asyQueryProductsList.do",params:{ignoreMember:"yes",displayStatus:"on"}},filters:{status:{value:"approved"},boutiqueTag:{visible:!0},isPrivate:{value:"false"},isPublic:{value:"false"},repositoryType:{value:"public"},displayStatus:{value:"on"},trafficId:{value:a||""}},title:Xo.get("chat.sendProduct"),callback:this.onProductSelected,onClose:this.onProductSelectClose},o.a.createElement("span",null)))}}])}(o.a.Component),si=ii,ci=n(196),li=n.n(ci);function ui(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ui=function(){return!!e})()}n.p=Object(pe.e)("im-weblite-chat");var di=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,565))})),pi=window.IcbuIM.IMSDKHelper.isAlisupplier,fi=window.IcbuIM.lib.I18N.createI18N,mi=fi({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),hi=fi({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),gi=window.clouddiskServerDomain||D.CLOUDDISK_DOMAIN,vi="//".concat(gi,"/file/uploadFile.htm"),yi=function(e){function t(){return v()(this,t),e=this,n=t,r=arguments,n=E()(n),x()(e,ui()?Reflect.construct(n,r||[],E()(e).constructor):n.apply(e,r));var e,n,r}return k()(t,e),b()(t,[{key:"render",value:function(){var e,t,n,r,i=this,s=this.props,c=s.host,l=s.quoteItem,u=s.languageInfo,d=s.groupMembersCache,p=s.aiEnableCommandMap,f=s.generateSession,m=void 0===f?{}:f,h=this.props.toolbar,g=u.sendTranslateOpen,v=u.sendTranslateTargetLang,y=this.state,b=y.canReply,w=y.uploadConfig,x=y.translateSourceText,C=y.isInputTranslating,E=y.hotKeyEnter,S=y.isAssistantAccount,k=this.props.summaryData.contact,T=m[k.aliId]||{},_=T.generateVisible,O=T.executeCommand,A=_||S,D=!1;if(p){var M=Object.values(p).filter((function(e){return e}));D=Object(X.a)()?M.length>0&&!p.summaryHide:M.length>0}var N=!b&&D,P=Object(ie.COMMAND_ENABLE_PLACEHOLDER)(),L=S?hi.get("assistant.sendBox.placeHolder")||"接待助理Eva暂不支持输入":N?P:"";null!==(e=this.textarea)&&void 0!==e&&e.setPlaceholder&&this.textarea.setPlaceholder(L);var R={textarea:this.textarea,sendBoxNode:this.sendInputAreaNode,isSimpleEditor:this.isSimpleEditor,quickTemplateRange:this.quickTemplateRange,divideContentUsingCommandPrefix:this.divideContentUsingCommandPrefix,checkAIPay:this.checkAIPay.bind(this),clearMatchCommand:this.clearMatchCommand,getContent:this.getContent},F=o.a.createElement(hr,{isOldStyle:!0,commandEnable:D,placeholder:L,contact:k,onRef:this.onSendRef,onInput:this.onInput,send:this.send,handlePaste:this.handlePaste,hasRichTextDraft:this.props.hasRichTextDraft,onMaximize:this.props.onMaximize,keyDownSubscriber:this.onKeyDown,disabledInput:A,hotKeyEnter:E,readOnly:S,isAssistantAccount:S,host:this.props.host,isGGS:he()});return o.a.createElement("div",{className:"send-box-wrapper ".concat(this.props.className||""),ref:function(e){i.sendBoxNode=e}},_&&"on-send-box-top"===(null===(t=ie.ALL_COMMANDS[O])||void 0===t?void 0:t.panelPosition)&&o.a.createElement(Lr,{setContent:this.setGenerateContent,cancelGenerateContent:this.cancelGenerateContent,restartAIQuery:this.restartAIQuery,getContent:this.getContent,divideContentUsingCommandPrefix:this.divideContentUsingCommandPrefix}),o.a.createElement(li.a,{showCommandsEntry:Ke.isSellerPWA&&D,isSellerPWA:Ke.isSellerPWA,commandEnable:D,canReply:this.state.canReply,isAssistantAccount:S,EventBus:this.props.EventBus,contact:k,hasRichTextDraft:this.props.hasRichTextDraft,onMaximize:this.props.onMaximize,getContent:this.getContent,isSimpleEditor:this.isSimpleEditor,showRichText:this.props.showRichText}),l&&o.a.createElement(Z,{quoteItem:l,generateStructQuoteContent:this.generateStructQuoteContent,onClose:this.closeQuoteMessage,groupMembers:d,isGGS:he()}),o.a.createElement(o.a.Fragment,null,g&&o.a.createElement("div",{className:"translate-container new-translate-container"},o.a.createElement("div",{className:"click-area",onClick:this.onLangTranslateClick},He.default.translate2,!C&&!x&&o.a.createElement("span",{className:"target-lang"},hi.get("language.".concat(v.toLowerCase()))||v.toLowerCase())),o.a.createElement(I.Icon,{type:"arrow-right",size:"xs",className:"arrow-right"}),o.a.createElement("div",{className:"input-content ".concat(this.props.host),ref:function(e){i.translateSendInputAreaNode=e}},o.a.createElement(I.Input.TextArea,{ref:function(e){return i.autoTranslateInput=e},rows:null,placeholder:hi.get("translate.input.placeholder")||"Translate to",value:C?"...":x,onChange:this.onTranslateInputChange,disabled:A,onBlur:this.onTranslateInputBlur}),o.a.createElement("pre",{className:"textarea-fake"},x))),o.a.createElement("div",{className:"send-input-areas ".concat(g?"no-border-top":""),style:{display:_&&"on-send-box-inner"===(null===(n=ie.ALL_COMMANDS[O])||void 0===n?void 0:n.panelPosition)?"none":"block"},ref:function(e){i.sendInputAreaNode=e}},this.showRichInput()?o.a.createElement(a.Suspense,{fallback:F},o.a.createElement(di,{degrade:this.degrade,contact:k,onRef:this.onSendRef,beforeUpload:this.beforeUpload,onInput:this.onInput,send:this.send,handlePaste:this.handlePaste,keyDownSubscriber:this.keyDownSubscriber,blurSubscriber:this.blurSubscriber,EventBus:this.props.EventBus,placeholder:L,hotKeyEnter:E,disabledInput:A})):F,o.a.createElement("div",{className:"send-btn-bar"},o.a.createElement(si,{onRef:this.onToolbarRef,sceneLayerVisible:this.state.sceneLayerVisible,toolbarConfig:h,operateTpls:this.props.operateTpls,setContent:this.setContent,hasContent:this.hasContent,toolIconLog:this.toolIconLog,onEmotionSelected:this.onEmotionSelected,sendVideo:this.sendVideo,sendFile:this.sendFile.bind(this),buildRelationAndSend:this.buildRelationAndSend.bind(this),sendMessage:this.props.sendMessage,sendProduct:this.sendProduct,ifShowCallingInlet:this.ifShowCallingInlet,contact:k,handleSceneVisibleChange:this.handleSceneVisibleChange,sendPersonCard:this.sendPersonCard,showAddress:this.props.showAddress,attachmentClick:this.attachmentClick,handleMediaCallVisibleChange:this.handleMediaCallVisibleChange,createOnlineMeeting:this.createOnlineMeeting,showTranslateSetting:this.showTranslateSetting,translateSettingConfirm:this.translateSettingConfirm,languageInfo:u,EventBus:this.props.EventBus,hideCloudDrive:this.hideCloudDrive,onCloudDriveConfirm:this.onCloudDriveConfirm,getContent:this.getContent,onMaximize:this.props.onMaximize,sendCatalog:this.sendCatalog,beforeUpload:this.beforeUpload,doubleConfirmSendPic:this.doubleConfirmSendPic,disabledInput:A,isSimpleEditor:this.isSimpleEditor,canReply:this.state.canReply,commandEnable:D,focusTranslate:this.state.focusTranslate,sendTranslateOpen:g,reportFatigue:this.props.reportFatigue,askAddress:this.askAddress,isAssistantAccount:S}),o.a.createElement("div",{className:"send-btn-wrapper"},"messenger"===c&&o.a.createElement("p",{className:"enter-tip ggs-enter-tip"},pi?E?hi.get("chat.seller.enterTip"):hi.get("chat.seller.enterTip2"):hi.get("chat.enterTip")),o.a.createElement(I.Button,{type:"primary",size:"medium",className:"send-tool-button ".concat(b&&!A?"":"gray"),disabled:C||A||!b,onClick:this.send},mi.get("chat.send")))))),_&&"on-send-box-inner"===(null===(r=ie.ALL_COMMANDS[O])||void 0===r?void 0:r.panelPosition)&&o.a.createElement("div",{className:"ai-pannel-inner-wrapper"},o.a.createElement(Lr,{setContent:this.setGenerateContent})),2===k.conversationType&&o.a.createElement(oe,{ref:function(e){return i.atMemberBox=e},alignTarget:this.sendBoxNode,groupMembers:d,addSelectAtMember:this.addSelectAtMember}),o.a.createElement(Te,{safeNode:this.textarea,alignTarget:this.sendInputAreaNode,searchKeyword:this.state.matchedCommandKeyword,onCommandSelect:function(e){i.onCommandSelect(e)},commandExtraProps:R}),o.a.createElement(I.Upload,U()({style:{display:"none"},ref:function(e){return i.upload=e},action:vi,data:this.getUploadParams(),beforeUpload:this.beforeUploadHandle,formatter:this.uploadFormatter},w),o.a.createElement("button",{ref:function(e){return i.uploadIcon=e},style:{display:"none"}})),S?o.a.createElement("div",{className:"disable-mask"}):null)}}])}(No);var bi=Object(c.connect)((function(e){return{sessionData:e.messageBox.sessionData,summaryData:e.messageBox.summaryData,cloudCsrf:e.messageBox.cloudCsrf,placeholder:e.messageBox.inputPlaceholder,languageInfo:e.translate.languageInfo,buyerEvaluation:e.messageBox.buyerEvaluation,groupMembersCache:e.messageBox.groupMembersCache,ffmpegLoaded:e.messageBox.ffmpegLoaded,compressRatio:e.messageBox.compressRatio,aiEnableCommandMap:e.messageBox.aiEnableCommandMap,generateSession:e.messageBox.generateSession,globalGrayMap:e.globalEnv.globalGrayMap,transABTest:e.translate.transABTest}}),(function(e){return{sendMessage:function(t){e({type:"messageBox/sendMessage",payload:t})},operateTpls:function(t){e({type:"messageBox/operateTpls",payload:t})},buildItems:function(t){e({type:"messageBox/buildItems",payload:t})},updateItem:function(t){e({type:"messageBox/updateItem",payload:t})},updateItemByKey:function(t){e({type:"messageBox/updateItemByKey",payload:t})},setPlaceholder:function(t){e({type:"messageBox/setPlaceholder",payload:t})},removeItemByKey:function(t){e({type:"messageBox/removeItemByKey",payload:t})},createMeetingAndUser:function(t){e({type:"messageBox/createMeetingAndUser",payload:t})},saveLanguageInfo:function(t){e({type:"translate/saveLanguageInfo",payload:t})},sendEvaluationCard:function(t){e({type:"messageBox/sendEvaluationCard",payload:t})},setCompressRatio:function(t){e({type:"messageBox/setCompressRatio",payload:t})},compressVideo:function(t){e({type:"messageBox/compressVideo",payload:t})},generatingText:function(t){e({type:"messageBox/generatingText",payload:t})},startGenerate:function(t){e({type:"messageBox/startGenerate",payload:t})},endGenerate:function(t){e({type:"messageBox/endGenerate",payload:t})},getPhrase:function(t){e({type:"quickPhrase/getQuickPhrase",payload:t})},reportFatigue:function(t){e({type:"translate/reportFatigue",payload:t})},setAiTriggerAutoReply:function(t){e({type:"messageBox/setAiTriggerAutoReply",payload:t})}}}))(yi);function wi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return xi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ci(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ci=function(){return!!e})()}function Ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.p=Object(pe.e)("im-weblite-chat");var ki,Ti=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,565))})),_i=window.IcbuIM.IMBaaSSDK.default,Ii=window.IcbuIM.PCSDK,Oi=window.IcbuIM.IMBaaSSDK.EventNameEnum,Ai=window.IcbuIM.IMSDKHelper,Di=Ai.isWorkbench,Mi=Ai.getMessageId,Ni=Ai.isAlisupplier,Pi=Ai.getChannel,Li=Ai.isMac,Ri=window.IcbuIM.UserUtil,Fi=Ri.currentUser,ji=Ri.getLocale,Bi=Ri.getLoginIdAsync,zi=Ri.getAccountId,qi=window.IcbuIM.CommonUtil.safetyStringify,Vi=window.IcbuIM.lib,Ui=Vi.Utils,Hi=Vi.generateTraceId,Wi=window.IcbuIM.lib.I18N.createI18N,Gi=Wi({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),Ki=Wi({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),Ji=Wi({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","chat")}),Zi=window.clouddiskServerDomain||D.CLOUDDISK_DOMAIN,Xi="//".concat(Zi,"/file/uploadFile.htm"),Yi="image/png, image/jpg, image/jpeg, image/gif, image/bmp, image/webp",Qi=".mp4, .mpg, .mpeg, .avi, .wmv, .mov, .swf",$i={prefix:"next-",method:"post",multiple:!0,maxSize:52428800,withCredentials:!0,accept:"".concat(Yi,",").concat(Qi,",").concat("application/pdf, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation,.doc, .docx, .xls, .xlsx, .ppt, .pptx, .txt, .rar, .zip,.dwg, .dwt, .dxf, .arj, .igs, .stl, .slprt, .numbers, .key, .wps, .page, .fdf, .frt, .mar, .jpe, .tif, .fax, .mp3, .rm, .rmvb, .ram, .fla, .flc, .flv, .gl, .m3d, .mkv, .mpe, .psd, .ai, .7z, .iso, .cad, .cdr, .drw, .mpp, .2d, .3d, .sketch, .csv, .xml, .step")},es=Si(Si({},$i),{},{accept:Yi});Bi().then((function(e){ki=e}));var ts,ns,rs,as,os=2e3,is=Ui.getBrowser(),ss=100015,cs=10011,ls={richTextCard:2030,fileCard:2031,richSnippetsCard:63},us=!0,ds=null,ps=null,fs=null,ms=window.__APLUS_ABRATE__||{},hs="messenger_send_draft_",gs="messenger_send_rich_text_draft_",vs="simple",ys="rich",bs="/",ws="onTranslateInput",xs=null,Cs=function(e){function t(e){var n,r,a,i,c,l;return v()(this,t),r=this,a=t,i=[e],a=E()(a),n=x()(r,Ci()?Reflect.construct(a,i||[],E()(r).constructor):a.apply(r,i)),_()(n,"handleMediaCallVisibleChange",(function(e,t){var r=n.props.extraInfo,a=(void 0===r?{}:r).source,o=void 0===a?"":a;"fromContent"!==t&&(n.toolbarComp.setVisibleOf("mediaCallVisible",e),e&&Object(O.default)("2020MC_CallMenu_Show&from=".concat(o)))})),_()(n,"isSimpleEditor",(function(){return n.state.inputType===vs})),_()(n,"selectPhrase",(function(e){Object(O.default)({ext:"receiveQuickPhaseSearch",bizData:{hasContent:!!e,hasRange:!!n.quickTemplateRange,content:e}});var t=e;n.quickTemplateRange?n.quickTemplateRange.deleteContents():(n.quickTemplateRange=new Range,Object(O.default)({ext:"receiveQuickPhaseError",bizData:{hasRange:!1,content:e}})),(n.canUseOldStyle()||xs)&&(t=t.replace(/[\r\n]/g,'<br class="quick-phase-br">')),n.setContent(t,!0,!0),n.textarea.focus(),n.clearMatchCommand()})),_()(n,"insertPhraseContent",(function(e){var t=n.props,r=t.generateSession,a=e;((void 0===r?{}:r)[t.summaryData.contact.aliId]||{}).generateVisible||(Object(O.default)({ext:"receiveQuickPhase",bizData:{hasContent:!!e,hasRange:!!n.quickTemplateRange,canUseOldStyle:n.canUseOldStyle(),focusTranslateDesc:xs,content:e,scene:2}}),(n.canUseOldStyle()||xs)&&(a=a.replace(/[\r\n]/g,'<br class="quick-phase-br">')),a=Ge.a.converEmoIdToImageInContent(a),n.setContent(a,!0,!0))})),_()(n,"handleResizeInput",(function(e){rs=e.clientY,as=ts.clientHeight,document.addEventListener("mousemove",n.resize)})),_()(n,"resize",(function(e){document.querySelectorAll("iframe").forEach((function(e){return e.classList.add("__pointer-events-none")}));var t=as-e.clientY+rs;t>400||t<100||(ts.style.height=t+"px",window.EventBus.publish("resize",ts.style.height))})),_()(n,"stopResize",(function(){document.querySelectorAll("iframe").forEach((function(e){return e.classList.remove("__pointer-events-none")})),document.removeEventListener("mousemove",n.resize)})),_()(n,"sendFileFromXiaoman",(function(e){(e||{}).data.map((function(e){return{size:+e.nodeSize,name:e.nodeName,materialType:e.materialType,uid:e.md5,md5:e.md5}})).forEach((function(e){n.beforeUpload(e,!0)}))})),_()(n,"sendCardFromXiaoman",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("richSnippetsCard"===e.type){var r,a=Hi(),o=n.props.summaryData.contact;return Ke.isSellerPWA&&(r="pwa_s","xiaoman"===Ui.getUrlVars().from&&(r="pwa_xiaoman")),void n.props.sendMessage({data:{content:e.data.content,msgType:ls.richSnippetsCard,accountId:o.accountId,accountIdEncrypt:o.accountIdEncrypt,clientVersion:r},traceId:a,contentType:"richText",callback:function(e){1*e.code===200?null===t||void 0===t||t.resolve(e):null===t||void 0===t||t.reject(e)}})}n.props.sendMessage({data:{cardType:ls[e.type],mediaInfo:Object.assign({type:ls[e.type]},e.data),msgTrigger:"xiaoman_rich_text_button"}})})),_()(n,"showAcceptDialog",(function(){var e=n.props.EventBus,t=I.Dialog.show({style:{width:"490px"},needWrapper:!1,title:Ki.get("translate.alibabaTranslte")||"Alibaba Translation",content:o.a.createElement("p",{className:"accept-content"},Ki.get("translate.pleaseAccept")||"Please accept the ",o.a.createElement("a",{className:"agreement-link",href:"https://m.alibaba.com/mobile/zh-Hans/alibaba_real_time_translation.html",rel:"noreferrer",target:"_blank"},Ki.get("translate.agreementLink")||"Alibaba Translate User Agreement")),footer:o.a.createElement("div",{className:"accept-footer"},o.a.createElement(I.Button,{type:"primary",size:"medium",className:"agreement-accept-btn",onClick:function(){n.translateSettingConfirm({receiveTranslateAgreement:!0},(function(){e.publish("agreement-accepted")})),t.hide()}},Ki.get("translate.accept")||"accept"))})})),_()(n,"triggerAutoReply",(function(e,t){var r,a=(null!==(r=null===t||void 0===t?void 0:t.extraInfo)&&void 0!==r?r:{}).fromScene;Object(A.autoTriggerReplyGeneration)({contactAliId:e,scene:a}).then((function(e){var r=e.data,o=r.data;if(0===r.code){var i,s=(null===wr.EVA_TRIGGER_SCENE||void 0===wr.EVA_TRIGGER_SCENE?void 0:wr.EVA_TRIGGER_SCENE.includes(a))?n.state.isEvaAssistantExp&&o:o;n.props.setAiTriggerAutoReply(s);var c=n.getContent({format:"text"});s&&window.EventBus.publish("im-weblite-chat:startCommand",{commandName:"merchant_assistant_reception",content:c,isSimpleEditor:n.isSimpleEditor(),from:a&&"locateConv"!==a?a:"autoTrigger",time:Object(ie.getHighPrecisionTimestamp)()||1e3*Date.now(),extraInfo:null!==(i=null===t||void 0===t?void 0:t.extraInfo)&&void 0!==i?i:{}})}}))})),_()(n,"addSelectAtMember",(function(e){var t=e.uid,r=e.defaultNick;n.selectAtMembers[r||t]=Si({},e),n.setContent("".concat(r||t,"`"),!0,!0),setTimeout((function(){n.textarea.focusEnd()}),300)})),_()(n,"clearSelectAtMember",(function(){n.selectAtMembers={}})),_()(n,"canReply",(function(){return n.hasContent()})),_()(n,"isOldSendInput",(function(){return"base"===n.props.transABTest||"control"===n.props.transABTest})),_()(n,"canUseOldStyle",(function(){return!Ke.isPureMessenger||!n.props.languageInfo.sendTranslateOpen||n.isOldSendInput()})),_()(n,"hasContent",(function(){return n.canUseOldStyle()?n.textarea&&n.textarea.hasContent():n.textarea&&n.textarea.hasContent()||(null===(e=n.autoTranslateInput)||void 0===e?void 0:e.getInputNode().value);var e})),_()(n,"getContent",(function(){return n.canUseOldStyle()?n.textarea.getContent():n.textarea.getContent()||n.getTranslateSrcContent()||""})),_()(n,"setContent",(function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.canUseOldStyle()||xs?null===(t=n.textarea)||void 0===t||t.setContent(Ui.decodeHTML(e),a):n.onTranslateInput(Ui.decodeHTML(e),null,{saveDraft:r,append:a});r&&n.saveDraft(),n.setState({canReply:n.canReply()})})),_()(n,"setContentWithTranslate",(function(e){var t,r=e.value,a=e.translatedValue,o=void 0===a?"":a,i=e.saveDraft,s=void 0===i||i,c=e.append,l=void 0!==c&&c;(n.onTranslateInput(Ui.decodeHTML(r),null,{saveDraft:s,translateDisable:!0}),o)&&(null===(t=n.textarea)||void 0===t||t.setContent(Ui.decodeHTML(o),l));s&&n.saveDraft(),n.setState({canReply:n.canReply()})})),_()(n,"cleanContent",(function(){n.canUseOldStyle()?(n.setContent("",!1),n.autoTranslateInput&&(n.setState({translateSourceText:""}),n.autoTranslateInput.getInputNode().value="")):(n.autoTranslateInput&&(n.autoTranslateInput.getInputNode().value=""),n.setContent("",!1))})),_()(n,"onInput",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=n.canReply();t!==n.state.canReply&&n.setState({canReply:t}),e&&n.saveDraft(),n.textarea.getContent()&&n.props.clearDelayTimeout()})),_()(n,"keyDownSubscriber",(function(e){var t,r,a=e.nativeEvent||e,o=a.code,i=a.shiftKey,s="sendTransTextArea"===(null===e||void 0===e||null===(t=e.nativeEvent)||void 0===t||null===(r=t.target)||void 0===r?void 0:r.id);xs=!s;var c="Digit2"===o;n.atMemberBoxController(i&&c);var l=/Slash|NumpadDivide|Divide/.test(o);n.startMatchCommand(!i&&l,s)})),_()(n,"blurSubscriber",(function(){Object(ie.checkSellerCommandSupported)()||n.clearMatchCommand()})),_()(n,"atMemberBoxController",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];2===n.props.summaryData.contact.conversationType&&(e?n.atMemberBox.activeAtMemberBox():n.atMemberBox.hideAtMemberBox())})),_()(n,"checkOldQuickPhaseSupported",(function(){return Ni&&n.state.inputType===ys&!fe()})),_()(n,"clearMatchCommand",(function(){n.quickTemplateRange=null,Object(ie.checkBuyerCommandSupported)()||Object(ie.checkSellerCommandSupported)()?n.setState({matchedCommandKeyword:{keyword:"",timeStamp:Date.now()}}):n.checkOldQuickPhaseSupported()&&_i.getMessageService().searchQuickPhase({action:"hide",content:""})})),_()(n,"getContact",(function(e){var t,n;return null!==(t=null===e||void 0===e||null===(n=e.summaryData)||void 0===n?void 0:n.contact)&&void 0!==t?t:{}})),_()(n,"restartAIQuery",h()(regeneratorRuntime.mark((function e(){var t,r,a,o,i,s,c,l,u,d,p,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:{},r=n.props,a=r.startGenerate,o=r.summaryData,i=r.generateSession,s=void 0===i?{}:i,c=o.contact,l=(void 0===c?{}:c).aliId,u=s[l]){e.next=7;break}return e.abrupt("return");case 7:return d=u.executeCommand,p=u.queryId,e.next=10,n.checkAIPay(d);case 10:if(e.sent){e.next=13;break}return e.abrupt("return");case 13:a({params:t,queryId:p,commandName:d});case 14:case"end":return e.stop()}}),e)})))),_()(n,"divideContentUsingCommandPrefix",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bs,t=n.state.inputType===vs,r="",a=n.textarea.getContent();if(-1===a.indexOf(e))return{contentParts:{contentBefore:a,contentAfter:r}};if(t){var o=a.lastIndexOf(e);return{contentParts:{contentBefore:a.substring(0,o),contentAfter:r=a.substring(o+1)}}}var i=new Range;if(n.quickTemplateRange){var s=n.quickTemplateRange.endContainer;i.setStart(s,n.quickTemplateRange.endOffset),n.textarea.focusEnd();var c=n.textarea.getSelection();i.setEnd(c.endContainer,c.endOffset)}return window.tinyMCE.activeEditor.selection.setRng(i),r=(r=window.tinyMCE.activeEditor.selection.getContent()).replace(/<br *\/?>/gi,"\n").replace(/<p>|<\/p>/g,""),{contentParts:{contentBefore:(a=a.replace(/<br *\/?>/gi,"\n").replace(/<p>|<\/p>/g,"")).replace(r,""),contentAfter:r}}})),_()(n,"onCommandSelect",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props.summaryData.contact,a=void 0===r?{}:r,console.log("onCommandSelect",t),e.t0=t,e.next=e.t0===ie.ALL_COMMAND_KEY_MAP.summary?5:10;break;case 5:return n.clearMatchCommand(),n.cleanContent(),n.cleanDraft(a.accountId),n.props.generateAIFakeMsg(null,{},"command"),e.abrupt("break",10);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"setMatchCommandKeyword",(function(e,t,r){var a=n.state.inputType===vs;if(Object(ie.checkBuyerCommandSupported)()){if(0!==t)return;n.setState({matchedCommandKeyword:{keyword:e,timeStamp:Date.now()}})}else{if(Object(ie.checkSellerCommandSupported)()){var o=e;return a&&e.indexOf(bs)>-1&&(o=bs),void n.setState({matchedCommandKeyword:{keyword:o,timeStamp:Date.now()}})}n.checkOldQuickPhaseSupported()&&_i.getMessageService().searchQuickPhase({action:"active",content:e.slice(1),position:n.sendBoxNode.getBoundingClientRect()})}})),_()(n,"startMatchCommand",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(){};r=n.state.inputType===vs?function(){var e=t?n.state.translateSourceText.trim():n.textarea.getContent().trim(),r=e.indexOf(bs),a=e.substring(r);-1!==r?n.setMatchCommandKeyword(a,r,e):n.clearMatchCommand()}:function(){var t=n.textarea.getSelection();if(t){if(e)return n.quickTemplateRange=new Range,n.quickTemplateRange.setStart(t.startContainer,t.startOffset-1),n.quickTemplateRange.setEnd(t.endContainer,t.endOffset),void n.setMatchCommandKeyword(bs);if(n.quickTemplateRange){var r=t.endContainer,a=t.endOffset,o=t.commonAncestorContainer,i=n.quickTemplateRange,s=i.endContainer,c=i.startContainer,l=i.startOffset,u=i.commonAncestorContainer;if(r===c&&a===l)return void n.clearMatchCommand();if(n.quickTemplateRange.setEnd(r,a),o===u&&r===s){var d=n.quickTemplateRange.toString();d[0]===bs?n.setMatchCommandKeyword(d):n.clearMatchCommand()}else n.clearMatchCommand()}}},n.throttle(r,200)})),_()(n,"isInSANegotiation",(function(){var e,t,r,a;return null===(e=n.props)||void 0===e||null===(t=e.summaryData)||void 0===t||null===(r=t.contact)||void 0===r||null===(a=r.tagInfoDetail)||void 0===a?void 0:a.some((function(e){return 10===e.tagType}))})),_()(n,"send",(function(){var e,t,r,a,o=n.props,i=o.referData,s=o.summaryData,c=s.contact||{},l=c.contact,u=void 0===l?{}:l,d=c.owner,p=void 0===d?{}:d,f=n;if(Object(O.default)({ext:"2020MC_Messange_Send_Click",index2:u.aliId,index1:p.aliId,operateType:"send",bizData:{}}),n.canReply()){var m;if(n.isInSANegotiation()&&us)return ds=I.Dialog.show({title:Ji.get("sa_negotiation.stop.task")||"Do you want to end the communication process with this supplier?",content:Ji.get("sa_negotiation.stop.note")||"The SA is helping with negotiating between you Nana. If you send  message, your TANDAN task will be terminated.",locale:{ok:Ji.get("sa_negotiation.cancel")||"Continue",cancel:Ji.get("sa_negotiation.send")||"Leave"},onOk:function(){var e;us=!1,n.send(),Object(O.default)({ext:"SA_NEGOTIATION_STOP_PUPUP_OK",index2:u.aliId,index1:p.aliId,bizData:{cid:null===s||void 0===s||null===(e=s.contact)||void 0===e?void 0:e.cid}})},onCancel:function(){var e;Object(O.default)({ext:"SA_NEGOTIATION_STOP_PUPUP_CANCEL",index2:u.aliId,index1:p.aliId,bizData:{cid:null===s||void 0===s||null===(e=s.contact)||void 0===e?void 0:e.cid}})},footerActions:["cancel","ok"]}),Object(O.default)({ext:"SA_NEGOTIATION_STOP_PUPUP_SHOW",index2:u.aliId,index1:p.aliId,bizData:{cid:null===s||void 0===s||null===(m=s.contact)||void 0===m?void 0:m.cid}}),void(us=!1);null===(e=ds)||void 0===e||e.hide();var h=n.getContent();if(h=null===(t=h=Ge.a.convertImageToEmoKey(h))||void 0===t||null===(r=t.replace(/<br *\/?>/gi,"\n"))||void 0===r||null===(a=r.replace(/<br\s+class="quick-phase-br"\s*\/?>/g,"\n"))||void 0===a?void 0:a.replace(/<p>|<\/p>/g,""),h=n.replaceImg(h)){if(Ge.a.onlySpace(h))return n.setState({canReply:!1}),void We.default.error(Ki.get("session.verify.onlySpace")||"不允许发送空内容");if(Ge.a.getPureText(h).length>3e3)return void We.default.error(Gi.get("session.verify.overLimit")||"字符数不超过3000");n.sending||(n.sending=!0,n.sendText(h))}if(i){var g=54==i.msgType?3:9;i.fromOrder?Object(O.default)("2020MC_InviteSellerStartOrder_Send&".concat(i.bizId,"&cardType=").concat(g)):Object(O.default)("2020MC_InputBoxQuoteCard_Send&bizId=".concat(i.bizId,"&cardType=").concat(g)),Ke.isSellerPWA&&"xiaoman"===Ui.getUrlVars().from&&(i.clientVersion="pwa_xiaoman");var v=Object.assign({},i),y={cardType:3===g?os:g,mediaInfo:Si({ids:i.content,ctime:Date.now(),country:ji().country},i.cardParams||{})};v=Object.assign({},i,y),i.strategy&&i.strategy.length>0&&Object(O.default)("sendMessageWithStrategy&strategy=".concat(i.strategy)),n.props.sendMessage({data:v,callback:function(e){f.sendMessageCallback(e,i.content)}})}n.requestNotificationPermission()}})),_()(n,"afterTranslateMsgSend",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.state.translateSourceText,r=e.messageId||e.opId;r&&t&&(Qr.db.add([{messageId:1*r,content:t}]),n.setState({translateSourceText:""}))})),_()(n,"generateStructQuoteContent",(function(){var e=n.props,t=e.quoteItem,r=(void 0===t?{}:t).originalData,a=void 0===r?{}:r;return(0,e.transferStructMsgToTextContent)(a)})),_()(n,"saveDraft",(function(){var e=n.props.summaryData.contact;if(e.accountId){var t="".concat(e.accountId);localStorage.setItem("".concat(hs).concat(t),n.getContent()),n.syncRichDraft(t)}})),_()(n,"syncRichDraft",(function(e){if(n.canUseOldStyle())localStorage.setItem("".concat(gs).concat(e),n.getContent());else{var t=n.getTranslateSrcContent()||n.getContent();localStorage.setItem("".concat(gs).concat(e),t)}})),_()(n,"getUploadParams",(function(){var e=n.props,t=e.summaryData.contact,r=e.cloudCsrf;return _()({sceneType:1,idType:103,to:t&&t.accountIdEncrypt},r.parameterName,r.token)})),_()(n,"fakeCardStyleFix",(function(e){var t=document.getElementById(e);if(t&&"true"!==t.getAttribute("fake-render")){var n=t.parentElement;n.className=n.className.replace("text","media"),n.style.overflow="initial",n.style["box-shadow"]="none"}})),_()(n,"renderUploadFileCard",(function(e){var t=e.id,r=e.file,a=e.previewUrl,i=e.downloadUrl,c=e.percent,l=e.error,u=e.cancelCb,d=e.resend,p=document.getElementById(t);if(p){n.fakeCardStyleFix(t);var f=o.a.createElement(Ur,{data:{fromMsite:!1,extraData:{fileType:r.materialType||Br.a.getType(r),downloadUrl:i,previewUrl:a,fileName:r.name,fileSize:r.size},error:l,percent:c},resend:d,cancelCb:u});s.a.render(f,p)}})),_()(n,"writeRealCardInfoAfterSwitchPerson",(function(){var e=n;e.props.EventBus.on("im-weblite-list:setSummaryData",(function(){Object.keys(e.currentUploadItems).forEach((function(t){var n=e.currentUploadItems[t];e.props.updateItemByKey({accountId:n.accountId,key:t,data:n}),delete e.currentUploadItems[t]}))}))})),_()(n,"cancelSend",(function(e){var t=e.file,r=e.accountId,a=e.tmpKey,o=n;_t.b(t),o.props.removeItemByKey({accountId:r,key:a}),delete o.currentUploadItems[a]})),_()(n,"sendFileToOss",(function(e){var t=n,r=e.file,a=e.fromTo,o=e.tmpKey,i=e.contact,s=e.previewUrl,c=void 0===s?"":s,l=e.traceId,u=i.accountId,d=2===i.conversationType,p=ia(r.type);new Promise(function(){var n=h()(regeneratorRuntime.mark((function n(s,f){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_t.f(r,a,(function(e){t.renderUploadFileCard({id:o,file:r,previewUrl:c,downloadUrl:"",percent:e,error:!1,cancelCb:t.cancelSend.bind(t,{file:r,accountId:u,tmpKey:o})})}),(function(e,n){Object(O.default)({ext:"ossUploadCompleteCb",success:"YES",resultCode:"200",resultMsg:"upload success",traceId:l,index1:a.fromAliId,index2:a.toAliId,operateType:"send",bizData:{info:e&&e.fileCardUrl,fileType:p}}),t.sendFile(e,o,i,(function(e){t.renderUploadFileCard({id:o,file:r,previewUrl:c,downloadUrl:n,percent:1,error:!1,cancelCb:t.cancelSend.bind(t,{file:r,accountId:u,tmpKey:o})}),ca(r,l)})),We.default.success(Gi.get("common.success"))}),(function(n){var i=n.data,s=void 0===i?{}:i,d=s.code,f=s.msg;Object(O.default)({ext:"ossUploadErrorCb",success:"NO",resultCode:d||M.d.UPLOAD_ERR,resultMsg:"".concat(f," ").concat(qi(n)),traceId:l,index1:a.fromAliId,index2:a.toAliId,operateType:"send",fileType:p}),"maxsize"===n.name&&t.cancelSend({file:r,accountId:u,tmpKey:o}),We.default.error(f||n.message),t.renderUploadFileCard({id:o,file:r,previewUrl:c,downloadUrl:"",percent:1,error:!0,cancelCb:t.cancelSend.bind(t,{file:r,accountId:u,tmpKey:o}),resend:t.sendFileToOss.bind(t,e)})}),l,d,!1);case 2:t.props.setCompressRatio(0);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})),_()(n,"retryBatchUpload",(function(e){var t=e.file,r=e.contact,a=e.retryCount,o=Date.now();return new Promise((function(e,i){n.batchUpload({file:t,contact:r}).then((function(t){e(t)})).catch((function(s){Object(O.default)({ext:"BatchSendFile",operateType:"retryBatchUpload",index1:window.aliId,costTime:Date.now()-o,bizData:{fileSize:(null===t||void 0===t?void 0:t.size)||1,retryCount:a,fileName:null===t||void 0===t?void 0:t.name,errMsg:null===s||void 0===s?void 0:s.message,toAliId:null===r||void 0===r?void 0:r.aliId,fromAliId:window.aliId}}),a<5?n.retryBatchUpload({file:fs,contact:ps,retryCount:a+1}).then(e).catch(i):i(s)}))}))})),_()(n,"batchUpload",(function(e){var t=e.file,n=e.contact,r=n.aliId,a=window.aliId,o={from:Fi().accountId,to:n.accountId,toAliId:r,fromAliId:a};try{_t.c(t)}catch(e){return We.default.error(e.message),Promise.reject({contact:n})}var i=Br.a.getType(t),s=Hi();return Object(O.default)({ext:"groupFileSelected",index2:r,index1:a,operateType:"send",traceId:s,bizData:{fileType:i,traceId:s}}),new Promise((function(e,r){_t.f(t,o,(function(e){}),(function(t){Object(O.default)({ext:"ossUploadCompleteCb",success:"YES",resultCode:"200",resultMsg:"upload success",traceId:s,index1:o.fromAliId,index2:o.toAliId,operateType:"batchSend",bizData:{info:t&&t.fileCardUrl,fileType:i}});var r="fileCard",a=t.materialType||"";Qi.indexOf(a.toLocaleLowerCase())>=0&&(r="videoCard"),Yi.indexOf(a.toLocaleLowerCase())>=0&&(r="imageCard");var c={mediaInfo:Si({},t),baasMsgType:Ge.a.getMsgType(r),msgType:Ge.a.getPaaSCompatibleType(r)};"fileCard"===r&&(c.cardType=12),e({data:c,contact:n,contentType:r,traceId:s})}),(function(e){var a=e.data,c=void 0===a?{}:a,l=c.code,u=c.msg;Object(O.default)({ext:"ossUploadErrorCb",success:"NO",resultCode:l||M.d.UPLOAD_ERR,resultMsg:"".concat(u," ").concat(qi(e)),traceId:s,index1:o.fromAliId,index2:o.toAliId,operateType:"send",fileType:i}),"maxsize"===e.name&&_t.b(t),r({contact:n})}),s,!1,!0)}))})),_()(n,"batchFileCompress",(function(e){var t=Br.a.getType(e);return new Promise((function(n,r){var a=(new Date).getTime();if(Br.a.isVideo(t)&&window.SharedArrayBuffer&&self.props.ffmpegLoaded&&!Ni&&e.size>=5e6)try{self.props.compressVideo({file:e,callback:function(r){Object(O.default)({ext:"videoBatchCompressSuccess",bizData:{file:e,data:r,fileType:t,costTime:Date.now()-a}}),n(r)}})}catch(r){Object(O.default)({ext:"videoBatchCompressFail",bizData:{file:e,err:null===r||void 0===r?void 0:r.message,fileType:t,costTime:Date.now()-a}}),n(e)}else Br.a.isImg(t)&&e.size>=1e6?(Object(O.default)({ext:"imageBatchCompressStart",bizData:{fileSize:e.size,fileName:e.name}}),Da.compressImg(e).then((function(t){if(t){var r=new File([t],e.name,{type:e.type,uid:e.uid});r.uid=e.uid,Object(O.default)({ext:"imageBatchCompressSuccess",bizData:{newSize:r.size,originalSize:e.size,fileName:e.name,costTime:Date.now()-a}}),n(r)}else Object(O.default)({ext:"imageBatchCompressFail",bizData:{originalSize:e.size,fileName:e.name,costTime:Date.now()-a}}),n(e)})).catch((function(t){Object(O.default)({ext:"imageBatchCompressErr",bizData:{newSize:e.size,fileName:e.name,err:null===t||void 0===t?void 0:t.message,costTime:Date.now()-a}}),n(e)}))):n(e)}))})),_()(n,"batchUploadNew",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a,o,i,s,c,l,u,d,p,f,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.file,a=t.batchSize,o=t.selectedList,i=[],s=Date.now(),e.next=5,n.batchFileCompress(r);case 5:return c=e.sent,ps=o[0],fs=c,l="",e.prev=9,e.next=12,_t.e(fs);case 12:l=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),Object(O.default)({ext:"BatchSendFile",operateType:"md5Error",index1:window.aliId,costTime:Date.now()-s,bizData:{selectedCount:o.length,fileSize:(null===r||void 0===r?void 0:r.size)||1,md5:l,error:null===e.t0||void 0===e.t0?void 0:e.t0.message,fileName:null===r||void 0===r?void 0:r.name}});case 18:return u=n.retryBatchUpload({file:fs,contact:ps,retryCount:0}),e.next=21,Promise.allSettled([u]);case 21:if(d=e.sent,i.push.apply(i,Q()(d)),"rejected"!==d[0].status){e.next=27;break}return Object(O.default)({ext:"BatchSendFile",operateType:"uploadFail",index1:window.aliId,costTime:Date.now()-s,bizData:{selectedCount:o.length,fileSize:(null===r||void 0===r?void 0:r.size)||1,md5:l,fileName:null===r||void 0===r?void 0:r.name,newSize:(null===c||void 0===c?void 0:c.size)||1}}),window.EventBus.publish("im-weblite-chat:groupSendFileResult",{promiseData:i}),e.abrupt("return");case 27:p=1;case 28:if(!(p<o.length)){e.next=38;break}return f=Math.min(p+a,o.length),m=o.slice(p,f).map((function(e){return n.batchUploadBuildRelationShip({file:c,contact:e,md5:l,isGroupChat:!1})})),e.next=33,Promise.allSettled(m);case 33:h=e.sent,i.push.apply(i,Q()(h));case 35:p+=a,e.next=28;break;case 38:Object(O.default)({ext:"BatchSendFile",operateType:"batchSend",index1:window.aliId,costTime:Date.now()-s,bizData:{selectedCount:o.length,fileSize:(null===r||void 0===r?void 0:r.size)||1,md5:l,fileName:null===r||void 0===r?void 0:r.name,newSize:(null===c||void 0===c?void 0:c.size)||1}}),window.EventBus.publish("im-weblite-chat:groupSendFileResult",{promiseData:i});case 40:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}()),_()(n,"batchUploadBuildRelationShip",(function(e){var t=e.file,n=e.contact,r=e.md5,a=e.isGroupChat,o=n.aliId,i=window.aliId,s=Date.now(),c="".concat(s,"-").concat(t.uid),l=Fi(),u=Hi(),d=Br.a.getType(t),p={from:l.accountId,to:n.accountId,toAliId:o,fromAliId:i};return new Promise(function(){var e=h()(regeneratorRuntime.mark((function e(o,i){var s,l,f,m,h,g,v,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.a(r,t,p,a);case 2:s=e.sent,l=s.data||{},f=l.result,m=void 0===f?{}:f,h=l.code,g=l.msg,Object(O.default)({ext:"BatchSendFile",success:200===h?"YES":"NO",resultCode:"200",resultMsg:g||"",traceId:u,index1:p.fromAliId,index2:p.toAliId,operateType:"batchSendBuildRelationShip",bizData:{info:m&&m.fileCardUrl,msg:g,fileType:d,tmpKey:c,md5:r}}),v="fileCard",y=m.materialType||"",Qi.indexOf(y.toLocaleLowerCase())>=0&&(v="videoCard"),Yi.indexOf(y.toLocaleLowerCase())>=0&&(v="imageCard"),b={mediaInfo:Si({},m),baasMsgType:Ge.a.getMsgType(v),msgType:Ge.a.getPaaSCompatibleType(v)},"fileCard"===v&&(b.cardType=12),200===h?o({data:b,contact:n,contentType:v,traceId:u}):i(n);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})),_()(n,"beforeUpload",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a,o,i,s,c,l,u,d,p,f,m,h,g,v,y,b,w,x,C,E,S,k,T,_,I,A,D,M,N,P,L,R,F,j,B,z,q,V,U,H,W,G,K=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G=function(){return Br.a.isImg(T)&&t.size>=1e6},W=function(){return Br.a.isVideo(T)&&window.SharedArrayBuffer&&a.props.ffmpegLoaded&&!Ni&&t.size>=5e6},H=function(){a.props.buildItems({session:{list:b},order:"header",accountId:d}),a.props.onSend()},r=K.length>1&&void 0!==K[1]&&K[1],a=n,o=n.props,i=o.summaryData.contact,s=o.sessionData,c=o.fetchMessages,l=i.name,u=i.fullPortrait,d=i.accountId,p=i.contact,f=i.owner,m=i.conversationType,h=2===m,g=p&&p.aliId||"",v=f&&f.aliId||"",y=i&&s[i.accountId]||[],b=[],w=Date.now(),x="".concat(w,"-").concat(t.uid),C=Fi(),E={from:C.accountId||zi(),to:i.accountId,toAliId:g,fromAliId:v},(S=document.createElement("div")).id=x,e.prev=18,_t.c(t),e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(18),We.default.error(e.t0.message),e.abrupt("return",!1);case 26:if(k=window.URL||window.webkitURL,T=Br.a.getType(t),I=Hi(),sa(t,I),!r){e.next=42;break}return A=t.md5,D=t.previewUrl,M=t.downloadUrl,N=Date.now(),e.next=35,_t.a(A,t,E,h);case 35:P=e.sent,L=P.data||{},R=L.result,F=void 0===R?{}:R,j=L.code,B=L.msg,z=F,Object(O.default)({ext:"endBuildSendFileRelation",success:200===j?"YES":"NO",resultCode:j,resultMsg:B,bizData:{code:j,from:E.from,to:E.to,uid:t.uid},costTime:Date.now()-N}),200===j&&(z.downloadUrl=z.redirectFileUrl,a.sendFile(z,x,i,(function(e){n.renderUploadFileCard({id:x,file:t,previewUrl:D,downloadUrl:M,percent:1,error:!1})}))),e.next=45;break;case 42:if(Object(O.default)({ext:"fileSelected",index2:g,index1:v,operateType:"send",traceId:I,bizData:{fileType:T,traceId:I}}),_=Br.a.isImg(T)||Br.a.isVideo(T)?k.createObjectURL(t):"",W()){setInterval((function(){a.renderUploadFileCard({id:x,file:t,previewUrl:_,downloadUrl:"",percent:a.props.compressRatio,error:!1,cancelCb:a.cancelSend.bind(a,{file:t,accountId:d,tmpKey:x})})}),100);try{a.props.compressVideo({file:t,callback:function(e){a.sendFileToOss({file:e,fromTo:E,tmpKey:x,contact:Si({},i),previewUrl:_,traceId:I})}})}catch(e){Object(O.default)({ext:"videoCompressFail",bizData:{file:t,err:e}}),a.sendFileToOss({file:t,fromTo:E,tmpKey:x,contact:Si({},i),previewUrl:_,traceId:I})}}else G()?(q={fileSize:t.size,fileName:t.name,tmpKey:x,bizData:{fileType:T,traceId:I}},V=(new Date).getTime(),Object(O.default)({ext:"imageCompressStart",bizData:q}),Da.compressImg(t).then((function(e){if(e){var n=new File([e],t.name,{type:t.type,uid:t.uid});n.uid=t.uid,a.sendFileToOss({file:n,fromTo:E,tmpKey:x,contact:Si({},i),previewUrl:_,traceId:I}),Object(O.default)({ext:"imageCompressSuccess",bizData:{newSize:n.size,originalSize:t.size,tmpKey:x,fileName:t.name,costTime:Date.now()-V,traceId:I}})}else Object(O.default)({ext:"imageCompressFail",bizData:q}),a.sendFileToOss({file:t,fromTo:E,tmpKey:x,contact:Si({},i),previewUrl:_,traceId:I})})).catch((function(e){console.warn("图片压缩出现错误",t.name,t,e),Object(O.default)({ext:"imageCompressErr",bizData:{newSize:t.size,tmpKey:x,fileName:t.name,err:null===e||void 0===e?void 0:e.message,traceId:I}}),a.sendFileToOss({file:t,fromTo:E,tmpKey:x,contact:Si({},i),previewUrl:_,traceId:I})}))):a.sendFileToOss({file:t,fromTo:E,tmpKey:x,contact:Si({},i),previewUrl:_,traceId:I});case 45:return U={content:S.outerHTML,messageType:"send",contactRead:!1,sendTime:w,tmpKey:x,owner:{name:l,fullPortrait:u},subType:53,type:1,fake:!0,isLocalUploaded:!1},r||(U.isLocalUploaded=!0,ea.setMediaMessageRenderer(x,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.renderUploadFileCard(Si({id:x,file:t,previewUrl:_,downloadUrl:"",percent:1,error:!1,cancelCb:function(){}},e))}))),b.push(U),y.fromSearch?c((function(){return H()}),"reset"):H(),e.abrupt("return",!1);case 50:case"end":return e.stop()}}),e,null,[[18,22]])})));return function(t){return e.apply(this,arguments)}}()),_()(n,"uploadFormatter",(function(e){return{code:1*e.code===200?"0":"1",data:e.data}})),_()(n,"beforeUploadHandle",(function(e){var t=n.state.uploadConfig;if((null===t||void 0===t?void 0:t.callback)&&"function"===typeof(null===t||void 0===t?void 0:t.callback)){try{_t.c(e)}catch(e){return We.default.error(e.message),!1}var r=window.URL||window.webkitURL,a=Br.a.getType(e),o=Br.a.isImg(a)||Br.a.isVideo(a)?r.createObjectURL(e):"";return t.callback({file:e,previewUrl:o}),!1}return n.beforeUpload(e),!1})),_()(n,"onEmotionSelected",(function(e){var t=e;"simple"!==n.state.inputType&&(t=Ge.a.converEmoIdToImage(e.code)),n.textarea.insertContent(t)})),_()(n,"selectProduct",(function(){n.toolbarComp.setVisibleOf("showProduct",!0)})),_()(n,"selectCatalog",(function(){n.toolIconLog("SelectCatalog"),n.toolbarComp.setVisibleOf("showCatalogVisible",!0)})),_()(n,"sendCustomize3d",(function(e){var t=n.props.summaryData.contact,r=e.detail,a=JSON.parse(r),o=Si(Si({},a),{},{accountId:t&&t.accountId||"",accountIdEncrypt:t&&t.accountIdEncrypt||""});n.props.sendMessage({data:o,callback:function(e){n.sendMessageCallback(e,a.content)}})})),_()(n,"askAddress",(function(){var e=n.props.summaryData,t=e.contact,r=e.secTradeId,a=n,o="qaType=BUYER_ADDRESS&subType=5&title=".concat(Ki.get("ai.settting.question.buyer_address.question_content")||"What is your shipping address?"),i={content:o,msgType:2014,cardType:2014,mediaInfo:{qaType:"BUYER_ADDRESS",subType:5,type:2014,title:Ki.get("ai.settting.question.buyer_address.question_content")||"What is your shipping address?"},secTradeId:r,accountIdEncrypt:t&&t.accountIdEncrypt||"",accountId:t&&t.accountId||"",editMode:"normal"};n.props.sendMessage({data:i,callback:function(e){a.sendMessageCallback(e,o)}})})),_()(n,"sendCatalog",(function(e){var t=n.props.summaryData,r=t.contact,a=t.secTradeId,o=e.id,i={content:o,cardType:2008,msgType:2008,mediaInfo:{catalogId:e.id,ctime:Date.now()},secTradeId:a,accountIdEncrypt:r&&r.accountIdEncrypt||"",accountId:r&&r.accountId||"",editMode:"normal"};n.props.sendMessage({data:i,callback:function(e){n.sendMessageCallback(e,o),n.toolbarComp.setVisibleOf("showCatalogVisible",!1)}})})),_()(n,"sendProduct",(function(e){Object(O.default)("sendProduct");var t=e.join("_");n.sendText(t,null,{msgType:os,cardType:os,mediaInfo:{ids:t,ctime:Date.now(),country:ji().country}}),n.toolbarComp.setVisibleOf("showProduct",!1)})),_()(n,"sendVideo",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(O.default)({ext:"fileSelected",bizData:{type:"videobank"}}),r=n.props.summaryData.contact,a=Ge.a.buildVideoInfo(t),Object.assign(a,{accountIdEncrypt:(null===r||void 0===r?void 0:r.accountIdEncrypt)||"",accountId:(null===r||void 0===r?void 0:r.accountId)||""}),n.buildRelationAndSend(a,r,"videobank","mp4"),n.toolbarComp.setVisibleOf("sendImageBallonVisible",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"showTranslateSetting",(function(){var e=n.props.summaryData.contact;n.toolIconLog("Translate"),n.toolbarComp.setTranslateSettingSource("toolbar"),n.props.getLanguageInfo({data:{contactLoginId:e.memberId},conversationType:e.conversationType,callback:function(){n.toolbarComp.toggleTranslateSettingVisible(!0)}})})),_()(n,"translateSettingConfirm",(function(e,t){var r=n.props,a=r.languageInfo,o=r.summaryData.contact,i=r.saveLanguageInfo,s=0;for(var c in e)if(void 0!==e[c]&&e[c]!==a[c]){s=1;break}Object(O.default)("2021MC_TranslateSetting_ConfirmClick&changed=".concat(s)),i({data:Si(Si({},e),{},{contactLoginId:o.memberId,type:"lang"}),conversationType:o.conversationType,callback:t}),n.toolbarComp.toggleTranslateSettingVisible(!1)})),_()(n,"onLangTranslateClick",(function(){Object(O.default)("2021MC_Translate_Input_Lang_Click"),n.toolbarComp.setTranslateSettingSource("toolbar"),n.toolbarComp.toggleTranslateSettingVisible(!0)})),_()(n,"onTranslateInput",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.saveDraft,o=void 0===a||a,i=r.translateDisable,s=void 0!==i&&i,c=r.append,l=n.props.summaryData.contact,u=c?n.state.translateSourceText+Ui.decodeHTML(e):Ui.decodeHTML(e);if(n.setState({translateSourceText:u}),n.autoTranslateInput&&(n.autoTranslateInput.getInputNode().value=e),o&&localStorage.setItem("messenger_send_translate_draft_".concat(l.accountId),e),!e)return n.textarea.setContent(""),n.autoTranslateInput.focus(),void n.onInput(o);s||n.throttle((function(){n.handleTranslate(o)}),500,ws)})),_()(n,"handleTranslate",(function(e){var t=n.state.translateSourceText,r=n.props.languageInfo,a=r.sendTranslateOriginLang,o=r.sendTranslateTargetLang,i=r.receiveTranslateOpen;n.setState({isInputTranslating:!0});var s=+new Date,c=t;if(2===n.props.summaryData.contact.conversationType)try{c=c.replace(/(@[\w\s]+`)/g,'<ALIMT srcout=\\"true\\">$1</ALIMT>')}catch(e){Object(O.default)({ext:"translateSrcReplaceError",bizData:{translateSourceText:t}})}Object(A.sendTranslate)({sourceLanguage:a,targetLanguage:o,bizLine:"sc",sourceText:c,format:"text"}).then((function(t){var r,a,c=null!==(r=null===(a=t.data)||void 0===a?void 0:a.result)&&void 0!==r?r:{},l=c.translateText,u=c.logId;l&&("simple"!==n.state.inputType&&(l=l.replace(/[\r\n]/g,"<br />")),n.textarea.setContent(l),n.onInput(e),n.inputTranslateText=l,n.inputTranslateLogId=u),n.setState({isInputTranslating:!1});var d=c.resultCode||{},p=d.code,f=d.message;Object(O.default)({ext:"Translate",success:"YES",resultCode:p,resultMsg:f,costTime:+new Date-s,bizData:{TargetLan:o,AutoTran:i,translateType:"send"}})}),(function(e){var t,r,a;n.setState({isInputTranslating:!1});var c=null!==(t=null===(r=e.data)||void 0===r||null===(a=r.result)||void 0===a?void 0:a.resultCode)&&void 0!==t?t:{},l=c.code,u=c.message;Object(O.default)({ext:"Translate",success:"NO",resultCode:l,resultMsg:u,costTime:+new Date-s,bizData:{TargetLan:o,AutoTran:i,translateType:"send"}})}))})),_()(n,"throttle",(c=null,l={},function(e,t,n){var r=this,a=arguments;if(n){var o=l[n];return o&&clearTimeout(o),void(l[n]=setTimeout((function(){e.apply(r,a),l[n]=null}),t))}c&&clearTimeout(c),c=setTimeout((function(){e.apply(r,a),c=null}),t)})),_()(n,"toolIconLog",(function(e){var t=n.props.summaryData.contact||{},r=t.contact,a=void 0===r?{}:r,o=t.owner,i=void 0===o?{}:o,s={index2:a.aliId,index1:i.aliId,operateType:"send",bizData:{}};switch(e){case"Picture":Object(O.default)(Si({ext:"2020MC_SendPhotos_LocalPhotos_Click"},s));break;case"File":Object(O.default)(Si({ext:"2020MC_SendFile_LocalFiles_Click"},s));break;default:Object(O.default)("2020MC_".concat(e,"_Icon_Click"))}})),_()(n,"attachmentClick",(function(e){window.vipSuperUser?I.Dialog.show({title:"免登改造",content:"免登用户禁止发送内容以及音视频通话！"}):("string"===typeof e&&n.toolIconLog(e),n.setState({uploadConfig:"File"===e?$i:es},(function(){return n.uploadIcon.click()})))})),_()(n,"closeQuoteMessage",(function(){n.props.setPlaceholder(""),n.props.closeQuoteMessage()})),_()(n,"handleSceneVisibleChange",(function(e){n.setState({sceneLayerVisible:e},(function(){e&&n.showSceneLayerInfo()}))})),_()(n,"ifShowCallingInlet",(function(){if(!n.state.showMeetingMenu)return!1;var e=n.props.extraInfo;return(void 0===e?{}:e).action||window.aliyunMeetingBuyerFunctionGray||Ke.isSellerPWA})),_()(n,"closeLayer",(function(){Object(O.default)("2020MC_PersonCard_Close"),n.setState({showSceneLayer:!1})})),_()(n,"handleIdentityCheck",(function(){return n.showSurvey?(n.surveyDialog=I.Dialog.show({className:"business-info-survey",content:o.a.createElement(aa,{onSubmit:n.onSurveySubmit}),footer:!1}),!1):!window.vipSuperUser||(I.Dialog.show({title:"免登改造",content:"免登用户禁止发送内容以及音视频通话！"}),!1)})),_()(n,"onSurveySubmit",(function(){n.surveyDialog&&(n.surveyDialog.hide(),n.showSurvey=!1)})),_()(n,"createOnlineMeeting",h()(regeneratorRuntime.mark((function e(){var t,r,a,o,i,s,c,l,u,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:"video",n.handleIdentityCheck()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Object(A.mtopRequest)("mtop.alibaba.icbu.im.validationContactByLoginId",{loginId:ki});case 5:if((r=e.sent).data&&r.data.object){e.next=11;break}Object(O.default)("2020MC_CallMenu_ToVerify"),window.open("https://".concat(D.ACCOUNT_DOMAIN,"/user/validation/resend_verification_email.htm?return=https://").concat(D.ACCOUNT_DOMAIN,"/user/validation/email_verification.htm"),"__blank"),e.next=27;break;case 11:n.toolbarComp.setVisibleOf("mediaCallVisible",!1),a={audio:"Voice",video:"Video",schedule:"Schedule"}[t],o=n.props.extraInfo,i=(void 0===o?{}:o).source,s=void 0===i?"":i,c=n.props.summaryData.contact,Object(O.default)("2020MC_".concat(a,"Call_Click&from=").concat(s||"chat")),l=Ki.get("meeting_call_schedule")||"I'd like to schedule a call with you",e.t0=t,e.next="video"===e.t0||"audio"===e.t0?21:"schedule"===e.t0?24:26;break;case 21:return Ke.isSellerPWA||window.aliyunMeetingBuyerFunctionGray||(Object(O.default)("2020MC_".concat(a,"Call_Send&from=").concat(s)),n.sendText(l)),Ni?_i.getMessageService().openAudioVideo({meetingType:t,toAliId:null===(u=c.contact)||void 0===u?void 0:u.aliId}):n.showOfflineMeeting(),e.abrupt("break",27);case 24:return Ke.isSellerPWA||window.aliyunMeetingBuyerFunctionGray?n.setContent(l):(Object(O.default)("2020MC_".concat(a,"Call_Send&from=").concat(s)),n.sendText(l),n.leadToDownloadApp()),e.abrupt("break",27);case 26:return e.abrupt("break",27);case 27:case"end":return e.stop()}}),e)})))),_()(n,"leadToDownloadApp",(function(){var e=n.props.summaryData.contact;n.props.createMeetingAndUser({aliYunMeetingType:"video",meetingName:"web_".concat(ki,"_").concat(e.memberId),contactLoginId:e.memberId,source:"web"})})),_()(n,"handlePaste",(function(e){var t=(e.clipboardData||{}).items;if(!t)return!1;for(var r=0;r<t.length;r++){var a=t[r];if("file"===a.kind){Object(O.default)("2020MC_PASTE_FILE");var o=a.getAsFile();o&&(t.length>1||!/^image/i.test(o.type)?n.uploadPasteFile(o):n.doubleConfirmSendPic(o),e.preventDefault())}}})),_()(n,"uploadPasteFile",(function(e){var t=n.props.summaryData.contact,r=void 0===t?{}:t;try{n.beforeUpload(e),n.cleanContent(),n.cleanDraft(null===r||void 0===r?void 0:r.accountId)}catch(e){Object(O.default)("2020MC_PASTE_IMG_SEND_FAILED&error=".concat(e.message))}})),_()(n,"doubleConfirmSendPic",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props.summaryData.contact,a=void 0===r?{}:r,/^image/i.test(t.type)&&(Object(O.default)("2020MC_PASTE_IMG"),(i=new FileReader).readAsDataURL(t),i.onload=function(e){I.Dialog.confirm({className:"icbu-messenger-confirm paste-img",title:Ki.get("sendBox.paste_img_send_title")||"发送图片",content:o.a.createElement("div",{className:"content"},o.a.createElement("img",{src:e.target.result})),locale:{ok:Ki.get("sendBox.paste_img_send_confirm")||"发送",cancel:Ki.get("sendBox.paste_img_send_cancel")||"取消"},hasMask:!0,onOk:function(){Object(O.default)("2020MC_PASTE_IMG_SEND_CONFIRM"),n.uploadPasteFile(t)},onCancel:function(){try{n.cleanContent(),n.cleanDraft(null===a||void 0===a?void 0:a.accountId)}catch(e){Object(O.default)("2020MC_PASTE_IMG_SEND_CANCEL_ERR&error=".concat(e.message))}Object(O.default)("2020MC_PASTE_IMG_SEND_CANCEL")},onClose:function(){Object(O.default)("2020MC_PASTE_IMG_SEND_CLOSE");try{n.cleanContent(),n.cleanDraft(null===a||void 0===a?void 0:a.accountId)}catch(e){Object(O.default)("2020MC_PASTE_IMG_SEND_CLOSE_ERR&error=".concat(e.message))}}})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"sendPersonCard",(function(e){return function(){Object(O.default)("2020MC_BusinessCard_Send"),n.props.sendMessage({data:{cardType:1,msgType:57,mediaInfo:{type:1,showCertification:!0,showCompanyName:!0,showEmailAddress:!0}}})}})),_()(n,"getIconStatusColor",(function(e){return e?"#ff6600":"#999"})),_()(n,"hideCloudDrive",(function(){n.toolbarComp.setVisibleOf("cloudDriveVisible",!1),"weblite"===window.host&&n.props.EventBus.publish("weblite:windowResize",{type:"hide"})})),_()(n,"onCloudDriveConfirm",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.hideCloudDrive(),!window.vipSuperUser){e.next=4;break}return I.Dialog.show({title:"免登改造",content:"免登用户禁止发送内容以及音视频通话！"}),e.abrupt("return");case 4:for(r=0;r<t.length;r++)a=t[r],n.beforeUpload(Si(Si({},a),{},{size:a.nodeSize,name:a.nodeName,materialType:a.materialType,uid:a.id}),!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"sendEvaluationCard",(function(e,t){var r=n.props,a=r.sendEvaluationCard,o=r.buyerEvaluation,i=Fi(),s=t.memberId;if(i.isBuyer&&!Di&&e.length&&e.length>=20&&s&&!o.rateFormValue&&!function(e){var t,n=wi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(2===r.type&&9601===r.subType)return r}}catch(e){n.e(e)}finally{n.f()}return!1}(e)){var c,l=0,u=0,d=wi(e);try{for(d.s();!(c=d.n()).done;){var p=c.value;p.messageType&&"send"===p.messageType?u+=1:p.messageType&&"rec"===p.messageType&&(l+=1)}}catch(e){d.e(e)}finally{d.f()}l>=3&&u>=3&&a({data:{toLoginId:s}})}})),_()(n,"showRichInput",(function(){return"simple"!==n.state.inputType})),_()(n,"onToolbarRef",(function(e){n.toolbarComp=e})),_()(n,"onSendRef",(function(e){n.textarea=e})),_()(n,"degrade",(function(){n.setState({inputType:"simple"})})),_()(n,"replaceImg",(function(e){if(!e)return e;if(/<img[^>]*>/.test(e)){var t=e.replace(/<img[^>]*>/,"");return n.replaceImg(t)}return e})),_()(n,"setGenerateContent",(function(e){var t,r=n.props,a=r.summaryData,o=r.generateSession,i=void 0===o?{}:o,s=a.contact,c=i[(void 0===s?{}:s).aliId];if(c){var l=c.executeCommand,u=c.inputText,d=n.textarea.getContent({format:"text"});d=d.replace(/[\r\n]/g,"<br>");var p=null===(t=ua.extendCommands[l])||void 0===t?void 0:t.onConfirm;if(p){var f=u.contentBefore,m=u.contentAfter;d=p.call(n,{contentBefore:f,contentAfter:m,generateText:e})}n.setContent(d)}})),_()(n,"cancelGenerateContent",(function(){var e,t=n.props,r=t.summaryData,a=t.generateSession,o=void 0===a?{}:a,i=r.contact,s=o[(void 0===i?{}:i).aliId];if(s){var c=s.executeCommand,l=s.inputText,u=s.generateText,d=null===(e=ua.extendCommands[c])||void 0===e?void 0:e.onCancel;if(d){var p=l.contentBefore,f=l.contentAfter,m=d.call(n,{contentBefore:p,contentAfter:f,generateText:u});null!==m&&void 0!==m&&n.setContent(m)}}})),_()(n,"onKeyDown",(function(e){var t=n.state,r=t.hotKeyEnter,a=t.isInputTranslating;13!==e.keyCode&&10!==e.keyCode||(r&&e.ctrlKey?e.target.value=e.target.value+"\n":(r&&!e.ctrlKey&&!e.shiftKey&&!a||!r&&(e.ctrlKey||e.shiftKey))&&(e.preventDefault(),n.send())),n.keyDownSubscriber(e)})),_()(n,"showOfflineMeeting",(function(){I.Message.notice({duration:4500,align:"cc cc",title:Gi.get("meeting_web_offline_guide")||"Please use the calling function on the mobile version of alibaba.com app."})})),n.sending=!1,n.urlParams={},n.shouldUpdateDraft=!1,n.shouldMarketLog=!0,n.showInitText=!0,n.inputTranslateText="",n.inputTranslateLogId="",n.currentUploadItems={},n.quickTemplateRange=null,n.selectAtMembers={},n.state={canReply:!1,uploadConfig:$i,sceneLayerVisible:!1,showMeetingMenu:!0,translateSourceText:"",isInputTranslating:!1,cloudDriveVisible:!1,cloudDriveFileType:"media",showSceneLayer:!1,inputType:Ni?ys:vs,matchedCommandKeyword:{keyword:"",timeStamp:0},hotKeyEnter:!0,focusTranslate:!1,isAssistantAccount:!1},n.showSurvey="test1"===ms.low_quality_buyer_send_call,n}return k()(t,e),b()(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){Ni&&!window.tinyMCE.activeEditor&&(e.degrade(),Object(O.default)("2023MC_tinymce_fail"))}),15e3);var t=this.props,n=t.summaryData.contact,r=t.extraInfo,a=void 0===r?{}:r,o=t.EventBus,i=a.action;if(this.urlParams=Ui.getParamsFromUrl(),this.writeRealCardInfoAfterSwitchPerson(),"callMeeting"===i&&this.handleMediaCallVisibleChange(!0),this.ifShowCallingInlet()&&Object(O.default)("2020MC_Calls_CallsICON_Show"),this.props.showSceneLayer){var s=n.memberId;Object(A.getExpoUserInfo)({loginId:ki}).then((function(t){if(t.data&&t.data.value){var n=t.data.value;n.vip&&n.autoSendCard||(e.props.getDXCard("https://".concat(D.WORKSPACE_DOMAIN,"?type=1&from=").concat(ki,"&to=").concat(s,"&showCompanyName=true&showEmailAddress=true&showCertifications=true"),ki,e.toolbarComp.dxSceneMountDOM),e.setState({sceneLayerVisible:!0}))}}))}this.setState({isAssistantAccount:!(null===n||void 0===n||!n.aliId)&&M.a.includes(String(null===n||void 0===n?void 0:n.aliId))}),Bn({appName:"im-messenger",testKey:"im_eva_autotrigger_assistant"}).then((function(t){var n=(null!==t&&void 0!==t?t:{}).treatment;e.setState({isEvaAssistantExp:"exp"===n})})).catch((function(){})),o.on("common-send",(function(t){var n=t.type,r=void 0===n?"setContent":n,a=t.content;"setContent"===r&&e.setContent(a)})),o.on("message-flow:not-agree",(function(){return e.showAcceptDialog()})),o.on("message-flow:result-tip-click",(function(){e.showTranslateSetting()})),o.on("message-flow:revert-msg-reEdit",(function(t){if("richText"!==t.contentType){var n,r,a,o=null===t||void 0===t||null===(n=t.msg)||void 0===n||null===(r=n.replace)||void 0===r||null===(a=r.call(n,/<br *\/?>/gi,"\n"))||void 0===a?void 0:a.replace(/<p><\/p>/gi,"\n");e.setContent(Ge.a.convertImageToEmoKey(o))}})),o.on("draft-change",(function(t){e.setContent(t)})),o.on("messenger:createMeeting",(function(t){e.createOnlineMeeting(t)})),o.on("im-weblite-chat:meetingPush",(function(){e.showOfflineMeeting()})),window.addEventListener("send-product",this.selectProduct),window.addEventListener("send-catalog",this.selectCatalog),window.addEventListener("askfor-address",this.askAddress),window.addEventListener("sendCustomize3d",this.sendCustomize3d),o.on("im-weblite-chat:sendCallback",(function(t){var n=(t||{}).messageId;n&&e.alitalkLog(n),e.afterTranslateMsgSend(t)})),o.on("im-ames:send",(function(t,n){var r=(t||{}).type;"file"!==r?"message"===r?e.setContent(t.content||"",!0,!0):["richSnippetsCard","richTextCard","fileCard"].includes(r)&&e.sendCardFromXiaoman(t,n):e.sendFileFromXiaoman(t,n)})),_i.getEventService().addListener(Oi.SelectedQuickPhaseSearch,(function(t){e.selectPhrase(t.content)})),_i.getEventService().addListener(Oi.SelectedQuickPhase,(function(t){e.insertPhraseContent(t.content)})),o.on("selectPhrase",(function(t){e.selectPhrase(t)})),o.on("im-address-book:selectFile",(function(t){var n=t.multipleSelect,r=void 0!==n&&n,a=t.callback,o=t.type;if(a&&"function"===typeof a){var i="image"===o?es:$i;e.setState({uploadConfig:Si(Si({},i),{},{multiple:r,callback:a})},(function(){return e.uploadIcon.click()}))}})),o.on("im-address-book:groupSendFile",function(){var t=h()(regeneratorRuntime.mark((function t(n){var r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.file,a=n.selectedList,o=10,!(a.length<=0)){t.next=4;break}return t.abrupt("return");case 4:e.batchUploadNew({file:r,batchSize:o,selectedList:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o.on("im-weblite-list:setSummaryData",(function(){us=!0})),_i.getEventService().addListener(Oi.COPY_IMAGE_SHORTCUT,(function(t){h()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("rich-text-dragger_ifr"!==document.activeElement.id&&"send-textarea"!==document.activeElement.class){n.next=10;break}if(r=_t.d(t.Base64ImageData),!(t.picTotalCnt>1)){n.next=6;break}e.uploadPasteFile(r),n.next=8;break;case 6:return n.next=8,e.doubleConfirmSendPic(r);case 8:n.next=11;break;case 10:We.default.error(Ki.get("pastePictureFail")||"unable to paste picture here.");case 11:case"end":return n.stop()}}),n)})))()})),Ni&&(ts=document.querySelector("#super_text_wrapper"),(ns=document.querySelector(".resize_controller"))&&(ns.addEventListener("mousedown",this.handleResizeInput),document.addEventListener("mouseup",this.stopResize)),Li||(Ii.invoke("im.uiutil.getSendMessageShortcutKey").then((function(t){e.setState({hotKeyEnter:t?t.useEnter:e.state.hotKeyEnter})})),Ii.on("im.uiutil.sendMsgByShortcutKey",(function(t){e.setState({hotKeyEnter:t?t.useEnter:e.state.hotKeyEnter})})))),o.on("ai-restartQuery",(function(t){t.scene;var n=t.params;e.restartAIQuery(n)}))}},{key:"componentWillUnmount",value:function(){this.toolbarComp=null,this.sendBoxNode=null,this.autoTranslateInput=null,this.atMemberBox=null,window.removeEventListener("send-product",this.selectProduct),window.removeEventListener("send-catalog",this.selectCatalog),window.removeEventListener("askfor-address",this.askAddress),window.removeEventListener("sendCustomize3d",this.sendCustomize3d),ns&&ns.removeEventListener("mousedown",this.handleResizeInput),window.EventBus.callbacks["im-ames:send"]=[],document.removeEventListener("mousemove",this.resize)}},{key:"showSceneLayerInfo",value:function(){var e=this.props.summaryData.contact.memberId;this.props.getDXCard("https://".concat(D.WORKSPACE_DOMAIN,"?type=1&from=").concat(ki,"&to=").concat(e,"&showCompanyName=true&showEmailAddress=true&showCertifications=true"),ki,this.toolbarComp.dxSceneMountDOM)}},{key:"componentWillReceiveProps",value:function(e){var t,n,r=this,a=this.props,o=a.summaryData.contact,i=a.sendContent,s=a.quoteItem,c=a.getLanguageInfo,l=e.summaryData.contact,u=e.sendContent,d=e.quoteItem;o.accountId!==l.accountId&&l.accountId&&(this.shouldUpdateDraft=!0,setTimeout((function(){return c({data:{contactLoginId:l.memberId},conversationType:l.conversationType})}),0),l.memberId&&Object(A.mtopRequest)("mtop.alibaba.icbu.im.queryMembersInfoByLoginId",{queryType:"get_seller_member_info",contactLoginId:l.memberId}).then((function(e){e.data&&e.data.object&&r.setState({showMeetingMenu:e.data.object.videoSettingImInfo.open&&!1!==e.data.object.supportVideo})})),this.inputTranslateText="",this.inputTranslateLogId="",this.clearSelectAtMember(),this.props.generateSession[l.aliId]&&(this.shouldUpdateDraft=!1),this.clearMatchCommand()),i!==u&&null!==u&&this.setContent(u,!1),(!s&&d||s&&d&&s.uuid!==d.uuid)&&setTimeout((function(){r.textarea.focus(),r.textarea.getContent()&&r.textarea.focusEnd()}),500),o.accountId&&o.accountId!==l.accountId&&(this.urlParams={});var p=(this.props.referData||"").textContent;null!==(t=this.props.referData)&&void 0!==t&&null!==(n=t.textContent)&&void 0!==n&&n.length&&this.setContent(p),l.aliId!==o.aliId&&this.setState({isAssistantAccount:!(null===l||void 0===l||!l.aliId)&&M.a.includes(String(null===l||void 0===l?void 0:l.aliId))}),l.aliId===o.aliId||1!==l.conversationType||M.a.includes(String(null===l||void 0===l?void 0:l.aliId))||this.triggerAutoReply(l.aliId,l)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.summaryData.contact,r=t.extraInfo,a=void 0===r?{}:r,o=a.loginIdEncrypt,i=a.sceneData,s=void 0===i?{}:i;this.shouldUpdateDraft&&(s.initText&&o===n.loginIdEncrypt&&this.showInitText?(this.setContent(s.initText),this.showInitText=!1):(this.cleanContent(),setTimeout((function(){e.showDraft(n.accountId)}),0)),this.shouldUpdateDraft=!1)}},{key:"getTranslateSrcContent",value:function(){var e;return null===(e=this.autoTranslateInput)||void 0===e?void 0:e.getInputNode().value}},{key:"showInputTip",value:function(e){I.Message.show({iconType:!1,content:o.a.createElement("span",{className:"black-tip-content"},e),duration:2e3,align:"tl bl",className:"black-tip",overlayProps:{target:this.sendBoxNode}})}},{key:"showConfirm",value:function(){return new Promise((function(e){I.Dialog.confirm({closeMode:["esc","mask"],className:"command-confirm",content:o.a.createElement("span",{className:"command-confrim-content"},ie.COPY.polishTargetLanguageTip),footerActions:["cancel","ok"],footerAlign:"center",locale:{ok:ie.COPY.polishTargetLanguageConfirmN,cancel:ie.COPY.polishTargetLanguageConfirmY},onOk:function(){e(!1)},onCancel:function(){e(!0)}})}))}},{key:"checkTargetLanguage",value:(i=h()(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.languageInfo,n=!0,!(null===t||void 0===t?void 0:t.sendTranslateOpen)||!(null===t||void 0===t?void 0:t.sendTranslateTargetLang)||"en"===(null===t||void 0===t?void 0:t.sendTranslateTargetLang)){e.next=7;break}return e.next=6,this.showConfirm();case 6:n=e.sent;case 7:return Object(O.default)({ext:"polishLanguageCheck",bizData:{targetLanguage:null===t||void 0===t?void 0:t.sendTranslateTargetLang,result:n}}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"checkAIPay",value:(r=h()(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.summaryData.contact,r=(void 0===n?{}:n).owner,a=void 0===r?{}:r,o=ua.extendCommands[t],i=null===o||void 0===o?void 0:o.aiPaySceneCode){e.next=6;break}throw new Error("checkAiPay scene null");case 6:return e.next=8,Object(A.AIPayCheckService)({aliId:a.aliId,scene:i});case 8:return(s=e.sent)||jr.a.show({sceneAbility:i}),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"alitalkLog",value:function(e){Object(O.logAb)();var t=this.props,n=t.summaryData.contact,r=t.extraInfo;if("weblite"!==this.props.host)return Zr.a.pageId=window.dmtrack_pageid,void Zr.a.logMsg({toId:n.accountId,opId:Mi(e)});var a=r.productId,o=r.marketData,i={toId:n.accountId,toLoginIdEncrypt:n.loginIdEncrypt,toLoginId:n.memberId,productId:a};this.props.EventBus.publish("im-weblite-chat:sendMessage",{userInfo:i,marketData:o,opId:e})}},{key:"sendText",value:function(e,t,n){var r=this,a=this.props,o=a.summaryData.contact,i=a.sessionData,s=a.fetchMessages;function c(){var a=t&&t.contact||r.props.summaryData.contact,o=r.props.extraInfo||{},i=o.productId,s=o.loginIdEncrypt,c="weblite"===r.props.host&&s===a.loginIdEncrypt,l=r.props.host;Ke.isBuyerPWA&&(l="pwa_b"),Ke.isSellerPWA&&(l="pwa_s","xiaoman"===Ui.getUrlVars().from&&(l="pwa_xiaoman")),Ni&&(l="alisupplier");var u={content:e,msgType:n?n.msgType:t?Ge.a.getPaaSCompatibleType("imageCard"):Ge.a.isRichContent(e)?63:1,accountId:a.accountId,accountIdEncrypt:a.accountIdEncrypt,bizType:c?"product":null,bizId:c?i:r.urlParams.tradeId||null,clientVersion:l,referMessage:r.getReferMessage()};n&&n.msgType===os&&Object.assign(u,{cardType:os,mediaInfo:{ids:e,ctime:Date.now(),country:ji().country}}),r.inputTranslateLogId&&(u.traceId=r.inputTranslateLogId,u.isEdited=r.inputTranslateText===e?"0":"1");var d=function(e,t){return e?M.c.IMAGE_CARD:Ge.a.isRichContent(t)?M.c.NO_SPLIT_RICH_TEXT:M.c.TEXT}(t,e);if(d===M.c.NO_SPLIT_RICH_TEXT){var p=a.conversationType;1===p&&(u.receiverAliId=[a.aliId,Number(window.aliId)]),u.conversationId=a.cid.split("@")[0],u.messageType=63,u.chatType=p,u.extParam={}}if("{}"!==JSON.stringify(r.selectAtMembers)){var f=r.generateStructMsgInfo(Kr.removeOutermostPTag(e),r.selectAtMembers);(f.length>1||1===f.length&&1!==f[0].elementType)&&(u.msgType=ss,u.structInfo=f,u.baasMsgType=cs)}"simple"!==r.state.inputType&&(u.entranceSource="onepage"),r.props.sendMessage({data:u,contentType:d,imgInfo:t,translateSourceText:r.state.translateSourceText,callback:function(n){r.sendMessageCallback(n,e,t)}})}(o&&i[o.accountId]||[]).fromSearch?s((function(){return c()}),"reset"):c()}},{key:"generateStructMsgInfo",value:function(e,t){var n=[],r="",a=Kr.extractAtsignMatches(e)||[];return a.forEach((function(e,o){if(e in t){var i=t[e],s=i.uid,c=i.defaultNick;r&&n.push({text:r,elementType:1}),r="","toAll"===s?n.push({atAll:!0,defaultNick:c,elementType:4}):n.push({atAll:!1,atAliId:s,defaultNick:c,elementType:4})}else o===a.length-1||a[o+1]&&a[o+1]in t?r+=e:r+=e||"@",o===a.length-1&&(r&&n.push({text:r,elementType:1}),r="")})),n}},{key:"requestNotificationPermission",value:function(){var e=this,t=localStorage.getItem("request_notification_permission_after_send"),n=window.Notification&&window.Notification.permission;if(!t&&"default"===n&&"messenger"===this.props.host){Object(O.default)("2020MC_NotificationGuideSystem_Show_".concat(this.props.host,"&browser=").concat(is.type,"&browserVersion=").concat(is.versions));try{var r;null===I.Notification||void 0===I.Notification||null===(r=I.Notification.requestPermission())||void 0===r||r.then((function(t){Object(O.default)("2020MC_NotificationGuideSystem_".concat(t,"_").concat(e.props.host,"&browser=").concat(is.type,"&browserVersion=").concat(is.versions)),localStorage.setItem("request_notification_permission_after_send","done")}))}catch(e){}}}},{key:"sendMessageCallback",value:function(e,t,n){var r=this,a=this,o=n&&n.contact||a.props.summaryData.contact,i=a.props.sessionData,s=(o&&i[o.accountId],1*e.code);if(200===s)setTimeout((function(){r.cleanContent(),a.cleanDraft(o.accountId),r.textarea.focus(),a.sending=!1}),0),a.alitalkLog(e.data&&e.data.opId),!n&&a.props.onSend(),"messenger"===a.props.host&&window.mcToImInquiry&&a.props.EventBus.publish("messenger:removeMC2IM"),a.closeQuoteMessage(),a.clearSelectAtMember(),"http"===Pi()&&this.afterTranslateMsgSend(e.data);else{if(3006===s)return Object(O.default)("ifmupgrade"),Fr.a.Dialog({content:Ki.get("ifmupgrade"),variable:!0,upgradeUrl:"//seller.alibaba.com/ggs/productLanding.html?tracelog=IM"}),void(a.sending=!1);a.sending=!1,We.default.error("".concat(e.message,"(").concat(e.code,")")),n&&a.props.updateItem({accountId:o.accountId,listIndex:n.listIndex,data:{percent:null},remove:!0})}a.updateList(t,1)}},{key:"sendFile",value:function(e,t,n,r){var a=this,o=this.props,i=o.sessionData,s=o.fetchMessages,c=o.host,l=this.props.extraInfo||{},u=l.productId,d=l.loginIdEncrypt,p="weblite"===c&&d===n.loginIdEncrypt,f=n&&i[n.accountId]||[],m=c;function h(){var o="fileCard",i=e.materialType||"";Qi.indexOf(i.toLocaleLowerCase())>=0&&(o="videoCard"),Yi.indexOf(i.toLocaleLowerCase())>=0&&(o="imageCard");var s=e.fileCardUrl,l=e.nodeName;delete e.nodeName;var d={cid:n.cid,mediaInfo:Si(Si({},e),{},{nodeName:l}),baasMsgType:Ge.a.getMsgType(o),content:s,msgType:Ge.a.getPaaSCompatibleType(o),accountId:n.accountId,accountIdEncrypt:n.accountIdEncrypt,bizType:p?"product":null,bizId:p?u:a.urlParams.tradeId||null,clientVersion:m};"fileCard"===o&&(d.cardType=12),a.props.sendMessage({sendType:"file",tmpKey:t,data:d,traceId:e.traceId,contentType:o,callback:function(n){var i=1*n.code;if(200===i)a.alitalkLog(n.data&&n.data.opId),a.props.onSend(),"messenger"===c&&window.mcToImInquiry&&a.props.EventBus.publish("messenger:removeMC2IM"),a.closeQuoteMessage(),r(n),a.currentUploadItems[t]=d,la(o,l,e.traceId);else{if(3006===i)return Object(O.default)("ifmupgrade"),void Fr.a.Dialog({content:Ki.get("ifmupgrade"),variable:!0,upgradeUrl:"//seller.alibaba.com/ggs/productLanding.html?tracelog=IM"});We.default.error("".concat(n.message,"(").concat(n.code,")"))}a.updateList(s,Ge.a.getPaaSCompatibleType(o))}})}f.fromSearch?s((function(){return h()}),"reset"):h(),Ke.isSellerPWA&&"xiaoman"===Ui.getUrlVars().from&&(m="pwa_xiaoman")}},{key:"buildRelationAndSend",value:(n=h()(regeneratorRuntime.mark((function e(t,n,r,a){var o,i,s,c,l,u,d,p,f,m,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.conversationType,i=2===o,s=Date.now(),c=Fi(),l={from:c.accountId||zi(),to:n.accountId},e.next=7,_t.a(t.mediaInfo.fileId,{name:t.mediaInfo.fileId,size:t.mediaInfo.size,bucket:r,materialType:a},l,i);case 7:u=e.sent,d=u.data||{},p=d.result,f=void 0===p?{}:p,m=d.code,h=d.msg,g=f,200===m?(g.downloadUrl=null===f||void 0===f?void 0:f.redirectFileUrl,this.sendFile(g,"".concat(s,"-").concat(t.mediaInfo.fileId),n,(function(){}))):Object(O.default)({ext:"ossBuildFileRelationErrorCb",success:"NO",resultCode:m||"",resultMsg:h||"",index1:l.from,index2:l.to,operateType:"send",bucket:r||""});case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r,a){return n.apply(this,arguments)})},{key:"getReferMessage",value:function(){var e=this.props,t=e.quoteItem,n=e.groupMembersCache;if(t){var r,a=t.messageType,o=t.messageId,i=t.contact,s=t.owner,c=t.sender,l=t.receiver,u=t.subType,d=t.originalData,p=t.content,f=t.abstract,m=t.msgType,h=t.conversationType,g=t.referData,v=void 0===g?{}:g;-1!==[2004,2005].indexOf(u)&&Object(O.default)("2020MC_InputBoxQuoteCard_Send&messageId=".concat(o,"&messageType=").concat(u));var y="[Details of this message cannot be displayed, please update version]",b=u;return 1===u?y=d&&d.text||p:2022===u||2014===u?y=f||p:100015===u&&(y=this.generateStructQuoteContent(),b=m),Si({msgId:o&&o+".PNM",contentDisplay:f||p,msgType:m,subType:b,senderAliId:null===c||void 0===c?void 0:c.targetId,receiverAliId:null===l||void 0===l?void 0:l.targetId,contentAbstract:y,originalData:d,senderName:"rec"===a?2===h?(null===(r=n[null===c||void 0===c?void 0:c.targetId])||void 0===r?void 0:r.displayName)||targetId:i.name:s.name},v)}return null}},{key:"updateList",value:function(e,t){this.props.EventBus.publish("im-weblite-list:updateList",{content:e,imMessageType:t})}},{key:"showDraft",value:function(e){var t=this,n=localStorage.getItem("".concat(hs).concat(e)),r=localStorage.getItem("messenger_send_translate_draft_".concat(e));this.canUseOldStyle()?(n&&(this.setContent(n),setTimeout((function(){t.textarea.focusEnd()}),200)),this.setState({translateSourceText:r||""})):r&&this.setContentWithTranslate({value:r,translatedValue:n})}},{key:"cleanDraft",value:function(e){localStorage.removeItem("".concat(hs).concat(e)),localStorage.removeItem("".concat(gs).concat(e)),localStorage.removeItem("messenger_send_translate_draft_".concat(e))}},{key:"logBeforeUpload",value:function(e){var t="fileCard";switch(e.type.slice(0,5)){case"image":t="imageCard";break;case"video":t="videoCard"}e.fileType=t,e.startTime=+new Date,Object(O.default)("MsgStartUpload&type=original&totalSize=".concat(e.size,"&msgType=").concat(t))}},{key:"render",value:function(){var e,t,n,r,i,s=this,c=this.props,l=c.host,u=c.quoteItem,d=c.languageInfo,p=c.groupMembersCache,f=c.aiEnableCommandMap,m=c.generateSession,h=void 0===m?{}:m,g=this.props.toolbar,v=d.sendTranslateOriginLang,y=d.sendTranslateTargetLang,b=d.sendTranslateOpen,w=this.state,x=w.canReply,C=w.uploadConfig,E=w.translateSourceText,S=w.isInputTranslating,k=w.hotKeyEnter,T=w.isAssistantAccount,_=this.props.summaryData.contact,O=h[_.aliId]||{},A=O.generateVisible,D=O.executeCommand,M=A||T,N=!1;if(f){var P=Object.values(f).filter((function(e){return e}));N=Object(X.a)()?P.length>0&&!f.summaryHide:P.length>0}var L=!x&&N,R=x&&N,F=Object(ie.COMMAND_ENABLE_PLACEHOLDER)(),j=T?Ki.get("assistant.sendBox.placeHolder")||"接待助理Eva暂不支持输入":L?F:"";null!==(e=this.textarea)&&void 0!==e&&e.setPlaceholder&&this.textarea.setPlaceholder(j);var B,z,q={textarea:this.textarea,sendBoxNode:this.sendBoxNode,isSimpleEditor:this.isSimpleEditor,quickTemplateRange:this.quickTemplateRange,divideContentUsingCommandPrefix:this.divideContentUsingCommandPrefix,checkAIPay:this.checkAIPay.bind(this),clearMatchCommand:this.clearMatchCommand,getContent:this.getContent},V=o.a.createElement(hr,{isOldStyle:!1,commandEnable:N,placeholder:j,contact:_,onRef:this.onSendRef,onInput:this.onInput,handlePaste:this.handlePaste,hasRichTextDraft:this.props.hasRichTextDraft,onMaximize:this.props.onMaximize,keyDownSubscriber:this.onKeyDown,disabledInput:M,readOnly:!H||T,isAssistantAccount:T}),H=null===(t=this.autoTranslateInput)||void 0===t?void 0:t.getInputNode().value;return o.a.createElement("div",{className:"send-box-wrapper ".concat(this.props.className||""," ").concat(this.canUseOldStyle()?"":"bg-color-ff"),ref:function(e){s.sendBoxNode=e}},A&&"on-send-box-top"===(null===(n=ie.ALL_COMMANDS[D])||void 0===n?void 0:n.panelPosition)&&o.a.createElement(Lr,{setContent:this.setGenerateContent,cancelGenerateContent:this.cancelGenerateContent,restartAIQuery:this.restartAIQuery,getContent:this.getContent,divideContentUsingCommandPrefix:this.divideContentUsingCommandPrefix,contact:_}),u&&o.a.createElement(Z,{quoteItem:u,generateStructQuoteContent:this.generateStructQuoteContent,onClose:this.closeQuoteMessage,groupMembers:p}),o.a.createElement(sr,{onRef:this.onToolbarRef,sceneLayerVisible:this.state.sceneLayerVisible,toolbarConfig:g,operateTpls:this.props.operateTpls,setContent:this.setContent,hasContent:this.hasContent,toolIconLog:this.toolIconLog,onEmotionSelected:this.onEmotionSelected,sendVideo:this.sendVideo,sendFile:this.sendFile.bind(this),buildRelationAndSend:this.buildRelationAndSend.bind(this),sendMessage:this.props.sendMessage,sendProduct:this.sendProduct,ifShowCallingInlet:this.ifShowCallingInlet,contact:_,handleSceneVisibleChange:this.handleSceneVisibleChange,sendPersonCard:this.sendPersonCard,showAddress:this.props.showAddress,attachmentClick:this.attachmentClick,handleMediaCallVisibleChange:this.handleMediaCallVisibleChange,createOnlineMeeting:this.createOnlineMeeting,showTranslateSetting:this.showTranslateSetting,translateSettingConfirm:this.translateSettingConfirm,languageInfo:d,EventBus:this.props.EventBus,hideCloudDrive:this.hideCloudDrive,onCloudDriveConfirm:this.onCloudDriveConfirm,getContent:this.getContent,onMaximize:this.props.onMaximize,sendCatalog:this.sendCatalog,beforeUpload:this.beforeUpload,doubleConfirmSendPic:this.doubleConfirmSendPic,disabledInput:M,isSimpleEditor:this.isSimpleEditor,canReply:this.state.canReply,commandEnable:N,focusTranslate:this.state.focusTranslate,sendTranslateOpen:b,reportFatigue:this.props.reportFatigue,askAddress:this.askAddress,isAssistantAccount:T,inputType:this.state.inputType}),this.canUseOldStyle()?(z=o.a.createElement(hr,{isOldStyle:!0,commandEnable:N,placeholder:j,contact:_,onRef:s.onSendRef,onInput:s.onInput,send:s.send,handlePaste:s.handlePaste,hasRichTextDraft:s.props.hasRichTextDraft,onMaximize:s.props.onMaximize,keyDownSubscriber:s.onKeyDown,disabledInput:M,hotKeyEnter:k,readOnly:T,isAssistantAccount:T}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"send-input-areas",style:{display:A&&"on-send-box-inner"===(null===(B=ie.ALL_COMMANDS[D])||void 0===B?void 0:B.panelPosition)?"none":"block"}},s.showRichInput()?o.a.createElement(a.Suspense,{fallback:z},o.a.createElement(Ti,{degrade:s.degrade,contact:_,onRef:s.onSendRef,beforeUpload:s.beforeUpload,onInput:s.onInput,send:s.send,handlePaste:s.handlePaste,keyDownSubscriber:s.keyDownSubscriber,blurSubscriber:s.blurSubscriber,EventBus:s.props.EventBus,placeholder:j,hotKeyEnter:k,disabledInput:M})):z,o.a.createElement("div",{className:"send-btn-bar"},o.a.createElement("p",{className:"enter-tip ".concat(R?"":"hide")},F),o.a.createElement("div",{className:"send-btn-wrapper"},"messenger"===l&&o.a.createElement("p",{className:"enter-tip"},Ni?k?Ki.get("chat.seller.enterTip"):Ki.get("chat.seller.enterTip2"):Ki.get("chat.enterTip")),o.a.createElement(I.Button,{type:"primary",size:"medium",className:"send-tool-button ".concat(x&&!M?"":"gray"),disabled:M,onClick:s.send},Gi.get("chat.send"))))),b&&o.a.createElement("div",{className:"translate-container old-translate-container"},o.a.createElement("div",{className:"input-content"},o.a.createElement(I.Input.TextArea,{ref:function(e){return s.autoTranslateInput=e},rows:null,placeholder:Ki.get("translate.inputPlaceholder")||"Type message to translate...",value:E,onChange:s.onTranslateInput,disabled:M}),o.a.createElement("pre",{className:"textarea-fake"},E)),o.a.createElement(I.Button,{ghost:"light",className:"translate-status",loading:S,onClick:s.onLangTranslateClick},o.a.createElement("div",{className:"status"},"".concat(v),o.a.createElement(I.Icon,{type:"arrow-right",size:"xxs",style:{margin:"0 2px"}}),"".concat(y)))))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:A&&"on-send-box-inner"===(null===(r=ie.ALL_COMMANDS[D])||void 0===r?void 0:r.panelPosition)||!this.state.focusTranslate?"none":"block"}},o.a.createElement("div",{className:"new-sndbox-wrapper"},this.showRichInput()?o.a.createElement(a.Suspense,{fallback:V},o.a.createElement(Ti,{degrade:this.degrade,contact:_,onRef:this.onSendRef,beforeUpload:this.beforeUpload,onInput:this.onInput,send:this.send,handlePaste:this.handlePaste,keyDownSubscriber:this.keyDownSubscriber,blurSubscriber:this.blurSubscriber,EventBus:this.props.EventBus,placeholder:j,hotKeyEnter:k,disabledInput:M})):V,o.a.createElement(I.Button,{ghost:"light",className:"translate-status",onClick:this.onLangTranslateClick},o.a.createElement("div",{className:"status"},"".concat(v),o.a.createElement(I.Divider,{direction:"ver",style:{height:"12px"}}),"".concat(y))))),b&&o.a.createElement("div",{className:"translate-input-box"},o.a.createElement("div",{className:"input-wrapper"},o.a.createElement(I.Input.TextArea,{id:"sendTransTextArea",className:"sendtrans-textarea",ref:function(e){return s.autoTranslateInput=e},rows:null,placeholder:T?Ki.get("assistant.sendBox.placeHolder")||"接待助理Eva暂不支持输入":Ki.get("new.translate.inputPlaceholder")||j||"Type here to translate",value:E,onKeyDown:this.onKeyDown,onFocus:function(e){s.setState({focusTranslate:!0})},onChange:this.onTranslateInput,disabled:M}),o.a.createElement("pre",{className:"textarea-fake"},E),!Ni&&2!==_.conversationType&&o.a.createElement(cr.default,{onMaximize:this.props.onMaximize,hasRichTextDraft:this.props.hasRichTextDraft})),o.a.createElement("div",{className:"send-btn-bar ".concat(this.isOldSendInput()?"":"sndBtn-padding")},o.a.createElement("p",{className:"enter-tip ".concat(R?"":"hide")},Ki.get("sendBox.placeHolder.forSummary")),o.a.createElement("div",{className:"send-btn-wrapper"},"messenger"===l&&o.a.createElement("p",{className:"enter-tip"},Ni?k?Ki.get("chat.seller.enterTip"):Ki.get("chat.seller.enterTip2"):Ki.get("chat.enterTip")),o.a.createElement(I.Button,{type:"primary",size:"medium",className:"send-tool-button ".concat(x&&!M?"":"gray"),disabled:M||S,loading:S,onClick:this.send},Gi.get("chat.send")))))),A&&"on-send-box-inner"===(null===(i=ie.ALL_COMMANDS[D])||void 0===i?void 0:i.panelPosition)&&o.a.createElement("div",{className:"ai-pannel-inner-wrapper"},o.a.createElement(Lr,{setContent:this.setGenerateContent})),2===_.conversationType&&o.a.createElement(oe,{ref:function(e){return s.atMemberBox=e},alignTarget:this.sendBoxNode,groupMembers:p,addSelectAtMember:this.addSelectAtMember}),o.a.createElement(Te,{safeNode:this.textarea,alignTarget:this.sendBoxNode,searchKeyword:this.state.matchedCommandKeyword,onCommandSelect:function(e){s.onCommandSelect(e)},commandExtraProps:q}),o.a.createElement(I.Upload,U()({style:{display:"none"},ref:function(e){return s.upload=e},action:Xi,data:this.getUploadParams(),beforeUpload:this.beforeUploadHandle,formatter:this.uploadFormatter},C),o.a.createElement("button",{ref:function(e){return s.uploadIcon=e},style:{display:"none"}})),T?o.a.createElement("div",{className:"disable-mask"}):null)}}]);var n,r,i}(o.a.Component);var Es,Ss=Object(c.connect)((function(e){return{sessionData:e.messageBox.sessionData,summaryData:e.messageBox.summaryData,cloudCsrf:e.messageBox.cloudCsrf,placeholder:e.messageBox.inputPlaceholder,languageInfo:e.translate.languageInfo,buyerEvaluation:e.messageBox.buyerEvaluation,groupMembersCache:e.messageBox.groupMembersCache,ffmpegLoaded:e.messageBox.ffmpegLoaded,compressRatio:e.messageBox.compressRatio,aiEnableCommandMap:e.messageBox.aiEnableCommandMap,generateSession:e.messageBox.generateSession,globalGrayMap:e.globalEnv.globalGrayMap,transABTest:e.translate.transABTest}}),(function(e){return{sendMessage:function(t){e({type:"messageBox/sendMessage",payload:t})},operateTpls:function(t){e({type:"messageBox/operateTpls",payload:t})},buildItems:function(t){e({type:"messageBox/buildItems",payload:t})},updateItem:function(t){e({type:"messageBox/updateItem",payload:t})},updateItemByKey:function(t){e({type:"messageBox/updateItemByKey",payload:t})},setPlaceholder:function(t){e({type:"messageBox/setPlaceholder",payload:t})},removeItemByKey:function(t){e({type:"messageBox/removeItemByKey",payload:t})},createMeetingAndUser:function(t){e({type:"messageBox/createMeetingAndUser",payload:t})},saveLanguageInfo:function(t){e({type:"translate/saveLanguageInfo",payload:t})},sendEvaluationCard:function(t){e({type:"messageBox/sendEvaluationCard",payload:t})},setCompressRatio:function(t){e({type:"messageBox/setCompressRatio",payload:t})},compressVideo:function(t){e({type:"messageBox/compressVideo",payload:t})},generatingText:function(t){e({type:"messageBox/generatingText",payload:t})},startGenerate:function(t){e({type:"messageBox/startGenerate",payload:t})},endGenerate:function(t){e({type:"messageBox/endGenerate",payload:t})},getPhrase:function(t){e({type:"quickPhrase/getQuickPhrase",payload:t})},reportFatigue:function(t){e({type:"translate/reportFatigue",payload:t})},setAiTriggerAutoReply:function(t){e({type:"messageBox/setAiTriggerAutoReply",payload:t})}}}))(Cs),ks=n(58),Ts=window.IcbuIM.lib.requestHelper.mtopRequest,_s="control"!==(null===(Es=window.__APLUS_ABRATE__)||void 0===Es?void 0:Es.buyer_currency),Is=window.IcbuIM.UserUtil,Os=Is.getLocale,As=Is.getBuyerLocale;var Ds,Ms=n(197),Ns=n.n(Ms),Ps=n(12),Ls=n.n(Ps),Rs={zoomIn:o.a.createElement("svg",{width:"21",height:"22",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M9.167 0a8.666 8.666 0 016.628 14.25l5.153 5.32-1.51 1.559-5.238-5.406A8.666 8.666 0 01.5 8.667 8.666 8.666 0 019.167 0zm0 2a6.667 6.667 0 100 13.333A6.667 6.667 0 009.166 2zm1 2.667v3h3v2h-3v3h-2V9.666h-3v-2h3v-3h2z",fill:"#FFF",fillRule:"nonzero",className:"svg-fill"})),zoomOut:o.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M0 0h24v24H0z"}),o.a.createElement("path",{d:"M10.167 1a8.666 8.666 0 016.628 14.25l5.153 5.32-1.51 1.559-5.238-5.406A8.666 8.666 0 011.5 9.667 8.666 8.666 0 0110.167 1zm0 2a6.667 6.667 0 100 13.333 6.667 6.667 0 000-13.333zm4.162 6v2H6.167V9h8.162z",fill:"#FFF",fillRule:"nonzero",className:"svg-fill"}))),original:o.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("defs",null,o.a.createElement("path",{id:"a",d:"M0 .22h20.041V20H.002z"})),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M0 0h24v24H0z"}),o.a.createElement("path",{d:"M12.058 10.612a.938.938 0 110-1.875.938.938 0 010 1.875M12.058 15.014a.938.938 0 110-1.875.938.938 0 010 1.875M8.565 17.188H6.744a.027.027 0 01-.027-.026V6.59c0-.015.012-.027.027-.027h1.821c.014 0 .027.012.027.027v10.572a.027.027 0 01-.027.026M17.343 17.188h-1.781a.046.046 0 01-.047-.046V6.61c0-.026.02-.047.046-.047h1.782c.026 0 .047.021.047.047V17.14c0 .026-.021.047-.047.047",fill:"#FEFEFE",className:"svg-fill"}),o.a.createElement("g",{transform:"translate(2.038 1.78)"},o.a.createElement("mask",{id:"b",fill:"#fff"}),o.a.createElement("path",{d:"M18.145 17.177V2.972a.95.95 0 00-.948-.948H2.872a.951.951 0 00-.949.948v14.205c0 .522.427.948.949.948h14.325a.95.95 0 00.948-.948M18.162 20H1.88A1.885 1.885 0 010 18.12V2.1C0 1.064.846.22 1.88.22h16.282c1.035 0 1.88.845 1.88 1.88v16.02c0 1.034-.846 1.88-1.88 1.88",fill:"#FEFEFE",mask:"url(#b)",className:"svg-fill"})))),fullScreen:o.a.createElement("svg",{width:"15",height:"15",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fill:"#D8D8D8",fillRule:"nonzero",className:"svg-fill"},o.a.createElement("path",{d:"M13.062.014H1.866C.836.014 0 .85 0 1.88v11.196c0 1.03.836 1.866 1.866 1.866h11.196c1.03 0 1.866-.835 1.866-1.866V1.88c0-1.03-.835-1.866-1.866-1.866zm.933 13.062a.933.933 0 01-.933.933H1.866a.933.933 0 01-.933-.933V1.88c0-.515.418-.933.933-.933h11.196c.515 0 .933.418.933.933v11.196z"}),o.a.createElement("path",{d:"M11.43 3.03H7.246a.466.466 0 100 .934h3.093l-6.402 6.365.015-3.068a.466.466 0 10-.933 0v4.199c0 .138.057.25.147.326.085.086.202.14.333.14h4.185a.466.466 0 100-.933H4.591l6.401-6.364-.015 3.067a.466.466 0 10.933 0V3.497a.417.417 0 00-.147-.326.464.464 0 00-.332-.14z"}))),rotate:o.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M0 0h24v24H0z"}),o.a.createElement("path",{d:"M6.65 2.38c4.912-2.836 11.193-1.153 14.03 3.76 2.836 4.912 1.153 11.194-3.76 14.03-.213.123-.429.238-.646.344l-.91-1.575a8.459 8.459 0 10-7.283-.06l-.95-2.562 1.7-.63 1.45 3.91.018.004-.015.008.511 1.378-5.4 1.262-.412-1.765 1.572-.367A10.224 10.224 0 012.89 16.41C.054 11.498 1.737 5.217 6.65 2.38zm4.702 4.263c.107 0 .16.054.16.16v7.046c0 .108-.053.16-.16.16H6.505c-.107 0-.16-.052-.16-.16v-1.193c0-.106.053-.16.16-.16h3.197V11.26H6.497c-.107 0-.161-.053-.161-.16V6.802c0-.107.054-.16.16-.16h4.856zm6.149.017c.107 0 .16.054.16.16v6.987c0 .107-.053.16-.16.16h-4.855c-.107 0-.16-.053-.16-.16V6.82c0-.107.053-.16.16-.16H17.5zM15.86 8.182h-1.565v4.263h1.565V8.182zm-6.158-.017H8.138v1.582h1.564V8.165z",fill:"#FFF",fillRule:"nonzero",className:"svg-fill"}))),download:o.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M0 0h24v24H0z"}),o.a.createElement("path",{d:"M17.5 7.72h1.875c1.036 0 1.875.84 1.875 1.876V20.22c0 1.035-.84 1.875-1.875 1.875h-15A1.875 1.875 0 012.5 20.22V9.596c0-1.036.84-1.875 1.875-1.875H6.25v1.875H4.375V20.22h15V9.596H17.5V7.72zm-4.535-6.218l.001 10.18 2.168-2.17 1.325 1.326-4.418 4.42-4.42-4.42 1.326-1.325 2.144 2.143V1.502h1.875-.001z",fill:"#FFF",fillRule:"nonzero",className:"svg-fill"}))),locate:o.a.createElement("svg",{width:"13",height:"15",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fill:"#D8D8D8",fillRule:"nonzero",className:"svg-fill"},o.a.createElement("path",{d:"M3.176 11.053H9.79a.469.469 0 010 .938H3.176a.469.469 0 010-.938zm0-2.239H9.79a.469.469 0 010 .938H3.176a.469.469 0 010-.938z"}),o.a.createElement("path",{d:"M7.333 0h2.854a2.346 2.346 0 012.344 2.344v9.687a2.346 2.346 0 01-2.344 2.344H2.375a2.346 2.346 0 01-2.344-2.344V7.306a.469.469 0 01.938 0v4.725c0 .776.63 1.406 1.406 1.406h7.813c.775 0 1.406-.63 1.406-1.406V2.344c0-.776-.631-1.406-1.406-1.406H7.332a.469.469 0 010-.938z"}),o.a.createElement("path",{d:"M4.245 6.44a.469.469 0 00.779.351l2.15-1.894a.469.469 0 10-.62-.703l-2.15 1.894a.468.468 0 00-.159.351z"}),o.a.createElement("path",{d:"M2.096 4.539c0 .13.054.26.159.352l2.15 1.894a.469.469 0 00.619-.703l-2.15-1.895a.469.469 0 00-.778.352z"}),o.a.createElement("path",{d:"M4.684 6.204a.469.469 0 01-.47-.469V1.173H.48a.469.469 0 010-.938h4.204c.259 0 .468.21.468.469v5.031c0 .26-.21.47-.468.47z"}))),close:o.a.createElement("svg",{width:"23",height:"23",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M1.736 0L0 1.729l9.658 9.702L0 21.132l1.736 1.73 9.65-9.695 9.65 9.694 1.735-1.729-9.657-9.7 9.657-9.703L21.035 0l-9.65 9.694L1.737 0z",fill:"#FFF",fillRule:"nonzero",className:"svg-fill"})),loading:o.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20"},o.a.createElement("path",{d:"M512 64q14.016 0 23.008 8.992T544 96v192q0 14.016-8.992 23.008T512 320t-23.008-8.992T480 288V96q0-14.016 8.992-23.008T512 64zm0 640q14.016 0 23.008 8.992T544 736v192q0 14.016-8.992 23.008T512 960t-23.008-8.992T480 928V736q0-14.016 8.992-23.008T512 704zm448-192q0 14.016-8.992 23.008T928 544H736q-14.016 0-23.008-8.992T704 512t8.992-23.008T736 480h192q14.016 0 23.008 8.992T960 512zm-640 0q0 14.016-8.992 23.008T288 544H96q-14.016 0-23.008-8.992T64 512t8.992-23.008T96 480h192q14.016 0 23.008 8.992T320 512zM195.008 195.008q10.016-8.992 23.008-8.992t22.016 8.992l136 136q8.992 10.016 8.992 22.496t-9.504 22.016-22.016 9.504-22.496-8.992l-136-136q-8.992-8.992-8.992-22.016t8.992-23.008zM648 648q10.016-10.016 22.496-10.016T692.992 648l136 136q8.992 8.992 8.992 22.016t-9.504 22.496-22.496 9.504-22.016-8.992l-136-136q-10.016-10.016-10.016-22.496t10.016-22.496zm180.992-452.992q8.992 10.016 8.992 23.008t-8.992 22.016l-136 136q-10.016 8.992-22.496 8.992t-22.016-9.504-9.504-22.016 8.992-22.496l136-136q8.992-8.992 22.016-8.992t23.008 8.992zM376 648q10.016 10.016 10.016 22.496T376 692.992l-136 136q-8.992 8.992-22.016 8.992t-22.496-9.504-9.504-22.496 8.992-22.016l136-136q10.016-10.016 22.496-10.016t22.496 10.016z",fill:"#FFF",className:"svg-fill"})),arrowLeft:o.a.createElement("svg",{width:"14",height:"24",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M13.916 1.943L11.973 0 0 11.978l11.972 11.966L13.916 22 3.889 11.977z",fill:"#FFF",fillRule:"nonzero",className:"svg-fill"})),arrowRight:o.a.createElement("svg",{width:"14",height:"24",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M10.031 11.994L.003 1.96 1.949.017 13.92 11.995 1.947 23.96.005 22.015z",fill:"#FFF",fillRule:"nonzero",className:"svg-fill"}))},Fs=n(198),js=(n(465),{});if(window.IcbuIM){Ds=window.IcbuIM.lib.log;var Bs=window.IcbuIM.lib.I18N.createI18N;js=Bs({parsePage:!0,namespace:(window.mcmsWithoutAppName?"":"intl-gangesweb.")+"messenger"})}else js.get=function(){return null};var zs=!!window.workbench&&location.protocol.indexOf("alires")>=0;function qs(e){var t=window.host;Fs.isSellerPWA&&(t="pwa"),zs&&(t="pc_client"),Ds&&Ds(e+"&host="+t,"/sc.ma.im")}var Vs=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleImageLoaded=function(){var e=n.props,t=e.extInfo,r=e.list,a=n.state.currentIndex;qs("ImagePreview&success=1&costTime="+(Date.now()-n.loadStart)+"&messageId="+(t&&t.messageId)+"&md5="+(t&&t.fileId)+"&url="+encodeURIComponent(r[a])),n.setState({showLoadingIcon:!1})},n.handleImageError=function(){var e=n.props,t=e.extInfo,r=e.list,a=n.state.currentIndex;qs("ImagePreview&success=0&costTime="+(Date.now()-n.loadStart)+"&messageId="+(t&&t.messageId)+"&md5="+(t&&t.fileId)+"&url="+encodeURIComponent(r[a]))},n.handleZoomIn=function(){qs("2020MC_PicturePreview_ZoomIn");var e=n.state.ratio;e+=.25,e=Math.min(e,3),n.setState({ratio:e}),n.props.onZoomIn&&n.props.onZoomIn()},n.handleZoomOut=function(){qs("2020MC_PicturePreview_ZoomOut");var e=n.state.ratio;e-=.25,e=Math.max(e,.25),n.setState({ratio:e}),n.props.onZoomOut&&n.props.onZoomOut()},n.handleOriginal=function(){qs("2020MC_PicturePreview_Original");n.state.ratio;n.setState({ratio:1}),n.props.onOriginal&&n.props.onOriginal()},n.handleWheel=function(e){e.preventDefault();var t=e.deltaY;n.setState((function(e){var n=e.ratio,r=n-t/100/2;return n=Math.max(Math.min(r,3),.25),console.log(n,t),{ratio:n}}))},n.handleFullScreen=function(){qs("2020MC_PicturePreview_FullScreen"),document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen(),n.props.onFullScreen&&n.props.onFullScreen()},n.handleRotate=function(){qs("2020MC_PicturePreview_Rotate");var e=n.state.angle;e+=90,n.setState({angle:e}),n.props.onRotate&&n.props.onRotate()},n.handleDownload=function(){qs("2020MC_PicturePreview_Download"),n.props.onDownload&&n.props.onDownload();var e=n.props.list[n.state.currentIndex];fetch(e).then((function(e){e.blob().then((function(t){var r=window.URL.createObjectURL(t),a=document.createElement("a");document.body.appendChild(a),a.style.display="none",a.href=r,a.download=n.getFileName(e.url),a.click(),document.body.removeChild(a)}))})).catch((function(e){console.log("文件下载失败",e),qs("2020MC_PicturePreview_DownloadFailed")}))},n.getFileName=function(e){var t=document.createElement("a");t.href=e;var n=t.pathname.lastIndexOf("/");return t.pathname.substr(n+1)},n.handleLocate=function(){qs("2020MC_PicturePreview_Locate"),n.props.onLocate&&n.props.onLocate()},n.handleClose=function(){qs("2020MC_PicturePreview_Close"),n.setState({ratio:1,angle:0},(function(){n.props.onClose&&n.props.onClose()}))},n.state={ratio:1,angle:0,showLoadingIcon:!0,currentIndex:0},n}Ls()(t,e);var n=t.prototype;return n.componentDidMount=function(){qs("2020MC_PicturePreview_Show"),this.props.onShow&&this.props.onShow(),this.loadStart=Date.now()},n.render=function(){var e=this,t=this.props,n=t.className,r=void 0===n?"":n,a=t.list,i=void 0===a?[]:a,s=this.state,c=s.ratio,l=s.angle,u=s.showLoadingIcon;return i[0]?o.a.createElement("div",{className:"im-image-viewer "+r},o.a.createElement("div",{className:"viewer-mask",onClick:this.handleClose}),o.a.createElement("div",{className:"viewer-loading "+(u?"":"hidden")},o.a.createElement("div",{className:"icon icon-loading"},Rs.loading)),o.a.createElement("div",{className:"viewer-content"},o.a.createElement("img",{className:"image "+(u&&"hidden"),style:{transform:"rotate(-"+l+"deg) scale("+c+")"},draggable:"false",src:i[0],ref:function(t){e.imgEl=t},onLoad:this.handleImageLoaded,onError:this.handleImageError,alt:""})),o.a.createElement("div",{onClick:this.handleClose,className:"icon icon-close",title:js.get("imageViewer.Close")||"Close"},Rs.close),o.a.createElement("div",{className:"operate-bar"},o.a.createElement("div",{onClick:this.handleZoomIn,className:"operate-btn",title:js.get("imageViewer.zoomIn")||"Zoom In"},Rs.zoomIn),o.a.createElement("div",{onClick:this.handleZoomOut,className:"operate-btn",title:js.get("imageViewer.zoomOut")||"Zoom Out"},Rs.zoomOut),o.a.createElement("div",{onClick:this.handleOriginal,className:"operate-btn",title:js.get("imageViewer.original")||"Original"},Rs.original),o.a.createElement("div",{onClick:this.handleFullScreen,className:"operate-btn hidden",title:js.get("imageViewer.fullScreen")||"Full Screen"},Rs.fullScreen),o.a.createElement("div",{onClick:this.handleRotate,className:"operate-btn",title:js.get("imageViewer.rotate")||"Rotate"},Rs.rotate),o.a.createElement("div",{onClick:this.handleDownload,className:"operate-btn",title:js.get("imageViewer.download")||"Download"},Rs.download),o.a.createElement("div",{onClick:this.handleLocate,className:"operate-btn hidden",title:js.get("imageViewer.locate")||""},Rs.locate))):null},t}(a.Component),Us=function(e){var t=e.onClose,n=document.createElement("div");n.setAttribute("id","im-image-viewer"),document.body.appendChild(n),e.onClose=function(){s.a.unmountComponentAtNode(n),document.body.removeChild(n),"function"===typeof t&&t()},s.a.render(o.a.createElement(Vs,e),n)},Hs=window.IcbuIM.lib.requestHelper.mtopRequest,Ws=function(e){return Hs({api:"mtop.alibaba.icbu.im.reception.queryFrontReceptionContent",v:"1.1",appKey:"24889839",data:{sellerAliId:e.aliId,terminalType:"web",contextData:JSON.stringify({productId:""+e.productId})},ecode:1,dataType:"json"}).then((function(e){return e.data.object&&e.data.object[0]}))},Gs=["content","subType","type","messageType","name","fullPortrait","contact"];function Ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Js={content:"",messageType:"rec",contactRead:!1,sendTime:Date.now(),owner:null,subType:"",type:1};function Zs(e,t){if(!e.subType)throw new Error("insertItem error, subType and contact are required");var n=e.content,r=e.subType,a=e.type,o=e.messageType,i=e.name,s=e.fullPortrait,c=e.contact,l=f()(e,Gs),u=Object.assign({},Js,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({content:n,subType:r,type:a||Js.type,messageType:o||Js.messageType,owner:{name:i,fullPortrait:s},contact:c,fake:!0,fakeInsert:!0},l));t({session:{list:[u]},order:"header",accountId:e.contact.accountId})}var Xs="2020MC_MessageShortcut_Click",Ys="2020MC_MessageShortcut_Show",Qs={8:{name:"faq",type:"card",id:8},10:{name:"Start Order",type:"redirect",id:10},19:{name:"Logistics inquiry",type:"schema",id:19},15:{name:"Request for Quotation",type:"schema",id:15},16:{name:"emailVerify",type:"schema",id:16},17:{name:"XiaoManGuide",type:"schema",id:17},18:{id:18,name:"Rate Supplier",type:"redirect"},20:{name:"report supplier",type:"redirect",id:20},21:{name:"File a complaint",type:"schema",id:21}};function $s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($s=function(){return!!e})()}n.p=Object(pe.e)("im-weblite-chat");var ec,tc=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,568))}));(0,window.IcbuIM.UserUtil.getLoginIdAsync)().then((function(e){ec=e}));var nc=function(e){function t(e){var n,r,a,o;return v()(this,t),r=this,a=t,o=[e],a=E()(a),n=x()(r,$s()?Reflect.construct(a,o||[],E()(r).constructor):a.apply(r,o)),_()(n,"onChangeAddress",(function(e){Object(O.default)("2020MC_SendAddressCard");var t=n.props,r=t.contact,a=void 0===r?{}:r,o=t.sendAddressCard,i=t.setAddress4Inquiry,s=e||{},c=s.snapshotId,l=s.address,u=s.contact,d=s.contactPerson,p=s.id,f=l||{},m=f.zip,h=f.country,g=f.province,v=f.city,y=f.address,b=f.address2,w=u||{},x=w.mobileNo,C=w.phoneCode,E=a.memberId,S=h||{},k=S.name,T=S.code,_=g||{},I=_.name,A=_.code,D=v||{},M=D.name,N=D.code,P=[y,b,M,I,k,m].filter((function(e){return!!e})).join(","),L={sellerLoginId:E,buyerLoginId:ec,contactName:d,companyAddress:P,companyTel:"".concat(C?C+" ":"").concat(x),snapshotId:c,destinationZipCode:m,destinationCountryCode:h?h.code:null,address:y,address2:b,addressId:p,countryName:k,countryCode:T,provinceName:I,provinceCode:A,cityName:M,cityCode:N,zipCode:m,phoneCode:C,mobileNo:x,isInquiry:!1};i(!1),c&&o(L)})),n.state={showLogisticsInquiry:!1},n}return k()(t,e),b()(t,[{key:"render",value:function(){var e=this.props,t=e.I18N,n=e.visible,r=e.setAddress4Inquiry,i=e.showAddressList,s=e.exp,c=e.expInfo,l=e.clk,u=e.clkInfo,d=e.config;return o.a.createElement("div",{"data-exp":s,"data-expInfo":c,"data-clk":l,"data-clkInfo":u},o.a.createElement("button",{className:"button",onClick:function(){null!==d&&void 0!==d&&d.action?(window.open(null===d||void 0===d?void 0:d.action,"blank"),Object(O.default)("2020MC_openNewLogstics")):(i(!0),Object(O.default)("2020MC_openOldLogstics"))}},t.get("logisticsInquiry")||d.name||"Freight inquiry"),o.a.createElement("div",null,!Ke.isSellerPWA&&n&&o.a.createElement(a.Suspense,null,o.a.createElement(tc,{prefix:"bc-shipping-address-",showDefaultValue:!1,editable:!1,addressListDialogVisible:n,showAddButtonInAddressListDialog:!0,addressListDialogTitle:t.get("logisticsTitle")||"Select shipping address",extraParams:{role:"buyer",source:"TA",type:"CONSIGNEE",scenario:""},onAddressListLoaded:function(){},onCreatedAddress:function(){},onChange:this.onChangeAddress,onClose:function(){r(!1)}}))))}}])}(a.Component);function rc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rc=function(){return!!e})()}var ac=function(e){function t(){return v()(this,t),e=this,n=t,r=arguments,n=E()(n),x()(e,rc()?Reflect.construct(n,r||[],E()(e).constructor):n.apply(e,r));var e,n,r}return k()(t,e),b()(t,[{key:"render",value:function(){var e=this.props,t=e.ChatI18N,n=e.exp,r=e.expInfo,a=e.clk,i=e.clkInfo;return o.a.createElement("div",{"data-exp":n,"data-expInfo":r,"data-clk":a,"data-clkInfo":i},o.a.createElement("a",{href:"https://".concat(D.RFQ_DOMAIN,"/?spm=a2700.rfqBuyerForm.scGlobalHeader.82.3f552b6fJGoJ6s&tracelog=rfq-main-form-header"),target:"_blank",rel:"noopener noreferrer"},o.a.createElement("button",{className:"button"},t.get("requestForQuotation")||"Request for quotation")))}}])}(a.Component),oc=ac;function ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sc=function(){return!!e})()}var cc,lc=window.IcbuIM.UserUtil.getLoginIdAsync;lc().then((function(e){cc=e}));var uc=function(e){function t(e){var n,r,a,o;return v()(this,t),r=this,a=t,o=[e],a=E()(a),n=x()(r,sc()?Reflect.construct(a,o||[],E()(r).constructor):a.apply(r,o)),_()(n,"renderFAQ",(function(){var e=n.props,t=e.contact,r=e.host,a=e.sendMessage,o=e.getDXCard,i=e.clearDelayTimeout;Object(O.default)("2020MJJD_faq_entrance"),setTimeout((function(){Object(W.d)((function(e,o){var i=o[0]||{},s=i.actionName,c=i.actionParams;if(Object(O.default)("2020MJJD_faq_question"),"sendTextMessage"===s){var l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({content:c.contentLocalizedKey||c.content,msgType:1,accountId:t.accountId,accountIdEncrypt:t.accountIdEncrypt,clientVersion:r},c.extraInfo);a(l),n.FAQDom.click()}}),{messageId:"faq_message_id"},{}),o("https://".concat(D.WORKSPACE_DOMAIN,"?type=2009&to=").concat(cc,"&from=").concat(t.memberId),t.memberId,n.FAQDom)}),0),i()})),n}return k()(t,e),b()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.ChatI18N,r=t.exp,a=t.expInfo,i=t.clk,s=t.clkInfo;return o.a.createElement("div",{"data-exp":r,"data-expInfo":a,"data-clk":i,"data-clkInfo":s},o.a.createElement(I.Dropdown,{shouldUpdatePosition:!0,triggerType:"click",trigger:o.a.createElement("button",{className:"button",onClick:this.renderFAQ},n.get("FAQ")||"FAQs"),align:"tl bl",offset:[-3,-8]},o.a.createElement("div",{className:"faq-box"},o.a.createElement("div",{className:"faq-card",ref:function(t){return e.FAQDom=t}}),o.a.createElement("span",{className:"faq-box-arrow"}))))}}])}(a.Component);function dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pc=function(){return!!e})()}n.p=Object(pe.e)("im-weblite-chat");var fc=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,569))})),mc=function(e){function t(){return v()(this,t),e=this,n=t,r=arguments,n=E()(n),x()(e,pc()?Reflect.construct(n,r||[],E()(e).constructor):n.apply(e,r));var e,n,r}return k()(t,e),b()(t,[{key:"render",value:function(){var e=this.props,t=e.I18N,n=e.exp,r=e.expInfo,i=e.clk,s=e.clkInfo,c=e.startOrder,l=e.transferVisible,u=e.visible,d=e.sellerAccountId;return o.a.createElement("div",{"data-exp":n,"data-expInfo":r,"data-clk":i,"data-clkInfo":s},o.a.createElement("button",{className:"button",onClick:h()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),Object(O.default)("startOrder_new");case 2:case"end":return e.stop()}}),e)})))},t.get("startOrder")||"Start Order"),o.a.createElement("span",null,!Ke.isSellerPWA&&u&&o.a.createElement(a.Suspense,null,o.a.createElement(fc,{visible:u,onClose:function(){return l(!1)},sellerAccountId:d,showDraftTab:function(e){c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isShowDraftForm:!0},e))}}))))}}])}(a.Component),hc=mc;n(466);function gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return bc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function wc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wc=function(){return!!e})()}var xc=I.Form.Item,Cc={labelCol:{span:6},labelTextAlign:"left"},Ec=function(e){function t(e){var n,r,a,o;return v()(this,t),r=this,a=t,o=[e],a=E()(a),n=x()(r,wc()?Reflect.construct(a,o||[],E()(r).constructor):a.apply(r,o)),_()(n,"checkParams",(function(e){var t=n.props.ChatI18N;return 0!==e.serviceAttitude&&0!==e.replySpeed&&0!==e.professionalLevel||(I.Message.error(t.get("RateNone")||"请完成您的评价！"),!1)})),_()(n,"formatValuationParams",(function(e,t){var r=e.comment,a=e.serviceAttitude,o=e.replySpeed,i=e.professionalLevel,s={contactAliId:t[0],client:"web_messenger",comment:r,scene:"ICBU_OP"};return s.fraction=JSON.stringify({serviceAttitude:a,replySpeed:o,professionalLevel:i}),n.state.valuationId&&(s.valuationId=n.state.valuationId),s})),_()(n,"submitEvaluate",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.valuationId){e.next=6;break}return e.next=3,Object(A.mtopRequest)("mtop.alibaba.icbu.chat.seller.valuation.updatevaluation",JSON.stringify(t));case 3:r=e.sent,e.next=9;break;case 6:return e.next=8,Object(A.mtopRequest)("mtop.alibaba.icbu.chat.seller.valuation.addvaluation",JSON.stringify(t));case 8:r=e.sent;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"transferLoginIdAliIds",function(){var e=h()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=h()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.transferLoginId2AliId)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"handleSubmitEvaluation",function(){var e=h()(regeneratorRuntime.mark((function e(t,r){var a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.props.ChatI18N,n.checkParams(t)){e.next=3;break}return e.abrupt("return",!1);case 3:return i=(a=n).formatValuationParams.apply(a,[t].concat(Q()(r))),e.next=6,n.submitEvaluate(i);case 6:return"SUCCESS::调用成功"===e.sent.ret[0]?(Object(O.default)("2021MC_ServiceSatisfaction_SubmitClick"),I.Message.success(o.get("RateSuccess")||"Submit success.Thank you for rating.")):I.Message.error(o.get("RateError")||"Submit error.Please try again later."),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_()(n,"handleSendEvaluationCard",(function(e){(0,n.props.sendEvaluationCard)({data:{toLoginId:e}})})),_()(n,"handleSubmit",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a,o,i,s,c,l,u,d,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,a=r.contact,o=r.getEvaluation,i=r.toggleEvaluationDialog,s=r.ChatI18N,c=null===a||void 0===a?void 0:a.memberId){e.next=6;break}return I.Message.error(s.get("RateError")||"Submit error.Please try again later."),i(),e.abrupt("return");case 6:return e.next=8,n.transferLoginIdAliIds([c]);case 8:return l=e.sent,e.next=11,n.handleSubmitEvaluation(t,l);case 11:if(e.sent){e.next=14;break}return e.abrupt("return");case 14:i(),o({data:{toLoginId:c}}),(u=n.hasCard(n.props.list))?(d=t.professionalLevel,p=t.replySpeed,f=t.serviceAttitude,m=parseInt((parseInt(d)+parseInt(p)+parseInt(f))/3),window.dispatchEvent(new CustomEvent("updateState",{detail:{data:{rate:m},messageId:u.messageId}}))):n.handleSendEvaluationCard(c);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"hasCard",(function(e){var t,n=yc(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(2===r.type&&9601===r.subType)return r}}catch(e){n.e(e)}finally{n.f()}return!1})),n.state={rateFormValue:{serviceAttitude:0,replySpeed:0,professionalLevel:0,comment:""},valuationId:null},n}return k()(t,e),b()(t,[{key:"componentDidMount",value:function(){this.props.isShowEntry&&Object(O.default)("2022MC_ServiceSatisfaction_MenuShow")}},{key:"componentWillReceiveProps",value:function(e){var t=e.buyerEvaluation;if(e.showEvaluationDialog){var n={rateFormValue:{serviceAttitude:0,replySpeed:0,professionalLevel:0,comment:""},valuationId:null};t.rateFormValue&&(n=vc({},t)),this.setState(vc(vc({},this.state),n))}}},{key:"mapLevelToLevelMsg",value:function(e,t){var n=this.props.ChatI18N;return{serviceAttitudeMap:{1:n.get("serviceAttitudeLevel_1")||"Very bad",2:n.get("serviceAttitudeLevel_2")||"Bad",3:n.get("serviceAttitudeLevel_3")||"Average",4:n.get("serviceAttitudeLevel_4")||"Good",5:n.get("serviceAttitudeLevel_5")||"Very good"},replySpeedMap:{1:n.get("replySpeedLevel_1")||"Very slow",2:n.get("replySpeedLevel_2")||"Slow",3:n.get("replySpeedLevel_3")||"Neutral",4:n.get("replySpeedLevel_4")||"Fast",5:n.get("replySpeedLevel_5")||"Very fast"},professionalLevelMap:{1:n.get("professionalLevel_1")||"Very unprofessional",2:n.get("professionalLevel_2")||"Unprofessional",3:n.get("professionalLevel_3")||"Neutral",4:n.get("professionalLevel_4")||"Professional",5:n.get("professionalLevel_5")||"Very professional"}}[e][t]}},{key:"render",value:function(){var e=this,t=this.props,n=t.showEvaluationDialog,r=t.toggleEvaluationDialog,a=t.ChatI18N,i=t.isShowEntry;return o.a.createElement("div",null,o.a.createElement("button",{className:"button",style:i?{}:{display:"none"},onClick:function(){Object(O.default)("2021MC_ServiceSatisfaction_MenuClick"),r()}},a.get("RateSupplier")||"Rate supplier"),o.a.createElement(I.Dialog,{visible:n,shouldUpdatePosition:!0,title:a.get("RateSupplier")||"Rate supplier",onClose:function(){r()},footer:!1,centered:!0},o.a.createElement("div",{className:"formContent"},o.a.createElement("h4",{className:"title",style:{marginBottom:"10px"}},a.get("RateTitle")||"How satisfied are you with the supplier’s service?"),o.a.createElement(I.Form,U()({size:"large"},Cc,{value:this.state.rateFormValue}),o.a.createElement(xc,{label:a.get("ReplySpeed")||"Reply speed",required:!0,asterisk:!1,labelAlign:"left"},o.a.createElement(I.Rating,{name:"serviceAttitude",onChange:function(t){Object(O.default)("2021MC_ServiceSatisfaction_StartClick");var n=e.state.rateFormValue;e.setState({rateFormValue:vc(vc({},n),{},{serviceAttitude:t})})}}),o.a.createElement("span",{className:"level-msg"},this.mapLevelToLevelMsg("serviceAttitudeMap",this.state.rateFormValue.serviceAttitude))),o.a.createElement(xc,{label:a.get("ProfessionalLevel")||"Professional level",required:!0,asterisk:!1,labelAlign:"left"},o.a.createElement(I.Rating,{name:"replySpeed",onChange:function(t){Object(O.default)("2021MC_ServiceSatisfaction_StartClick");var n=e.state.rateFormValue;e.setState({rateFormValue:vc(vc({},n),{},{replySpeed:t})})}})," ",o.a.createElement("span",{className:"level-msg"},this.mapLevelToLevelMsg("replySpeedMap",this.state.rateFormValue.replySpeed))),o.a.createElement(xc,{label:a.get("SeviceAttitude")||"Sevice attitude",required:!0,asterisk:!1,labelAlign:"left"},o.a.createElement(I.Rating,{name:"professionalLevel",onChange:function(t){Object(O.default)("2021MC_ServiceSatisfaction_StartClick");var n=e.state.rateFormValue;e.setState({rateFormValue:vc(vc({},n),{},{professionalLevel:t})})}})," ",o.a.createElement("span",{className:"level-msg"},this.mapLevelToLevelMsg("professionalLevelMap",this.state.rateFormValue.professionalLevel))),o.a.createElement(xc,{asterisk:!1,className:"comment-item"},o.a.createElement(I.Input.TextArea,{placeholder:a.get("rateComment")||"Tell us more of your feelings (Optional)",showLimitHint:!0,maxLength:500,name:"comment",onFocus:function(){Object(O.default)("2021MC_ServiceSatisfaction_WriteClick")}})),o.a.createElement("span",{className:"text"},a.get("RateTips")||"Don’t worry, your rating won't be shared with this supplier."),o.a.createElement(xc,{asterisk:!1,className:"footer-item"},o.a.createElement(I.Button,{className:"cancelBtn",onClick:function(){r()}},a.get("RateCancel")||"Cancel"),o.a.createElement(I.Form.Submit,{type:"primary",className:"submitBtn",onClick:function(){var t=h()(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return t.next=3,e.handleSubmit(n);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},a.get("RateSubmit")||"Submit"))))))}}])}(a.Component),Sc=Ec;function kc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kc=function(){return!!e})()}var Tc,_c=(0,window.IcbuIM.lib.I18N.createI18N)({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger.spaTitle")}),Ic=(a.Component,n(30)),Oc=n(130),Ac=n.n(Oc),Dc=n(74),Mc=n.n(Dc),Nc=n(199),Pc=n.n(Nc),Lc=n(37),Rc=n.n(Lc),Fc=n(200),jc=n.n(Fc),Bc=n(136),zc=n.n(Bc),qc=n(137),Vc=n.n(qc),Uc=n(201),Hc=(n(503),Tc=((Uc.isSeller?Vc.a.getLocale():Vc.a.getBuyerLocale())||zc.a.defaultLocale).replace("_","-").toLowerCase(),{get:function(e){return(zc.a[Tc]||{})["chat.translateFeedback."+e]}}),Wc=["","rate1","rate2","rate3","rate4","rate5"];function Gc(e){var t=e.isPopup,n=void 0===t||t,r=e.visible,i=e.onClose,s=e.onSuccess,c=e.onError,l=e.srcContent,u=e.translatedContent,d=e.userId,p=e.userType,f=e.messageId,m=(u||"").replace(/<\/?.+?>/gi,"\n"),h=Object(a.useState)(0),g=h[0],v=h[1],y=Object(a.useState)(!1),b=y[0],w=y[1],x=null,C=new URLSearchParams;C.append("eventDTO",JSON.stringify({platform:"sc",appName:"ICBU_IM_web",userId:d,userType:p,os:"web",event:"score",messageId:f,src:l,target:u,realTarget:x&&x.getInputNode().value,score:""+g,extInfo:{fieldtype:"message"}}));var E=o.a.createElement("div",{className:"translate-feedback-wrapper"},o.a.createElement("h2",{className:"section-name"},Hc.get("subTitle")||"Translation Quality"),o.a.createElement("div",{className:"rating-container"},o.a.createElement(jc.a,{className:"rating",defaultValue:0,size:"large",onChange:function(e){w(!1),v(e)}}),o.a.createElement("p",{className:"rate-tip "+(b?"red":"")},Hc.get("rateTip"+(Wc[g]?"."+Wc[g]:""))||"Please rate")),o.a.createElement("h2",{className:"section-name"},Hc.get("translationRevision")||"Translation Revision"),o.a.createElement("h3",{className:"sub-section-name"},Hc.get("original")||"Original:"),o.a.createElement("p",{className:"original-text",dangerouslySetInnerHTML:{__html:l}}),o.a.createElement("h3",{className:"sub-section-name"},Hc.get("pleaseRevise")||"Please revise(optional):"),o.a.createElement(Pc.a.TextArea,{ref:function(e){return x=e},className:"translate-textarea","aria-label":"TextArea",defaultValue:m}),o.a.createElement(Rc.a,{type:"primary",className:"submit",onClick:function(){0!==g?fetch("https://translate.alibaba.com/translationopenseviceapp/trans/TranslateEventCallBack.do",{method:"POST",mode:"cors",credentials:"include",cache:"no-cache",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:C}).then((function(e){return e.json()})).then((function(e){e.success&&i?(s(),i(),v(0)):c()})).catch((function(e){c(),console.log("catch error",e)})):w(!0)}},Hc.get("submit")||"Submit"));return n?o.a.createElement(Ac.a,{visible:r,align:"cc cc",hasMask:!0,disableScroll:!0},o.a.createElement("div",{className:"translate-feedback-container"},o.a.createElement("h1",{className:"translate-feedback-title"},Hc.get("title")||"Translation Feedback"),o.a.createElement(Mc.a,{type:"close",size:"small",className:"close",onClick:function(){v(0),i()}}),E)):E}var Kc=244312150,Jc="us1534071751xgym";var Zc,Xc=window.IcbuIM.IMBaaSSDK.default;(0,window.IcbuIM.UserUtil.getLoginIdAsync)().then((function(e){Zc=e}));var Yc,Qc,$c,el,tl=function(e){ks.registerEventHandler("atmTradeClickForWeb",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0][0]||{},o=a.actionName,i=a.actionParams,s=e.props,c=s.host,l=s.redirectTo,u=s.SPA_MODULES,d=s.summaryData.contact;if("openUrl"===o)if("self"===i.type)Object(O.default)("2020MC_ChatStickDealCard_Click&actionName=".concat(o,"&bizId=").concat(i.bizId,"&cardType=").concat(i.cardType,"&type=").concat(i.type)),window.open(i.url);else if("startorder"===i.type){var p=i.talkQueryIds,f=i.channelType,m=i.channelReferId,h=i.url,g=Fe(h,"urlParams");g=JSON.parse(decodeURIComponent(g)),Object.assign(g,{initParams:{talkQueryIds:p,channelType:f,channelReferId:m}});var v=je(h,"urlParams"),y=function(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.hostname+t.pathname}(h);h="".concat(y,"?").concat(v,"&urlParams=").concat(encodeURIComponent(JSON.stringify(g))),Object(O.default)("2020MC_ChatStickDealCard_ActionClick&actionName=".concat(o,"&bizId=").concat(i.bizId,"&cardType=").concat(i.cardType,"&type=").concat(i.type)),"weblite"===c?window.open(h):l({appName:u.taOrder,params:{loginId:d&&d.memberId,ownerLoginId:Zc,role:Ke.isSellerPWA?"seller":"buyer",initParams:{talkQueryIds:p,channelType:f,channelReferId:m},isShowDraftForm:!0,onSuccess:function(){e.completeOrder=!0}}})}else Object(O.default)("2020MC_ChatStickDealCard_ActionClick&actionName=".concat(o,"&bizId=").concat(i.bizId,"&cardType=").concat(i.cardType,"&type=").concat(i.type)),window.open(i.url)}))};function nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e;if(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.indexOf("pre-clouddisk.alibaba.com")>=0||e.indexOf("clouddisk.alibaba.com")>=0}(e))return n;if(n+="&format=quality,q_100",t.length<=0)return n;var r=Xc.getImageCacheService().getImage(t,"originalImage");return r?r.url:(Xc.getImageCacheService().cacheImageDetails(t,"originalImage",n,"chat"),n)}var rl=function(e,t){return Yc=t,Qc=e,$c=setTimeout((function(){Object(A.transferLoginId2AliId)(t.loginId||t.memberId).then((function(t){var n={contactAliId:t[0],sendInfoMap:JSON.stringify(e)};Object(A.invokeQuesionRecommend)(n).then((function(){el=!0}))}))}),1e4),el},al=function(){clearTimeout($c),$c&&!el&&rl(Qc,Yc)};n(504);function ol(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ol=function(){return!!e})()}var il=function(e){function t(){return v()(this,t),e=this,n=t,r=arguments,n=E()(n),x()(e,ol()?Reflect.construct(n,r||[],E()(e).constructor):n.apply(e,r));var e,n,r}return k()(t,e),b()(t,[{key:"getHashCode",value:function(e){var t=0;if(!e)return t;for(var n=0;n<e.length;n++)t=31*t+e.charCodeAt(n),t&=4294967295;return t}},{key:"getAvatarBackground",value:function(e){return["#50E3C2","#FE5D59","#FF9A59","#FFDD59","#59DBFF","#5966FF","#59ABFD","#FE5977","#5A8EFF","#A559FF","#50E3C2","#D84C4C"][Math.abs(this.getHashCode(e)%12)]}},{key:"render",value:function(){var e=this.props.contact,t=e.fullPortrait;return o.a.createElement("div",{className:"user-info"},t?o.a.createElement("div",{style:{backgroundImage:"url(".concat(t||"https://img.alicdn.com/tfs/TB1bs7ZQXXXXXXGapXXXXXXXXXX-88-88.png",")")},className:"session-avatar"}):o.a.createElement("div",{className:"session-avatar head-portrait",style:{backgroundColor:this.getAvatarBackground(e.name)}},e.name||""===e.name?e.name.slice(0,1):e.loginId&&e.loginId.slice(0,1)||""),o.a.createElement("div",{className:"name"},e.name))}}])}(a.Component),sl=il;n(505);function cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ul(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ul=function(){return!!e})()}var dl=I.Form.Item,pl=I.Radio.Group,fl=I.Input.TextArea,ml={labelTextAlign:"left"},hl=[2e3,3],gl=function(e){function t(e){var n,r,a,o;return v()(this,t),r=this,a=t,o=[e],a=E()(a),n=x()(r,ul()?Reflect.construct(a,o||[],E()(r).constructor):a.apply(r,o)),_()(n,"handleRadioChange",(function(e){n.setState(ll(ll({},n.state),{},{formValue:ll(ll({},n.state.formValue),{},{reasonType:e})}))})),_()(n,"handleSwitchChange",(function(e){n.setState(ll(ll({},n.state),{},{formValue:ll(ll({},n.state.formValue),{},{blockSupplier:e})}))})),_()(n,"handleSubmit",(function(e){var t=n.props.ChatI18N,r=e.reasonType,a=e.reportContent,o=e.blockSupplier,i=n.props.contact.accountId,s=n.props.messageList.slice(0,20).reduce((function(e,t){if(hl.includes(t.subType)){var n,r,a=null===(n=t.content)||void 0===n||null===(r=n.match(/ids=([^&]*)(&?)/i))||void 0===r?void 0:r[1];a&&e.push(a)}return e}),[]).join("_");Object(O.default)("ImUserReport&reasonType=".concat(r,"&reportContent=").concat(a,"&targetId=").concat(i,"&productIds=").concat(s)),o?n.props.blockContact():n.props.unblockContact(),I.Message.show({title:t.get("complaint.submit_success"),content:t.get("complaint.success_content")}),n.toggleDialog()})),n.state={isShowEntry:!0,showDialog:!1,formValue:{reasonType:"",reportContent:"",blockSupplier:!1}},n}return k()(t,e),b()(t,[{key:"componentDidMount",value:function(){this.setState(ll(ll({},this.state),{},{isShowEntry:!0}))}},{key:"toggleDialog",value:function(){this.setState(ll(ll({},this.state),{},{showDialog:!this.state.showDialog}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.ChatI18N,r=t.contact,a=[{label:n.get("settings.report_type_fake_info")||"Misleading price or MOQ",value:"FakeInfo"},{label:n.get("settings.report_type_1")||"Pornographic materials",value:1},{label:n.get("settings.report_type_2")||"Abusive materials",value:2},{label:n.get("settings.report_type_3")||"False news",value:3},{label:n.get("settings.report_type_4")||"Sent malware",value:4},{label:n.get("settings.report_type_5")||"Other reasons",value:5}];return o.a.createElement("div",null,o.a.createElement("button",{className:"button",style:this.state.isShowEntry?{}:{display:"none"},onClick:function(){e.toggleDialog()}},n.get("complaint.reportSupplier")),o.a.createElement(I.Dialog,{className:"report-supplier-dialog",visible:this.state.showDialog,shouldUpdatePosition:!0,title:n.get("complaint.reportSupplier"),onClose:function(){e.toggleDialog()},footer:!1,centered:!0},o.a.createElement("div",{className:"report-supplier-form-content"},o.a.createElement("div",{className:"header"},o.a.createElement(sl,{contact:r})),o.a.createElement(I.Form,U()({},ml,{value:this.state.formValue}),o.a.createElement(dl,{name:"reasonType",label:n.get("complaint.selectReason"),labelAlign:"top",required:!0},o.a.createElement(pl,{dataSource:a,value:this.state.formValue.reasonType,onChange:this.handleRadioChange})),o.a.createElement(dl,{name:"reportContent"},o.a.createElement(fl,{placeholder:n.get("complaint.reportContent"),rows:3})),o.a.createElement(dl,{label:n.get("complaint.blockSubpplierLabel"),name:"blockSupplier",labelAlign:"left",style:{marginBottom:"12px",display:"flex",justifyContent:"space-between"}},o.a.createElement(I.Switch,{size:"small",autoWidth:!0,checked:this.state.formValue.blockSupplier,onChange:this.handleSwitchChange})),o.a.createElement("div",{className:"tips"},n.get("complaint.blockSupplier")),o.a.createElement(dl,{asterisk:!1,style:{textAlign:"right",marginBottom:"0px"}},o.a.createElement(I.Button,{className:"cancel-btn",onClick:function(){return e.toggleDialog()}},n.get("RateCancel")||"Cancel"),o.a.createElement(I.Form.Submit,{type:"primary",validate:!0,className:"submit-btn ".concat(this.state.formValue.reasonType?"":"disabled"),onClick:this.handleSubmit},n.get("RateSubmit")||"Submit"))))))}}])}(a.Component),vl=function(e){e.receiveSummaryDataTime=e.receiveSummaryData-e.startTime,e.startActivateChatTime=e.startActivateChat-e.receiveSummaryData,e.fetchMessageDataStartTime=e.fetchMessageDataStart-e.startActivateChat,e.fetchMessageDataEndTime=e.fetchMessageDataEnd-e.fetchMessageDataStart,e.buildItemStartTime=e.buildItemStart-e.fetchMessageDataEnd,e.buildItemEndTime=e.buildItemEnd-e.buildItemStart,e.IM_ConvChangeRerenderTime=e.IM_ConvChangeRerender-e.buildItemEnd,e.costTimeFromClick=Date.now()-e.clickStartTime||0,e.clickSource=e.clickSource},yl=n(76),bl=n.n(yl);function wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wl(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cl=function(e,t){var n,r,a,o=(null===t||void 0===t?void 0:t.data)&&t.data[0]||{},i=o.actionName,s=o.actionParams,c=void 0===s?{}:s,l=null!==(n=c.subscribeButtonContent)&&void 0!==n?n:"Set reminder",u=null!==(r=c.subscribedButtonContent)&&void 0!==r?r:"Subscribed",d=(t||{}).fullData,p="gone"===(null===t||void 0===t||null===(a=t.fullData)||void 0===a?void 0:a.liveNoticeCardVisiblity);if("subscribeCalendar"===i){var f,m,h,g,v,y,b="",w="";if(p)b=null===t||void 0===t||null===(f=t.fullData)||void 0===f||null===(m=f.action)||void 0===m||null===(h=m.actionParams)||void 0===h?void 0:h.uuid,w=null===t||void 0===t||null===(g=t.fullData)||void 0===g||null===(v=g.action)||void 0===v||null===(y=v.actionParams)||void 0===y?void 0:y.status;else b=c.uuid,w=c.status;var x={buttonColor:"#7f222222",buttonContentColor:"#7f222222",buttonContent:u},C={buttonColor:"#222",buttonContentColor:"#222",buttonContent:l},E="1"===w;(E?A.handleUnSubscribeLive:A.handleSubscribeLive)({liveUuid:b,platForm:"pc"}).then((function(n){if(n.data&&200===n.data.bizErrorCode&&n.data.value)if(p)try{var r,a;window.dispatchEvent(new CustomEvent("updateState",{detail:{data:{actionText:E?C.buttonContent:x.buttonContent,actionTextColor:E?C.buttonColor:x.buttonColor,borderColor:E?C.buttonContentColor:x.buttonContentColor,action:{actionName:null===d||void 0===d||null===(r=d.action)||void 0===r?void 0:r.actionName,actionParams:xl(xl({},null===d||void 0===d||null===(a=d.action)||void 0===a?void 0:a.actionParams),{},{status:E?"0":"1"})}},messageId:e.messageId}}))}catch(e){console.log(e)}else{var o=t.fullData.liveList.map((function(e){var t=xl({},e);return e.action.actionParams.uuid===b&&("0"===e.action.actionParams.status?(t.action.actionParams.status="1",t.buttonContent=x.buttonContent,t.buttonContentColor=x.buttonContentColor,t.buttonColor=x.buttonColor):(t.action.actionParams.status="0",t.buttonContent=C.buttonContent,t.buttonContentColor=C.buttonContentColor,t.buttonColor=C.buttonColor)),xl({},t)}));window.dispatchEvent(new CustomEvent("updateState",{detail:{data:{liveList:o},messageId:e.messageId}}))}else MessageTip.error("subscribe error")})).catch((function(){MessageTip.error("subscribe error")}))}},El=(n(506),n(208),n(56)),Sl=["contact","owner"];function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_l=function(){return!!e})()}var Il=a.Suspense,Ol=a.lazy;n.p=Object(pe.e)("im-weblite-chat");var Al=Ol((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,564))})),Dl=window.IcbuIM.IMBaaSSDK,Ml=Dl.baasDataManager,Nl=Dl.Logger,Pl=Dl.EventNameEnum,Ll=Dl.getCurrentUser,Rl=window.IcbuIM.IMBaaSSDK.default,Fl=new Nl("chat-container");Fl.color("#228B22");var jl,Bl,zl=null,ql=window.IcbuIM.Constants.CONST.PAGESIZE,Vl=window.IcbuIM.IMSDKHelper,Ul=Vl.isSaasChannel,Hl=Vl.isWorkbench,Wl=Vl.isAlisupplier,Gl=Vl.isMac,Kl=Vl.isAIM,Jl=window.IcbuIM.UserUtil,Zl=Jl.currentUser,Xl=Jl.getAccountIdAsync,Yl=Jl.getLoginIdAsync,Ql=Jl.getLocale,$l=Jl.getBuyerLocal,eu=window.IcbuIM.lib,tu=eu.CardMap,nu=eu.Utils,ru=window.IcbuIM.lib.I18N.createI18N,au=Ql().lang,ou=I.Menu.Item,iu=ru({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),su=ru({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","chat")}),cu=ru({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),lu=1,uu=4,du="us1534071751xgym";Yl().then((function(e){Fl.log("currentLoginId %o",e),jl=e})),Xl().then((function(e){Bl=e}));var pu=navigator.language||navigator.userLanguage;pu=pu.substr(0,2);var fu=null,mu=Object(ie.getAPLUSABRATEResult)("buyer_im_translate_setting_msg"),hu={advertisement:"advertisement",phish:"phish",suspiciousFraud:"suspicious_fraud",others:"others"},gu=I.Radio.Group,vu=I.Grid.Row,yu=I.Grid.Col,bu=window.cgsTranslateTest,wu=function(e){function t(e){var n,r,o,i;return v()(this,t),r=this,o=t,i=[e],o=E()(o),n=x()(r,_l()?Reflect.construct(o,i||[],E()(r).constructor):o.apply(r,i)),_()(n,"handleContextMenu",(function(){document.body.addEventListener("contextmenu",(function(e){e.preventDefault(),e.stopImmediatePropagation();var t=e.target,r=window.getSelection().toString(),o="img"===t.nodeName.toLowerCase();if(r||o&&"menu-icon"!==t.className){var i=t.getBoundingClientRect(),s=i.top,c=i.left;I.Menu.create({target:e.target,offset:[e.clientX-c,e.clientY-s],className:"context-menu",popupClassName:"context-menu",selectMode:"multiple",onSelect:function(){var e=o?t.getAttribute("src"):r;n.props.copyText({content:e,type:o?"img":"text"})},children:[a.createElement(ou,{key:"1"},iu.get("menuCopyText")||"copy")]})}}))})),_()(n,"loadCacheMessages",(function(e,t,r){var a,o;if(!Hl&&t){var i=null===(a=t[0])||void 0===a||null===(o=a.contact)||void 0===o?void 0:o.accountId;Object(O.default)({ext:"showCacheMsg",bizData:{cacheAccountId:i,payloadAccountId:e}});var s={list:t};n.props.buildItems({session:s,order:"reset",cleanFake:!0,accountId:e,received:!1,fromSearch:!1}),M.a.includes(String(r)||"")||n.props.insertFakeItem({session:s,accountId:e})}})),_()(n,"createMessagePolling",(function(){zl||(zl=setInterval((function(){var e=n.props,t=e.host,r=e.summaryData,a=void 0===r?{}:r,o=e.fetchNewMessages,i=a.contact,s=!!(void 0===i?{}:i).cid,c="visible"===document.visibilityState,l=!Ul(),u=!0;if("weblite"===t){var d=document.querySelector("#icbu-weblite-list"),p=null===d||void 0===d?void 0:d.className;u=/icbu-weblite-list-expand/.test(p)}s&&c&&l&&u&&o({callback:function(e,t){200!==+t&&clearInterval(zl)}})}),M.h))})),_()(n,"handleWorkbenchEventListener",(function(){var e=n.props.setSummaryData;n.handleContextMenu(),Rl.getEventService().addListener(Pl.PC_SEND_MESSAGE,(function(){n.onSend()})),Rl.getEventService().addListener(Pl.PaaSConversationChange,(function(t){var r,a,o;Object(O.default)({ext:"PaaSConversationChangeFormPC",bizData:{shouldInvokeTranslate:n.shouldInvokeTranslate,accountId:null===t||void 0===t||null===(r=t.contact)||void 0===r?void 0:r.accountId,convChangeTimestamp:null===t||void 0===t||null===(a=t.ext)||void 0===a||null===(o=a.custom)||void 0===o?void 0:o.convChangeTimestamp}}),n.shouldInvokeTranslate&&(n.props.getLanguageInfo({data:{contactLoginId:t.contact.memberId}}),n.shouldInvokeTranslate=!1),Fl.log("conversationChange contact %o",t.contact),n.state.clearList&&n.setState({clearList:!1}),Fl.log("contact in setTimeout is %o",t.contact),e({contact:Tl(Tl({},t.contact),{},{convChangeTimestamp:t.ext&&t.ext.custom&&t.ext.custom.convChangeTimestamp})}),n.maximize()})),Rl.getEventService().addListener(Pl.BaaSMessageTranslateChange,(function(e){n.props.setLanguageInfo({receiveTranslateOpen:e.receive,receiveTranslateAgreement:!0})})),Rl.getEventService().addListener(Pl.PaaSConversationRemove,(function(e){Hl&&e.cid===Rl.context.cid&&n.clearText()}))})),_()(n,"listener",(function(e){e.preventDefault();var t=localStorage.getItem("SendSuccessTime");if(t){if(!(t&&Date.now()-t>=864e5))return;Object(O.default)("messageFailed"),(e||window.event).returnValue="您还有数据未保存，确认离开？"}else Object(O.default)("messageFailed"),(e||window.event).returnValue="您还有数据未保存，确认离开？"})),_()(n,"storeLatestMsgToCache",(function(){var e,t,r,a,o,i=n.props,s=i.summaryData.contact,c=i.sessionData;(null===(e=window)||void 0===e||null===(t=e.DBConv)||void 0===t?void 0:t.updateCacheConv)&&(null===(r=window)||void 0===r||null===(a=r.DBConv)||void 0===a||a.updateCacheConv({loginId:jl,data:[{aliId:s.aliId,loginId:s.memberId,msgCache:null===(o=c[s.accountId])||void 0===o?void 0:o.slice(0,20)}]}))})),_()(n,"saveDataBeforeConvChange",(function(){var e=n.props.summaryData.contact,t=void 0===e?{}:e;Ke.isWeblite||"{}"===JSON.stringify(t)||(t.renderCost&&delete t.renderCost,n.storeLatestMsgToCache())})),_()(n,"clearText",(function(){Object(O.default)("pc_clearText"),n.setState({clearList:!0})})),_()(n,"selectAllText",(function(){Object(O.default)("pc_selectAllText")})),_()(n,"selectQuickPhase",(function(e){Object(O.default)("selectQuickPhase"),n.props.selectQuickPhase(e)})),_()(n,"addQuickTemplate",(function(e){Object(O.default)("pc_addQuickTemplate");var t=e;try{var r;t=null===(r=t=Ge.a.convertImageToEmoKey(t))||void 0===r?void 0:r.replace(/<br class="quick-phase-br">/g,"\n"),n.props.addQuickTemplate(t)}catch(t){n.props.addQuickTemplate(e)}})),_()(n,"copyText",(function(e){Object(O.default)("pc_copyText");var t=n.props.copyText,r=e.subType,a=e.content,o=e.originalData,i=1===r?"text":"img";if("img"===i)if(o&&o.url)a=o.url;else{var s=/<img[^>]+src="([^">]+)"/.exec(a);a=s&&s[1]}t({content:a,type:i})})),_()(n,"startTranslate",(function(e){(0,n.props.translate)(e)})),_()(n,"dialogToReply",(function(e){if(2!==e.conversationType){var t=e.accountId,r=n.props.checkConversationNeedFix;setTimeout((function(){r({data:{contactAccountId:t},callback:function(e){n.setState({replyDialogVisible:null===e||void 0===e?void 0:e.needFix,inContactBlockList:null===e||void 0===e?void 0:e.inContactBlockList,contactDisabled:null===e||void 0===e?void 0:e.contactDisabled},(function(){}))}})}),1e3)}})),_()(n,"setReplyDialogContent",(function(e,t){return n.replyDialogContent=e&&t?cu.get("replyDialogContentBoth")||"由于对方账号失效，且您已被对方拉黑，当前不可回复。":e?cu.get("replyDialogContentDisable")||"由于对方账号失效，当前不可回复。":cu.get("replyDialogContentBlock")||"由于您已被对方拉黑，当前不可回复。",n.replyDialogContent})),_()(n,"onReplyClose",(function(){n.setState({replyDialogVisible:!1})})),_()(n,"onReply",(function(){var e=n.props;(0,e.fixConversation)({data:{contactAccountId:e.summaryData.contact.accountId}}),n.setState({replyDialogVisible:!1})})),_()(n,"handleTradeStatus",(function(){n.shouldFetchRelation=!0,n.setState({showReferLayer:!1,showSceneLayer:!1,showVipRightLayer:!1,sceneTopUrl:null,referCardData:null}),n.props.setChatEventProcess(null)})),_()(n,"handleContactBlock",(function(e){var t=n.props,r=t.summaryData.contact,a=t.clearCard;e.block?n.addUnblockContact():a({msgType:3201,accountId:r.accountId})})),_()(n,"fetchForwardMessagesForSearch",(function(){var e=n.props,t=e.summaryData.contact,r=e.sessionData,a=t&&r[t.accountId]||[];n.endScroll&&null!==a&&void 0!==a&&a.fromSearch&&(n.endScroll=!1,n.props.fetchMessages({data:{contactAccountId:t&&t.accountId||0,contactAccountIdEncrypt:t&&t.accountIdEncrypt||"",timeSlide:{forward:!0,timeStamp:a.length&&a[0].sendTime||null,pageSize:ql}},order:"header",callback:function(){n.endScroll=!0}}))})),_()(n,"getDXCard",(function(e,t,r){var o=n.props,i=(o.host,o.summaryData),s=(void 0===i?{}:i).contact,c=void 0===s?{}:s,l=c.conversationType,u=c.owner,d=void 0===u?{}:u,p=c.cid,f=ks.Fragment,m=ks.Template,h=Fe(e,"type"),g=je(e,"type"),v=Date.now(),y=n,b={operateType:"display",bizData:{scene:"preview",cardType:h}};Object(O.default)(Tl({ext:"ParseDynamicCardStart",success:"YES",resultCode:"200",resultMsg:"parse card start"},b));var w,x=null;if(2===l){var C=g.split("&"),E={};C.forEach((function(e){var t=e.split("=");2===t.length&&""!==t[1]&&"undefined"!=t[1]&&Object.assign(E,_()({},t[0],t[1]))})),w={toUid:d.aliId,fromUid:d.aliId,cid:p,conversationType:l,paramsMap:E,cardType:h},x=Object(W.e)(w).then((function(e){return{ret:e.ret,data:{parsedMessage:e.data.fbCardList[0]}}}))}else x=function(e,t,n){var r=Ke.isSeller?Os():As(),a=r.lang,o=r.country,i=/sc_b_currency=(\w+)/.exec(document.cookie),s=i&&i[1]||"USD";return Ts({api:"mtop.alibaba.intl.mobile.interaction.previewdynamiccardmessage",v:"1.0",appKey:"24889839",data:{country:o,cardType:t,targetLoginId:e,terminalType:"messenger",queryStringMap:n,timeZone:"Asia/Shanghai",language:a,currency:_s?s:"USD",class:"com.alibaba.intl.sourcing.mobile.interaction.query.TemplateCardQuery",versionCode:1,proxyAliId:""+(window.proxyAliId||"")},ecode:1,dataType:"json"})}(t,h,g);return new Promise((function(e,t){x.then((function(t){var n=t.ret&&t.ret[0]||"noResult",o="SUCCESS::调用成功"===n;Object(O.default)(Tl({ext:"ParseDynamicCard",success:o?"YES":"NO",resultCode:o?"200":M.d.CARD_PARSE_ERROR,resultMsg:o?"card parse success":n,costTime:Date.now()-v},b)),ks.render(a.createElement(f,null,a.createElement(m,{tpl:JSON.parse(t.data.parsedMessage.template.templateBin),data:t.data.parsedMessage.data})),r),e(t)}),(function(e){var n=e.ret&&e.ret[0]||"noResult";Object(O.default)(Tl({ext:"ParseDynamicCard",success:"NO",resultCode:M.d.CARD_PARSE_ERROR,resultMsg:n,costTime:Date.now()-v},b)),y.props.setChatEventProcess(null),t()})).catch((function(e){Object(O.default)(Tl({ext:"ParseDynamicCard",success:"NO",resultCode:M.d.CARD_PARSE_ERROR,resultMsg:e.message?e.message:"card parse failed",costTime:Date.now()-v},b)),y.props.setChatEventProcess(null),t()}))}))})),_()(n,"fetchMessages",(function(e,t){var r=n.props,a=r.summaryData,o=void 0===a?{}:a,i=r.sessionData,s=r.noMoreCache,c=o.contact,l=void 0===c?{}:c,u=l.accountId,d=l.accountIdEncrypt,p=l.conversationType,f="";if("reset"===t&&(f=n.handleContactExtInfoRender()),!t&&s[u]&&(null===l||void 0===l||!l.fromSearchHistory))return Object(O.default)({ext:"noMoreCache",bizData:{contactAccountId:u}}),void("function"===typeof e&&e(!1));if(Fl.log("拉取消息前判断 accountId %s, accountIdEncrypt %s",u,d),u&&(d||2===p)){var m=i[u]||[],h=l.searchTimeStamp&&l.searchTimeStamp+1;n.props.fetchMessages({data:{contactAccountId:u,contactAccountIdEncrypt:d,timeSlide:{forward:!1,timeStamp:h||"reset"!==t&&m.length&&m[m.length-1].sendTime||null,pageSize:ql}},order:t,fromSearch:!!h,callback:function(r,a){if(1*a===200){Array.isArray(r)&&r.length>0&&9409===r[0].subType&&(n.canAICardGenerated=!1);var o=n.recordLastErrorAICard,i=o.cid,s=o.requestId,c=o.errorContent;l.cid===i&&(n.generateAIFakeMsg(s,c),n.recordLastErrorAICard={})}if(1*a!==200&&n.showRealDom({scene:"fetchMessageError"}),1*a===3006)return Object(O.default)("ifmupgrade"),void Fr.a.Dialog({content:iu.get("ifmupgrade"),variable:!0,upgradeUrl:"//seller.alibaba.com/ggs/productLanding.html?tracelog=IM"});"reset"===t&&"product"===f&&(n.isNoMsgRecetly(r)&&n.triggerAi(),l.block&&n.addUnblockContact()),"function"===typeof e&&e(!1)}})}else Object(O.default)({ext:"contactInfoError",bizData:{contactAccountId:u,contactAccountIdEncrypt:d}})})),_()(n,"handleContactExtInfoRender",(function(){var e=n.props,t=e.summaryData,r=void 0===t?{}:t,a=e.extraInfo,o=void 0===a?{}:a,i=r.contact,s=r.extraInfo||o,c=s.sceneData,l=s.productId,u=c||{},d=u.sceneId,p=u.cardParams,f=void 0===p?{}:p,m="";if(d){var h=c.sceneCardType-1e4;f.id=d,m=c.sceneType,n.currentReferData={bizId:d,bizType:m,cardType:9,msgType:tu[h]||h,cardParams:f},n.showReferLayer(i,n.currentReferData)}else l&&(m="product",n.currentReferData={bizId:l,bizType:m,cardType:3,msgType:54,cardParams:f},n.showReferLayer(i,n.currentReferData));return m})),_()(n,"toVipRight",(function(e){var t=n.state.vipRightData;Object(O.default)({ext:"buyesrclub_benefit_click",bizData:{benefitName:t.benefitCode,userLevel:t.userLevel,scene:e}}),n.props.EventBus.publish("weblite:windowResize",{type:"show"}),n.vipRightBtn&&n.vipRightBtn.click()})),_()(n,"showReferLayer",(function(e,t){var r=t.bizId,a=t.bizType,o=t.cardType,i=t.msgType,s=t.fromOrder,c=void 0!==s&&s,l=t.toAccountId,u=void 0===l?"":l,d=t.toAccountIdEncrypt,p=void 0===d?"":d,f=t.textContent,m=void 0===f?"":f,h=t.strategy,g=void 0===h?"":h,v=t.cardParams;Object(O.default)("2020MC_InputBoxQuoteCard_Show&bizId=".concat(r,"&cardType=").concat(o));var y=n.getReferLayerUrl(jl,e.memberId,r,o);n.getDXCard(y,e.memberId,n.dxReferMountDOM).then((function(){var t,o,s,l=n.props.host,d=n.getLocal();u&&p&&p.length?(t=u,o=p,s=m):(t=e.accountId,o=e.accountIdEncrypt,s=""),n.setState({showReferLayer:!0,referCardData:{cardParams:v,country:d,content:r+"",msgType:i,accountId:t,accountIdEncrypt:o,textContent:s,strategy:g,bizType:a,bizId:r,clientVersion:l,fromOrder:c}})}))})),_()(n,"onCloseTipOrderComplete",(function(){Object(O.default)("2020MC_InviteSellerStartOrder_Cancel"),n.setState({tipOrderCompleteVisible:!1})})),_()(n,"onOrderComplete",(function(){var e=n.orderParams.initParams,t=(void 0===e?{}:e).talkQueryIds,r=n.props.summaryData.contact;Object(O.default)("2020MC_InviteSellerStartOrder_Comfirm"),n.setState({sendContent:iu.get("leaveorder.defaultContent")}),t&&(Object(O.default)("2020MC_InviteSellerStartOrder_Comfirm_product"),n.currentReferData={bizId:t,bizType:"product",cardType:3,msgType:54,fromOrder:!0},n.showReferLayer(r,n.currentReferData)),n.setState({tipOrderCompleteVisible:!1})})),_()(n,"closeLayer",(function(e){return function(){var t=n.currentReferData||{};"top"===e?(n.props.setChatEventProcess(null),Object(O.default)("2020MC_ChatStickDealCard_Close&bizId=".concat(t.bizId,"&cardType=").concat(t.cardType))):"refer"===e?(Object(O.default)("2020MC_InputBoxQuoteCard_Close"),n.setState({showReferLayer:!1,referCardData:null})):"vip"===e&&n.setState({showVipRightLayer:!1})}})),_()(n,"fetchMessagesForward",(function(){var e=n.props,t=e.summaryData.contact,r=e.sessionData,a=t&&r[t.accountId]||[];n.props.fetchMessages({data:{contactAccountId:t&&t.accountId||0,contactAccountIdEncrypt:t&&t.accountIdEncrypt||"",timeSlide:{forward:!0,timeStamp:a.length&&a[0].sendTime||null,pageSize:ql}},order:"header",callback:function(){n.endScroll=!0}})})),_()(n,"transferVisible",(function(e){n.setState({orderDialogVisible:e})})),_()(n,"startOrder",(function(e){El.EventBus.publish("im-weblite-list:closeOrder",{callback:function(){var t=e;e.target instanceof Element&&(t={}),Object(O.default)("startOrder");var r=n.props,a=r.summaryData.contact;(0,r.redirectTo)({appName:r.SPA_MODULES.taOrder,params:Tl(Tl({},t),{},{loginId:null===a||void 0===a?void 0:a.memberId,accountIdEncrypt:null===a||void 0===a?void 0:a.accountIdEncrypt,role:Ke.isSellerPWA?"seller":"buyer",onSuccess:function(){n.completeOrder=!0}})})}})})),_()(n,"setAddress4Inquiry",(function(e){n.address4Inquiry=e,n.setState({showLogisticsInquiry:!1})})),_()(n,"showAddressList",(function(e){e?(Object(O.default)("2020MC_ShowAddressList_Click"),n.address4Inquiry=!0):(Object(O.default)("2020MC_ShowAddressList_Toolbar"),n.address4Inquiry=!1),n.setState({showLogisticsInquiry:!0})})),_()(n,"minimize",(function(){n.isPWA(n.props.host)||(n.props.setShowMini(!0),n.props.EventBus.publish("im-weblite-chat:minimizeChat"),localStorage.setItem("im_weblite_chat_status","minimize"))})),_()(n,"maximize",(function(){n.props.setShowMini(!1),n.props.EventBus.publish("im-weblite-chat:maximizeChat"),localStorage.setItem("im_weblite_chat_status","maximize")})),_()(n,"close",(function(e){e&&e.stopPropagation(),localStorage.removeItem("im_weblite_chat_status"),n.props.redirectTo({appName:n.props.SPA_MODULES.chat,params:{extraInfo:{showDefaultPage:!0}}})})),_()(n,"onSend",(function(){var e;null===(e=window.EventBus)||void 0===e||e.publish("im-weblite-chat:scrollMsgFlowToEnd"),n.state.referCardData&&n.setState({showReferLayer:!1,referCardData:null,showSceneLayer:!1}),al()})),_()(n,"blockContact",(function(){var e=n.props.summaryData.contact;n.props.EventBus.publish("im-weblite-list:changeAction",Tl({actionType:"block",activeLoginIdEncrypt:e.loginIdEncrypt},e))})),_()(n,"handleCardImageClick",(function(e,t){n.props.EventBus;var r=t.subType,a=(t.messageId,t.originalData),o=e.target,i=e.currentTarget,s=!1,c=i.parentNode||i;if((n.hasClass(i,"media|media-card")||!!c.querySelector(".media,.media-card,.super-text-card-item"))&&61!==r&&63!==r&&62!==r){var l=o.getAttribute("src");s=!0;var u=a.fileId;if(Kl()&&Wl){var d=a.url||l;-1===d.indexOf("https:")&&(d="https:".concat(d)),d=nl(d,u),n.previewImg(d,t)}else{var p=/atmgateway-client.alibaba.com/gi.test(l);if(/^img$/gi.test(o.nodeName)&&!p){e.preventDefault();var f=nl(a.url||l,u);n.previewImg(f,t)}}}return s})),_()(n,"previewImg",function(){var e=h()(regeneratorRuntime.mark((function e(t,r){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kl()&&Wl?Rl.getMessageService().showMedia({url:t,type:"image"}):((a=n.props.EventBus).publish("weblite:windowResize",{type:"show"}),o={list:[t],onClose:function(){a.publish("weblite:windowResize",{type:"hide"})}},r&&Object.assign(o,{extInfo:{messageId:r.messageId,fileId:r.fileId}}),Us(o));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_()(n,"previewFile",function(){var e=h()(regeneratorRuntime.mark((function e(t,r,a,o,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br.a.godLightCheck(t,M.f.PREVIEW,i);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:Kl()?Rl.getMessageService().showMedia({url:r,type:"office"}):(n.props.EventBus.publish("weblite:windowResize",{type:"show"}),n.setState({showPreviewFile:!0,previewObj:{fileName:a,fileSize:o,itemData:i,fileUrl:t,downloadUrl:r}}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}()),_()(n,"openFile",(function(e,t){var r=e.fileUrl,a=e.fileExtension;Br.a.isImg(a)?n.previewImg(r,t):n.previewFile(r,r,"",null,t)})),_()(n,"sendTextMessage",(function(e,t,r,a){var o=r.host,i=r.contact,s=Tl({content:e,msgType:t,accountId:i.accountId,accountIdEncrypt:i.accountIdEncrypt,clientVersion:o},a);n.sendMessage(s)})),_()(n,"generateAIFakeMsg",(function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=n.props,i=o.summaryData,s=void 0===i?{}:i,c=o.sessionData,l=s.contact||{};if(c[l.accountId]&&(null===(t=c[l.accountId])||void 0===t?void 0:t.length)<5)return Object(O.default)({ext:"AI_card_Disable",bizData:{cid:null===l||void 0===l?void 0:l.cid,targetAliId:(null===l||void 0===l?void 0:l.aliId)||"",selfAliId:window.aliId}}),void I.Message.notice(su.get("ai.aiCardDisable"));if(!n.canAICardGenerated)return Object(O.default)({ext:"AI_card_had_generated",bizData:{cid:null===l||void 0===l?void 0:l.cid,targetAliId:(null===l||void 0===l?void 0:l.aliId)||"",selfAliId:window.aliId}}),void I.Message.notice(su.get("ai.hadGenerate")||"已经生成过aisummary");if(!e&&Object(X.a)()){var u,d,p=null===(u=c[l.accountId])||void 0===u||null===(d=u.slice(0,"command"===a?1:10))||void 0===d?void 0:d.filter((function(e){return 9409===e.subType&&Object(pe.h)(e.content)}));if(p[0])return Object(O.default)({ext:"AI_card_msg_not_enough",bizData:{cid:null===l||void 0===l?void 0:l.cid,targetAliId:(null===l||void 0===l?void 0:l.aliId)||"",selfAliId:window.aliId}}),void I.Message.notice(su.get("ai.msg.not.enough")||"消息生成不足")}var f=e||"ai_".concat(null===l||void 0===l?void 0:l.cid,"_").concat(Date.now());return Zs(Tl(Tl({},{type:2,subType:9409,content:"__FAKE_AI_CARD__",contact:null===l||void 0===l?void 0:l.contact,conversationCode:null===l||void 0===l?void 0:l.cid,owner:null===l||void 0===l?void 0:l.owner,messageId:f,name:"",fullPortrait:"",originalData:{cardType:9409,params:{skeleton:"true",requestMessageId:f}},extInfo:{icbuData:{}},startTime:+new Date,aiABTest:n.props.aiABTest}),r),n.props.buildItems),f})),_()(n,"onCardClick",(function(e,t,r){var a,o,i,s;t.stopPropagation();var c,l=n.props,u=l.redirectTo,d=l.SPA_MODULES,p=l.sendBusinessCard,f=l.summaryData,m=l.sessionData,g=l.setPlaceholder,v=l.getCatalog,y=l.distributeChat,b=l.assistRecommendNew,w=e.type,x=e.subType,C=e.host,E=e.extInfo,S=void 0===E?{}:E,k=e.contact,T=e.messageType,_=e.avatarClick,M=e.messageId,N=(e.fileId,e.loginId),P=e.status,L=e.opId,R=e.content,F=e.originalData,j=S.icbuData,B=void 0===j?{}:j,z=t.target,q=z.getAttribute("data-action"),V={},U={};if(n.handleCardImageClick(t,e))return!1;var H=(null===r||void 0===r?void 0:r.data)&&r.data[0]||{},G=H.actionName,K=H.actionParams,J=H.traceInfo;if(Object(O.default)({ext:"".concat(C,"-").concat(w,"-").concat(x),bizData:Tl({},null!==J&&void 0!==J?J:{})}),"openFile"===G)return t.preventDefault(),void n.openFile(K,e);if("customAction"!==G||null===r||void 0===r||!r.eventExtInfo||!Object(W.f)(t,{isWorkbench:Hl,itemData:e,extraData:r,ActionClick:Ic.default,SPA_MODULES:d,redirectTo:u,role:Ke.isSellerPWA?"seller":"buyer"})){var Z=new bl.a(t,e,r,n.props);if(G in Z)Z[G]();else{try{var X,Y=z.getAttribute("data-attr");"string"===typeof Y&&(Y=Y.replace(/\n/g,"\\n")),V=JSON.parse(Y),U=JSON.parse(null===(X=t.currentTarget.querySelector(".im-unify-service-card"))||void 0===X?void 0:X.getAttribute("data-query"))}catch(t){V={}}var Q=U,$=Q.redirectImageUrl,ee=Q.downloadUrl,te=Q.fileName,ne=Q.fileSize,re=(F||{}).params,ae=void 0===re?{}:re,oe=ae.url,ie=ae.downloadUrl,se=ae.name,ce=ae.size,le=$||oe,ue=ee||ie||(null===oe||void 0===oe?void 0:oe.replace("redirectFileUrl","downloadFile")),de=te||se,fe=ne||ce,me=Fe(le,"fileAction");if("officePreview"===me)Object(O.default)("2020MC_officePreview"),t.preventDefault(),n.previewFile(le,ue,de,fe,e);else if("imagePreview"===me)t.preventDefault(),n.previewImg(le,e);else if(_&&"rec"===T){if("messenger"===C&&N!==du){var he={};Ke.isSellerPWA&&h()(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.fetchCRMTokenIfNeed)(k);case 2:t=e.sent,he.secReqToken=t,u({appName:Ke.isSellerPWA?d.crm:d.conversationInfo,params:he});case 5:case"end":return e.stop()}}),e)})))()}}else if(1===w){if(1===P)return void n.sendMessage({content:R,msgType:x,opId:L});switch(x){case 4:Hl?Rl.getMessageService().playAudio(B.url):window.open("https://".concat(D.APP_DOMAIN,"/?spm=a2700.8293689.0.0.2ce265aaOCabMc"),"blank");break;case 50:if(Hl){var ge=Object(pe.g)(z);Object(Ic.default)("popWebCtrl",ge)}break;case 52:var ve;if("viewRequest"===q)ve=Hl?"//mysourcing.alibaba.com/rfq/quotation/rfqQuotationDetailV2.htm?qid_detail=".concat(V.quotationId,"&activeTab=rfq"):"//".concat(D.MESSAGE_DOMAIN,"/message/buyingLeads.htm?activeTab=rfq"),Object(Ic.default)(q,ve);else if("viewQuotation"===q)if(n.isLiteVersion(C)){var ye={initContainer:"quotation",quotationId:V.quotationId,loginId:e.loginId},be="//".concat(D.MESSAGE_DOMAIN,"/message/ma.htm?activeAccountId=").concat(k.accountId,"&activeAccountIdEncrypt=").concat(k.accountIdEncrypt,"&qid_detail=").concat(V.quotationId,"&urlParams=").concat(encodeURIComponent(JSON.stringify(ye)));Hl&&(be="//mysourcing.alibaba.com/rfq/quotation/rfqQuotationDetailV2.htm?qid_detail=".concat(V.quotationId,"&activeTab=quotes")),Object(Ic.default)(q,be)}else"messenger"===C&&u({appName:d.quotation,params:{quotationId:V.quotationId,loginId:e.loginId}});break;case 2e3:case 54:case 1:if(Object(O.default)("product2order"),Hl){var we=Object(pe.g)(z);we.url&&Object(Ic.default)("popWebCtrl",we)}else if("openOrderForm"===q){var xe=V.params,Ce={loginId:xe.targetLoginId,accountIdEncrypt:(null===k||void 0===k?void 0:k.accountIdEncrypt)||"",ownerLoginId:jl,role:Ke.isSellerPWA?"seller":"buyer",initParams:{talkQueryIds:xe.talkQueryIds,channelType:xe.channelType,channelReferId:xe.channelReferId},isShowDraftForm:!0,onSuccess:function(){n.completeOrder=!0}};if("weblite"===C){var Ee=Tl({initContainer:"taOrder"},Ce),Se="//".concat(D.MESSAGE_DOMAIN,"/message/messenger.htm?activeAccountId=").concat(k.accountId,"&activeAccountIdEncrypt=").concat(k.accountIdEncrypt,"&urlParams=").concat(encodeURIComponent(JSON.stringify(Ee)));window.open(Se,"blank")}else u({appName:d.taOrder,params:Ce})}else if(r){var ke=r.data[0].actionParams,Te=ke.type,_e=ke.url,Ie=ke.talkQueryIds,Oe=ke.channelType,Ae=ke.channelReferId;"startorder"===Te&&("weblite"===C?Object(Ic.default)("link",_e):u({appName:d.taOrder,params:{loginId:N,accountIdEncrypt:(null===k||void 0===k?void 0:k.accountIdEncrypt)||"",role:Ke.isSellerPWA?"seller":"buyer",initParams:{talkQueryIds:Ie,channelType:Oe,channelReferId:Ae}}})),"subscribeCalendar"===G&&Cl(e,r)}break;case 2001:if("messenger"===C){var De=f.contact;t.preventDefault(),u({appName:d.quotationNew,params:{redirectTo:u,accountId:De.accountId,secQuotationId:V.secQuotationId,openStartOrder:!0}})}else if(Hl){var Me=Object(pe.g)(z);Object(Ic.default)("plugin",Me)}break;case 2022:case 2014:case 2004:if(r&&!Hl){if("expandToggle"===G){var Ne=r.fullData.questions.map((function(e,t){return Tl(Tl({},e),{},{expand:t+1===K.index&&!e.expand})}));window.dispatchEvent(new CustomEvent("updateState",{detail:{data:{questions:Ne},messageId:e.messageId}}));break}var Pe=r.data[0].actionParams,Le=Pe.type,Re=Pe.title,je=Pe.placeholder,Be=Pe.attrId;if(2004===x?Object(O.default)("2020MC_AIQuestionCard_Click&messageId=".concat(M,"&messageType=").concat(x)):2014===x&&Object(O.default)("2020MC_AutoQuestionCard_Click&messageId=".concat(M,"&messageType=").concat(x)),"chat_reception_address"===Le)return void n.showAddressList(!1);n.textareaDOM=n.containerDOM.querySelector("textarea");var ze=n.textareaDOM.value;"chat_reception_choice"!==Le||r.data[1].isOther||(n.state.quoteItem&&n.state.quoteItem.uuid===e.uuid?n.setState({sendContent:ze?"".concat(ze,", ").concat(r.data[1].text):r.data[1].text}):n.setState({sendContent:r.data[1].text})),"chat_reception_choice"!==Le&&n.setState({sendContent:""}),"chat_reception_input_range"===Le&&g(je);var qe={};if(2004===x){var Ve=e.content.match(/attrId=(\d+)/);qe={targetType:"productAttr",targetId:Ve?Ve[1]:0}}else if(2014===x||2022===x){var Ue=r.data[0].actionParams,He=Ue.qaType,Ge=Ue.attrId;qe.targetType=He,qe.targetId=Ge}else qe={targetType:Le,targetId:Be};n.setState({quoteItem:Tl(Tl({},e),{},{abstract:Re,referData:qe})});break}case 2005:Object(O.default)("2020MC_AIQuestionCard_Click&messageId=".concat(M,"&messageType=").concat(x));var Je=r.data[0]&&r.data[0]||{},Ze=Je.actionName,Xe=Je.actionParams;if("sendTextMessage"===Ze){var Ye=Xe&&Xe.productId||0,Qe={cardType:2e3,mediaInfo:{type:2e3,ids:Ye.toString(),ctime:Date.now(),country:Ql().country},content:Ye.toString(),msgType:54,accountId:k.accountId,accountIdEncrypt:k.accountIdEncrypt,bizType:"product",bizId:Ye,clientVersion:C};n.sendMessage(Qe)}break;case 50:case 2006:var $e=r.data[0]&&r.data[0]||{},et=$e.actionName,tt=$e.actionParams;"addCoupon"===et&&(Object(O.default)("dynamicCardClick&type=2006&name=add_coupon&spreadId=".concat(tt.spreadId,"&sellerAccountId=").concat(k.accountId,"&buyerAccountId=").concat(Bl)),window.dispatchEvent(new CustomEvent("GET_COUPON",{detail:{tplData:r.fullData,spreadId:tt.spreadId,applyUserId:Bl}})));break;case 2007:var nt=r.data[0]&&r.data[0]||{},rt=nt.actionName,at=nt.actionParams;if(Hl){var ot=K.url;Object(Ic.default)("link",ot)}else"customizeModel"===rt&&customizeDialog.show(at.editUrl,{scene:"msgCard",accountId:k.accountId,accountIdEncrypt:k.accountIdEncrypt,role:"buyer",clientVersion:C});break;case 2023:case 2009:if(Object(O.default)("2020MJJD_faq_question"),"sendTextMessage"===G){var it=K.contentLocalizedKey||K.content;n.sendTextMessage(it,1,e,K.extraInfo)}if("faqExpandToggle"===G){var st=r.fullData.categoriesQuestions.map((function(e,t){return Tl(Tl({},e),{},{expand:t+1==K.index&&!e.expand})}));window.dispatchEvent(new CustomEvent("updateState",{detail:{data:{categoriesQuestions:st},messageId:e.messageId}}))}break;case 2019:var ct=(r.data[0]&&r.data[0]||{}).actionName;if(Hl){var lt=Object(pe.g)(z);Object(Ic.default)("plugin",lt)}else"inviteAddress"===ct&&n.showAddressList(!1);break;case 2103:case 2104:case 2105:case 2106:case 2107:case 2109:var ut,dt=(null===(ut=B.chatEvent)||void 0===ut?void 0:ut.bizId)||B.bizId,pt=f.contact,ft=(m[pt.accountId]&&m[pt.accountId][0]).owner,mt=pt.owner,ht=void 0===mt?ft:mt;Hl?Rl.getMessageService().startMeeting(dt):n.props.EventBus.publish("im-weblite-chat:meetingAction",{mediaType:1===dt?"video":"audio",type:"redial",contactLoginId:pt.memberId,contactPortrait:pt.fullPortrait,contactName:pt.name,ownerName:null===ht||void 0===ht?void 0:ht.name,ownerPortrait:null===ht||void 0===ht?void 0:ht.fullPortrait});break;case 2018:case 2020:case 2025:var gt=r.data[0]&&r.data[0]||{},vt=gt.actionName,yt=gt.actionParams,bt=void 0===yt?{}:yt,wt=n.props.sessionData;if("openAssistant"===vt){Object(O.default)("2020MC_ProcurementAssistant_CardClick_SendMessage");var xt=e.content,Ct=nu.getLinkVars(decodeURIComponent(xt)),Et=bt.productIds,St=bt.toAccountId,kt=bt.toAccountIdEncrypt,Tt=bt.toLoginIdEntrypt,_t=f.contact,It=su.get("toContactText")||"I want to learn more of this product.",Ot=function(e,t){var r,a,o,i,s,c;n.props.EventBus.publish("im-weblite-list:selectContact",{accountId:e,accountIdEncrypt:t}),c=(null===(r=wt[244312150])||void 0===r?void 0:r.length)>1&&null!==(a=wt[244312150][1].extInfo)&&void 0!==a&&null!==(o=a.icbuData)&&void 0!==o&&null!==(i=o.chatEvent)&&void 0!==i&&null!==(s=i.extParam)&&void 0!==s&&s.assiStrategy?wt[244312150][1].extInfo.icbuData.chatEvent.extParam.assiStrategy:"",n.currentReferData={bizId:Et,bizType:"product",cardType:3,msgType:54,toAccountId:e,toAccountIdEncrypt:t,textContent:It,strategy:c},n.showReferLayer(_t,n.currentReferData)};Ct.defaultLoginIdEntrypt||Ct.defaultLoginIdEntrypts?y({data:{bizType:1,bizId:Et,contactLoginIdEncrypt:"undefined"===decodeURIComponent(Ct.defaultLoginIdEntrypt)?Tt:decodeURIComponent(Ct.defaultLoginIdEntrypt)},callback:function(e){var t=e.receiverAccountIdEncrypt,n=e.receiverAccountId;Ot(n,t)}}):Ot(parseInt(St),kt)}break;case"x003":var At,Dt,Mt,Nt,Pt,Lt,Rt;if((null===(At=m[244312150])||void 0===At?void 0:At.length)>1&&null!==(Dt=m[244312150][1].extInfo)&&void 0!==Dt&&null!==(Mt=Dt.icbuData)&&void 0!==Mt&&null!==(Nt=Mt.chatEvent)&&void 0!==Nt&&null!==(Pt=Nt.extParam)&&void 0!==Pt&&Pt.assiStrategy){var Ft=m[244312150][1].extInfo.icbuData.chatEvent.extParam;Lt=Ft.assiStrategy,Rt=Ft.assiExtParam||{}}else Lt="default",Rt={};Object(O.default)("2020MC_ProcurementAssistant_RecommendMore"),b({data:{strategy:Lt,extParams:Rt}});break;case 2013:var jt=r.data[0]||{},Bt=jt.actionName,zt=jt.actionParams;Object(O.default)("2020MC_AddressCard_Click&messageId=".concat(M,"&messageType=").concat(x,"&actionName=").concat(Bt)),"startOrder"===Bt&&(Hl?Object(Ic.default)("link",zt.orderUrl):n.startOrder(Tl({isShowDraftForm:!0,channelReferId:zt.cardId},zt)));break;case 2017:var qt=r.data[0]||{},Vt=qt.actionName,Ut=qt.actionParams;Object(O.default)("2020MC_LogisticCard_Click&messageId=".concat(M,"&messageType=").concat(x,"&actionName=").concat(Vt)),Hl?Object(Ic.default)("plugin",{url:Ut.url}):"startOrder"===Vt&&n.startOrder(Tl({isShowDraftForm:!0,channelReferId:Ut.cardId},Ut));break;case 2015:Cl(e,r)}}else if(2===w)switch(x){case 10:var Ht=(null===B||void 0===B||null===(a=B.chatEvent)||void 0===a?void 0:a.bizId)||(null===B||void 0===B?void 0:B.bizId),Wt=(B.cardUrls&&B.cardUrls[0]).match(/encryFeedbackId=([^&]+)/),Gt=Wt?Wt[1]:null;if(n.isLiteVersion(C)){var Kt="//".concat(D.ONETALK_DOMAIN,"/message/assignDetail.htm?secTradeId=").concat(Gt,"&assignId=").concat(Ht,"&targetLoginId=").concat(e.loginId),Jt=d.assignDetail;Object(Ic.default)("plugin",{url:Kt,title:Jt})}else"messenger"===C&&u({appName:d.assignDetail,params:{role:Ke.isSellerPWA?"seller":"buyer",secTradeId:Gt,assignId:Ht,secTargetAccountId:k.accountIdEncrypt}});break;case 13:if(n.isLiteVersion(C)){var Zt="//".concat(D.MESSAGE_DOMAIN,"/message/mcHistory.htm?urlParams=").concat(encodeURIComponent(JSON.stringify({secTradeId:V.encryTradeId}))),Xt=d.inquiryHistory;Object(Ic.default)("plugin",{url:Zt,title:Xt})}else"messenger"===C&&(t.preventDefault(),u({appName:d.inquiryHistory,params:{secTradeId:V.encryTradeId}}));break;case 15:var Yt,Qt,$t,en,tn,nn,rn,an,on,sn,cn,ln,un=null===B||void 0===B||null===(Yt=B.chatEvent)||void 0===Yt||null===(Qt=Yt.extParams)||void 0===Qt?void 0:Qt.encryptSellerAliId,dn=null===B||void 0===B||null===($t=B.chatEvent)||void 0===$t||null===(en=$t.extParams)||void 0===en?void 0:en.encryptBuyerAliId,pn=null===B||void 0===B||null===(tn=B.chatEvent)||void 0===tn||null===(nn=tn.extParams)||void 0===nn?void 0:nn.encryptOldSellerAliId,fn=null===B||void 0===B||null===(rn=B.chatEvent)||void 0===rn||null===(an=rn.extParams)||void 0===an?void 0:an.sellerAliId,mn=null===B||void 0===B||null===(on=B.chatEvent)||void 0===on||null===(sn=on.extParams)||void 0===sn?void 0:sn.buyerAliId,hn=null===B||void 0===B||null===(cn=B.chatEvent)||void 0===cn||null===(ln=cn.extParams)||void 0===ln?void 0:ln.oldSellerAliId;if(fn){var gn=Number(hn)===Number(window.aliId),vn=Number(fn)===Number(window.aliId),yn=vn?hn:fn,bn=vn?pn:un,wn=B.chatEvent.bizId;if(gn||vn)if(n.isLiteVersion(C)){var xn="//".concat(D.ONETALK_DOMAIN,"/message/imHistory.htm?aliId=").concat(yn,"&contactAliId=").concat(mn,"&aliIdEncrypt=").concat(bn,"&contactAliIdEncrypt=").concat(dn,"&timeStamp=").concat(vn?wn:+new Date),Cn=d.imHistory;Object(Ic.default)("plugin",{url:xn,title:Cn})}else u({appName:d.imHistory,params:{aliIdEncrypt:bn,contactAliIdEncrypt:dn,aliId:yn,contactAliId:mn,timeStamp:vn?wn:+new Date}});else{var En=Number(k.aliId)===Number(fn);window.EventBus&&window.EventBus.publish("im-weblite-list:selectContact",{aliId:En?hn:fn,aliIdEncrypt:En?pn:un})}}else{var Sn=B.contactLoginId,kn=B.secOldSellerLoginId,Tn=B.sellerLoginId,_n=B.oldSellerLoginId,In=B.secOldAccountLoginId,On=B.secNewAccountLoginId,An=B.secContactLoginId,Dn=B.newAccountId,Mn=B.oldAccountId,Nn=B.bizId;if(Ul()){var Pn=B.chatEvent;Nn=Pn.bizId,Sn=Pn.buyerLoginId,kn=Pn.secOldSellerLoginId,An=Pn.secBuyerLoginId,_n=Pn.oldSellerLoginId,Tn=Pn.sellerLoginId,On=Pn.secSellerLoginId}var Ln=function(){return Tn?jl===Tn?kn:On:Dn?parseInt(Bl)===parseInt(Dn)?In:On:void 0},Rn=function(){return jl===Tn||jl===_n||parseInt(Bl)===parseInt(Dn)||parseInt(Bl)===parseInt(Mn)};if(n.isLiteVersion(C)){var Fn="//".concat(D.ONETALK_DOMAIN,"/message/imHistory.htm");if(Rn()){c=Ln();var jn="".concat(Fn,"?secLoginId=").concat(c,"&secContactLoginId=").concat(An,"&contactLoginId=").concat(Sn,"&timeStamp=").concat(jl===Tn?Nn:+new Date),Bn=d.imHistory;Object(Ic.default)("plugin",{url:jn,title:Bn})}else window.EventBus&&window.EventBus.publish("im-weblite-list:selectContact",{activeLoginIdEncrypt:k.loginId===Tn?kn:On,loginId:k.loginId===Tn?_n:Tn})}else"messenger"===C&&(Rn()?(c=Ln(),u({appName:d.imHistory,params:{secLoginId:c,contactLoginId:Sn,secContactLoginId:An,timeStamp:jl===Tn?Nn:+new Date}})):window.EventBus&&window.EventBus.publish("im-weblite-list:selectContact",{activeLoginIdEncrypt:k.loginId===Tn?kn:On,loginId:k.loginId===Tn?_n:Tn}))}break;case 17:var zn=f.contact;if(Hl)return;p({data:{accountId:zn.accountId,contactLoginId:zn.memberId,contactAccountIdEncrypt:zn.loginIdEncrypt},callback:function(e){var t;200===1*e.code?null===(t=n.listInstance)||void 0===t||t.scrollTo("end"):We.default.error("".concat(e.message,"(").concat(e.code,")"))}});break;case 9511:var qn;if(Hl)return;var Vn=((null===S||void 0===S||null===(qn=S.icbuData)||void 0===qn?void 0:qn.actions)||S.icbuActionsDataVO||[]).find((function(e){return e.actionName===q}));"Compare rates"===q?(Object(O.default)("2020MC_Freightos_CompareRates_Click"),Object(Ic.default)("link",Vn.scheme)):"Unsubscribe"===q&&(Object(O.default)("2020MC_Freightos_Unsubscribe_Click"),I.Dialog.confirm({className:"freightos-hide-confirm-dialog",title:su.get("freightos.cofnrim.title"),content:su.get("freightos.cofnrim.content"),locale:{ok:"Yes",cancel:"Cancel"},onOk:function(){Object(O.default)("2020MC_Freightos_Unsubscribe_Comfirm_Click"),n.unsubscribeFreightOS({subscriptionName:"LOGISTICS_RECOMMEND_TIP",subscribe:!1})},onCancel:function(){Object(O.default)("2020MC_Freightos_Unsubscribe_Cancel_Click")}}));break;case 9504:if(Hl)return;var Un=f.contact;v({fromLoginId:jl,toLoginId:Un.memberId,processType:3});break;case 9515:case 9512:case 9513:Ke.isSeller||Hl?Object(Ic.default)("link","https://".concat(D.MESSAGE_DOMAIN,"/message/default.htm#feedback/meetingSet?needData=false")):n.setState({sendContent:iu.get("meeting.schedule.text")});break;case 9507:Object(Ic.default)("link","https://".concat(D.APP_DOMAIN,"?tracelog=im"));break;case"x002":n.setState({sendContent:iu.get("meeting.schedule.text")});break;case"x001":var Hn,Wn=(null===(Hn=B.chatEvent)||void 0===Hn?void 0:Hn.bizId)||B.bizId,Gn=f.contact,Kn=Gn.owner;n.props.EventBus.publish("im-weblite-chat:meetingAction",{mediaType:1===Wn?"video":"audio",type:"redial",contactLoginId:Gn.memberId,contactPortrait:Gn.fullPortrait,contactName:Gn.name,ownerName:Kn.name,ownerPortrait:Kn.fullPortrait});break;case"x006":n.toVipRight("message");break;case 9517:var Jn="https://".concat(D.MESSAGE_DOMAIN,"/message/default.htm?tracelog=systemAiGuideLog#feedback/aiSet?needData=false");Object(Ic.default)("link",Jn);break;case 9519:var Zn=Pr[f.contact.accountId];Object(O.default)("2020MC_SecurityWarn_Click"),I.Dialog.confirm({title:su.get("security.warnTitle")||"举报卖家",content:su.get("security.warnContent")||"是否需要举报卖家",locale:{ok:su.get("ok")||"Yes",cancel:su.get("cancel")||"Cancel"},onOk:function(){for(var e="",t=0;t<Zn.length;t++)if("rec"===Zn[t].messageType){e=Zn[t].uuid;break}Object(O.default)("securityReport&timestamp=".concat(+new Date,"&uuid=").concat(e)),We.default.success(su.get("security.reportSuccess")||"举报成功")},onCancel:function(){Object(O.default)("2020MC_SecurityWarn_Alert_Cancel_Click")}});break;case 9522:var Xn,Yn,Qn,$n,er,tr=f.contact,nr=null===(Xn=e.extInfo)||void 0===Xn||null===(Yn=Xn.icbuData)||void 0===Yn||null===(Qn=Yn.actions)||void 0===Qn||null===($n=Qn[0])||void 0===$n||null===(er=$n.actionParams)||void 0===er?void 0:er.reason;h()(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{Object(O.default)("2020MC_securityReport&buyerId=".concat(jl,"&sellerId=").concat(tr.memberId,"&reason=").concat(nr)),t="https://".concat(D.SUPPORT_DOMAIN,"/postOffLineComplaint.htm?buyerLoginId=").concat(jl,"&sellerLoginId=").concat(tr.memberId,"&source=chatnow&device=pc&reason=").concat(nr),Object(Ic.default)("link",t)}catch(e){Object(O.default)("2020MC_XFEEDBACK_SNAPSHOT_FAIL"),n.setState({loading:!1}),r="https://".concat(D.SUPPORT_DOMAIN,"/postOffLineComplaint.htm?buyerLoginId=").concat(jl,"&sellerLoginId=").concat(tr.memberId,"&snapshot=&source=chatnow&device=pc&reason=").concat(nr),Object(Ic.default)("link",encodeURI(r))}case 1:case"end":return e.stop()}}),e)})))();break;case 9523:if("weblite"===C)return;Object(O.default)("2020MC_startOrderMessage&buyerId=".concat(jl,"&sellerId=").concat(k.memberId)),n.startOrder({isShowDraftForm:!0});break;case 9542:var rr=B.actions,ar=B.chatEvent,or=(void 0===ar?{}:ar).extParam;Object(O.default)("taxCollectTip&buyerId=".concat(jl,"&sellerId=").concat(k.memberId,"&taxType=").concat((null===or||void 0===or?void 0:or.taxType)||"unknow"));var ir=rr.find((function(e){return"ALL"===e.type}));Object(Ic.default)("link",null===ir||void 0===ir?void 0:ir.scheme);break;case 9531:var sr=Object(pe.f)();Object(Ic.default)("link","https://".concat(D.MESSAGE_DOMAIN,"/message/default.htm?from=").concat(sr,"#feedback/callSet?needData=false"));case 9601:"openEvalutionDialog"===(r.data[0]||{}).actionName&&n.toggleEvaluationDialog();case 9540:var cr,lr,ur=S.icbuActionsDataVO,dr=void 0===ur?[]:ur,pr=S.icbuData.actions,fr=(null===(cr=(void 0===pr?[]:pr)[0])||void 0===cr?void 0:cr.scheme)||(null===(lr=dr[0])||void 0===lr?void 0:lr.scheme);fr&&Object(Ic.default)("link",fr);break;case 9401:var mr=n.props,hr=mr.submitBuyerBizInfo,gr=mr.summaryData,vr=void 0===gr?{}:gr,yr=r.fullData,br=r.data,wr=(void 0===br?[]:br)[0]||{},xr=wr.actionName,Cr=wr.actionParams,Er=e.messageId,Sr=vr.contact||{};if("checkOption"===xr){var kr=yr.options.map((function(e){return Tl(Tl({},e),{},{checked:e.id===Cr.id})}));Object(yl.updateDxCard)(Er,{options:kr})}else if("confirmBuyerInfo"===xr){Object(O.default)("2020MC_BuyerInfo_Confirm_Click");var Tr,_r,Ir=yr.options.filter((function(e){return e.checked}));if(Ir[0])hr({data:{targetAliId:null!==(Tr=null===(_r=Sr.contact)||void 0===_r?void 0:_r.aliId)&&void 0!==Tr?Tr:"",language:au||"",blockType:Cr.blockType||"",value:Ir.map((function(e){return e.id})).join(",")},callback:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;(void 0===e?{}:e).object?(Object(O.default)("2020MC_BuyerInfo_Collect_Succeed"),We.default.success(iu.get("common.success"))):(Object(O.default)("2020MC_BuyerInfo_Collect_Failed"),We.default.error(iu.get("common.failed")))}}),Object(yl.updateDxCard)(Er,{isSelected:!0})}break;case 9402:var Or,Ar=r.data,Dr=((void 0===Ar?[]:Ar)[0]||{}).actionParams;null===(Or=window.EventBus)||void 0===Or||Or.publish("im-weblite-list:selectContact",{activeLoginIdEncrypt:Dr.transferEncryptToLoginId,loginId:Dr.transferToLoginId});break;case 9403:n.setState({orderDialogVisible:!0});break;case 9408:var Mr,Nr,Pr=n.props.sessionData;if(9409===(null===(o=(Pr[k.accountId]||[])[0])||void 0===o?void 0:o.subType))return void(null===(Mr=n.listInstance)||void 0===Mr||Mr.scrollTo("end"));if(n.aiFakeCardDuration[null===e||void 0===e?void 0:e.conversationCode])Object(O.default)({ext:"AI_card_duration",bizData:{cid:null===e||void 0===e?void 0:e.conversationCode,targetAliId:(null===(Nr=k.contact)||void 0===Nr?void 0:Nr.aliId)||"",selfAliId:window.aliId}}),I.Message.notice(su.get("ai.tryLater")||"1分钟内不能连续生成，稍后再试");else n.generateAIFakeMsg(n.errorAIRequestMessageId);break;case"x009":var Lr=e.originalData.params.requestMessageId;n.errorAIRequestMessageId=Lr,"retry"===B.actions[0].actionName&&n.generateAIFakeMsg(Lr);break;case 9999:var Rr,Fr=B||e.extInfo.icbuData,jr=(null===Fr||void 0===Fr||null===(i=Fr.chatEvent)||void 0===i?void 0:i.extParam)||(null===Fr||void 0===Fr||null===(s=Fr.chatEvent)||void 0===s?void 0:s.extParams);if("1000011"===jr.messageScene)null===(Rr=window.EventBus)||void 0===Rr||Rr.publish("im-weblite-chat:archiveConv",k.accountId);"1000066"===jr.messageScene&&(Object(O.default)("2020MC_SysMessage_TransSetting_Click&source=sysMessage&bucket=".concat(mu)),El.EventBus.publish("im-weblite-chat:transSysMsgClick",jr)),"1000071"===jr.messageScene&&n.handleOpenAutoReceptionConfigEvent()}else if(301===w){if(3201===x)n.unblockContact()}else 300===w&&n.sendCardFromFloat(x)}}})),_()(n,"sendCardFromFloat",(function(e){var t=n.props,r=t.summaryData.contact,a=t.extraInfo,o=void 0===a?{}:a,i=t.clearCard,s=t.sendMessage,c=(o||{}).sceneData,l=c.sceneCardType-1e4,u={content:c.sceneId+"",accountId:r.accountId,msgType:tu[l]||l,bizType:c.sceneType,bizId:c.sceneId,accountIdEncrypt:r.accountIdEncrypt,clientVersion:"weblite"};n.sending||(n.sending=!0,s({data:u,callback:function(t){var a=1*t.code;n.sending=!1,200===a?(n.onSend(),i({msgType:e,accountId:r.accountId})):We.default.error("".concat(t.message,"(").concat(t.code,")"))}}))})),_()(n,"setQuoteMessage",(function(e){var t=e.contact,r=e.content,a=e.loginId,o=e.messageId,i=e.messageType,s=e.owner,c=e.subType,l=e.uuid,u=e.originalData,d=e.msgType,p=e.sender,f=e.receiver,m=e.conversationType;n.setState({quoteItem:{messageType:i,messageId:o,contact:t,owner:s,sender:p,receiver:f,subType:c,originalData:u,content:r,msgType:d,loginId:a,uuid:l,conversationType:m}})})),_()(n,"closeQuoteMessage",(function(){n.setState({quoteItem:null})})),_()(n,"handleHeaderClick",(function(e){e&&e.stopPropagation(),Object(O.default)("minimizeChatFromHeader"),n.props.EventBus.publish("im-weblite-list:toggleList",{show:!1}),Object(O.default)("2020MC_Lite_Minimize","/sc.ma.weblite")})),_()(n,"handleAppClick",(function(e){e&&e.stopPropagation(),Object(O.default)("2020MC_DownloadApp_Click","/sc.ma.weblite")})),_()(n,"closeFileView",(function(){Object(O.default)("2020MC_close_file_view"),n.setState({showPreviewFile:!1}),n.props.EventBus.publish("weblite:windowResize",{type:"hide"})})),_()(n,"onRichTextMinimize",(function(e){n.setState({showRichText:!1,hasRichTextDraft:!!e}),n.props.EventBus.publish("draft-change",e)})),_()(n,"onSendBoxMaximize",(function(){n.state.hasRichTextDraft?Object(O.default)("2020MC_LongText_DraftClick"):Object(O.default)("2020MC_LongText_ICON_Click"),n.setState({showRichText:!0})})),_()(n,"showHeader",(function(){return!Hl&&("weblite"===host||"pwa"===host)})),_()(n,"onSaveToCloudDrive",(function(e){var t=e.originalData,r=e.content;t&&(t.url?r=t.url:t.params&&t.params.url&&(r=t.params.url));var a=Be(r),o=a.id,i=a.parentId;Hl?Rl.getMessageService().saveToCloud({id:o,parentId:i}):n.props.saveToPersonCloudDisk({data:{nodeInfo:JSON.stringify({id:o,parentId:i})},callback:function(){localStorage.getItem("messenger_cloud_drive_file_saved")||(localStorage.setItem("messenger_cloud_drive_file_saved",+Date.now()),I.Dialog.show({className:"icbu-messenger-confirm",title:iu.get("cloudDrive.saveFile.succeed")||"Save success",content:iu.get("cloudDrive.saveFile.succeedDesc")||"Your file has been saved to Alicloud Drive/my drive. you can use to manage files more easily.",locale:{ok:iu.get("cloudDrive.saveFile.viewCloudDrive")||"View Alicloud drive",cancel:iu.get("common.cancel")||"Cancel"},footerActions:["ok"],onOk:function(){window.open("//".concat(D.MESSAGE_DOMAIN,"/message/cloudDisk.htm"),"_blank")}}))}})})),_()(n,"sendQuoteReplyToPc",(function(e){var t=e.subType,n=e.messageType,r=e.contact,a=e.owner,o=e.content,i=e.messageId,s=e.sender,c=e.receiver;if(Hl&&-1!==[1,60,62].indexOf(t)){var l=e.msgType,u=e.originalData;Rl.getMessageService().quoteReply({senderName:"rec"===n?r.name:a.name,msgId:i&&i+".PNM",contentAbstract:1===t?u&&u.text||o:"[Details of this message cannot be displayed, please update version]",msgType:l,subType:t,originalData:u,senderAliId:s&&s.targetId,receiverAliId:c&&c.targetId,contentDisplay:o,displayContent:J(o,t)})}else;})),_()(n,"downloadFile",function(){var e=h()(regeneratorRuntime.mark((function e(t){var r,a,o,i,s,c,l,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.originalData,o=null===a||void 0===a?void 0:a.params,i={redirectImageUrl:null===o||void 0===o?void 0:o.url,downloadUrl:(null===o||void 0===o?void 0:o.downloadUrl)||(null===o||void 0===o||null===(r=o.url)||void 0===r?void 0:r.replace("redirectFileUrl","downloadFile")),fileName:null===o||void 0===o?void 0:o.name,fileSize:null===o||void 0===o?void 0:o.size},c=(s=i||{}).downloadUrl,l=s.fileName,u=a.url,d=a.fileId,c||u){e.next=7;break}return e.abrupt("return",We.default.error("Download failed: File url error"));case 7:return e.next=9,Br.a.godLightCheck(c||u,M.f.DOWNLOAD,t);case 9:if(e.sent){e.next=12;break}return e.abrupt("return");case 12:return e.abrupt("return",fetch((null===c||void 0===c?void 0:c.replace("redirectFileUrl","downloadFile"))||(null===u||void 0===u?void 0:u.replace("redirectFileUrl","downloadFile"))).then((function(e){e.blob().then((function(e){var t=window.URL.createObjectURL(e);n.downloadByAtag(t,l||d)}))})).catch((function(e){We.default.error("Download failed: "+e)})));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_()(n,"downloadByAtag",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("a");document.body.appendChild(n),n.style.display="none",n.href=e,n.download=t,n.click(),document.body.removeChild(n)})),_()(n,"showRateSupplier",(function(e,t){var n=e.rateFormValue;if(t&&0!==t.length){var r=t.find((function(e){if(1===e.type&&"rec"===e.messageType)return e}));if(!n&&r)return!0}return!1})),_()(n,"transferStructMsgToTextContent",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props.groupMembersCache,r=e.elements,a="";return(void 0===r?[]:r).forEach((function(e){var n;switch(null===e||void 0===e?void 0:e.elementType){case lu:var r=e.text;r&&(a+=r);break;case uu:var o=e.atAliId,i=e.atAll,s=e.defaultNick;a+=" @".concat(i?cu.get("groupchat.all")||"所有人":(null===(n=t[o])||void 0===n?void 0:n.nickName)||s||o," ")}})),a})),_()(n,"toggleEvaluationDialog",(function(){n.setState({showEvaluationDialog:!n.state.showEvaluationDialog})})),_()(n,"handleShortcut",(function(e){return function(){window.open(e,"_blank")}})),_()(n,"loadMoreMessage",(function(e){var t=n.props,r=t.summaryData.contact,a=t.shouldInsertAISummary;Object(O.default)({ext:"loadMoreMessages",bizData:{contactAccountId:null===r||void 0===r?void 0:r.accountId}}),n.checkLoadMoreLimit(),n.fetchMessages(e),Object(X.a)()&&a({accountId:r.accountId,from:"fetchHistoryMessage"})})),_()(n,"gotoChatHistory",(function(){var e=n.props,t=e.summaryData,r=e.redirectTo,a=e.EventBus,o=e.SPA_MODULES,i=(t||{}).contact,s=void 0===i?{}:i,c=s.loginId,l=void 0===c?"":c,u=s.aliId,d=void 0===u?"":u,p=s.cid,f=void 0===p?"":p;Object(O.default)({ext:"loadMoreToChatHistory"}),r({appName:o.chatHistory,params:{loginId:l,aliId:d,EventBus:a,cid:f}})})),_()(n,"handleOpenAutoReceptionConfigEvent",h()(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.summaryData.contact,!Zl().isBuyer){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(A.openAutoReceptionConfig)();case 5:We.default.success(su.get("ai.autoreception.open.success")),n.props.EventBus.publish("im-weblite-chat:openAutoReception",{}),Object(O.default)({ext:"2020MC_Chat_AutoReceptionConfig_Message_Click",bizData:{cid:null===t||void 0===t?void 0:t.cid,targetAliId:(null===t||void 0===t?void 0:t.aliId)||"",selfAliId:window.aliId}});case 8:case"end":return e.stop()}}),e)})))),_()(n,"setMenuConfig",(function(){var e=n.menuConfig;e.push("quote"),e.push("translate","unTranslate"),e.push("recall"),Hl&&e.push("copyText","selectAll","clearText","addQuickTemplate"),Wl&&!Gl&&e.push("addQuickTemplate"),e.push("saveToCloud"),Hl||e.push("download"),e.push("reportRisk")})),_()(n,"showRiskReportDialog",(function(e){var t,r,a,o=1===(null===e||void 0===e?void 0:e.conversationType)?e.contact.aliId:null===(t=e.sender)||void 0===t?void 0:t.targetId,i=1===(null===e||void 0===e?void 0:e.conversationType)?e.contact.accountId:null===(r=e.groupMembers)||void 0===r||null===(a=r[o])||void 0===a?void 0:a.accountId;n.setState({reportRiskVisible:!0,reportTargetDOList:[{targetAliId:o||"",targetId:e.messageId?e.messageId+".PNM":""}],reportRiskAccountId:i})})),_()(n,"handleChangeReportType",(function(e){n.setState({reportRiskType:e})})),_()(n,"handleChangeReportBlack",(function(e){n.setState({reportRiskAddBlack:e})})),_()(n,"handleCloseReportRisk",(function(){n.setState({reportRiskVisible:!1})})),_()(n,"handleInitReportRisk",(function(){n.setState({reportRiskAddBlack:!0,reportRiskType:hu.advertisement})})),_()(n,"handleReportRiskLog",(function(e,t){var r,a,o,i=n.state.reportTargetDOList,s=n.props.summaryData.contact;Object(O.default)({ext:"message-report-risk",bizData:{type:e,cid:null===s||void 0===s?void 0:s.cid,buyerId:(null===s||void 0===s?void 0:s.aliId)||"",sellerId:window.aliId,messageId:null===(r=i[0])||void 0===r||null===(a=r.targetId)||void 0===a||null===(o=a.split("."))||void 0===o?void 0:o[0],riskParams:t}})})),_()(n,"handleReportSuccessBlock",(function(e,t){if(e){var r,a,o,i,s=n.props.summaryData.contact,c=t.aliId,l=t.accountId;null===(r=window.EventBus)||void 0===r||r.publish("im-conversation-list:blockAction",{type:"block",aliId:c}),null===(a=n.props.EventBus)||void 0===a||null===(o=a.publish)||void 0===o||o.call(a,"im-conversation-list:report-risk",{opType:"block",aliId:c,list:[Tl(Tl({},null!==(i=null===s||void 0===s?void 0:s.contact)&&void 0!==i?i:{}),{},{accountId:l,aliId:c})],action:{block:!0}})}})),_()(n,"handleReportRisk",(function(){var e=n.state,t=e.reportRiskType,r=e.reportRiskAddBlack,a=e.reportTargetDOList,o=e.reportRiskAccountId,i=(n.props.summaryData.contact,{reportTargetType:"msg",spamType:t,addBlack:r,reportTargetDOList:JSON.stringify(a||[])});n.handleReportRiskLog("submit",i),Object(A.reportRisk)(i).then((function(e){var t,r,s;e.data.object?(I.Message.success(iu.get("risk.report.successTip")||"操作成功"),n.handleReportRiskLog("submit-success",i),n.handleReportSuccessBlock(i.addBlack,{aliId:null===(t=a[0])||void 0===t?void 0:t.targetAliId,accountId:o})):(I.Message.error(iu.get("risk.report.errorTip")||"操作失败，请稍后重试"),n.handleReportRiskLog("submit-error",Tl(Tl({},null!==i&&void 0!==i?i:{}),{},{errorCode:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.errorCode,errorMsg:null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.errorMsg})))})).catch((function(e){var t=e.ret,r=e.data;I.Message.error(iu.get("risk.report.errorTip.".concat(null===r||void 0===r?void 0:r.errorCode))||"操作失败，请稍后重试"),n.handleReportRiskLog("submit-error",Tl(Tl({},null!==i&&void 0!==i?i:{}),{},{errorMsg:(null===r||void 0===r?void 0:r.errorMsg)||(null===t||void 0===t?void 0:t[0]),errorCode:null===r||void 0===r?void 0:r.errorCode}))})).finally((function(){n.handleInitReportRisk()})),n.handleCloseReportRisk()})),_()(n,"handleGetRiskReportTypes",(function(){for(var e=[],t=[],n=Object.values(hu)||[],r=0;r<n.length;r++){var a=n[r];t.push(a),r%2!==1&&r!==n.length-1||(e.push(t),t=[])}return e||[]})),n.shouldReset=!1,n.shouldInvokeTranslate=!0,n.shouldFetchRelation=!1,n.contactChange=!1,n.shouldLogChangeConv=0,n.shouldNotifyUpdatePlugin=!1,n.shouldLogChangeMsg=!1,n.sending=!1,n.searchTimeStamp=null,n.endScroll=!0,n.completeOrder=!1,n.orderParams=null,n.messageFlowDomHasListened=!1,n.unreadOneTime=!0,n.strategyOneTime=!0,n.delayOneTime=!0,n.delayDone=!1,n.replyDialogContent="",n.ownerPortrait="",n.appraiseDialog=null,n.aiFakeCardDuration={},n.canAICardGenerated=!1,n.errorAIRequestMessageId=null,n.recordLastErrorAICard={},n.state={sceneTopUrl:null,showReferLayer:!1,showVipRightLayer:!1,vipRightData:{},referCardData:null,sendContent:null,quoteItem:null,tipOrderCompleteVisible:!1,showSceneLayer:!1,showContactVerified:null,previewObj:null,showPreviewFile:!1,showLogisticsInquiry:!1,showRichText:!1,showTranslateGuide:!1,translateGuideType:1,translateGuideOffset:[0,0],currentTranslateTarget:null,transFeedbackVisible:!1,transFeedbackSource:"",transFeedbackTarget:"",transFeedbackMessageId:"",orderDialogVisible:!1,loading:!1,replyDialogVisible:!1,inContactBlockList:!1,contactDisabled:!1,showEvaluationDialog:!1,contactXinbao:!0,clearList:!1,recommendActions:[],isAssistantAccount:!1,reportRiskVisible:!1,reportRiskType:hu.advertisement,reportRiskAddBlack:!0,reportTargetDOList:[],reportRiskAccountId:""},n.menuConfig=[],n}return k()(t,e),b()(t,[{key:"componentWillUnmount",value:function(){this.containerDOM=null,this.dxTopMountDOM=null,this.listInstance=null,this.dxReferMountDOM=null,this.menuConfig=null,this.vipRightBtn=null}},{key:"componentDidMount",value:function(){var e,t,n,r,a,o=this,i=this.props,s=i.EventBus,c=i.getCsrfToken,l=i.setSummaryData,u=i.host,d=i.redirectTo,p=this.props.initSummaryData;if(Hl||c(),this.setMenuConfig(),!p){var f=localStorage.getItem("weblite_chat_summaryData");if(f&&f.length>0)try{var m,h,g,v,y,b,w,x;p=JSON.parse(f),Object(O.default)({ext:"updateSummaryData",bizData:{cid:(null===(m=p)||void 0===m?void 0:m.cid)||(null===(h=p)||void 0===h||null===(g=h.contact)||void 0===g?void 0:g.cid),accountId:null===(v=p)||void 0===v||null===(y=v.contact)||void 0===y?void 0:y.accountId,fromScene:(null===(b=p)||void 0===b?void 0:b.fromScene)||"unknown",aliId:null===(w=p)||void 0===w||null===(x=w.contact)||void 0===x?void 0:x.aliId}}),localStorage.setItem("weblite_chat_summaryData","")}catch(e){var C,E,S,k,T,_,I,A;Object(O.default)({ext:"updateSummaryDataException",bizData:{cid:(null===(C=p)||void 0===C?void 0:C.cid)||(null===(E=p)||void 0===E||null===(S=E.contact)||void 0===S?void 0:S.cid),accountId:null===(k=p)||void 0===k||null===(T=k.contact)||void 0===T?void 0:T.accountId,fromScene:(null===(_=p)||void 0===_?void 0:_.fromScene)||"unknown",aliId:null===(I=p)||void 0===I||null===(A=I.contact)||void 0===A?void 0:A.aliId,summaryString:f||""}})}}this.renderSummaryData({initSummaryData:p,env:"componentDidMount"}),this.checkActionsVisible(null===(e=p)||void 0===e?void 0:e.contact),this.createMessagePolling(),Hl&&this.handleWorkbenchEventListener(),"messenger"===u&&this.parseUrlParams(),window.EventBus=s,s.on("im-weblite-list:paas-reconnected",(function(){o.props.fetchNewMessages()})),s.on("im-weblite-list:updateSummaryData",(function(e){var t,n,r;((null===e||void 0===e?void 0:e.cid)||(null===e||void 0===e||null===(t=e.contact)||void 0===t?void 0:t.cid))===(null===Rl||void 0===Rl||null===(n=Rl.context)||void 0===n?void 0:n.cid)?(null!==e&&void 0!==e&&null!==(r=e.contact)&&void 0!==r&&r.cid||(e.contact.cid=e.cid),l(e)):Object(O.default)("interruptRender2")})),s.on("im-weblite-list:setSummaryData",(function(e){var t,n,r,a;Kr.patchSummaryData(e);var i=e.extraInfo,s=e.fromScene,c=void 0===s?"":s,u=e.startTime,d=e.contact,p=e.clickInfo,f=d.owner,m=void 0===f?{}:f,h=(null===e||void 0===e?void 0:e.cid)||(null===e||void 0===e||null===(t=e.contact)||void 0===t?void 0:t.cid);if(h===(null===Rl||void 0===Rl||null===(n=Rl.context)||void 0===n?void 0:n.cid)){Object(O.default)({ext:"receiveSummaryData",costTime:u?Date.now()-u:0,bizData:{cid:h,accountId:null===e||void 0===e||null===(r=e.contact)||void 0===r?void 0:r.accountId,fromScene:c,aliId:null===e||void 0===e||null===(a=e.contact)||void 0===a?void 0:a.aliId}}),d.renderCost={startTime:u,receiveSummaryData:Date.now()},p&&(d.renderCost.clickStartTime=p.clickStartTime,d.renderCost.clickSource=p.source),localStorage.setItem("weblite_chat_summaryData",""),o.renderSummaryData({initSummaryData:e,extraInfoFromSummaryData:i,env:"eventBus"});var g=e.contact;if(g.cid||(g.cid=e.cid),Ml.activeConversation(g),Fl.log("activeConversation",e),m.fullPortrait||(o.ownerPortrait?m.fullPortrait=o.ownerPortrait:o.props.fetchPortrait({callback:function(e){"success"===e.result&&(o.ownerPortrait=e.portraitUrl,m.fullPortrait=e.portraitUrl)}})),2===d.conversationType&&(o.props.setGroupMembers({}),o.props.fetchGroupMembers({data:{cid:d.accountId}})),o.cleanMessageList((function(){return l(e)})),o.maximize(),ze.checkSendAppraiseCard(e),e.shouldLogFirstScreen){var v=Fe(location.href,"viewMoreParam");if(v){var y=JSON.parse(decodeURIComponent(v));y.loginId!==d.loginId&&y.aliId!==d.aliId||o.props.redirectTo({appName:o.props.SPA_MODULES.chatHistory,params:{loginId:y.loginId||"",aliId:y.aliId||"",EventBus:o.props.EventBus,dateFromLink:y.dateFromLink,fromLink:!0,timestamp:Date.now()}})}}}else Object(O.default)("interruptChangeConv")})),s.on("im-weblite-chat:closeOrder",(function(e){o.completeOrder||(Object(O.default)("2020MC_InviteSellerStartOrder_Show"),o.setState({tipOrderCompleteVisible:!0}),o.orderParams=e)})),s.on("agreement-accepted",(function(){o.state.currentTranslateTarget&&o.state.currentTranslateTarget.click()})),s.on("message-flow:quote",(function(e){return o.setQuoteMessage(e)})),s.on("message-flow:feedback-click",(function(e){Object(O.default)("2020MC_TranslateFeedbackClick"),o.setState({transFeedbackVisible:!0,transFeedbackSource:e.srcContent,transFeedbackTarget:e.targetContent,transFeedbackMessageId:e.messageId})})),s.on("message-flow:revert-msg-reEdit",(function(e){if("richText"===e.contentType){var t=o.props.summaryData.contact;localStorage.setItem("messenger_send_draft_".concat(t.accountId),e.msg),o.setState({showRichText:!0})}})),s.on("message-flow:ai-card-success",(function(e){e.requestId;var t=e.cid;if(!o.aiFakeCardDuration[t]){o.aiFakeCardDuration[t]=!0;var n=setTimeout((function(){o.aiFakeCardDuration[t]=!1,clearTimeout(n)}),6e4)}o.canAICardGenerated=!1,o.errorAIRequestMessageId=null})),s.on("message-flow:ai-card-fail",(function(e){var t=e.requestId,n=e.cid,r=e.errorContent;o.recordLastErrorAICard={requestId:t,cid:n,errorContent:r}})),s.on("im-weblite-chat:scrollMsgFlowToEnd",(function(){setTimeout((function(){var e;null===(e=o.listInstance)||void 0===e||e.scrollTo("end")}),0)})),tl(this),window.addEventListener("change-tab",(function(e){var t=e.detail,n=t.appName,r=t.params;d({appName:n,params:r})}));var D=this.props.summaryData,N=(void 0===D?{}:D).contact,P=Fe(location.href,"productId");P&&(this.setState({showReferLayer:!0}),this.currentReferData={bizId:P,bizType:"product",cardType:3,msgType:54},this.showReferLayer(N,this.currentReferData)),ze.addEventListener(),window.addEventListener("unload",(function(){o.saveDataBeforeConvChange()})),window.addEventListener("beforeunload",(function(){o.saveDataBeforeConvChange()})),this.setState({isAssistantAccount:!(null===(t=p)||void 0===t||null===(n=t.contact)||void 0===n||!n.aliId)&&M.a.includes(String(null===(r=p)||void 0===r||null===(a=r.contact)||void 0===a?void 0:a.aliId))}),s.on("message-flow:report-risk",(function(e){return o.showRiskReportDialog(e)}))}},{key:"checkActionsVisible",value:function(e){var t,n,r=this;e&&null!==(t=e.contact)&&void 0!==t&&t.aliId&&Object(A.getXiaoManSaleAssistantEntry)({scene:Ke.isSellerPWA?"seller_pwa":"messenger",terminal:Ke.isSellerPWA?"seller_pwa":"messenger",language:au,contactAliId:null===(n=e.contact)||void 0===n?void 0:n.aliId}).then((function(e){var t,n=e.data;Array.isArray(n.result)&&(r.setState({recommendActions:n.result}),t=n.result,Object.keys(Qs).forEach((function(e){t.forEach((function(t){Number(t.actionId)===Number(e)&&Object.keys(t).forEach((function(n){Qs[e][n]=t[n]}))}))})))}))}},{key:"isShowAction",value:function(e){return this.state.recommendActions.find((function(t){return t.actionId===e}))}},{key:"cleanMessageList",value:function(e){var t=this;this.setState({clearList:!0},(function(){t.setState({clearList:!1}),e()}))}},{key:"renderSummaryData",value:function(e){var t,n,r,a,o,i=e.initSummaryData,s=e.extraInfoFromSummaryData,c=e.env,l=this.props,u=l.setSummaryData,d=l.getChatRelationEvent,p=l.extraInfo,f=l.host,m=l.sessionData,h=(s||p||{}).showDefaultPage,g=(null===i||void 0===i?void 0:i.cid)||(null===i||void 0===i||null===(t=i.contact)||void 0===t?void 0:t.cid);if(g===(null===Rl||void 0===Rl||null===(n=Rl.context)||void 0===n?void 0:n.cid)){if(i&&!i.fromScene&&(i.fromScene=c),null!==i&&void 0!==i&&i.aliId||null!==i&&void 0!==i&&null!==(r=i.contact)&&void 0!==r&&r.aliId){var v,y=i.startTime,b=i.contact;Object(O.default)({ext:"StartActivateChat",costTime:y?Date.now()-y:0,bizData:{cid:g,aliId:(null===i||void 0===i?void 0:i.aliId)||(null===i||void 0===i||null===(v=i.contact)||void 0===v?void 0:v.aliId),isFirstActivate:"componentDidMount"===c?"YES":"NO",fromScene:i.fromScene}}),b.renderCost&&(b.renderCost.startActivateChat=Date.now())}var w=h&&!i;if((w=w&&"componentDidMount"===!c)&&this.maximize(),null!==i&&void 0!==i&&null!==(a=i.contact)&&void 0!==a&&a.msgCache&&!m[null===i||void 0===i||null===(o=i.contact)||void 0===o?void 0:o.accountId]){var x,C,E,S=i.startTime;this.loadCacheMessages(null===i||void 0===i||null===(x=i.contact)||void 0===x?void 0:x.accountId,null===i||void 0===i||null===(C=i.contact)||void 0===C?void 0:C.msgCache,null===i||void 0===i||null===(E=i.contact)||void 0===E?void 0:E.aliId),Object(O.default)({ext:"loadCacheMessages",costTime:S?Date.now()-S:0})}if(this.shouldReset=!0,this.shouldFetchRelation=!0,this.contactChange=!0,i){var k=localStorage.getItem("im_weblite_chat_status");if(i.contact.cid||(i.contact.cid=i.cid),Ml.activeConversation(i.contact),u(i),2===i.contact.conversationType||Wl||d({data:{contactLoingId:i.contact.memberId,selfLoginId:jl,country:this.getLocal()}}),"minimize"===k?this.minimize():this.maximize(),"weblite"===f&&i.extraData&&i.extraData.clickTimestamp){var T=i.extraData,_=T.clickTimestamp,I=T.chatLoaded,A=(s||{}).firstActiveChat;Object(O.default)("CN2chatLoaded&costTime=".concat(Date.now()-_,"&chatLoaded=").concat(I?"YES":"NO","&isAvailable=YES&firstClickCN=").concat(A?"YES":"NO"))}}i&&"exhibition"===Fe(location.href,"bizType")&&this.setState({showSceneLayer:!0})}else Object(O.default)("interruptRender")}},{key:"parseUrlParams",value:function(){var e=Be(location.href.slice(0,-2)),t=e.meetingEvent,n=e.messageType,r=e.loginIdEncrypt,a=e.loginId,o=e.timeMillis,i=e.contactName,s=e.contactPortrait,c=e.meetingCode,l=e.meetingUUID,u=e.meetingRelatedCardUrl;"empty"===u&&(u=null),t&&"call"===t&&Date.now()-o<=18e4&&this.props.EventBus.publish("im-weblite-chat:meetingPush",{messageType:2100,bizId:n,contactLoginIdEncrypt:r,contactLoginId:a,contactName:i,contactPortrait:s,meetingRelatedCardUrl:u,meetingEventInfo:{meetingCode:c,meetingUUID:l}})}},{key:"componentWillReceiveProps",value:function(e){var t,n,r=this.props,a=r.summaryData.contact,o=r.processEventChange,i=r.getChatExtraData,s=r.setChatExtraData,c=r.recommendInConversationExit,l=r.assistRecommendNew,u=r.getEvaluation,d=r.setChatEventProcess,p=r.shouldInsertAISummary,f=e.summaryData.contact,m=e.sessionData,h=e.processEventChange,g=f.accountId&&a.accountId!==f.accountId,v=Zl(),y=f.searchTimeStamp&&f.searchTimeStamp!==a.searchTimeStamp,b=this.props.sessionData[f.accountId],w=m[f.accountId],x=a.accountId===f.accountId&&(null===b||void 0===b?void 0:b.length)!==(null===w||void 0===w?void 0:w.length);if(a.accountId===f.accountId&&!b&&w&&(this.shouldLogChangeConv=1,this.shouldNotifyUpdatePlugin=!0),a.accountId!==f.accountId&&w&&(this.shouldLogChangeConv=2,this.shouldNotifyUpdatePlugin=!0),(this.shouldLogChangeConv||x)&&(this.shouldLogChangeMsg=!0,this.canAICardGenerated=!0),Object(X.a)()&&x&&!Wl&&(null===w||void 0===w?void 0:w.length)===(null===b||void 0===b?void 0:b.length)+1&&p({accountId:a.accountId,from:"msgAdded"}),g){if(this.setState({sendContent:"",quoteItem:null}),this.contactChange=!0,v.isBuyer&&d(null),Wl||(f.accountIdEncrypt?i({data:{contactAccountIdEncrypt:f.accountIdEncrypt}}):1!==f.conversationType&&s({existEnableFAQ:!1,contactDisabled:!1})),this.dialogToReply(f),f.memberId&&!Wl)u({data:{toLoginId:f.memberId}});a.accountId&&this.props.sessionData[a.accountId]&&this.saveDataBeforeConvChange(),this.props.changeGenerateSession({contactAccountId:a.accountId,nextContactAccountId:f.accountId,aliId:a.aliId,nextAliId:f.aliId}),Wl||p({accountId:f.accountId,from:"changeCov"}),window.EventBus&&window.EventBus.publish("im-weblite-chat:contactChanged",{aliId:f.aliId}),this.setState({isAssistantAccount:!!f.aliId&&M.a.includes(String(f.aliId))})}var C=m[f.accountId];if((!Wl&&y||g&&(!C||C&&C.fromSearch))&&(p({accountId:f.accountId,from:"search"}),this.shouldReset=!0,this.setState({quoteItem:null})),!g&&o===h||a.memberId===du||this.handleTradeStatus(),g||a.block===f.block||this.handleContactBlock(f),v.isBuyer&&1===f.conversationType){var E,S,k,T,_=function(e,t,n,r,a,o,i){var s;if(e.accountId&&e.accountId!==t.accountId&&(o=!0),t.accountId==Kc&&n&&n[244312150]&&n[244312150][0]&&1===n[244312150][0].subType&&n[244312150][0].extInfo){var c,l,u=null===(c=n[244312150][0].extInfo.icbuData)||void 0===c||null===(l=c.chatEvent)||void 0===l?void 0:l.extParam;u&&u.assiStrategy&&o&&(Object(O.default)("2020MC_ProcurementAssistant_foreground_receive&strategy=".concat(u.assiStrategy)),r({data:{strategy:u.assiStrategy,extParams:u.assiExtParam||{}}}),o=!1)}if(n&&e.accountId&&n[e.accountId]&&e.memberId!==Jc&&e.accountId!==t.accountId){for(var d,p,f,m=localStorage.getItem("".concat(e.accountId,"-enter")),h=[],g=n[e.accountId],v=0;v<g.length;v++)if(1==g[v].subType){f=g[v]&&g[v].content,"send"==g[v].messageType?p="buyer":"rec"==g[v].messageType&&(p="seller");var y={role:p,content:f};h.push(y)}h.length>10&&(h=h.slice(0,10)),h.length&&m&&null!==(d=g[0])&&void 0!==d&&d.sendTime&&m<=g[0].sendTime&&Date.now()-g[0].sendTime<6048e5&&a({data:{sellerAccountId:e.accountId,lastTalkTimeStamp:g[0].sendTime,contentList:JSON.stringify(h.reverse())}})}if(t.accountId&&n[t.accountId]&&t.unreadCount>0&&t.memberId!==Jc&&null!==(s=n[t.accountId][0])&&void 0!==s&&s.sendTime&&Date.now()-n[t.accountId][0].sendTime<6048e5){var b;e.accountId&&e.accountId!==t.accountId&&(i=!0);for(var w,x,C=n[t.accountId],E=[],S=0;S<C.length;S++)if(1==C[S].subType){x=C[S].content&&C[S].content,"send"==C[S].messageType?w="buyer":"rec"==C[S].messageType&&(w="seller");var k={role:w,content:x};E.push(k)}E.length>10&&(E=E.slice(0,10)),E.length&&i&&null!==(b=C[0])&&void 0!==b&&b.sendTime&&(a({data:{sellerAccountId:t.accountId,lastTalkTimeStamp:C[0].sendTime,contentList:JSON.stringify(E.reverse())}}),i=!1)}return{strategyOneTime:o,unreadOneTime:i}}(a,f,m,l,c,this.strategyOneTime,this.unreadOneTime);if(this.strategyOneTime=_.strategyOneTime,this.unreadOneTime=_.unreadOneTime,m[f.accountId]&&2024==(null===(E=m[f.accountId][1])||void 0===E?void 0:E.subType))if(this.delayOneTime&&!this.delayDone)fu={uuid:null===(S=m[f.accountId][1])||void 0===S||null===(k=S.extInfo)||void 0===k||null===(T=k.icbuData)||void 0===T?void 0:T.triggerBizId},this.delayDone=rl(fu,f),this.delayOneTime=!1}(null===(t=f.contact)||void 0===t?void 0:t.aliId)!==(null===(n=a.contact)||void 0===n?void 0:n.aliId)&&1===f.conversationType&&this.checkActionsVisible(f)}},{key:"componentDidUpdate",value:function(){var e,t,n,r=this,a=this.props,o=a.summaryData,i=a.sessionData,s=a.getChatRelationEvent,c=(a.host,o.contact),l=void 0===c?{}:c,u=o.fromScene,d=void 0===u?"":u,p=o.startTime,f=this.listInstance&&(null===(e=this.listInstance)||void 0===e||null===(t=e.listInstance)||void 0===t?void 0:t.loadMoreBox),m=Zl(),h=this.state,g=h.showReferLayer,v=h.showVipRightLayer;!g&&v&&localStorage.setItem("has_show_vip_right_".concat(l.cid),"true"),this.shouldReset&&(this.shouldReset=!1,setTimeout((function(){r.fetchMessages((function(){return""}),"reset")}),0)),this.contactChange&&!Wl&&(Object(A.checkContactIsXinbao)({contactAccountIdEncrypt:l.accountIdEncrypt}).then((function(e){r.setState({contactXinbao:e})})),this.contactChange=!1),this.shouldFetchRelation&&2!==l.conversationType&&!Wl&&(s({data:{contactLoingId:l.memberId,selfLoginId:jl,country:this.getLocal()},callback:function(e){if(e){var t=e.eventContent.replace("top_layer","meeting");r.setState({sceneTopUrl:t});var n=Fe(e.eventContent,"type"),a=Fe(e.eventContent,"id");Object(O.default)("2020MC_ChatStickDealCard_Show&cardType=".concat(n,"&bizId=").concat(a)),m.isBuyer&&r.getDXCard(e.eventContent,l.memberId,r.dxTopMountDOM)}}}),this.shouldFetchRelation=!1);var y=l&&i[l.accountId]||[];if(this.shouldLogChangeConv&&(l.renderCost=l.renderCost||{},l.renderCost.IM_ConvChangeRerender=Date.now(),vl(l.renderCost),Object(O.default)({ext:"IM_ConvChangeRerender",costTime:Date.now()-(null===l||void 0===l?void 0:l.convChangeTimestamp),bizData:Tl({length:y.length,accountId:null===l||void 0===l?void 0:l.accountId,hasCache:2===this.shouldLogChangeConv,fromScene:d,isGroupChat:2===(null===l||void 0===l?void 0:l.conversationType)?"YES":"NO",costTime:p?Date.now()-p:null},l.renderCost)}),this.shouldLogChangeConv=0,this.shouldNotifyUpdatePlugin)){var b=new CustomEvent("im-weblite-chat:covChangedAndMsgRender",{detail:{contact:l}});window.dispatchEvent(b),this.shouldNotifyUpdatePlugin=!1}this.shouldLogChangeMsg&&(Object(O.default)({ext:"IM_MsgChangeRerender",bizData:{length:y.length,accountId:l.accountId,isGroupChat:2===(null===l||void 0===l?void 0:l.conversationType)?"YES":"NO"}}),this.shouldLogChangeMsg=!1);var w=null===f||void 0===f||null===(n=f.querySelector)||void 0===n?void 0:n.call(f,".scroll-box");f&&!f.onwheel&&y.fromSearch&&w?w.onwheel=w.onmousewheel=function(e){e.deltaY>4&&w.scrollHeight-w.offsetHeight-w.scrollTop<10&&r.endScroll&&(r.endScroll=!1,r.fetchMessagesForward())}:f&&f.onwheel&&!y.fromSearch&&w&&(w.onwheel=w.onmousewheel=null)}},{key:"componentWillMount",value:function(){ks.setDeviceWidth(375),this.props.cleanSummaryData(),location.href.indexOf("messenger.htm")>0&&window.removeEventListener("beforeunload",this.listener,!0),clearInterval(zl)}},{key:"showRealDom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.getElementById("app-snapshot"),n=document.getElementById("app");t&&document.body.removeChild(t),n&&(n.style.display="block"),Object(O.default)({ext:"showRealDom",bizData:e})}},{key:"triggerAi",value:function(e){var t,n,r=this,a=this.props,o=a.summaryData,i=void 0===o?{}:o,s=a.extraInfo,c=void 0===s?{}:s,l=i.contact||{},u=(i.extraInfo||c).productId;Ws({aliId:null!==(t=null===(n=l.contact)||void 0===n?void 0:n.aliId)&&void 0!==t?t:"",productId:u}).then((function(t){t?(Zs({subType:t.msgType,content:t.content,contact:l,name:"",fullPortrait:""},r.props.buildItems),e&&e(t)):e&&e(t)}))}},{key:"isNoMsgRecetly",value:function(e){var t={sendTime:new Date(2020,0)};return e.length&&(t=e[0]),!(Date.now()-t.sendTime<=2592e6)}},{key:"addUnblockContact",value:function(){var e=this.props,t=e.summaryData.contact;(0,e.insertCard)({session:{list:[{content:su.get("blockTip")||"You have blocked this contact",action:su.get("unblockContact")||"Unblock this contact",type:301,subType:3201}]},contactAccountId:t&&t.accountId||0})}},{key:"insertFloatCard",value:function(){var e=this.props,t=e.summaryData.contact,n=e.extraInfo,r=e.insertCard,a=(n||{}).sceneData||{},o=a.sceneId,i=a.sceneCardType,s=encodeURIComponent("id=".concat(o,"&from=").concat(jl,"&to=").concat(t&&t.memberId||0));r({session:{list:[{content:"https://".concat(D.WORKSPACE_DOMAIN,"/card2/floatCard?type=").concat(i,"&queryString=").concat(s),type:300,subType:i,contactRead:!1}]},contactAccountId:t&&t.accountId||0})}},{key:"unblockContact",value:function(){var e=this,t=this.props,n=t.summaryData.contact,r=t.unblockContact;r({data:{opType:"unblock",list:[{accountId:n.accountId,accountIdEncrypt:n.accountIdEncrypt}]},callback:function(t){if(1*t.code===200){e.props.EventBus.publish("im-weblite-list:changeAction",Tl({actionType:"unblock",activeLoginIdEncrypt:n.loginIdEncrypt},n));var r=(e.props||{}).setSummaryData;null===r||void 0===r||r({contact:Tl(Tl({},null!==n&&void 0!==n?n:{}),{},{block:!1})})}}})}},{key:"hasClass",value:function(e,t){return 0!==(t=t||"").replace(/\s/g,"").length&&new RegExp(" ".concat(t," ")).test(" ".concat(e.className," "))}},{key:"unsubscribeFreightOS",value:function(e){var t=this;this.sendingUnscribe||(this.sendingUnscribe=!0,this.props.unsubscribeFreightOS({data:e,callback:function(e){var n=1*e.code;t.sendingUnscribe=!1,200===n?We.default.success(e.message||"unsubscribe success."):We.default.error("".concat(e.message,"(").concat(e.code,")"))}}))}},{key:"sendMessage",value:function(e,t){var n=this;this.sending||this.props.sendMessage({data:e,contentType:t||"text",callback:function(e){var t=1*e.code;n.sending=!1,200===t?n.onSend():We.default.error("".concat(e.message,"(").concat(e.code,")"))}})}},{key:"isLiteVersion",value:function(e){return"weblite"===e||"pwa"===e}},{key:"isPWA",value:function(e){return"pwa"===e}},{key:"checkLoadMoreLimit",value:function(){var e,t=this.props,n=t.summaryData.contact,r=null===(e=t.sessionData[null===n||void 0===n?void 0:n.accountId])||void 0===e?void 0:e.length;r&&15===Math.ceil((r-1)/19)&&(Object(O.default)({ext:"showLoadMoreTip"}),I.Message.show({type:"notice",duration:5e3,content:a.createElement("p",{style:{margin:"0px"}},iu.get("loadmore.limitTip")||"查看更多消息可使用搜索功能",a.createElement("a",{style:{marginLeft:"10px",cursor:"pointer"},onClick:this.gotoChatHistory},iu.get("loadmore.action")||"点击去搜索")),closeable:!0}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.boxWidth,r=t.boxHeight,o=t.summaryData,i=t.sessionData,s=t.extraInfo,c=t.getCardHtml,l=t.EventBus,u=t.host,d=t.toolbar,p=t.revertMessage,m=t.setSummaryData,h=t.initSummaryData,g=t.chatEventProcess,v=t.chatExtraData,y=t.sendAddressCard,b=t.languageInfo,w=t.buyerEvaluation,x=t.getEvaluation,C=t.sendEvaluationCard,E=t.noMoreCache,S=t.groupMembersCache,k=t.msgLoading,T=this.state,_=T.sendContent,A=T.quoteItem,D=T.showContactVerified,N=T.showLogisticsInquiry,P=T.transFeedbackVisible,L=T.transFeedbackSource,R=T.transFeedbackTarget,F=T.transFeedbackMessageId,j=T.orderDialogVisible,B=T.clearList,z=T.showReferLayer,V=T.showVipRightLayer,U=T.vipRightData,H=o.contact,W=Zl(),G=[];B||(G=(H&&i[H.accountId]||[]).map((function(t){var n,r,a=t.contact,o=t.owner,i=f()(t,Sl);return Tl(Tl({__key:t.messageId,contact:Object.assign({},a,{name:H.name,fullPortrait:H.fullPortrait}),owner:Object.assign({},o,{fullPortrait:(null===Ll||void 0===Ll||null===(n=Ll())||void 0===n?void 0:n.fullPortrait)||(null===(r=H.owner)||void 0===r?void 0:r.fullPortrait)})},i),{},{conversationType:null===H||void 0===H?void 0:H.conversationType,loginId:H&&(H.memberId||H.loginId),getCardHtml:c,onCardClick:e.onCardClick,host:u,showMenu:!0,menuConfig:e.menuConfig,revertMessage:p,EventBus:l,clearText:e.clearText,translate:e.startTranslate,addQuickTemplate:e.addQuickTemplate,selectAllText:e.selectAllText,copyText:e.copyText,realTimeTranslation:{language:b.receiveTargetLang,openRealTimeTranslation:b.receiveTranslateOpen,receiveTranslateAgreement:b.receiveTranslateAgreement,sendTranslateOpen:b.sendTranslateOpen},onSaveToCloudDrive:e.onSaveToCloudDrive,downloadFile:e.downloadFile,sendQuoteReplyToPc:e.sendQuoteReplyToPc,previewImg:e.previewImg,transferStructMsgToTextContent:e.transferStructMsgToTextContent,quoteHit:!0,mediaMessageRenderer:ea.mediaMessageRenderer})})));!Hl&&E[H.accountId]&&G.push({type:0,content:this.state.contactXinbao?iu.get("securityTip"):iu.get("securityTip2")}),E[H.accountId]&&Date.now()-H.joinTime>31536e6&&G.push({type:2,content:cu.get("session.historySessionTips")||"系统只支持查看过去2年内的消息",extInfo:{},subType:"x005"});var K=Object(pe.d)(),J=(s||{}).showDefaultPage&&!h&&2!==(null===H||void 0===H?void 0:H.conversationType)&&!H.memberId,Z=H.memberId!==du,X=a.createElement("div",{className:"m-load"},a.createElement("div",{class:"line"},a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null),a.createElement("div",null)),a.createElement("div",{class:"circlebg"})),Y=this.handleGetRiskReportTypes();return a.createElement(I.ConfigProvider,{prefix:"im-next-"},a.createElement("div",{ref:function(t){return e.containerDOM=t},style:{height:"100%"},"data-exp":Z?"":"2020MC_ProcurementAssistant_Chat_Show","data-expInfo":JSON.stringify({host:u})},J?a.createElement("div",{className:"message-box weblite-default-page",style:{width:"".concat(n,"px"),height:"".concat(r,"px")}},a.createElement("div",{className:"message-header",onClick:this.handleHeaderClick},a.createElement("h1",{className:"contact-name"},iu.get("lite.defaultPage.title"))),a.createElement("div",{className:"default-page-body","data-exp":"2020MC_DownloadApp_Show"},a.createElement("img",{src:"https://img.alicdn.com/tfs/TB1xxgnB7L0gK0jSZFAXXcA9pXa-1626-930.png"}),a.createElement("p",{className:"default-page-body-content"},iu.get("lite.defaultPage.desc"),a.createElement("a",{href:iu.get("lite.defaultPage.link"),onClick:this.handleAppClick,rel:"noopener noreferrer",target:"_blank"},iu.get("lite.defaultPage.linkText"))))):a.createElement("div",{className:"message-box",style:{width:"".concat(n,"px"),height:"".concat(r,"px")},"data-exp":"MessagePage_Chat_Show","data-expInfo":JSON.stringify({showTime:+new Date,type:(null===H||void 0===H?void 0:H.conversationType)||1})},this.showHeader()&&a.createElement(q,{host:u,contact:H,EventBus:l,onClick:this.handleHeaderClick,onClose:this.close,setSummaryData:m}),k&&a.createElement("div",{className:"msg-loading ".concat(Ke.isWeblite?"top":"")},a.createElement(I.Icon,{type:"loading",size:"small"})),a.createElement("div",{className:"message-flow-container ".concat(u)},!Hl&&W.isBuyer&&a.createElement("div",{className:"dx-container dx-top-container",style:{display:g?"block":"none"}},a.createElement("div",{className:"dx-dom",ref:function(t){return e.dxTopMountDOM=t}}),a.createElement("div",{className:"close topclose",onClick:this.closeLayer("top")})),!!G.length&&a.createElement("div",{className:"message-flow-wrapper"},a.createElement(I.Loading,{visible:this.state.loading,fullScreen:!0,tip:su.get("system.notice.snapshot.wait")||"Page Loading...",indicator:X,className:"loading-background"}),a.createElement(K,{ref:function(t){return e.listInstance=t},list:G,groupMembers:S,loadDirection:"up",initFetch:!1,loadFunc:this.loadMoreMessage,fetchForwardMessagesForSearch:this.fetchForwardMessagesForSearch})),2!==(null===H||void 0===H?void 0:H.conversationType)&&!z&&!V&&a.createElement(a.Fragment,null,!Hl&&Z?D||this.state.isAssistantAccount?a.createElement(a.Fragment,null):a.createElement("div",{className:"buttons-box ".concat(he()?"ggs-buttons-box":"")},a.createElement(Sc,{showEvaluationDialog:this.state.showEvaluationDialog,toggleEvaluationDialog:this.toggleEvaluationDialog.bind(this),list:G,contact:H,buyerEvaluation:w,getEvaluation:x,sendEvaluationCard:C,ChatI18N:su,isShowEntry:this.isShowAction(Qs[18].id)&&!Hl&&W.isBuyer&&this.showRateSupplier(w,G)}),this.isShowAction(Qs[8].id)&&a.createElement(uc,{exp:Ys,expInfo:JSON.stringify(Qs[8]),clk:Xs,clkInfo:JSON.stringify(Qs[8]),contact:H,host:u,ChatI18N:su,getDXCard:this.getDXCard.bind(this),sendMessage:this.sendMessage.bind(this),clearDelayTimeout:al}),Ke.isPureMessenger&&"cn1530360112vxol"!==H.memberId&&a.createElement(hc,{visible:j,startOrder:this.startOrder.bind(this),transferVisible:this.transferVisible.bind(this),sellerAccountId:H.accountId,I18N:iu,exp:Ys,expInfo:JSON.stringify(Qs[10]),clk:Xs,clkInfo:JSON.stringify(Qs[10])}),this.isShowAction(Qs[20].id)&&a.createElement(gl,{contact:H,ChatI18N:su,blockContact:function(){return e.blockContact()},unblockContact:function(){return e.unblockContact()},messageList:G}),this.isShowAction(Qs[21].id)&&a.createElement("button",{"data-exp":Ys,"data-expInfo":JSON.stringify(Qs[21]),"data-clk":Xs,"data-clkInfo":JSON.stringify(Qs[21]),className:"button",onClick:this.handleShortcut(Qs[21].action)},su.get("FileAComplaint")||Qs[21].name),this.isShowAction(Qs[19].id)&&a.createElement(nc,{visible:N,contact:H,EventBus:l,sendAddressCard:y,I18N:iu,exp:Ys,expInfo:JSON.stringify(Qs[19]),clk:Xs,clkInfo:JSON.stringify(Qs[19]),showAddressList:this.showAddressList.bind(this),setAddress4Inquiry:this.setAddress4Inquiry.bind(this),config:Qs[19]})):!Hl&&this.isShowAction(Qs[15].id)&&a.createElement("div",{className:"buttons-box ".concat(he()?"ggs-buttons-box":"")},a.createElement(oc,{ChatI18N:su,exp:Ys,expInfo:JSON.stringify(Qs[15]),clk:Xs,clkInfo:JSON.stringify(Qs[15])})))),a.createElement("div",{className:" dx-refer-container ".concat("messenger"===u?"dx-container-messenger":"dx-container-weblite"),style:{display:this.state.showReferLayer?"flex":"none"}},a.createElement("div",{className:"dx-dom",ref:function(t){return e.dxReferMountDOM=t}}),a.createElement("div",{className:"close",onClick:this.closeLayer("refer")},"✕")),!z&&V&&a.createElement("div",{className:"vip-right-container"},a.createElement("img",{src:"https://img.alicdn.com/imgextra/i2/O1CN01Ds4TaO1kuLImXYeag_!!6000000004743-2-tps-234-48.png",className:"vip-right-logo"}),a.createElement("p",{className:"vip-right-content"},a.createElement("span",{className:"vip-right-text"},"".concat(U.title).concat(U.content)),a.createElement("span",{className:"vip-right-action",onClick:this.toVipRight.bind(this,"float")},U.buttonText)),a.createElement("div",{className:"close",onClick:this.closeLayer("vip")})),!Hl&&a.createElement("div",{className:"send-box-container ".concat(he()?"ggs-send-box-container":"")},a.createElement("div",{className:"disable-tip ".concat(v.contactDisabled?"":"hide")},cu.get("chat.contactDisableTip")||"The contact has been disabled"),he()?a.createElement(bi,{className:"".concat(!v.contactDisabled&&Z?"":"hide"," ggs-sendbox"),sceneTopUrl:this.state.sceneTopUrl,buildFakeItem:this.props.buildFakeItem.bind(this),getDXCard:this.getDXCard.bind(this),showSceneLayer:this.state.showSceneLayer,summaryData:this.props.summaryData,referData:this.state.referCardData,host:u,toolbar:d,tnpm:!0,EventBus:l,extraInfo:o.extraInfo||s,onSend:this.onSend,generateAIFakeMsg:this.generateAIFakeMsg,fetchMessages:this.fetchMessages,quoteItem:A,closeQuoteMessage:this.closeQuoteMessage,sendContent:_,showAddress:this.showAddressList,getLanguageInfo:this.props.getLanguageInfo,clearDelayTimeout:al,transferStructMsgToTextContent:this.transferStructMsgToTextContent,onMaximize:this.onSendBoxMaximize,hasRichTextDraft:this.state.hasRichTextDraft,showRichText:this.state.showRichText}):bu?a.createElement(Uo,{className:"".concat(!v.contactDisabled&&Z?"":"hide"),sceneTopUrl:this.state.sceneTopUrl,buildFakeItem:this.props.buildFakeItem.bind(this),getDXCard:this.getDXCard.bind(this),showSceneLayer:this.state.showSceneLayer,summaryData:this.props.summaryData,referData:this.state.referCardData,host:u,toolbar:d,tnpm:!0,EventBus:l,extraInfo:o.extraInfo||s,onSend:this.onSend,generateAIFakeMsg:this.generateAIFakeMsg,fetchMessages:this.fetchMessages,quoteItem:A,closeQuoteMessage:this.closeQuoteMessage,sendContent:_,showAddress:this.showAddressList,getLanguageInfo:this.props.getLanguageInfo,clearDelayTimeout:al,transferStructMsgToTextContent:this.transferStructMsgToTextContent,onMaximize:this.onSendBoxMaximize,hasRichTextDraft:this.state.hasRichTextDraft}):a.createElement(Ss,{className:"".concat(!v.contactDisabled&&Z?"":"hide"),sceneTopUrl:this.state.sceneTopUrl,buildFakeItem:this.props.buildFakeItem.bind(this),getDXCard:this.getDXCard.bind(this),showSceneLayer:this.state.showSceneLayer,summaryData:this.props.summaryData,referData:this.state.referCardData,host:u,toolbar:d,tnpm:!0,EventBus:l,extraInfo:o.extraInfo||s,onSend:this.onSend,generateAIFakeMsg:this.generateAIFakeMsg,fetchMessages:this.fetchMessages,quoteItem:A,closeQuoteMessage:this.closeQuoteMessage,sendContent:_,showAddress:this.showAddressList,getLanguageInfo:this.props.getLanguageInfo,clearDelayTimeout:al,transferStructMsgToTextContent:this.transferStructMsgToTextContent,onMaximize:this.onSendBoxMaximize,hasRichTextDraft:this.state.hasRichTextDraft}),this.state.isAssistantAccount?a.createElement("div",{className:"disable-mask"}):null),W.isBuyer&&a.createElement(I.Dialog,{visible:this.state.tipOrderCompleteVisible,onOk:this.onOrderComplete,onCancel:this.onCloseTipOrderComplete,shouldUpdatePosition:!0,title:iu.get("leaveorder.title"),locale:{ok:"OK",cancel:"Cancel"},onClose:this.onCloseTipOrderComplete,centered:!0},iu.get("leaveorder.content")),this.state.showPreviewFile&&a.createElement(Ns.a,{onClose:this.closeFileView,previewObj:this.state.previewObj}),!Wl&&this.state.showRichText&&a.createElement(Il,{fallback:a.createElement("div",null,"Loading...")},a.createElement(Al,{showRichText:this.state.showRichText,onMinimize:this.onRichTextMinimize,summaryData:this.props.summaryData,fetchMessages:this.fetchMessages,quoteItem:A,EventBus:l})),a.createElement("div",null,a.createElement(Gc,{isPopup:!0,visible:P,onClose:function(){return e.setState({transFeedbackVisible:!1})},onSuccess:function(){Object(O.default)("2020MC_TranslateFeedbackSuccess"),We.default.success(iu.get("common.success"))},onError:function(){Object(O.default)("2020MC_TranslateFeedbackFailed"),We.default.error(iu.get("common.failed"))},srcContent:L,translatedContent:R,userId:Bl,userType:Ke.isSellerPWA?"seller":"buyer",messageId:F})),!W.isBuyer&&a.createElement(I.Dialog,{title:cu.get("replyDialogTitle")||"不可回复",visible:this.state.replyDialogVisible,onOk:this.onReply,onCancel:this.onReplyClose,onClose:this.onReplyClose,okProps:{children:cu.get("replyDialogConfirm")||"标为已回复"},cancelProps:{children:cu.get("replyDialogCancel")||"取消"},centered:!0},this.setReplyDialogContent(this.state.contactDisabled,this.state.inContactBlockList))),a.createElement(I.Dialog,{className:"risk-report-modal",title:iu.get("risk.report.title")||"举报买家消息",visible:this.state.reportRiskVisible,onOk:this.handleReportRisk,onClose:this.handleCloseReportRisk,onCancel:this.handleCloseReportRisk,style:{width:"weblite"===u?"480px":"518px"},footerActions:["cancel","ok"],okProps:{style:{marginLeft:16},children:iu.get("risk.report.button.confirm")},cancelProps:{children:iu.get("risk.report.button.cancel")},centered:!0},a.createElement("div",{className:"risk-report-content-wrapper"},a.createElement("div",{className:"risk-report-row"},iu.get("risk.report.desc")||"执行该操作后，该会话下的所有信息都会出现在垃圾询价内！"),a.createElement("div",{className:"risk-report-row"},a.createElement("div",null,iu.get("risk.report.infoType.title")||"您认为该消息属于哪种垃圾信息："),null!==Y&&void 0!==Y&&Y.length?a.createElement(a.Fragment,null,a.createElement(gu,{value:this.state.reportRiskType,className:"type-radio-group",onChange:this.handleChangeReportType},Y.map((function(e,t){return a.createElement(vu,{key:t,className:"type-radio-group-row"},e.map((function(e,t){return a.createElement(a.Fragment,null,a.createElement(yu,{span:"12",key:"".concat(e,"-").concat(t)},a.createElement(I.Radio,{value:e},iu.get("risk.report.".concat(e))||e)))})))})))):a.createElement(a.Fragment,null)),a.createElement(I.Divider,{style:{margin:"20px 0"}}),a.createElement("div",{className:"risk-report-row block-row"},a.createElement(I.Checkbox,{checked:this.state.reportRiskAddBlack,onChange:this.handleChangeReportBlack},a.createElement("span",{className:"risk-block-text"},iu.get("risk.report.block.title")||"是否将发件人添加到"),a.createElement("a",{className:"risk-report-link",href:window.isOverseaMember?M.g:M.b,rel:"noreferrer",target:"_blank"},iu.get("risk.report.block.name")||"黑名单"),a.createElement("span",{className:"risk-block-text"},"？")))))))}},{key:"getLocal",value:function(){var e=$l();return(e=e?e.split("_")[1]:"US")||""}},{key:"getReferLayerUrl",value:function(e,t,n,r){var a=this.getLocal(),o="https://".concat(D.WORKSPACE_DOMAIN,"?type=").concat(r,"&from=").concat(e,"&to=").concat(t,"&id=").concat(n,"&showType=refer_layer&country=").concat(a);return 9===r&&(o+="&orderId=".concat(n)),o}}])}(a.Component);var xu=Object(c.connect)((function(e){return{summaryData:e.messageBox.summaryData,sessionData:e.messageBox.sessionData,chatEventProcess:e.messageBox.chatEventProcess,processEventChange:e.messageBox.processEventChange,chatExtraData:e.messageBox.chatExtraData,languageInfo:e.translate.languageInfo,buyerEvaluation:e.messageBox.buyerEvaluation,noMoreCache:e.messageBox.noMoreCache,groupMembersCache:e.messageBox.groupMembersCache,msgLoading:e.messageBox.msgLoading,aiABTest:e.messageBox.aiABTest}}),(function(e){return{fetchMessages:function(t){e({type:"messageBox/setMsgLoading",payload:!0}),e({type:"messageBox/fetchMessages",payload:t})},getCardHtml:function(t){e({type:"messageBox/getCardHtml",payload:t})},getCsrfToken:function(){e({type:"messageBox/getCsrfToken"})},setSummaryData:function(t){t.contact&&t.contact.accountId?Hl||t.contact.convChangeTimestamp||(t.contact.convChangeTimestamp=Date.now()):t.contact.convChangeTimestamp=null,e({type:"messageBox/setSummaryData",payload:t})},cleanSummaryData:function(){e({type:"messageBox/cleanSummaryData"})},setShowMini:function(t){e({type:"messageBox/setShowMini",payload:t})},setGroupMembers:function(t){e({type:"messageBox/setGroupMembers",payload:t})},setChatExtraData:function(t){e({type:"messageBox/setChatExtraData",payload:t})},messageNew:function(t){e({type:"messageBox/messageNew",payload:t})},sendMessage:function(t){e({type:"messageBox/sendMessage",payload:t})},unsubscribeFreightOS:function(t){e({type:"messageBox/unsubscribeFreightOS",payload:t})},sendBusinessCard:function(t){e({type:"messageBox/sendBusinessCard",payload:t})},revertMessage:function(t){e({type:"messageBox/revertMessage",payload:t})},insertCard:function(t){e({type:"messageBox/insertCard",payload:t})},unblockContact:function(t){e({type:"messageBox/unblockContact",payload:t})},clearCard:function(t){e({type:"messageBox/clearCard",payload:t})},translate:function(t){e({type:"translate/translate",payload:t})},setChatEventProcess:function(t){e({type:"messageBox/setChatEventProcess",payload:t})},getChatRelationEvent:function(t){e({type:"messageBox/getChatRelationEvent",payload:t})},setPlaceholder:function(t){e({type:"messageBox/setPlaceholder",payload:t})},buildFakeItem:function(t){e({type:"messageBox/buildFakeItem",payload:t})},getCatalog:function(t){e({type:"messageBox/getCatalog",payload:t})},validationContact:function(t){e({type:"messageBox/validationContact",payload:t})},getChatExtraData:function(t){e({type:"messageBox/getChatExtraData",payload:t})},assistRecommand:function(t){e({type:"messageBox/assistRecommand",payload:t})},sendAddressCard:function(t){e({type:"messageBox/sendAddressCard",payload:t})},saveLanguageInfo:function(t){e({type:"translate/saveLanguageInfo",payload:t})},distributeChat:function(t){e({type:"messageBox/distributeChat",payload:t})},updateItem:function(t){e({type:"messageBox/updateItem",payload:t})},buildItems:function(t){e({type:"messageBox/buildItems",payload:t})},insertFakeItem:function(t){e({type:"messageBox/insertFakeItem",payload:t})},getLanguageInfo:function(t){e({type:"translate/getLanguageInfo",payload:t})},setLanguageInfo:function(t){e({type:"translate/setLanguageInfo",payload:t})},addQuickTemplate:function(t){e({type:"messageBox/addQuickTemplate",payload:t})},copyText:function(t){e({type:"messageBox/copyText",payload:t})},selectAllText:function(t){e({type:"messageBox/selectAllText",payload:t})},saveToPersonCloudDisk:function(t){e({type:"messageBox/saveToPersonCloudDisk",payload:t})},cleanList:function(){e({type:"messageBox/cleanList"})},recommendInConversationExit:function(t){e({type:"messageBox/recommendInConversationExit",payload:t})},assistRecommendNew:function(t){e({type:"messageBox/assistRecommendNew",payload:t})},fetchNewMessages:function(t){e({type:"messageBox/fetchNewMessages",payload:t})},checkConversationNeedFix:function(t){e({type:"messageBox/checkConversationNeedFix",payload:t})},fixConversation:function(t){e({type:"messageBox/fixConversation",payload:t})},getEvaluation:function(t){e({type:"messageBox/getEvaluation",payload:t})},sendEvaluationCard:function(t){e({type:"messageBox/sendEvaluationCard",payload:t})},fetchPortrait:function(t){e({type:"messageBox/fetchPortrait",payload:t})},queryVipRight:function(t){e({type:"messageBox/queryVipRight",payload:t})},fetchGroupMembers:function(t){e({type:"messageBox/fetchGroupMembers",payload:t})},submitBuyerBizInfo:function(t){e({type:"messageBox/submitBuyerBizInfo",payload:t})},getContactInfo:function(t){e({type:"messageBox/getContactInfo",payload:t})},shouldInsertAISummary:function(t){e({type:"messageBox/shouldInsertAISummary",payload:t})},checkSummaryCommandStatus:function(t){e({type:"messageBox/checkSummaryCommandStatus",payload:t})},changeGenerateSession:function(t){e({type:"messageBox/changeGenerateSession",payload:t})}}}))(wu);function Cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Su=new(0,window.IcbuIM.IMBaaSSDK.Logger)("store-helper");Su.color("#228B22");var ku=window.IcbuIM.lib.I18N.createI18N,Tu=ku({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),_u=ku({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),Iu=0,Ou={};function Au(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t,n=e.content;return 1===e.subType&&(n&&(n=n.toString()),n=n&&n.replace(/(<a[^>]+>)|<\/a>/g,"")),Eu(Eu({},e),{},{content:n,__key:e.__key?e.__key:(t=e.sendTime,"".concat(t).concat(Iu++))})}))}function Du(e){if("string"!==typeof e)return e;var t=e.replace(/\n/g,"<p></p>");return(t.match(/\[\/:\S+?\]/g)||[]).forEach((function(e){for(var n='<img height="32px" width="32px" src="//atmgateway-client.alibaba.com/smily-big/smile_'.concat(De.a[e.slice(1,-1)].id,'.png" />');-1!==t.indexOf(e);)t=t.replace(e,n)})),t}function Mu(e){return"string"!==typeof e||(e.match(/\[\/:\S+?\]/g)||[]).forEach((function(t){for(;-1!==e.indexOf(t);)e=e.replace(t,t.slice(1,-1))})),e}function Nu(e){var t=[],n=Eu(Eu({},e),{},{content:Du(e.content),messageType:"send",contactRead:!1,sendTime:Date.now(),owner:{name:e.ownerName,fullPortrait:e.ownerFullPortrait},opId:e.opId,subType:e.subType||(e.content.match(D.WORKSPACE_DOMAIN)||/<img\s/.test(e.content)?1001:1),type:1,fake:!0});return t.push(n),{list:t}}function Pu(e){switch(1*e.code){case 4001:We.default.error(Tu.get("chat.getOpError"));break;case 3005:We.default.error(_u.get("recallLimit"));break;case 3004:case 4003:We.default.error(_u.get("recallFailed"));break;case 3006:break;default:We.default.error("(".concat(e.code,")-").concat(e.message))}}function Lu(e,t){return!e.fake&&t.fake?1:!t.fake&&e.fake?-1:e.sendTime<t.sendTime?1:-1}function Ru(){var e,t,n,r,a,o,i,s,c,l,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(e=u.originalData)&&void 0!==e&&null!==(t=e.params)&&void 0!==t&&t.requestMessageId&&null!==(n=d.originalData)&&void 0!==n&&null!==(r=n.params)&&void 0!==r&&r.requestMessageId&&(null===(a=d.originalData)||void 0===a||null===(o=a.params)||void 0===o?void 0:o.requestMessageId)===d.messageId?(null===(i=u.originalData)||void 0===i||null===(s=i.params)||void 0===s?void 0:s.requestMessageId)===(null===(c=d.originalData)||void 0===c||null===(l=c.params)||void 0===l?void 0:l.requestMessageId):u.messageId&&d.messageId?u.messageId===d.messageId:!(!u.opId||!d.opId)&&u.opId===d.opId}function Fu(e,t){e.contact=Object.assign(e.contact,{accountId:t.toAccId,accountIdEncrypt:t.toIdE,name:t.toName}),e.owner=Object.assign(e.owner,{accountId:t.fromAccId,accountIdEncrypt:t.fromAccIdE,name:t.fromName})}function ju(e,t){if(!Ou[t])for(var n=!0,r=0;r<e.length;r++){var a=e[r];if(2!==a.type&&!Ge.a.isMediaType(a.subType)&&(("rec"===a.messageType||a.contactRead)&&(n=!1),!n&&"send"===a.messageType&&!a.contactRead)){Object(O.default)("2022MC_IM_UNREAD_STATUS_MONITOR&message_id=".concat(a.messageId,"&status=").concat(a.contactRead?"read":"unread")),Ou[t]=!0;break}}}var Bu,zu=n(38),qu=function(){return Bu},Vu=window.IcbuIM.lib.I18N.createI18N,Uu=Vu({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","chat")}),Hu=Vu({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb")});function Wu(e){switch(e){case-2:case-3:case-15:case-17:case-19:case-20:case"chat.risk.tips.black.list":return Uu.get("blackNameTip");case-18:case"chat.risk.tips.send.forbidden":return Uu.get("sendBannedTip");case-1:case-4:case-5:case-6:case-7:case-8:case-9:case-10:case-11:case-12:case-13:case-14:case-16:case"chat.risk.tips.other":return Uu.get("sendSecurityTip");case 1:return Uu.get("sendFailTip")||"消息发送失败, 请重试";case 2:return Uu.get("sending")||"消息发送中...";default:return"You can not reply now"}}function Gu(e){var t=e.code,n=e.reason;if(t)return Wu(t);var r="";if(n&&!(r=Uu.get(n))){var a=n.replace(/_/g,".");(r=Hu.get(a))||(r=n)}return r||(r=Wu()),r}function Ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ku(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zu=window.IcbuIM.IMSDKHelper,Xu=Zu.normalizeArg,Yu=Zu.addQuickTemplate,Qu=Zu.copyText,$u=Zu.selectAllText,ed=Zu.isAIM,td=window.IcbuIM.IMBaaSSDK,nd=td.MessageSendType,rd=td.Logger,ad=td.baasDataManager,od=(td.EventNameEnum,window.IcbuIM.IMBaaSSDK.default),id=window.IcbuIM.Constants.ApushMessageType,sd=window.IcbuIM.CommonUtil.yieldMain,cd=new rd("chat-model");cd.color("#228B22");var ld={baasLoginSuccess:function(e,t){e.payload;var n=t.put,r=t.select,a=t.call;return regeneratorRuntime.mark((function e(){var t,o,i,s,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(pe.i)()){e.next=20;break}return e.next=3,a(A.getContactInfo,{params:JSON.stringify(qu())});case 3:return t=e.sent,o=t.data,i=o.data.contactInfo,e.next=8,Object(A.createConversation)({targetId:i.extraInfo.aliId});case 8:return s=e.sent,e.next=11,Object(A.getUserFromConversation)({cid:s.cid});case 11:return c=e.sent,(l=Ju(Ju(Ju(Ju({},qu()),i.baseInfo),i.extraInfo),{},{cid:s.cid})).memberId=l.loginId,e.next=16,n({type:"setSummaryData",payload:{contact:l}});case 16:Fu(s,c.data.object),cd.log("==== msite 创建新会话, summaryData ====",s),ad.activeConversation(s),window.EventBus&&window.EventBus.publish("startfetchMessage");case 20:return e.next=22,r((function(e){return e.messageBox.queueFetchListParams}));case 22:if(!(u=e.sent)){e.next=26;break}return e.next=26,n({type:"fetchMessages",payload:u});case 26:case"end":return e.stop()}}),e)}))()},baasMessageNew:function(e,t){var n=e.payload,r=t.put,a=t.select;return regeneratorRuntime.mark((function e(){var t,o,i,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd.log("baasMessageNew",n),t=n.owner||{},o=n.contact||{},e.next=5,a((function(e){return e.messageBox.summaryData}));case 5:if(i=e.sent,s=i.contact||{},c=s.contact,l=void 0===c?{}:c,u=s.owner,d=void 0===u?{}:u,Object(O.default)({ext:"msgReceived",businessId:n.messageId,success:1,index2:l.aliId,index1:d.aliId,operateType:"reach",resultCode:"200",resultMsg:"msg receive success",bizData:{imChannel:"paas",conversationId:n.conversationCode,sendTime:n.sendTime,receivedTime:Date.now(),messageType:n.messageType,senderAccountId:t.accountId,receiverAccountId:o.accountId,timeZone:(new Date).getTimezoneOffset()},costTime:Date.now()-n.sendTime}),n.conversationCode===od.context.cid){e.next=16;break}return cd.log("新消息属于非当前会话暂不拉取消息, 新消息所属cid %s, 当前cid %s",n.conversationCode,od.context.cid),e.next=12,od.getConversationService().getConversation(n.conversationCode);case 12:p=e.sent,cd.log("==== 补偿contact ====",p),n.contact=p.contact,Object(O.default)({ext:"getConv",success:!(null===p||void 0===p||!p.contact),bizData:{msgCid:n.conversationCode,currentCid:od.context.cid}});case 16:return n.currentContactUnreadCount=n.unread,e.next=19,r({type:"messageNew",payload:{arg:Xu(n),newMsg:n,msgType:n.messageType===nd.SEND?id.MESSAGE_NEW_SELF:id.MESSAGE_NEW}});case 19:case"end":return e.stop()}}),e)}))()},baasMessageRemove:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd.log("baasMessageRemove",n),e.next=3,r({type:"removeMsgByMessageId",payload:{contactAccountId:null===n||void 0===n||null===(t=n.contact)||void 0===t?void 0:t.accountId,messageId:null===n||void 0===n?void 0:n.messageId}});case 3:case"end":return e.stop()}}),e)}))()},baasMessageRecall:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd.log("baasMessageRecall",n),e.next=3,r({type:"revertMsg",payload:{arg:Xu(n)}});case 3:case"end":return e.stop()}}),e)}))()},baasMessageReadStatus:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd.log("baasMessageReadStatus",n),e.next=3,r({type:"newReadStatus",payload:{arg:{contactAccountId:n.contact.accountId,messageId:n.messageId}}});case 3:case"end":return e.stop()}}),e)}))()},baasMessageSendCallback:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd.log("baasMessageSendCallback",n),(t=window.__sent__log__info__&&window.__sent__log__info__[n.opId])?(t.costTime=Date.now()-t.costTime,t.businessId=n.messageId,Object(O.default)(t)):Object(O.default)({ext:"Sent",businessId:n.messageId,success:1,operateType:"send",resultCode:"200",resultMsg:"sent success"}),window.EventBus&&window.EventBus.publish("im-weblite-chat:sendCallback",{messageId:n.messageId,contact:n.contact}),(a=[]).push(n),e.next=8,r({type:"buildItems",payload:{session:{list:a},order:"header",cleanFake:!0,accountId:n.contact.accountId}});case 8:case"end":return e.stop()}}),e)}))()},baasMessageUpdate:function(e,t){var n=e.payload,r=t.put,a=t.select;return regeneratorRuntime.mark((function e(t,o){var i,s,c,l,u,d,p,f,m,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a((function(e){return e.messageBox.summaryData}));case 2:return i=e.sent,s=i.contact||{},c=s.contact,l=void 0===c?{}:c,u=s.owner,d=void 0===u?{}:u,p="",n.opId&&window.__sent__log__info__&&(f=window.__sent__log__info__[n.opId],p=f&&f.traceId||""),cd.log("baasMessageUpdateCallback",n),Object(O.default)({ext:"Sent",index2:l.aliId,index1:d.aliId,operateType:"send",success:0,resultCode:null===n||void 0===n||null===(t=n.localExt)||void 0===t?void 0:t.code,resultMsg:null===n||void 0===n||null===(o=n.localExt)||void 0===o?void 0:o.reason,traceId:p,bizData:{cid:n.conversationCode,opId:n.opId,status:n.status,spmStatus:n.spmStatus,localExt:JSON.stringify(n.localExt),extInfo:JSON.stringify(n.extInfo)}}),(m=[]).push(n),h=n.status||n.spamStatus,g=n.localExt?Gu(n.localExt):getTipText(h),m.push({content:g,sendTime:+Date.now(),type:2,subType:"x004",contact:n.contact,owner:n.owner,localExt:n.localExt,messageType:"rec",extInfo:{},status:n.status,spmStatus:n.spmStatus}),e.next=15,r({type:"buildItems",payload:{session:{list:m},order:"header",cleanFake:!0,accountId:n.contact.accountId}});case 15:if(!ed()){e.next=18;break}return e.next=18,call(zu.f,{params:JSON.stringify({cid:n.conversationCode,msgType:1,content:g,ext:{basicMessageInfo:{systemMessage:!0}}})});case 18:case"end":return e.stop()}}),e)}))()},baasMessageExtensionChange:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd.log("baasMessageExtensionChange",n),e.next=3,r({type:"msgExtensionChange",payload:n});case 3:case"end":return e.stop()}}),e)}))()},addQuickTemplate:Yu,copyText:Qu,selectAllText:$u},ud=n(86),dd=n.n(ud),pd=n(83),fd=n(138),md=n.n(fd);function hd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hd(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vd,yd,bd,wd=window.IcbuIM.IMSDKHelper,xd=wd.isSaasChannel,Cd=wd.initSDK,Ed=wd.isWorkbench,Sd=wd.isAIM,kd=wd.getHost,Td=wd.getChannel,_d=window.IcbuIM.IMBaaSSDK,Id=_d.Logger,Od=_d.EventNameEnum,Ad=_d.imsdk,Dd=window.IcbuIM.IMBaaSSDK.default,Md=window.IcbuIM.CommonUtil,Nd=Md.checkLogin,Pd=Md.yieldMain,Ld=window.IcbuIM.UserUtil,Rd=Ld.getAccountIdAsync,Fd=Ld.getLoginIdAsync,jd=Ld.getBuyerLocale,Bd=window.IcbuIM.Constants.CONST,zd=window.IcbuIM.lib.I18N.createI18N,qd=window.IcbuIM.lib.generateTraceId,Vd=(window.DBConv,new Id("chat-model"));Vd.color("#228B22"),Fd().then((function(e){yd=e})),Rd().then((function(e){bd=e}));var Ud=zd({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","onepage.ma")}),Hd=zd({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","chat")}),Wd=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Gd(e){var t;return 244312150===(null===(t=e.contact)||void 0===t?void 0:t.accountId)&&(2018===e.subType||2020===e.subType||2025===e.subType)}var Kd={namespace:"messageBox",state:gd(gd({},dd.a.state),{},{sessionData:{list:[],0:[]},summaryData:{contact:{}},noMoreCache:{},groupMembersCache:{},selectAtMemberCache:{},onetalkCsrf:{parameterName:"",token:""},cloudCsrf:{parameterName:"",token:""},showMini:!1,newMessageCount:0,chatEventProcess:null,inputPlaceholder:"",processEventChange:!1,chatExtraData:{},queueFetchListParams:null,isAssist:"",buyerEvaluation:{},msgLoading:!1,aiSettings:{},ffmpegLoaded:!1,compressRatio:0,aiEnableCommandMap:{},aiTriggerSystem:{},summaryUseStatus:{}}),subscriptions:gd({initConnect:function(e){var t=e.dispatch;(Ed||Nd())&&(Cd(function(e){return{needInitSDK:Object(pe.i)(),onConnectionSuccess:function(){return e({type:"baasLoginSuccess"})},onMessageSendCallback:function(t){return e({type:"baasMessageSendCallback",payload:t})},onMessageNew:(n=h()(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sd();case 2:e({type:"baasMessageNew",payload:n});case 3:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),onMessageRemove:function(t){e({type:"baasMessageRemove",payload:t})},onMessageRecall:function(t){return e({type:"baasMessageRecall",payload:t})},onMessageReadToSenderList:(t=h()(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sd();case 2:e({type:"baasMessageReadStatus",payload:n});case 3:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)}),onMessageUpdate:function(t){return e({type:"baasMessageUpdate",payload:t})}};var t,n}(t)),Dd.getEventService().addListener(Od.BaaSGroupMemberChanged,(function(e){var n=e.paasEventData;t({type:"fetchGroupMembers",payload:{data:{cid:null===n||void 0===n?void 0:n.cid}}})})),Dd.getEventService().addListener(Od.PaaSMessageExtensionChange,(function(e){t({type:"baasMessageExtensionChange",payload:e})})))},connectDiagnose:function(){document.addEventListener("visibilitychange",(function(){}))},aiSwitch:function(e){(0,e.dispatch)({type:"getAISwitch"})},aiABTest:function(e){(0,e.dispatch)({type:"getAiABTest"})},summaryUseStatusGet:function(e){(0,e.dispatch)({type:"getSummaryUseStatus"})},fetchwasm:function(e){return h()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.dispatch,!window.SharedArrayBuffer){t.next=12;break}return t.prev=2,vd=md.a.createFFmpeg({log:!0,progress:function(e){var t=e.ratio;n({type:"setCompressRatio",payload:t})}}),t.next=6,vd.load();case 6:n({type:"setffmpegLoaded",payload:!0}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("===fetch wasm err===",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},languageReport:function(e){var t=e.dispatch;if(Ke.isPureMessenger){var n=jd().lang,r=localStorage.getItem("buyer_system_language");r&&n===r||"en"===n||(t({type:"SysLangReport",payload:{sysLang:n,aliId:window.aliId}}),localStorage.setItem("buyer_system_language",n))}}},dd.a.subscriptions),reducers:gd(gd({},dd.a.reducers),{},{buildItems:function(e,t){var n=t.payload;!function(e,t){var n,r=t.order,a=t.accountId,o=t.session,i=t.pushData,s=void 0===i?{}:i,c=t.contact,l=void 0===c?{}:c,u=t.traceId,d=t.fromSearch,p=t.received,f=l.conversationType;if(Object(O.default)({ext:"buildItems",traceId:u,bizData:{order:r,fromSearch:d,received:p,length:null===o||void 0===o?void 0:o.length,contactAccountId:a,cacheLength:e.sessionData[a]?e.sessionData[a].length:String(e.sessionData[a])}}),null!==(n=o.list)&&void 0!==n&&n.length){var m=Au(o.list),h=e.sessionData[a]||[],g=m[0].sendTime;if(t.received){var v=s.messageId,y=s.conversationCode,b="",w="";if(y&&1===f){var x=y.split("#")[0].split("-");w=window.aliId,b=window.aliId===x[0]?x[1]:x[0]}Object(O.default)({ext:"msgReceived2Render",businessId:v,success:1,index2:w,index1:b,operateType:"reach",resultCode:"200",resultMsg:"msg receive success",bizData:{cid:y,sendTime:g,receivedTime:Date.now(),timeZone:(new Date).getTimezoneOffset()},costTime:Date.now()-g})}for(var C=[],E=function(){var e=Eu({},h[S]);if(/^x00/.test(e.subType))return 0;if(2009===e.subType&&e.fakeInsert)return 0;var t=m.find((function(t){return Ru(t,e)}));t?(e.isLocalUploaded&&(delete t.content,delete e.isLocalUploaded),C.push(Eu(Eu({},e),t))):C.push(e)},S=0;S<h.length;S++)E();var k,T=m.filter((function(e){return!C.find((function(t){return Ru(e,t)}))&&2009!==e.subType})),_=[];switch(r){case"reset":_=m;break;case"header":_=T.concat(C);break;default:_=C.concat(T)}if(e.sessionData[a]&&(_.fromSearch=e.sessionData[a].fromSearch),_=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=0;n<e.length;n++){var r,a;9408===(null===(r=e[n])||void 0===r?void 0:r.subType)&&n>0&&9408===(null===(a=e[n-1])||void 0===a?void 0:a.subType)||t.push(e[n])}return t}(_),"header"!==r&&(k=void 0!==o.hasMore?!o.hasMore:0===o.list.length,e.noMoreCache[a]=k),e.sessionData[a]=_,Su.log("cache list for %s , list is %o",a,_),"reset"===t.order){var I;if(t.fromSearch){var A=JSON.parse(sessionStorage.getItem("im_search_locate_accuracy"));A&&e.summaryData.contact&&a===A.accountId&&e.summaryData.contact.searchTimeStamp===A.searchTimeStamp&&Object(O.default)("2020MC_SearchMessages_Locate"),e.summaryData.contact.searchTimeStamp=null,e.sessionData[a].fromSearch=!0,e.sessionData[a][0].className="item-fade-out"}else e.sessionData[a].fromSearch=!1;null===(I=window.EventBus)||void 0===I||I.publish("im-weblite-chat:scrollMsgFlowToEnd")}}else"clean"===r?(e.sessionData[a]&&(e.sessionData[a]=null),e.noMoreCache[a]=!1):void 0===e.sessionData[a]?(e.sessionData[a]=[],e.noMoreCache[a]=!0):"header"!==r&&(e.noMoreCache[a]=!0)}(e,void 0===n?{}:n)},mergeTranslateInfo:function(e,t){var n=t.payload,r=void 0===n?{}:n,a=r.translateList,o=r.accountId,i=e.sessionData,s=Q()(i[o]||[]);s.fromSearch=i[o].fromSearch,a.forEach((function(e){var t=s.find((function(t){return Ru(t,e)})),n=(null===e||void 0===e?void 0:e.targetContent)||(null===e||void 0===e?void 0:e.content)||t.content;t.translateInfo=t.translateInfo?gd(gd(gd({},t.translateInfo),e),{},{targetContent:n}):gd(gd({},e),{},{targetContent:n})})),e.sessionData[o]=s},cleanList:function(e){var t=e.summaryData.contact;e.sessionData[t.accountId]=null,e.noMoreCache[t.accountId]=!1},updateItem:function(e,t){var n=t.payload,r=void 0===n?{}:n,a=r.accountId,o=r.listIndex,i=r.data,s=r.remove,c=e.sessionData[a];s?e.sessionData[a].splice(c.length-o,1):e.sessionData[a][c.length-o]=gd(gd({},c[c.length-o]),i)},updateItemByKey:function(e,t){var n=t.payload,r=void 0===n?{}:n,a=r.accountId,o=r.key,i=r.data,s=[];e.sessionData[a]&&(e.sessionData[a].forEach((function(e){e.tmpKey===o?s.push(gd(gd({},e),i)):s.push(e)})),e.sessionData[a]=s)},removeItemByKey:function(e,t){var n=t.payload,r=void 0===n?{}:n,a=r.accountId,o=r.key,i=[];e.sessionData[a].forEach((function(e){e.tmpKey!==o&&i.push(e)})),e.sessionData[a]=i},removeMsgByMessageId:function(e,t){var n=t.payload,r=void 0===n?{}:n,a=r.contactAccountId,o=r.messageId,i=Q()(e.sessionData[a]||[]);if(null!==i&&void 0!==i&&i.length)for(var s=0;s<i.length;s++)if(i[s].messageId===o){i.splice(s,1),e.sessionData[a]=i;break}},processEventChange:function(e){e.processEventChange=!e.processEventChange},updateReadStatus:function(e,t){for(var n=t.payload,r=void 0===n?{}:n,a=Q()(e.sessionData[r.accountId]),o=0;o<a.length;o++)"send"!==a[o].messageType||a[o].contactRead||"send"!==a[o].messageType||a[o].contactRead||0!==a[o].status||(a[o].contactRead=!0);e.sessionData[r.accountId]=a},updateMsgExtension:function(e,t){for(var n,r,a=t.payload,o=void 0===a?{}:a,i=Q()(e.sessionData[null===(n=o.contact)||void 0===n?void 0:n.accountId]||[]),s=0;s<i.length;s++)if(i[s].messageId===o.messageId&&i[s].originExt){i[s].originExt=o.originExt;break}e.sessionData[null===(r=o.contact)||void 0===r?void 0:r.accountId]=i},setRevertMsg:function(e,t){var n=t.payload,r=void 0===n?{}:n,a=Q()(e.sessionData[r.accountId]);a=a.reduce((function(e,t){return t.messageId===r.messageId&&(t.viewType=3,t.content=""),e.push(t),e}),[]),e.sessionData[r.accountId]=a},setCsrfToken:function(e,t){var n=t.payload,r=void 0===n?{}:n;r.onetalkCsrf&&(e.onetalkCsrf=r.onetalkCsrf),r.cloudCsrf&&(e.cloudCsrf=r.cloudCsrf)},setSummaryData:function(e,t){var n,r,a=t.payload,o=void 0===a?{}:a,i=o.contact,s=o.extraInfo,c=o.fromScene,l=void 0===c?"":c,u=null===(n=e.summaryData)||void 0===n||null===(r=n.contact)||void 0===r?void 0:r.accountId;if(i.cid){var d=i.cid.split("#")[0].split("-");d&&2===d.length&&(i.owner?i.owner.aliId=window.aliId:i.owner={aliId:window.aliId},i.contact?i.contact.aliId=window.aliId===d[0]?d[1]:d[0]:i.contact={aliId:window.aliId===d[0]?d[1]:d[0]})}var p={contact:gd({},i),fromScene:l};s&&(p.extraInfo=gd({},s)),e.summaryData=p;var f=e.sessionData[u];if(u&&f&&u!==i.accountId&&(null===f||void 0===f?void 0:f.length)>20){var m=Q()(f).slice(f.length-20);e.sessionData[u]=m}},cleanSummaryData:function(e){e.summaryData={contact:{}}},setShowMini:function(e,t){var n=t.payload,r=void 0!==n&&n;e.showMini=r},setNewMessageCount:function(e,t){var n=t.payload,r=void 0===n?0:n;e.newMessageCount=r},setGroupMembers:function(e,t){var n=t.payload;e.groupMembersCache=n},removeInsertCard:function(e,t){var n=t.payload,r=n.accountId,a=n.msgType,o=e.sessionData[r];if(o&&o.length){var i=-1;o.filter((function(e,t){return e.subType===a&&(i=t),e.subType===a})),-1!==i&&e.sessionData[r].splice(i,1)}},setChatEvent:function(e,t){var n=t.payload;e.chatEventProcess=n.chatEvent},setPlaceholder:function(e,t){var n=t.payload,r=void 0===n?"":n;e.inputPlaceholder=r},setChatExtraData:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.chatExtraData=r},waitForLoginReady:function(e,t){var n=t.payload;e.queueFetchListParams=n},setIsAssistStatus:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.isAssist=r.data},setEvaluation:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.buyerEvaluation=r},setMsgLoading:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.msgLoading=r},setAISwitch:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.aiSettings=r},setAiABTest:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.aiABTest=r},setCompressRatio:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.compressRatio=r},setffmpegLoaded:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.ffmpegLoaded=r},setAiEnableCommandMap:function(e,t){var n=t.payload;e.aiEnableCommandMap=n},setAiTriggerSystem:function(e,t){var n=t.payload;e.aiTriggerSystem[n]=!0},setSummaryUseStatus:function(e,t){var n=t.payload;e.summaryUseStatus=n},setAiTriggerAutoReply:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.triggerAutoReply=r}}),effects:gd(gd(gd({},ld),dd.a.effects),{},{reconnect:function(e,t){e.payload;var n=t.select,r=t.put;return regeneratorRuntime.mark((function e(){var t,a,o,i,s,c,l,u,d,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[n((function(e){return e.messageBox.sessionData})),n((function(e){return e.messageBox.summaryData}))];case 2:if(t=e.sent,a=P()(t,2),o=a[0],i=a[1],s=i.contact,l=(c=void 0===s?{}:s).accountId,u=c.accountIdEncrypt,d=o[c.accountId]||[],p={sendTime:0},!d.length){e.next=20;break}f=Q()(d).sort(Lu),m=0;case 13:if(!(m<f.length)){e.next=20;break}if(f[m].fake){e.next=17;break}return p=f[m],e.abrupt("break",20);case 17:m++,e.next=13;break;case 20:return e.next=22,r({type:"fetchMessages",payload:{data:{contactAccountId:l||0,contactAccountIdEncrypt:u||"",timeSlide:{forward:!0,timeStamp:p.sendTime||null,pageSize:Bd.PAGESIZE}},fetchNew:!0,order:"header",cleanFake:!0}});case 22:case"end":return e.stop()}}),e)}))()},getSummaryUseStatus:function(e,t){e.payload;var n=t.put,r=t.call;t.select;return regeneratorRuntime.mark((function e(t){var a,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.fetchSummaryUseStatus);case 2:return a=e.sent,o=a.data,s=1*(null===(i=void 0===o?{}:o)||void 0===i?void 0:i.code)===0,e.next=8,n({type:"setSummaryUseStatus",payload:s?gd({},null!==(t=i.data)&&void 0!==t?t:{}):{hated:!1,used:!1}});case 8:case"end":return e.stop()}}),e)}))()},checkSummaryCommandStatus:function(e,t){e.payload;var n=t.put,r=(t.call,t.select);return regeneratorRuntime.mark((function e(){var t,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r((function(e){return e.messageBox.aiEnableCommandMap}));case 2:return t=e.sent,e.next=5,r((function(e){return e.messageBox.summaryUseStatus}));case 5:if(a=e.sent,o=a.hated,i=a.used,!t.summary){e.next=16;break}if(!i||!o){e.next=14;break}return e.next=12,n({type:"setAiEnableCommandMap",payload:gd(gd({},t||{}),{},{summaryHide:!0})});case 12:e.next=16;break;case 14:return e.next=16,n({type:"setAiEnableCommandMap",payload:gd(gd({},t||{}),{},{summaryHide:!1})});case 16:case"end":return e.stop()}}),e)}))()},shouldInsertAISummary:function(e,t){var n=e.payload,r=void 0===n?{}:n,a=t.put,o=t.call,i=t.select;return regeneratorRuntime.mark((function e(){var t,n,s,c,l,u,d,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i((function(e){return e.messageBox.summaryData}));case 2:return t=e.sent,n=t.contact,s=void 0===n?{}:n,e.next=7,i((function(e){return e.messageBox.aiSettings}));case 7:return c=e.sent,e.next=10,i((function(e){return e.messageBox.aiABTest}));case 10:return l=e.sent,e.next=13,i((function(e){return e.messageBox.sessionData}));case 13:return u=e.sent,d=u[r.accountId]||[],p=Gr({aiSettings:(null===r||void 0===r?void 0:r.aiSettings)||c,aiABTest:l,items:d,contact:s}),e.next=18,a({type:"setAiEnableCommandMap",payload:gd({},p)});case 18:return Object(O.default)("AI_TRIGGER_SUMMARY&aliId=".concat(s.aliId)),f=r.from,Kr.needInsertAISummary(d,f)||(p.summary=!1),e.next=23,i((function(e){return e.messageBox.aiTriggerSystem}));case 23:if(m=e.sent,!p.summary||m[s.aliId]&&"changeCov"===f){e.next=30;break}return Object(O.default)("insertAISummary&aliId=".concat(s.aliId,"&enable=").concat(p.summary,"&from=").concat(f)),e.next=28,o(A.insertAISummary,d[0]);case 28:return e.next=30,a({type:"setAiTriggerSystem",payload:s.aliId});case 30:if(!Object(X.a)()||"msgAdded"!==f&&"changeCov"!==f){e.next=33;break}return e.next=33,a({type:"checkSummaryCommandStatus",payload:{accountId:r.accountId}});case 33:case"end":return e.stop()}}),e)}))()},fetchMessages:function(e,t){var n=e.payload,r=void 0===n?{}:n,a=t.call,o=t.put,i=t.select;return regeneratorRuntime.mark((function e(t,n,s,c){var l,u,d,p,f,m,h,g,v,y,b,w,x,C,E,S,k,T,_,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i((function(e){return e.messageBox.summaryData}));case 2:if(l=e.sent,u=l.contact,p=(d=void 0===u?{}:u).aliId,f=d.aliIdEncrypt,m=+new Date,h=r.traceId||qd(),Object(O.default)({ext:d.cid?"GetChat":"GetChatWithoutCid",traceId:h,bizData:{params:r.data,order:r.order,fromSearch:r.fromSearch,cid:null===Dd||void 0===Dd||null===(t=Dd.context)||void 0===t?void 0:t.cid,contactCid:d.cid,contactAccountId:null===Dd||void 0===Dd||null===(n=Dd.context)||void 0===n||null===(s=n.contact)||void 0===s?void 0:s.accountId}}),d.cid){e.next=11;break}return e.abrupt("return");case 11:if(d.cid===(null===Dd||void 0===Dd||null===(c=Dd.context)||void 0===c?void 0:c.cid)){e.next=14;break}return Object(O.default)("interruptFetchMessage"),e.abrupt("return");case 14:return window.__IM_FS_LOG__&&(window.__IM_FS_LOG__.t9=window.performance.now().toFixed()),e.prev=15,v=JSON.stringify(gd(gd({},r.data),{},{aliId:p,aliIdEncrypt:f})),d.renderCost&&(d.renderCost.fetchMessageDataStart=Date.now()),e.next=20,a(zu.a,{params:v});case 20:if(g=e.sent,y=g.data,b=1*y.code===200,w=y.data,x=w&&w.list||[],Object(O.default)({ext:"Got",traceId:h,success:b?1:0,resultCode:y.code,costTime:Date.now()-m,resultMsg:y.message,bizData:{length:x.length}}),d.renderCost&&(d.renderCost.fetchMessageDataEnd=Date.now()),!b){e.next=43;break}return d.renderCost&&(d.renderCost.buildItemStart=Date.now()),e.next=31,o({type:"buildItems",payload:{session:w,order:r.order,cleanFake:r.cleanFake,accountId:r.data.contactAccountId,received:r.received,pushData:r.pushData,fromSearch:r.fromSearch,traceId:h}});case 31:return d.renderCost&&(d.renderCost.buildItemEnd=Date.now()),e.next=34,Pd();case 34:return e.next=36,i((function(e){return e.messageBox.sessionData}));case 36:if(ju(e.sent[d.accountId]||[],d.accountId),M.a.includes(String(null===d||void 0===d?void 0:d.aliId)||"")){e.next=41;break}return e.next=41,o({type:"insertFakeItem",payload:{session:w,accountId:null===(C=r.data)||void 0===C?void 0:C.contactAccountId}});case 41:e.next=47;break;case 43:return y.message="fetchMessages Error",Pu(y),r.callback&&r.callback(x||[],y.code),e.abrupt("return");case 47:return e.next=49,o({type:"messageBox/setMsgLoading",payload:!1});case 49:return E=r.newMessageStartTime,!Ed&&E&&Object(O.default)("newMsgAttach&costTime=".concat(Date.now()-E,"&&isAvailable=NO")),r.callback&&r.callback(x||[],y.code,w.hasMore),e.next=54,Pd();case 54:if(!(["messenger","weblite"].includes(window.host)&&x&&x.length)){e.next=57;break}return e.next=57,o({type:"translate/addRealTimeTranslationToMessages",payload:{list:x,accountId:r.data.contactAccountId,loginId:d.memberId,order:r.order}});case 57:e.next=67;break;case 59:return e.prev=59,e.t0=e.catch(15),T="",null!==(S=g)&&void 0!==S&&null!==(k=S.data)&&void 0!==k&&k.code&&(T=null===(_=g)||void 0===_||null===(I=_.data)||void 0===I?void 0:I.code),Object(pd.formatErrorTip)(pd.MockCodeEnum.FetchMessageError,"fetchMessageError: ".concat(T," ").concat(e.t0.message)),Object(O.default)({ext:"fetchMessages2RenderFail",traceId:h,costTime:Date.now()-m}),e.next=67,o({type:"messageBox/setMsgLoading",payload:!1});case 67:case"end":return e.stop()}}),e,null,[[15,59]])}))()},fetchNewMessages:function(e,t){var n=e.payload,r=void 0===n?{}:n,a=t.put,o=t.select;return regeneratorRuntime.mark((function e(){var t,n,i,s,c,l,u,d,p,f,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[o((function(e){return e.messageBox.sessionData})),o((function(e){return e.messageBox.summaryData}))];case 2:if(t=e.sent,n=P()(t,2),i=n[0],s=n[1].contact,l=(c=s||{}).accountId,u=c.accountIdEncrypt,d=i[l]||[],p=!0,f={sendTime:0},!d.length){e.next=22;break}m=Q()(d).sort(Lu),h=0;case 13:if(!(h<m.length)){e.next=20;break}if(m[h].fake){e.next=17;break}return f=m[h],e.abrupt("break",20);case 17:h++,e.next=13;break;case 20:e.next=23;break;case 22:p=!1;case 23:return e.next=25,a({type:"fetchMessages",payload:{data:{contactAccountId:l||0,contactAccountIdEncrypt:u||"",timeSlide:{forward:p,timeStamp:f.sendTime+1||null,pageSize:Bd.PAGESIZE}},fetchNew:!0,order:"header",cleanFake:!0,received:!1,callback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.length;if(r.callback&&r.callback(e,t),n)for(var a=0;a<d.length;a++)"send"!==d[a].messageType||d[a].contactRead||"send"!==d[a].messageType||d[a].contactRead||0!==d[a].status||(d[a].contactRead=!0)}}});case 25:case"end":return e.stop()}}),e)}))()},insertFakeItem:function(e,t){var n=e.payload,r=t.call,a=t.put;return regeneratorRuntime.mark((function e(t){var o,i,s,c,l,u,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.accountId,i=n.session,s=Au(i.list),c=s[0]){e.next=5;break}return e.abrupt("return");case 5:return l=c.sendTime,u=null===c||void 0===c||null===(t=c.contact)||void 0===t?void 0:t.group,d=[],!u&&"rec"===c.messageType&&l&&(m=c,(Ke.isPureMessenger||Ke.isWeblite)&&244312150!==m.contact.accountId)&&(Date.now()-l>3e5?(!(p=localStorage.getItem("fake5ItemTime"))||Date.now()-parseInt(p)>=864e5)&&(localStorage.setItem("fake5ItemTime",Date.now()),d.push({extInfo:{icbuActionsDataVO:[{actionMcmsKey:"chat.meeting_call_note_action"}],icbuData:{contentMcmsKey:"chat.meeting_use_call_note"}},sendTime:+Date.now(),type:2,subType:"x001"})):Date.now()-l>36e5&&(!(f=localStorage.getItem("fake60ItemTime"))||Date.now()-parseInt(f)>=864e5)&&(localStorage.setItem("fake60ItemTime",Date.now()),d.push({extInfo:{icbuActionsDataVO:[{actionMcmsKey:"chat.meeting_schedule_note_action"}],icbuData:{contentMcmsKey:"chat.meeting_schedule_note"}},type:2,subType:"x002",sendTime:+Date.now()}))),Gd(c)&&d.push({content:Hd.get("assist.recommendMore"),sendTime:+Date.now(),type:1,subType:"x003",contact:c.contact,owner:c.owner,messageType:"rec",status:0,extInfo:{icbuData:{showType:1}}}),e.next=12,r(Wd,2500);case 12:return e.next=14,a({type:"buildItems",payload:{session:{list:d},order:"header",accountId:o}});case 14:case"end":return e.stop()}var m}),e)}))()},unsubscribeFreightOS:function(e,t){var n=e.payload,r=t.call,a=t.select;return regeneratorRuntime.mark((function e(){var t,o,i,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a((function(e){return e.messageBox}));case 2:return t=e.sent,o=t.onetalkCsrf,i=n.callback,s=JSON.stringify(n.data),e.next=8,r(A.unsubscribeFreightOS,_()({params:s},o.parameterName,o.token));case 8:c=e.sent,i(c.data);case 10:case"end":return e.stop()}}),e)}))()},sendMessage:function(e,t){var n=e.payload,r=t.call,a=t.put,o=t.select;return regeneratorRuntime.mark((function e(){var t,i,s,c,l,u,d,p,f,m,h,g,v,y,b,w,x,C,E,S,k,T,D,N,P,L,R,F,j,B,z,q,V,U,H,W,G,K,J,Z,X,Y,Q,$,ee,te,ne,re;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.vipSuperUser){e.next=3;break}return I.Dialog.show({title:"免登改造",content:"免登用户禁止发送内容以及音视频通话！"}),e.abrupt("return");case 3:return t=n.sendType,i=n.data,s=n.imgInfo,c=n.callback,l=n.contentType,u=n.tmpKey,d=n.translateSourceText,f=Td(),m=n.traceId||qd(),h=Date.now(),e.next=9,o((function(e){return e.messageBox}));case 9:return g=e.sent,v=g.onetalkCsrf,y=g.summaryData,e.next=14,o((function(e){return e.translate}));case 14:return b=e.sent,w=b.languageInfo,x=gd(gd({},x=y.contact||{}),x.contact||{}),E=(C=x).owner,S=void 0===E?{}:E,k=C.cid,T=C.aliId,D=C.aliIdEncrypt,N=C.chatToken,e.prev=19,F=window.performance?window.performance.now():-1,Object(O.default)({ext:"SendChat",index2:x.aliId,index1:S.aliId,operateType:"send",traceId:m,bizData:{cid:k,type:l,side_mbr_id:y.contact.accountId,sender_id:bd,duration:(F/1e3).toFixed()}}),"msite"===(j=kd())?B=j="wap":"alisupplier"===j?(z=navigator.userAgent.match(/AlibabaSupplier\/([0-9\.]+)/),B=z&&z[1]?"alisupplier_"+z[1]:"alisupplier"):B="web_"+j,i.scene=gd(gd({client:j,msgTrigger:i.msgTrigger||"send_button"},window.chat_entry_scene||{}),{},{document_referrer:document.referrer,location_href:location.href}),i.ext=gd(gd({},i.ext||{}),{},{scene:JSON.stringify(i.scene),chatScene:JSON.stringify({clientInfo:B,ip:j,bizId:i.bizId,bizType:i.bizType}),contentType:l,chatToken:N,clientInfo:B,icbuSource:"onepage"}),i.cid||(i.cid=k),i.structInfo&&i.structInfo.forEach((function(e){1===e.elementType&&(e.text=Mu(e.text))})),q=l===M.c.RICH_TEXT||l===M.c.NO_SPLIT_RICH_TEXT,V=zu.g,l===M.c.RICH_TEXT?V=zu.h:l===M.c.NO_SPLIT_RICH_TEXT&&(V=A.sendNoSplitRichTextMessage),e.next=33,r(V,_()({params:JSON.stringify(gd(gd({},i),{},{aliId:T,chatToken:N,aliIdEncrypt:D,content:Mu(i.content)}))},v.parameterName,v.token));case 33:return p=e.sent,U=null!==(P=null===(L=p)||void 0===L||null===(R=L.data)||void 0===R?void 0:R.data)&&void 0!==P?P:{},H=U.ownerName,W=void 0===H?"":H,G=U.ownerFullPotrait,K=U.cardUrl,J=U.opId,Z=void 0===J?"":J,X=U.canFakeMessage,Y=void 0===X||X,Q=1*p.data.code===200,e.next=38,a({type:"setPlaceholder",payload:""});case 38:if($={ext:"Sent",businessId:Z,success:Q?1:0,index2:x.aliId,index1:S.aliId,operateType:"send",resultCode:p.data.code,resultMsg:p.data.message,traceId:m,bizData:{cid:k,imChannel:f,type:l,onetalkToken:encodeURIComponent(JSON.stringify(v)),protocol:window.location.protocol},hasToken:!!N,costTime:h},d&&($.bizData.TargetLan=w.sendTranslateTargetLang,$.bizData.FromLan=w.sendTranslateTargetLang),xd()?(window.__sent__log__info__=window.__sent__log__info__||{},window.__sent__log__info__[Z]=$):($.costTime=Date.now()-$.costTime,Object(O.default)($)),!Q){e.next=61;break}if(!Y){e.next=60;break}if(!s){e.next=48;break}return e.next=46,a({type:"updateItem",payload:{accountId:n.data.accountId,listIndex:s.listIndex,data:{opId:Z,percent:null}}});case 46:e.next=60;break;case 48:if("file"!==t){e.next=53;break}return e.next=51,a({type:"updateItemByKey",payload:{accountId:n.data.accountId,key:u,data:{opId:Z}}});case 51:e.next=60;break;case 53:if(q){e.next=60;break}return ee=i.msgType||(K?10001:1),te=Nu({content:K||i.content.toString(),opId:Z,messageId:+Z,ownerName:W,ownerFullPortrait:G,subType:ee,contact:{accountId:i.accountId,accountIdEncrypt:i.accountIdEncrypt}}),n.data.referMessage&&(te.list[0].extInfo={},te.list[0].extInfo.referMessage=gd({},n.data.referMessage)),n.translateSourceText&&(te.list[0].translateInfo={targetContent:n.translateSourceText}),e.next=60,a({type:"buildItems",payload:{session:te,order:"header",accountId:n.data.accountId}});case 60:"msite"===window.host&&window.CONTACT.sceneType&&Zr.a.dmtrackLog("wapmessage",{fromuid:"enaliint"+yd,touid:"enaliint"+y.contact.memberId,from:1,msg_id:Z||"",scene_type:window.CONTACT.sceneType||"",id:window.CONTACT.productId||"",version:"new",email:"",pageid:window.dmtrack_pageid});case 61:xd()||window.EventBus&&window.EventBus.publish("im-weblite-list:update-unread-messages",{unreadCount:0,content:i.content,imMessageType:i.msgType}),c&&c(p.data),e.next=71;break;case 65:e.prev=65,e.t0=e.catch(19),Object(O.default)({ext:"SentError",success:0,index2:x.aliId,index1:S.aliId,operateType:"send",resultCode:M.d.SENT_ERR,resultMsg:e.t0.message,traceId:m,bizData:{cid:k,imChannel:f,type:l,name:e.t0.name,stack:e.t0.stack},costTime:Date.now()-h}),re="",null!==(ne=p)&&void 0!==ne&&ne.data&&(re=p.data.code),c&&c({code:pd.MockCodeEnum.SendError,message:"Send error: ".concat(re).concat(e.t0.message)});case 71:case"end":return e.stop()}}),e,null,[[19,65]])}))()},buildFakeItem:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(){var t,a,o,i,s,c,l,u,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.ownerName,a=void 0===t?"":t,o=n.content,i=n.ownerFullPortrait,s=n.cardUrl,c=n.opId,l=void 0===c?"":c,u=n.msgType,d=n.accountId,p=n.accountIdEncrypt,f=Nu({content:s||o,opId:l,ownerName:a,ownerFullPortrait:i,subType:u||(s?10001:1),contact:{accountId:d,accountIdEncrypt:p}}),e.next=5,r({type:"buildItems",payload:{session:f,order:"header",accountId:d}});case 5:case"end":return e.stop()}}),e)}))()},getCardHtml:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.data.url){e.next=2;break}return e.abrupt("return");case 2:return t=Ed?n.data:n.data.url,e.next=5,r(zu.b,t);case 5:a=e.sent,(o=a.data)||Object(O.default)("getCardHtmlfailed&result=".concat(JSON.stringify(o),"&url=").concat(encodeURIComponent(n.data.url))),n.callback&&n.callback(o||"");case 9:case"end":return e.stop()}}),e)}))()},operateTpls:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.operateTpls,{json:JSON.stringify(n.data)});case 2:t=e.sent,a=t.data,n.callback&&n.callback(a.data||{});case 5:case"end":return e.stop()}}),e)}))()},messageNew:function(e,t){var n=e.payload,r=t.put,a=t.select;return regeneratorRuntime.mark((function e(){var t,o,i,s,c,l,u,d,p,f,m,h,g,v,y,b,w,x,C,E,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="string"===typeof n.arg?JSON.parse(n.arg):n.arg,o=n.msgType,e.next=5,[a((function(e){return e.messageBox.sessionData})),a((function(e){return e.messageBox.summaryData})),a((function(e){return e.messageBox.showMini}))];case 5:if(i=e.sent,s=P()(i,3),c=s[0],l=s[1],u=s[2],d=l.contact,f=(p=void 0===d?{}:d).accountId,m=p.accountIdEncrypt,9513===t.subType&&window.EventBus&&window.EventBus.publish("im-weblite-chat:meetingAction",{type:"hangUp",subType:t.subType}),2103!==t.subType&&2104!==t.subType&&2107!==t.subType||window.EventBus&&window.EventBus.publish("im-weblite-chat:meetingAction",{type:"cancel",subType:t.subType}),9510===t.subType&&40000001===o&&window.EventBus&&window.EventBus.publish("im-weblite-chat:meetingAction",{type:"cancel",subType:t.subType}),2109===t.subType&&20000001===o&&window.EventBus&&window.EventBus.publish("im-weblite-chat:meetingAction",{type:"cancel",subType:t.subType}),9508!==t.subType&&9509!==t.subType){e.next=19;break}return 40000001===o&&(h={meetingCode:t.meetingCode},g=9508===t.subType?2100:2102,v=Object.assign(t,{meetingEventInfo:h,messageType:g,contactName:t.name,contactPortrait:t.fullPortrait,contactLoginIdEncrypt:t.contactLoginIdEncrypt}),window.EventBus&&window.EventBus.publish("im-weblite-chat:meetingPush",v)),e.abrupt("return");case 19:if(t.conversationCode===p.cid){e.next=26;break}return Vd.log("当前联系人%s 不是新消息联系人 %s , 执行clean buildItems 操作",f,t.contactAccountId),Object(O.default)({ext:"newMsgNotCurrent",bizData:{currentCid:p.cid,msgCid:t.conversationCode,currentContact:p.accountId,msgContact:t.contactAccountId}}),e.next=24,r({type:"buildItems",payload:{session:{},order:"clean",accountId:t.contactAccountId}});case 24:e.next=62;break;case 26:if(window.CHAT_ACTIVE){e.next=28;break}return e.abrupt("return");case 28:if(!u){e.next=33;break}return e.next=31,r({type:"setNewMessageCount",payload:t.currentContactUnreadCount});case 31:e.next=62;break;case 33:if(y=c[f]){e.next=37;break}return Object(O.default)({ext:"listHasBeenCleaned",bizData:{currentCid:p.cid,msgCid:t.conversationCode,currentContact:p.accountId,msgContact:t.contactAccountId}}),e.abrupt("return");case 37:if(b=!0,w=!0,x={sendTime:0},!y.length){e.next=51;break}C=Q()(y).sort(Lu),E=0;case 43:if(!(E<C.length)){e.next=51;break}if(C[E].fake){e.next=48;break}return x=C[E],b=!1,e.abrupt("break",51);case 48:E++,e.next=43;break;case 51:if(b&&(w=!1),S=Date.now(),Ed||!xd()){e.next=58;break}return e.next=56,r({type:"buildMessageNew",payload:{contactAccountId:f||0,received:t.receiveAccountId===1*bd,pushData:t,newMsg:n.newMsg,recentMsg:x,newMessageStartTime:S}});case 56:e.next=60;break;case 58:return e.next=60,r({type:"fetchMessages",payload:{data:{contactAccountId:f||0,contactAccountIdEncrypt:m||"",timeSlide:{forward:w,timeStamp:x.sendTime||null,pageSize:Bd.PAGESIZE}},fetchNew:!0,order:"header",cleanFake:!0,received:t.receiveAccountId===1*bd,pushData:t,newMessageStartTime:S}});case 60:return e.next=62,r({type:"setNewMessageCount",payload:0});case 62:e.next=67;break;case 64:e.prev=64,e.t0=e.catch(0),Object(O.default)({ext:"messageNewError",resultMsg:e.t0.message});case 67:case"end":return e.stop()}}),e,null,[[0,64]])}))()},buildMessageNew:function(e,t){var n=e.payload,r=t.put,a=t.select;t.call;return regeneratorRuntime.mark((function e(){var t,o,i,s,c,l,u,d,p,f,m,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.newMsg,o=n.recentMsg,i=n.contactAccountId,s=n.received,c=n.pushData,l=n.newMessageStartTime,(u=[]).push(t,o),d={list:u,hasMore:!1},p=o.conversationCode,Dd.getMessageService().updateMessageToRead(p,u),!Sd()){e.next=11;break}return e.next=9,a((function(e){return e.messageBox.summaryData}));case 9:m=e.sent,Ad.getConvService().clearRedPoint([{cid:null===t||void 0===t?void 0:t.conversationCode,messageId:"".concat(null===t||void 0===t?void 0:t.messageId,".PNM")}],null===m||void 0===m||null===(f=m.contact)||void 0===f?void 0:f.conversationType);case 11:return e.next=13,a((function(e){return e.messageBox.summaryData}));case 13:return h=e.sent,g=h.contact,e.next=17,r({type:"buildItems",payload:{session:d,order:"header",cleanFake:!0,accountId:i,received:s,pushData:c,contact:g}});case 17:return e.next=19,a((function(e){return e.messageBox.sessionData}));case 19:if(ju(e.sent[g.accountId]||[],g.accountId),M.a.includes(String(null===g||void 0===g?void 0:g.aliId)||"")){e.next=24;break}return e.next=24,r({type:"insertFakeItem",payload:{session:d,accountId:i}});case 24:if(Object(O.default)({ext:"newMsgAttach",costTime:Date.now()-l,bizData:{isAvailable:"YES",currentCid:g.cid,msgCid:null===c||void 0===c?void 0:c.conversationCode,currentContact:g.accountId,msgContact:null===c||void 0===c?void 0:c.contactAccountId}}),n.callback&&n.callback(u),!(["messenger","weblite"].includes(window.host)&&u&&u.length)){e.next=29;break}return e.next=29,r({type:"translate/addRealTimeTranslationToMessages",payload:{list:u,accountId:i,loginId:g.memberId,order:"header"}});case 29:case"end":return e.stop()}}),e)}))()},newReadStatus:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.CHAT_ACTIVE){e.next=3;break}return e.abrupt("return");case 3:return t=n.arg,e.next=6,r({type:"updateReadStatus",payload:{accountId:t.contactAccountId,messageId:t.messageId}});case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])}))()},msgExtensionChange:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({type:"updateMsgExtension",payload:n});case 2:case"end":return e.stop()}}),e)}))()},revertMsg:function(e,t){var n=e.payload,r=t.put,a=t.select;return regeneratorRuntime.mark((function e(){var t,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.CHAT_ACTIVE){e.next=3;break}return e.abrupt("return");case 3:return t=n.arg,e.next=6,a((function(e){return e.messageBox.summaryData}));case 6:return o=e.sent,i=o.contact,s=void 0===i?{}:i,e.next=10,r({type:"setRevertMsg",payload:{accountId:s.accountId,messageId:t.messageId}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])}))()},getCsrfToken:function(e,t){var n=e.payload,r=t.call,a=t.put;return regeneratorRuntime.mark((function e(){var t,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[r(A.getOnetalkCsrfToken),r(A.getCloudCsrfToken)];case 2:return t=e.sent,o=P()(t,2),i=o[0],s=o[1],Object(O.default)("GotToken&onetalk=".concat(encodeURIComponent(JSON.stringify(i)),"&cloud=").concat(encodeURIComponent(JSON.stringify(s)))),e.next=9,a({type:"setCsrfToken",payload:{onetalkCsrf:i.data,cloudCsrf:s.data}});case 9:localStorage.setItem("last_token_time",Date.now()),n&&n.callback&&n.callback();case 11:case"end":return e.stop()}}),e)}))()},getChatRelationEvent:function(e,t){var n=e.payload,r=t.call,a=t.put;return regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.data.contactLoingId&&n.data.selfLoginId){e.next=3;break}return Object(O.default)("getChatRelationEventParamsEmpty"),e.abrupt("return");case 3:return e.next=5,r(A.getChatRelationEvent,{params:JSON.stringify(n.data)});case 5:if(1*(t=e.sent).data.code!==200){e.next=12;break}return n.callback&&n.callback(t.data.data),e.next=10,a({type:"setChatEvent",payload:{chatEvent:t.data.data}});case 10:e.next=14;break;case 12:return e.next=14,a({type:"setChatEvent",payload:{chatEvent:null}});case 14:case"end":return e.stop()}}),e)}))()},setChatEventProcess:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({type:"setChatEvent",payload:{chatEvent:n}});case 2:case"end":return e.stop()}}),e)}))()},getContactInfo:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.getContactInfo,{params:JSON.stringify(n.data)});case 2:t=e.sent,a=t.data,o=1*(null===a||void 0===a?void 0:a.code)===200,Object(O.default)({ext:"GotContactInfo",success:o?1:0,resultCode:null===a||void 0===a?void 0:a.code,resultMsg:null===a||void 0===a?void 0:a.message}),i=a.data,n.callback&&n.callback(i&&i.contactInfo);case 8:case"end":return e.stop()}}),e)}))()},insertCard:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({type:"buildItems",payload:{session:n.session,order:"header",accountId:n.contactAccountId}});case 2:case"end":return e.stop()}}),e)}))()},clearCard:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({type:"removeInsertCard",payload:n});case 2:case"end":return e.stop()}}),e)}))()},sendBusinessCard:function(e,t){var n=e.payload,r=t.call,a=t.put;return regeneratorRuntime.mark((function e(){var t,o,i,s,c,l,u,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.vipSuperUser){e.next=3;break}return I.Dialog.show({title:"免登改造",content:"免登用户禁止发送内容以及音视频通话！"}),e.abrupt("return");case 3:return e.next=5,r(A.sendBusinessCard,{params:JSON.stringify(n.data)});case 5:if(t=e.sent,o=t.data,i=1*o.code===200,s=o.data||{opId:"",ownerName:"",ownerFullPortrait:""},c=s.ownerName,l=s.ownerFullPortrait,u=s.cardUrl,d=s.opId,!i){e.next=15;break}return p=Nu({content:u,opId:d,ownerName:c,ownerFullPortrait:l,subType:66}),e.next=13,a({type:"buildItems",payload:{session:p,order:"header",accountId:n.data.accountId}});case 13:e.next=16;break;case 15:Pu(o);case 16:n.callback&&n.callback(o);case 17:case"end":return e.stop()}}),e)}))()},revertMessage:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(zu.d,{params:JSON.stringify(n.data)});case 2:t=e.sent,a=t.data,1*a.code===200||Pu(a);case 6:case"end":return e.stop()}}),e)}))()},unblockContact:function(e,t){var n=e.payload,r=t.call,a=t.put;return regeneratorRuntime.mark((function e(){var t,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.unblockContact,{params:JSON.stringify(n.data)});case 2:if(t=e.sent,o=t.data,!(1*o.code===200)){e.next=17;break}if(1!==o.data.successCount){e.next=14;break}return i=n.data.list,s=i&&i[0]&&i[0].accountId,e.next=12,a({type:"removeInsertCard",payload:{msgType:3201,accountId:s}});case 12:e.next=15;break;case 14:We.default.error(Hd.get("unblockFailed")||"unblock failed");case 15:e.next=18;break;case 17:Pu(o);case 18:n.callback&&n.callback(o);case 19:case"end":return e.stop()}}),e)}))()},getChatExtraInfo:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.getChatExtraInfo,{params:JSON.stringify(n.data)});case 2:t=e.sent,a=t.data,1*a.code===200?n.callback&&n.callback(a.data.relation):Pu(a);case 6:case"end":return e.stop()}}),e)}))()},createMeetingAndUser:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.createMeetingAndUser,n);case 2:t=e.sent,a=t.data,n.callback&&n.callback(a||{});case 5:case"end":return e.stop()}}),e)}))()},sendAddressCard:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.vipSuperUser){e.next=3;break}return I.Dialog.show({title:"免登改造",content:"免登用户禁止发送内容以及音视频通话！"}),e.abrupt("return");case 3:return e.next=5,r(zu.e,n);case 5:t=e.sent,a=t.data,n.callback&&n.callback(a||{});case 8:case"end":return e.stop()}}),e)}))()},getCatalog:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.getCatalog,n);case 2:case"end":return e.stop()}}),e)}))()},validationContact:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.validationContact,n.data);case 2:t=e.sent,a=t.data,n.callback&&n.callback(a.confirmed);case 5:case"end":return e.stop()}}),e)}))()},getChatExtraData:function(e,t){var n=e.payload,r=t.call,a=t.put;return regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.getChatMessageListExtra,{params:JSON.stringify(n.data)});case 2:if(t=e.sent,o=t.data,!(1*o.code===200)){e.next=10;break}return e.next=8,a({type:"setChatExtraData",payload:o.data});case 8:e.next=11;break;case 10:Pu(o);case 11:case"end":return e.stop()}}),e)}))()},assistRecommand:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.assistRecommand,{params:JSON.stringify(n.data)});case 2:t=e.sent,a=t.data,(o=1*a.code===200)||Pu(a),n.callback&&n.callback(o);case 7:case"end":return e.stop()}}),e)}))()},distributeChat:function(e,t){var n=e.payload,r=t.call,a=t.select;return regeneratorRuntime.mark((function e(){var t,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a((function(e){return e.messageBox}));case 2:return t=e.sent,o=t.onetalkCsrf,e.next=6,r(A.distributeChat,_()({params:JSON.stringify(n.data)},o.parameterName,o.token));case 6:i=e.sent,s=i.data,1*s.code===200||Pu(s),n.callback&&n.callback(s.data);case 11:case"end":return e.stop()}}),e)}))()},saveToPersonCloudDisk:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.saveToPersonCloudDisk,n.data);case 2:t=e.sent,a=t.data,1*a.code===200?(We.default.success(Ud.get("common.success")),n.callback&&n.callback()):Pu(a);case 6:case"end":return e.stop()}}),e)}))()},recommendInConversationExit:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.recommendInConversationExit,{params:JSON.stringify(n.data)});case 2:t=e.sent,1*(a=t.data).code!==200&&We.default.error(a.message);case 5:case"end":return e.stop()}}),e)}))()},assistRecommendNew:function(e,t){var n=e.payload,r=t.put,a=t.call;return regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(A.assistRecommendNew,{params:JSON.stringify(n.data)});case 2:if(t=e.sent,o=t.data,1*o.code===200){e.next=9;break}Pu(o),e.next=12;break;case 9:return o.data||We.default.notice(Hd.get("noMoreRecommend")||"no more"),e.next=12,r({type:"setIsAssistStatus",payload:o});case 12:case"end":return e.stop()}}),e)}))()},checkConversationNeedFix:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(n.data),e.next=3,r(A.checkConversationNeedFix,{params:t});case 3:a=e.sent,o=a.data,n.callback&&n.callback(null===o||void 0===o?void 0:o.data);case 6:case"end":return e.stop()}}),e)}))()},fixConversation:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(n.data),e.next=3,r(A.fixConversation,{params:t});case 3:a=e.sent,o=a.data,1*o.code===200?o.data?We.default.success(Ud.get("common.success")):We.default.error(Ud.get("replyFailMessage")):Pu(o);case 7:case"end":return e.stop()}}),e)}))()},getEvaluation:function(e,t){var n=e.payload,r=t.put,a=t.call;return regeneratorRuntime.mark((function e(){var t,o,i,s,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.data.toLoginId,e.next=3,a(A.transferLoginId2AliId,t);case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,a(A.getEvaluation,{contactAliId:o[0]});case 8:return i=e.sent,s={},c=i.fraction,l=i.comment,u=i.valuationId,c&&(s={rateFormValue:gd(gd({},c),{},{comment:l}),valuationId:u}),e.next=14,r({type:"setEvaluation",payload:s});case 14:case"end":return e.stop()}}),e)}))()},sendEvaluationCard:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.vipSuperUser){e.next=3;break}return I.Dialog.show({title:"免登改造",content:"免登用户禁止发送内容以及音视频通话！"}),e.abrupt("return");case 3:return e.next=5,r(A.transferLoginId2AliId,n.data.toLoginId);case 5:return t=e.sent,a={toAliId:t[0],isSystemMessage:!0,roamingFlag:2,text:"test",bizType:9601,clientInfo:"web_messenger",clearRedPoint:!1},e.next=9,r(A.sendEvaluationCard,a);case 9:case"end":return e.stop()}}),e)}))()},fetchPortrait:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.fetchPortrait);case 2:t=e.sent,n.callback&&n.callback(t);case 4:case"end":return e.stop()}}),e)}))()},fetchGroupMembers:function(e,t){var n=e.payload,r=t.call,a=t.put;t.select;return regeneratorRuntime.mark((function e(){var t,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(A.fetchGroupMembers,n.data.cid);case 3:for(i in t=e.sent,o={},t)(s=t[i].uid)&&(o[s]=t[i]);return e.next=8,a({type:"setGroupMembers",payload:o});case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:n.callback&&n.callback();case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))()},queryVipRight:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.queryVipRight,{sceneCode:"message_conversation",merchantAliId:n.contactAliId,appName:"atmtaskserver"});case 2:t=e.sent,a=t.code,o=t.data,1*a===200&&o.object&&o.object.length&&(i=o.object[0],n.callback&&n.callback(i.materialInfo));case 6:case"end":return e.stop()}}),e)}))()},submitBuyerBizInfo:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.submitBuyerBizInfo,n.data);case 2:t=e.sent,n.callback&&n.callback(t);case 4:case"end":return e.stop()}}),e)}))()},getAISwitch:function(e,t){e.payload;var n=t.call,r=t.put,a=t.select;return regeneratorRuntime.mark((function e(t){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(A.AISwitchService);case 2:return o=e.sent,e.next=5,r({type:"setAISwitch",payload:o});case 5:return e.next=7,a((function(e){return e.messageBox.aiEnableCommandMap}));case 7:if(i=e.sent,null!==(t=Object.values(i).filter((function(e){return e})))&&void 0!==t&&t.length){e.next=11;break}return e.next=11,r({type:"shouldInsertAISummary",payload:{aiSettings:o}});case 11:case"end":return e.stop()}}),e)}))()},getAiABTest:function(e,t){e.payload;var n=t.put;return regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn({appName:"im-messenger",testKey:"ai_summary_appV2"});case 2:return t=e.sent,r=t.treatment,e.next=6,Bn({appName:"im-messenger",testKey:"AISummaryOpt"});case 6:return a=e.sent,o=a.treatment,window.__APLUS_ABRATE__.AISummaryOpt=o,e.next=11,n({type:"setAiABTest",payload:{summary:r||"control"}});case 11:case"end":return e.stop()}}),e)}))()},compressVideo:function(e,t){var n=e.payload;t.call;return regeneratorRuntime.mark((function e(){var t,r,a,o,i,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.file,r=n.callback,a=Date.now(),o=t.name&&t.name.split(".")[1],t.name&&t.name.split(".")[0],e.t0=vd,e.t1="input."+o,e.next=8,md.a.fetchFile(t);case 8:return e.t2=e.sent,e.t0.FS.call(e.t0,"writeFile",e.t1,e.t2),e.next=12,vd.run("-i","input."+o,"-c:v","libx264","-preset","ultrafast","-crf","28","output.mp4");case 12:i=vd.FS("readFile","output.mp4"),s=new Blob([i.buffer],{type:"video/mp4"}),(c=new File([s],t.name,{type:"video/mp4",uid:t.uid})).uid=t.uid,Object(O.default)({ext:"videoCompress",costTime:Date.now()-a,bizData:{uid:c.uid,name:c.name,size:c.size,originSize:t.size}}),r(c);case 18:case"end":return e.stop()}}),e)}))()},SysLangReport:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.translateSysLanguageReport,n);case 2:case"end":return e.stop()}}),e)}))()}})};function Jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jd(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xd=window.IcbuIM.IMBaaSSDK.Logger,Yd=window.IcbuIM.lib.I18N.createI18N,Qd=window.IcbuIM.lib.MessageTip,$d=window.IcbuIM.UserUtil.currentUser;new Xd("chat-model").color("#228B22");var ep=Yd({parsePage:!0,namespace:"".concat(window.mcmsWithoutAppName?"":"intl-gangesweb.","messenger")}),tp=function(){return window.localStorage.getItem("group_chat_translate_info_".concat($d().accountId))},np=function(e){window.localStorage.setItem("group_chat_translate_info_".concat($d().accountId),e)},rp=Object(ie.getAPLUSABRATEResult)("buyer_im_translate_setting_msg"),ap=(Object(ie.getAPLUSABRATEResult)("im_translate_setting_dialog"),!1),op={namespace:"translate",state:{languageInfo:{},translateCache:{},transABTest:"control"},reducers:{setLanguageInfo:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.languageInfo=Zd(Zd({},e.languageInfo),r)},setTranslateCache:function(e,t){var n=t.payload,r=void 0===n?{}:n,a=r.targetLang,o=r.translateList,i=r.accountId,s=Zd({},e.translateCache[i]);s[a]||(s[a]={});var c=s[a];o.forEach((function(e){var t=e.messageId;c[t]=Zd(Zd({},c[t]),e)})),e.translateCache[i]=s},setTransABTest:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.transABTest=r}},effects:{translate:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){var t,a,o,i,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=+new Date,e.next=3,r(zu.i,n.data);case 3:a=e.sent,o=a.data,i=o.code,s=o.message,c=o.data,Object(O.default)({ext:"Translate",success:null!==c&&void 0!==c&&c.list?"YES":"NO",resultCode:i,resultMsg:s,costTime:+new Date-t,bizData:{TargetLan:n.data.targetLang,AutoTran:0,translateType:"receive"}}),n.callback&&n.callback(o);case 8:case"end":return e.stop()}}),e)}))()},getLanguageInfo:function(e,t){var n=e.payload,r=t.call,a=t.put,o=t.select;return regeneratorRuntime.mark((function e(){var t,i,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2===n.conversationType){e.next=19;break}return e.next=3,r(zu.c,{params:JSON.stringify(n.data)});case 3:if(t=e.sent,i=t.data,!(1*i.code===200)){e.next=15;break}if(null===(s=i.data)||void 0===s||!s.sendTranslateOpen){e.next=10;break}return e.next=10,a({type:"getTransABTest"});case 10:return e.next=12,a({type:"setLanguageInfo",payload:i.data});case 12:n.callback&&n.callback(),e.next=17;break;case 15:Object(O.default)({ext:"requestError",success:"NO",resultCode:1*(null===i||void 0===i?void 0:i.code),resultMsg:null===i||void 0===i?void 0:i.message,bizData:{scene:"getLanguageTranslateInfo"}}),Pu(i);case 17:e.next=28;break;case 19:if(tp()){e.next=24;break}return e.next=22,o((function(e){return e.translate.languageInfo}));case 22:c=e.sent,np(JSON.stringify("{}"!==JSON.stringify(c)?c:M.e));case 24:return l=JSON.parse(tp()),e.next=27,a({type:"setLanguageInfo",payload:l});case 27:n.callback&&n.callback();case 28:case"end":return e.stop()}}),e)}))()},saveLanguageInfo:function(e,t){var n=e.payload,r=t.put,a=t.call,o=t.select;return regeneratorRuntime.mark((function e(){var t,i,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2===n.conversationType){e.next=20;break}return e.next=3,a(A.saveLanguageInfo,{params:JSON.stringify(n.data)});case 3:return t=e.sent,i=t.data,s=1*i.code===200,e.next=8,o((function(e){return e.translate.languageInfo}));case 8:if(c=e.sent,!s){e.next=16;break}return c.receiveTranslateAgreement||"test1"!==rp?"test1"!==rp&&Qd.success(ep.get("common.success")):Qd.success(ep.get("translate.saveAutoToast")||"Automatic translation on!"),e.next=13,r({type:"setLanguageInfo",payload:n.data});case 13:n.callback&&n.callback(),e.next=17;break;case 16:Pu(i);case 17:n.callback&&n.callback(s,1*i.code),e.next=27;break;case 20:return e.next=22,r({type:"setLanguageInfo",payload:n.data});case 22:return e.next=24,o((function(e){return e.translate.languageInfo}));case 24:l=e.sent,np(JSON.stringify(l)),n.callback&&n.callback();case 27:case"end":return e.stop()}}),e)}))()},addRealTimeTranslationToMessages:function(e,t){var n=e.payload,r=t.call,a=t.put,o=t.select;return regeneratorRuntime.mark((function e(){var t,i,s,c,l,u,d,p,f,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.list,i=n.accountId,s=n.loginId,c=n.order,e.next=3,o((function(e){return e.translate.languageInfo}));case 3:if(l=e.sent,"{}"!==JSON.stringify(l)){e.next=13;break}return e.next=7,r(zu.c,{params:JSON.stringify({contactLoginId:s})});case 7:if(u=e.sent,1*(d=u.data).code!==200){e.next=13;break}return e.next=12,a({type:"setLanguageInfo",payload:d.data});case 12:l=d.data;case 13:if(f=(p=l).receiveTranslateOpen,m=p.receiveTargetLang,h=p.receiveTranslateAgreement,!f||!h){e.next=17;break}return e.next=17,a({type:"realTimeTranslation",payload:{list:t,accountId:i,targetLang:m,order:c}});case 17:if(!Qr.db.db){e.next=20;break}return e.next=20,a({type:"sendTranslationHandle",payload:{list:t,accountId:i,order:c}});case 20:case"end":return e.stop()}}),e)}))()},realTimeTranslation:function(e,t){var n=e.payload,r=t.call,a=t.put;return regeneratorRuntime.mark((function e(t,o){var i,s,c,l,u,d,p,f,m,h,g,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.list,s=n.accountId,c=n.targetLang,l=n.order,null!==i&&void 0!==i&&i.length){e.next=3;break}return e.abrupt("return");case 3:if(u=(u=i.filter((function(e){return 1===e.type&&1===e.subType&&"rec"===e.messageType}))).filter((function(e){return!!e.messageId})).map((function(e){return{messageId:e.messageId,srcContent:e.content}})),null!==(t=u)&&void 0!==t&&t.length){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,a({type:"cacheTranslate",payload:{srcContents:u,targetLang:c,accountId:s,order:l}});case 9:return d=+new Date,e.next=12,r(zu.i,{srcContents:u,targetLang:c});case 12:if(p=e.sent,f=p.data,m=f.code,h=f.message,g=f.data,v=null===g||void 0===g||null===(o=g.list)||void 0===o?void 0:o.length,Object(O.default)({ext:"Translate",success:null!==g&&void 0!==g&&g.list?"YES":"NO",resultCode:m,resultMsg:h,costTime:+new Date-d,bizData:{TargetLan:c,AutoTran:1,translateType:"receive"}}),!v){e.next=22;break}return y=g.list,e.next=20,a({type:"setTranslateCache",payload:{accountId:s,targetLang:c,translateList:y}});case 20:return e.next=22,a({type:"messageBox/mergeTranslateInfo",payload:{translateList:y,accountId:s,order:l}});case 22:case"end":return e.stop()}}),e)}))()},cacheTranslate:function(e,t){var n=e.payload,r=t.put,a=t.select;return regeneratorRuntime.mark((function e(){var t,o,i,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.srcContents,o=n.targetLang,i=n.accountId,s=n.order,e.next=3,a((function(e){return e.translate.translateCache}));case 3:if(!(c=e.sent)[i]||!c[i][o]){e.next=10;break}if(l=[],t.forEach((function(e){var t=e.messageId;c[i][o][t]&&l.push(Zd({},c[i][o][t]))})),!(l.length>0)){e.next=10;break}return e.next=10,r({type:"messageBox/mergeTranslateInfo",payload:{translateList:l,accountId:i,order:s}});case 10:case"end":return e.stop()}}),e)}))()},sendTranslationHandle:function(e,t){var n=e.payload,r=t.put;return regeneratorRuntime.mark((function e(){var t,a,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.list,a=n.accountId,o=n.order,i=[],t.forEach((function(e){var t=e.messageId||e.opId;t&&1===e.type&&1===e.subType&&"send"===e.messageType&&i.push(t)})),e.next=5,Qr.db.getByKey(i);case 5:return s=(s=e.sent).filter((function(e){return void 0!==e})),e.next=9,r({type:"messageBox/mergeTranslateInfo",payload:{translateList:s,accountId:a,order:o}});case 9:case"end":return e.stop()}}),e)}))()},reportFatigue:function(e,t){var n=e.payload,r=t.call;return regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(A.translateSettingFatigueReport,n);case 2:case"end":return e.stop()}}),e)}))()},getTransABTest:function(e,t){e.payload;var n=t.put;return regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ap||!Ke.isPureMessenger){e.next=7;break}return e.next=3,Bn({appName:"im-messenger",testKey:"open_translate_send"});case 3:return t=e.sent,ap=!0,e.next=7,n({type:"setTransABTest",payload:null===(r=t)||void 0===r?void 0:r.treatment});case 7:case"end":return e.stop()}}),e)}))()}}},ip=n(84),sp=n.n(ip),cp={namespace:"quickPhrase",state:{phrases:[]},reducers:{setQuickPhrase:function(e,t){var n=t.payload,r=void 0===n?[]:n;e.phrases=r}},effects:{getQuickPhrase:function(e,t){sp()(e);var n=t.call,r=t.put;return regeneratorRuntime.mark((function e(){var t,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(A.getQuickPhraseService);case 2:return t=e.sent,a=t.phrases,o=void 0===a?[]:a,e.next=7,r({type:"setQuickPhrase",payload:o});case 7:case"end":return e.stop()}}),e)}))()},selectPhrase:function(e){var t=e.payload;window.EventBus.publish("selectPhrase",t)}}},lp={namespace:"globalEnv",state:{globalGrayMap:{},globalGenerateLangs:[ge.DEFAULT_TRANSLATE_LANG]},subscriptions:{initGlobalEnv:function(e){var t=e.dispatch;t({type:"initGrayMap"}),t({type:"initGenerateLangs"})}},reducers:{setGlobalGrayMap:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.globalGrayMap=r},setGlobalGenerateLangs:function(e,t){var n=t.payload,r=void 0===n?{}:n;e.globalGenerateLangs=r}},effects:{initGrayMap:function(e,t){sp()(e);var n=t.call,r=t.put;return regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(ge.getGray);case 2:return t=e.sent,e.next=5,r({type:"setGlobalGrayMap",payload:t});case 5:case"end":return e.stop()}}),e)}))()},initGenerateLangs:function(e,t){sp()(e);var n=t.call,r=t.put;return regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(ge.getGenerateLangs);case 2:return t=e.sent,e.next=5,r({type:"setGlobalGenerateLangs",payload:t});case 5:case"end":return e.stop()}}),e)}))()}}},up=n(202),dp=n.n(up);n(516);function pp(e){return o.a.createElement("div",{className:"icbu-im-im-weblite-chat"},o.a.createElement(xu,e))}window.__imWebliteChat__loaded__=!0;var fp=l()({onError:function(e){}});fp.use(d()()),fp.model(Kd),fp.model(op),fp.model(cp),fp.model(lp),fp.model(dp.a);var mp={mount:function(e){window.alert=function(e){console.info("====alert====",e)},window.EventBus=e.EventBus,window.CHAT_ACTIVE=!0,fp.router((function(){return o.a.createElement(pp,e)})),fp.start(e.selector)},unmount:function(e){window.CHAT_ACTIVE=!1,s.a.unmountComponentAtNode(document.querySelector(e.selector))}};window.__spaApplication__=mp},function(e,t,n){"use strict";n.r(t),n.d(t,"jsx",(function(){return y})),n.d(t,"jsxs",(function(){return b})),n.d(t,"Fragment",(function(){return o.Fragment}));var r,a,o=n(99),i=n(104),s=/"[^"]+"|'[^']+'|url\([^\)]+\)|(\d*\.?\d+)rpx/g,c=i.isWeb?"web":i.isWeex?"weex":i.isNode?"node":"",l=4,u=function(e,t){return t?parseFloat(e)*p()+"px":e},d=function(e,t){return t?(n=parseFloat(e)/(f()/100),r=l,a=Math.pow(10,r+1),o=Math.floor(n*a),10*Math.round(o/10)/a+"vw"):e;var n,r,a,o};function p(){return r}function f(){return a}void 0===p()&&(r=1),void 0===f()&&(a=750);var m,h,g=(m=function(e,t,n){return n&&function(e){c=e}(n),"string"===typeof(r=e)&&s.test(r)?function(e){return"web"===c||"node"===c?e.replace(s,d):"weex"===c?e.replace(s,u):e}(e):e;var r},h=new(function(){function e(){this.__store={}}var t=e.prototype;return t.set=function(e,t){this.__store[e+"_"+typeof e]=t},t.get=function(e){return this.__store[e+"_"+typeof e]},t.has=function(e){return Object.prototype.hasOwnProperty.call(this.__store,e+"_"+typeof e)},e}()),function(){var e=arguments.length<=0?void 0:arguments[0];return h.has(e)||h.set(e,m.apply(void 0,arguments)),h.get(e)}),v="style";function y(e,t,n,r,a){return Object(o.jsx)(e,w(t),n,r,a)}function b(e,t,n,r,a){return Object(o.jsxs)(e,w(t),n,r,a)}function w(e){if(e&&v in e){var t=e.style;if("object"===typeof t){var n=Object.assign({},e),r={};for(var a in t)r[a]="string"===typeof t[a]?g(t[a]):t[a];return n.style=r,n}}return e}}]);
//# sourceMappingURL=index.js.map